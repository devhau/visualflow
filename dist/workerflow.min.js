/**
   * @license
   * author: Nguyen Van Hau
   * workerflow.js v0.0.1
   * Released under the MIT license.
   */
var workerflow=function(){"use strict";class e{elControl;parent;constructor(e){if(this.parent=e,this.elControl=e.container?.querySelector(".workerflow-control__list"),this.elControl){this.elControl.innerHTML="",Object.keys(e.option.control).forEach((t=>{let i=document.createElement("div");i.setAttribute("draggable","true"),i.setAttribute("data-node",t),i.classList.add("workerflow-control__item"),i.innerHTML=e.option.control[t].name,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),this.elControl?.appendChild(i)}))}}dragend(e){this.parent.dataNodeSelect=null}dragStart(e){"touchstart"===e.type?this.parent.dataNodeSelect=e.target.closest(".workerflow-control__item").getAttribute("data-node"):(this.parent.dataNodeSelect=e.target.getAttribute("data-node"),e.dataTransfer.setData("node",e.target.getAttribute("data-node")))}}class t{parent;events={};constructor(e){this.parent=e}on(e,t){return"function"!=typeof t?(console.error("The listener callback must be a function, the given type is "+typeof t),!1):"string"!=typeof e?(console.error("The event name must be a string, the given type is "+typeof e),!1):(void 0===this.events[e]&&(this.events[e]={listeners:[]}),void this.events[e].listeners.push(t))}removeListener(e,t){if(!this.events[e])return!1;const i=this.events[e].listeners,s=i.indexOf(t);s>-1&&i.splice(s,1)}dispatch(e,t){let i=this.parent;if(void 0===this.events[e])return!1;this.events[e].listeners.forEach((e=>{e(t,i)}))}}class i{parent;modules;elTab;constructor(e,t={}){this.parent=e,this.modules=t,this.modules||(this.modules={}),this.elTab=e.container?.querySelector(".workerflow-items"),this.elTab&&(this.elTab.innerHTML=""),this.elTab?.addEventListener("mousedown",this.ClickTab.bind(this))}ClickTab(e){if(e.target.classList.contains("workerflow-item")){let t=e.target.getAttribute("data-project");this.LoadProjectById(t)}}LoadProjectById(e){this.elTab?.querySelectorAll(".active").forEach((e=>{this.modules[e.getAttribute("data-project")?.toString()||""]=this.parent.View?.toJson(),e.classList.remove("active")})),this.elTab?.querySelector(`[data-project="${e}"]`)?.classList.add("active"),this.parent.View?.load(this.modules[e])}NewProject(){let e={id:this.parent.getUuid(),name:`project-${this.parent.getTime()}`,x:0,y:0,zoom:1,nodes:[]};this.LoadProject(e)}LoadProject(e){if(this.elTab?.querySelectorAll(".active").forEach((e=>{this.modules[e.getAttribute("data-project")?.toString()||""]=this.parent.View?.toJson(),e.classList.remove("active")})),this.elTab?.querySelector(`[data-project="${e.id}"]`))this.elTab?.querySelector(`[data-project="${e.id}"]`)?.classList.add("active");else{let t=document.createElement("div");t.classList.add("workerflow-item"),t.classList.add("active"),t.innerHTML=e.name,t.setAttribute("data-project",e.id),this.elTab?.appendChild(t)}this.modules[e.id]=e,this.parent.View?.load(this.modules[e.id])}}class s{parent;fromNode;toNode;outputIndex;elConnection;elPath;curvature=.5;constructor(e,t,i=null,s=0){this.parent=e,this.fromNode=t,this.toNode=i,this.outputIndex=s,this.elConnection=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.elPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elConnection.classList.add("connection"),this.elConnection.appendChild(this.elPath),this.parent.elCanvas?.appendChild(this.elConnection),this.fromNode.AddLine(this),this.toNode?.AddLine(this),this.update()}StartSelected(e){this.parent.SelectLine(this)}createCurvature(e,t,i,s,o,n){let h=e,a=t,d=i,l=s,r=o;switch(n){case"open":if(e>=i)var c=h+Math.abs(d-h)*r,u=d-Math.abs(d-h)*(-1*r);else c=h+Math.abs(d-h)*r,u=d-Math.abs(d-h)*r;return" M "+h+" "+a+" C "+c+" "+a+" "+u+" "+l+" "+d+"  "+l;case"close":if(e>=i)c=h+Math.abs(d-h)*(-1*r),u=d-Math.abs(d-h)*r;else c=h+Math.abs(d-h)*r,u=d-Math.abs(d-h)*r;return" M "+h+" "+a+" C "+c+" "+a+" "+u+" "+l+" "+d+"  "+l;case"other":if(e>=i)c=h+Math.abs(d-h)*(-1*r),u=d-Math.abs(d-h)*(-1*r);else c=h+Math.abs(d-h)*r,u=d-Math.abs(d-h)*r;return" M "+h+" "+a+" C "+c+" "+a+" "+u+" "+l+" "+d+"  "+l;default:return" M "+h+" "+a+" C "+(c=h+Math.abs(d-h)*r)+" "+a+" "+(u=d-Math.abs(d-h)*r)+" "+l+" "+d+"  "+l}}delete(e=null){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),this.fromNode!=e&&this.fromNode.RemoveLine(this),this.toNode!=e&&this.toNode?.RemoveLine(this),this.elConnection?.remove(),this.elConnection=null}updateTo(e,t){if(null==this.fromNode.elNode)return;let i=this.fromNode.pos_x+this.fromNode.elNode.clientWidth+5,s=this.fromNode.pos_y+(this.fromNode.output()>1?21*(this.outputIndex-1)+15:2+this.fromNode.elNode.clientHeight/2);var o=this.createCurvature(i,s,e,t,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",o)}update(){if(this.toNode&&this.toNode.elNode){let e=this.toNode.pos_x-5,t=this.toNode.pos_y+this.toNode.elNode.clientHeight/2;this.updateTo(e,t)}}}class o{node;data={};constructor(e){this.node=e,setTimeout((()=>{this.node.elNode?.querySelectorAll("[node\\:model]").forEach((e=>{e.addEventListener("keyup",this.changeInput.bind(this))}))}))}Set(e,t,i=null){this.data[e]=t,setTimeout((()=>{this.node.elNode?.querySelectorAll(`[node\\:model="${e}"]`).forEach((e=>{e!=i&&(e.value=t)})),this.node.dispatch(this.node.Event.dataChange,{key:e,value:t,obj:i}),this.node.dispatch(this.node.Event.change,{key:e,value:t,obj:i})}))}changeInput(e){this.Set(e.target.getAttribute("node:model"),e.target.value,e.target)}load(e){this.data=e||{},setTimeout((()=>{this.node.elNode?.querySelectorAll("[node\\:model]").forEach((e=>{e.value=this.data[e.getAttribute("node:model")]??null}))}))}toJson(){return this.data}}const n=eval;class h{parent;elNode=null;elNodeInputs=null;elNodeOutputs=null;elNodeContent=null;nodeId;pos_x=0;pos_y=0;arrLine=[];option;data=null;Event={ReUI:"ReUI",change:"change",updatePosition:"updatePosition",selected:"Selected",dataChange:"dataChange"};events;on(e,t){console.log(e),this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}toJson(){let e=this.arrLine.filter((e=>e.fromNode===this)).map((e=>({fromNode:e.fromNode.nodeId,toNode:e.toNode?.nodeId,ouputIndex:e.outputIndex})));return{id:this.nodeId,node:this.option.key,line:e,data:this.data?.toJson(),x:this.pos_x,y:this.pos_y}}load(e){return this.nodeId=e?.id??this.nodeId,this.option=this.parent.getOption(e?.node),this.data?.load(e?.data),this.updatePosition(e?.x,e?.y,!0),this.initOption(),this}output(){return this.option?.output??0}delete(e=!0){this.arrLine.forEach((e=>e.delete(this))),this.elNode?.removeEventListener("mouseover",this.NodeOver.bind(this)),this.elNode?.removeEventListener("mouseleave",this.NodeLeave.bind(this)),this.elNode?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elNode?.removeEventListener("touchstart",this.StartSelected.bind(this)),this.elNode?.remove(),this.arrLine=[],e&&this.parent.RemoveNode(this),this.dispatch(this.Event.change,{})}AddLine(e){this.arrLine=[...this.arrLine,e],this.dispatch(this.Event.change,{})}RemoveLine(e){var t=this.arrLine.indexOf(e);return t>-1&&this.arrLine.splice(t,1),this.dispatch(this.Event.change,{}),this.arrLine}constructor(e,i,s=null){this.events=new t(this),this.option=s,this.parent=e,this.nodeId=i,this.on(this.Event.change,((e,t)=>{this.parent.dispatch(this.parent.Event.change,{...e,targetNode:t})})),this.ReUI()}ReUI(){this.elNode&&this.elNode.remove(),this.elNode=document.createElement("div"),this.elNode.classList.add("workerflow-node"),this.elNode.id=`node-${this.nodeId}`,this.elNodeInputs=document.createElement("div"),this.elNodeInputs.classList.add("workerflow-node_inputs"),this.elNodeInputs.innerHTML='<div class="inputs dot"></div>',this.elNodeContent=document.createElement("div"),this.elNodeContent.classList.add("workerflow-node_content"),this.elNodeOutputs=document.createElement("div"),this.elNodeOutputs.classList.add("workerflow-node_outputs"),this.elNodeOutputs.innerHTML='<div class="outputs dot"></div>',this.elNode.setAttribute("data-node",this.nodeId),this.elNode.setAttribute("style",`top: ${this.pos_y}px; left: ${this.pos_x}px;`),this.elNode.addEventListener("mouseover",this.NodeOver.bind(this)),this.elNode.addEventListener("mouseleave",this.NodeLeave.bind(this)),this.elNode.addEventListener("mousedown",this.StartSelected.bind(this)),this.elNode.addEventListener("touchstart",this.StartSelected.bind(this)),this.elNode.appendChild(this.elNodeInputs),this.elNode.appendChild(this.elNodeContent),this.elNode.appendChild(this.elNodeOutputs),this.parent.elCanvas?.appendChild(this.elNode),this.data?this.data.load(this.data.toJson()):this.data=new o(this),this.initOption(),this.dispatch(this.Event.ReUI,{})}checkInput(){return!(0===this.option?.input)}initOption(){if(this.elNodeContent&&this.option&&this.elNodeOutputs){if(this.elNodeContent.innerHTML=this.option.html,void 0!==this.option.output){this.elNodeOutputs.innerHTML="";for(let e=1;e<=this.option.output;e++){let t=document.createElement("div");t.setAttribute("node",e.toString()),t.classList.add("dot"),t.classList.add("output_"+e),this.elNodeOutputs.appendChild(t)}}0===this.option.input&&this.elNodeInputs&&(this.elNodeInputs.innerHTML="")}setTimeout((()=>{this.RunScript(this,this.elNode)}),100)}RunScript(e,t){this.option&&this.option.script&&n("(node,el)=>{"+this.option.script.toString()+"}")(e,t)}checkKey(e){return this.option&&this.option.key==e}NodeOver(e){this.parent.nodeOver=this}NodeLeave(e){this.parent.nodeOver=null}StartSelected(e){this.parent.SelectNode(this),this.dispatch(this.Event.selected,{})}updatePosition(e,t,i=!1){this.elNode&&(i?(this.pos_x=e,this.pos_y=t):(this.pos_x=this.elNode.offsetLeft-e,this.pos_y=this.elNode.offsetTop-t),this.elNode.setAttribute("style",`top: ${this.pos_y}px; left: ${this.pos_x}px;`),this.arrLine.forEach((e=>{e.update()})),this.dispatch(this.Event.updatePosition,{x:this.pos_x,y:this.pos_y}),this.dispatch(this.Event.change,{}))}}var a;!function(e){e[e.None=0]="None",e[e.Node=1]="Node",e[e.Canvas=2]="Canvas",e[e.Line=3]="Line"}(a||(a={}));class d{elView;elCanvas;parent;nodes=[];flgDrap=!1;flgMove=!1;moveType=a.None;zoom=1;zoom_max=1.6;zoom_min=.5;zoom_value=.1;zoom_last_value=1;canvas_x=0;canvas_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;lineSelected=null;nodeSelected=null;nodeOver=null;dotSelected=null;tempLine=null;timeFastClick=0;projectId="";projectName="";tagIngore=["input","button","a","textarea"];Event={change:"change",selected:"Selected",updateView:"updateView"};events;on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}constructor(e){this.parent=e,this.events=new t(this),this.elView=this.parent.container?.querySelector(".workerflow-desgin .workerflow-view")||document.createElement("div"),this.elCanvas=document.createElement("div"),this.elCanvas.classList.add("workerflow-canvas"),this.elView.appendChild(this.elCanvas),this.elView.tabIndex=0,this.addEvent(),this.Reset(),this.updateView()}getOption(e){if(!e)return;let t=this.parent.option.control[e];return t||(t=Object.values(this.parent.option.control)[0]),t.key=e,t}dropEnd(e){let t="";"touchend"===e.type?t=this.parent.dataNodeSelect:(e.preventDefault(),t=e.dataTransfer.getData("node"));let i=this.getOption(t);if(i&&i.onlyNode&&this.nodes.filter((e=>e.checkKey(t))).length>0)return;let s=this.AddNode(i),o=0,n=0;"touchmove"===e.type?(o=e.touches[0].clientX,n=e.touches[0].clientY):(o=e.clientX,n=e.clientY);let h=this.CalcX(this.elCanvas.getBoundingClientRect().x-o),a=this.CalcY(this.elCanvas.getBoundingClientRect().y-n);s.updatePosition(h,a)}toJson(){let e=this.nodes.map((e=>e.toJson()));return{id:this.projectId,name:this.projectName,x:this.canvas_x,y:this.canvas_y,zoom:this.zoom,nodes:e}}load(e){this.Reset(),this.projectId=e?.id??this.parent.getUuid(),this.projectName=e?.name??`project-${this.parent.getTime()}`,this.canvas_x=e?.x??0,this.canvas_y=e?.y??0,this.zoom=e?.zoom??1,this.nodes=(e?.nodes??[]).map((e=>new h(this,"").load(e))),(e?.nodes??[]).forEach((e=>{(e.line??[]).forEach((e=>{let t=this.getNodeById(e.fromNode),i=this.getNodeById(e.toNode),s=e.ouputIndex??0;t&&i&&this.AddLine(t,i,s)}))})),this.updateView()}Reset(){this.nodes.forEach((e=>e.delete(!1))),this.nodes=[],this.projectId=this.parent.getUuid(),this.projectName=`project-${this.parent.getTime()}`,this.canvas_x=0,this.canvas_y=0,this.zoom=1,this.updateView()}getNodeById(e){return this.nodes?.filter((t=>t.nodeId==e))[0]}updateView(){this.elCanvas.style.transform="translate("+this.canvas_x+"px, "+this.canvas_y+"px) scale("+this.zoom+")",this.dispatch(this.Event.updateView,{x:this.canvas_x,y:this.canvas_y,zoom:this.zoom})}CalcX(e){return e*(this.elCanvas.clientWidth/(this.elView.clientWidth*this.zoom))}CalcY(e){return e*(this.elCanvas.clientHeight/(this.elView.clientHeight*this.zoom))}dragover(e){e.preventDefault()}UnSelectLine(){this.lineSelected&&(this.lineSelected.elPath?.classList.remove("active"),this.lineSelected=null)}UnSelectDot(){this.dotSelected&&(this.dotSelected.elNode?.classList.remove("active"),this.dotSelected=null)}UnSelectNode(){this.nodeSelected&&(this.nodeSelected.elNode?.classList.remove("active"),this.nodeSelected=null)}UnSelect(){this.UnSelectLine(),this.UnSelectNode(),this.UnSelectDot()}SelectLine(e){this.UnSelect(),this.lineSelected=e,this.lineSelected.elPath.classList.add("active")}SelectNode(e){this.UnSelect(),this.nodeSelected=e,this.nodeSelected.elNode?.classList.add("active")}SelectDot(e){this.UnSelect(),this.dotSelected=e,this.dotSelected.elNode?.classList.add("active")}RemoveNode(e){var t=this.nodes.indexOf(e);return t>-1&&this.nodes.splice(t,1),this.nodes}AddNode(e=null){let t=e?e.id:this.parent.getUuid(),i=new h(this,t??this.parent.getUuid(),e);return this.nodes=[...this.nodes,i],i}AddLine(e,t,i=0){if(e!=t&&!(e.arrLine.filter((e=>e.toNode===t&&e.outputIndex==i&&e!=this.tempLine)).length>0))return new s(this,e,t,i)}addEvent(){this.elView.addEventListener("mouseup",this.EndMove.bind(this)),this.elView.addEventListener("mouseleave",this.EndMove.bind(this)),this.elView.addEventListener("mousemove",this.Move.bind(this)),this.elView.addEventListener("mousedown",this.StartMove.bind(this)),this.elView.addEventListener("touchend",this.EndMove.bind(this)),this.elView.addEventListener("touchmove",this.Move.bind(this)),this.elView.addEventListener("touchstart",this.StartMove.bind(this)),this.elView.addEventListener("contextmenu",this.contextmenu.bind(this)),this.elView.addEventListener("drop",this.dropEnd.bind(this)),this.elView.addEventListener("dragover",this.dragover.bind(this)),this.elView.addEventListener("wheel",this.zoom_enter.bind(this)),this.elView.addEventListener("keydown",this.keydown.bind(this))}keydown(e){("Delete"===e.key||"Backspace"===e.key&&e.metaKey)&&(e.preventDefault(),null!=this.nodeSelected&&(this.nodeSelected.delete(),this.nodeSelected=null),null!=this.lineSelected&&(this.lineSelected.delete(),this.lineSelected=null))}zoom_enter(e){e.ctrlKey&&(e.preventDefault(),e.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.canvas_x=this.canvas_x/this.zoom_last_value*this.zoom,this.canvas_y=this.canvas_y/this.zoom_last_value*this.zoom,this.zoom_last_value=this.zoom,this.updateView()}zoom_in(){this.zoom<this.zoom_max&&(this.zoom+=this.zoom_value,this.zoom_refresh())}zoom_out(){this.zoom>this.zoom_min&&(this.zoom-=this.zoom_value,this.zoom_refresh())}zoom_reset(){1!=this.zoom&&(this.zoom=1,this.zoom_refresh())}StartMove(e){if(!this.tagIngore.includes(e.target.tagName.toLowerCase())){if(this.timeFastClick=this.parent.getTime(),this.moveType==a.None)if(this.nodeSelected&&this.parent.checkParent(e.target,this.nodeSelected.elNode))if(e.target.classList.contains("dot")){if(this.parent.checkParent(e.target,this.nodeSelected.elNodeInputs))return;this.moveType=a.Line,this.tempLine=new s(this,this.nodeSelected,null),this.tempLine.outputIndex=+e.target.getAttribute("node")}else this.moveType=a.Node;else this.moveType=a.Canvas;"touchstart"===e.type?(this.pos_x=e.touches[0].clientX,this.pos_y=e.touches[0].clientY):(this.pos_x=e.clientX,this.pos_y=e.clientY),this.flgDrap=!0,this.flgMove=!1}}Move(e){if(!this.flgDrap)return;this.flgMove=!0;let t=0,i=0;switch("touchmove"===e.type?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY),this.moveType){case a.Canvas:{let e=this.canvas_x+this.CalcX(-(this.pos_x-t)),s=this.canvas_y+this.CalcY(-(this.pos_y-i));this.elCanvas.style.transform="translate("+e+"px, "+s+"px) scale("+this.zoom+")";break}case a.Node:{let e=this.CalcX(this.pos_x-t),s=this.CalcY(this.pos_y-i);this.pos_x=t,this.pos_y=i,this.nodeSelected?.updatePosition(e,s);break}case a.Line:if(this.tempLine){let e=this.CalcX(this.elCanvas.getBoundingClientRect().x-t),s=this.CalcY(this.elCanvas.getBoundingClientRect().y-i);this.tempLine.updateTo(this.elCanvas.offsetLeft-e,this.elCanvas.offsetTop-s),this.tempLine.toNode=this.nodeOver}}"touchmove"===e.type&&(this.mouse_x=t,this.mouse_y=i)}EndMove(e){if(this.parent.getTime()-this.timeFastClick<300||!this.flgDrap&&!this.flgMove)return this.moveType=a.None,this.flgDrap=!1,void(this.flgMove=!1);this.UnSelect(),this.tempLine&&this.moveType==a.Line&&(this.tempLine.toNode&&this.tempLine.toNode.checkInput()&&this.AddLine(this.tempLine.fromNode,this.tempLine.toNode,this.tempLine.outputIndex),this.tempLine.delete(),this.tempLine=null);let t=0,i=0;"touchend"===e.type?(t=this.mouse_x,i=this.mouse_y):(t=e.clientX,i=e.clientY),this.moveType===a.Canvas&&(this.canvas_x=this.canvas_x+this.CalcX(-(this.pos_x-t)),this.canvas_y=this.canvas_y+this.CalcY(-(this.pos_y-i))),this.pos_x=t,this.pos_y=i,this.moveType=a.None,this.flgDrap=!1,this.flgMove=!1}contextmenu(e){e.preventDefault()}}return class{container;View;Control;tab;dataNodeSelect=null;option;events;on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}checkParent(e,t){if(e&&t){if(e==t)return!0;let i=e;for(;null!=(i=i.parentElement);)if(t==i)return!0}return!1}constructor(s,o=null){this.container=s,this.container.classList.add("workerflow"),this.option=o||{control:{}},this.container.innerHTML='\n    <div class="workerflow-control">\n      <h2 class="workerflow-control__header">Node Control</h2>\n      <div class="workerflow-control__list">\n      <div draggable="true">Node 1</div>\n      </div>\n    </div>\n    <div class="workerflow-desgin">\n      <div class="workerflow-items">\n        <div class="workerflow-item">Thông tin mới</div>\n        <div class="workerflow-item">Thông tin mới123</div>\n      </div>\n      <div class="workerflow-view">\n      </div>\n    </div>\n    ',this.View=new d(this),this.tab=new i(this,[]),this.Control=new e(this),this.events=new t(this)}new(){this.tab?.NewProject()}load(e){this.tab?.LoadProject(e)}toJson(){return this.View?.toJson()}getTime(){return(new Date).getTime()}getUuid(){let e=[],t="0123456789abcdef";for(let i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0NvbnRyb2xGbG93LnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvRXZlbnRGbG93LnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvVGFiRmxvdy50cyIsIi4uL3NyYy9jb21wb25lbnRzL0xpbmVGbG93LnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvRGF0YUZsb3cudHMiLCIuLi9zcmMvY29tcG9uZW50cy9Ob2RlRmxvdy50cyIsIi4uL3NyYy9jb21wb25lbnRzL1ZpZXdGbG93LnRzIiwiLi4vc3JjL1dvcmtlckZsb3cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV29ya2VyRmxvdyB9IGZyb20gXCIuLi9Xb3JrZXJGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBDb250cm9sRmxvdyB7XG4gIHByaXZhdGUgZWxDb250cm9sOiBIVE1MRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcGFyZW50OiBXb3JrZXJGbG93O1xuICBwdWJsaWMgY29uc3RydWN0b3IocGFyZW50OiBXb3JrZXJGbG93KSB7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5lbENvbnRyb2wgPSBwYXJlbnQuY29udGFpbmVyPy5xdWVyeVNlbGVjdG9yKCcud29ya2VyZmxvdy1jb250cm9sX19saXN0Jyk7XG4gICAgaWYgKHRoaXMuZWxDb250cm9sKSB7XG4gICAgICB0aGlzLmVsQ29udHJvbC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhwYXJlbnQub3B0aW9uLmNvbnRyb2wpO1xuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxldCBOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIE5vZGUuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgICBOb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJywga2V5KTtcbiAgICAgICAgTm9kZS5jbGFzc0xpc3QuYWRkKFwid29ya2VyZmxvdy1jb250cm9sX19pdGVtXCIpO1xuICAgICAgICBOb2RlLmlubmVySFRNTCA9IHBhcmVudC5vcHRpb24uY29udHJvbFtrZXldLm5hbWU7XG4gICAgICAgIE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5kcmFnU3RhcnQuYmluZCh0aGlzKSlcbiAgICAgICAgTm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5kcmFnZW5kLmJpbmQodGhpcykpXG4gICAgICAgIHRoaXMuZWxDb250cm9sPy5hcHBlbmRDaGlsZChOb2RlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZHJhZ2VuZChlOiBhbnkpIHtcbiAgICB0aGlzLnBhcmVudC5kYXRhTm9kZVNlbGVjdCA9IG51bGw7XG4gIH1cblxuICBwdWJsaWMgZHJhZ1N0YXJ0KGU6IGFueSkge1xuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICB0aGlzLnBhcmVudC5kYXRhTm9kZVNlbGVjdCA9IGUudGFyZ2V0LmNsb3Nlc3QoXCIud29ya2VyZmxvdy1jb250cm9sX19pdGVtXCIpLmdldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFyZW50LmRhdGFOb2RlU2VsZWN0ID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnKTtcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJub2RlXCIsIGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJykpO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEV2ZW50RmxvdyB7XG4gIHByaXZhdGUgZXZlbnRzOiBhbnkgPSB7fTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBhbnkpIHtcblxuICB9XG4gIC8qIEV2ZW50cyAqL1xuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGxpc3RlbmVyIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbiwgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgY2FsbGJhY2t9YCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBpcyBub3QgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIGV2ZW50ICE9PSAnc3RyaW5nJykge1xuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGV2ZW50IG5hbWUgbXVzdCBiZSBhIHN0cmluZywgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgZXZlbnR9YCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0ge1xuICAgICAgICBsaXN0ZW5lcnM6IFtdXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXG5cbiAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50XSkgcmV0dXJuIGZhbHNlXG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzXG4gICAgY29uc3QgbGlzdGVuZXJJbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKVxuICAgIGNvbnN0IGhhc0xpc3RlbmVyID0gbGlzdGVuZXJJbmRleCA+IC0xXG4gICAgaWYgKGhhc0xpc3RlbmVyKSBsaXN0ZW5lcnMuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpXG4gIH1cblxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXMucGFyZW50O1xuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gY29uc29sZS5lcnJvcihgVGhpcyBldmVudDogJHtldmVudH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5ldmVudHNbZXZlbnRdLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcjogYW55KSA9PiB7XG4gICAgICBsaXN0ZW5lcihkZXRhaWxzLCBzZWxmKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgV29ya2VyRmxvdyB9IGZyb20gXCIuLi9Xb3JrZXJGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBUYWJGbG93IHtcbiAgcHJpdmF0ZSBlbFRhYjogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQgfCBudWxsO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IFdvcmtlckZsb3csIHByaXZhdGUgbW9kdWxlczogYW55ID0ge30pIHtcbiAgICBpZiAoIXRoaXMubW9kdWxlcykgdGhpcy5tb2R1bGVzID0ge307XG4gICAgdGhpcy5lbFRhYiA9IHBhcmVudC5jb250YWluZXI/LnF1ZXJ5U2VsZWN0b3IoJy53b3JrZXJmbG93LWl0ZW1zJyk7XG4gICAgaWYgKHRoaXMuZWxUYWIpIHtcbiAgICAgIHRoaXMuZWxUYWIuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICAgIHRoaXMuZWxUYWI/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuQ2xpY2tUYWIuYmluZCh0aGlzKSk7XG4gIH1cbiAgcHJpdmF0ZSBDbGlja1RhYihlOiBhbnkpIHtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd3b3JrZXJmbG93LWl0ZW0nKSkge1xuICAgICAgbGV0IHByb2plY3RJZCA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0Jyk7XG4gICAgICB0aGlzLkxvYWRQcm9qZWN0QnlJZChwcm9qZWN0SWQpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgTG9hZFByb2plY3RCeUlkKHByb2plY3RJZDogYW55KSB7XG4gICAgdGhpcy5lbFRhYj8ucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMubW9kdWxlc1tpdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0Jyk/LnRvU3RyaW5nKCkgfHwgJyddID0gdGhpcy5wYXJlbnQuVmlldz8udG9Kc29uKCk7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH0pXG4gICAgdGhpcy5lbFRhYj8ucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdD1cIiR7cHJvamVjdElkfVwiXWApPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB0aGlzLnBhcmVudC5WaWV3Py5sb2FkKHRoaXMubW9kdWxlc1twcm9qZWN0SWRdKTtcbiAgfVxuICBwdWJsaWMgTmV3UHJvamVjdCgpIHtcbiAgICBsZXQgZGF0YSA9IHtcbiAgICAgIGlkOiB0aGlzLnBhcmVudC5nZXRVdWlkKCksXG4gICAgICBuYW1lOiBgcHJvamVjdC0ke3RoaXMucGFyZW50LmdldFRpbWUoKX1gLFxuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB6b29tOiAxLFxuICAgICAgbm9kZXM6IFtdXG4gICAgfVxuICAgIHRoaXMuTG9hZFByb2plY3QoZGF0YSk7XG4gIH1cbiAgcHVibGljIExvYWRQcm9qZWN0KGRhdGE6IGFueSkge1xuICAgIHRoaXMuZWxUYWI/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUnKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLm1vZHVsZXNbaXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdCcpPy50b1N0cmluZygpIHx8ICcnXSA9IHRoaXMucGFyZW50LlZpZXc/LnRvSnNvbigpO1xuICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9KVxuICAgIGlmICh0aGlzLmVsVGFiPy5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0PVwiJHtkYXRhLmlkfVwiXWApKSB7XG4gICAgICB0aGlzLmVsVGFiPy5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0PVwiJHtkYXRhLmlkfVwiXWApPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcIndvcmtlcmZsb3ctaXRlbVwiKTtcbiAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICBpdGVtLmlubmVySFRNTCA9IGRhdGEubmFtZTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QnLCBkYXRhLmlkKTtcbiAgICAgIHRoaXMuZWxUYWI/LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgIH1cbiAgICB0aGlzLm1vZHVsZXNbZGF0YS5pZF0gPSBkYXRhO1xuICAgIHRoaXMucGFyZW50LlZpZXc/LmxvYWQodGhpcy5tb2R1bGVzW2RhdGEuaWRdKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBOb2RlRmxvdyB9IGZyb20gXCIuL05vZGVGbG93XCI7XG5pbXBvcnQgeyBWaWV3RmxvdyB9IGZyb20gXCIuL1ZpZXdGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lRmxvdyB7XG4gIHB1YmxpYyBlbENvbm5lY3Rpb246IFNWR0VsZW1lbnQgfCBudWxsO1xuICBwdWJsaWMgZWxQYXRoOiBTVkdQYXRoRWxlbWVudDtcbiAgcHJpdmF0ZSBjdXJ2YXR1cmU6IG51bWJlciA9IDAuNTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBWaWV3RmxvdywgcHVibGljIGZyb21Ob2RlOiBOb2RlRmxvdywgcHVibGljIHRvTm9kZTogTm9kZUZsb3cgfCBudWxsID0gbnVsbCwgcHVibGljIG91dHB1dEluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJzdmdcIik7XG4gICAgdGhpcy5lbFBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJwYXRoXCIpO1xuICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoXCJtYWluLXBhdGhcIik7XG4gICAgdGhpcy5lbFBhdGguYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnJyk7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24uY2xhc3NMaXN0LmFkZChcImNvbm5lY3Rpb25cIik7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24uYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGgpO1xuICAgIHRoaXMucGFyZW50LmVsQ2FudmFzPy5hcHBlbmRDaGlsZCh0aGlzLmVsQ29ubmVjdGlvbik7XG4gICAgdGhpcy5mcm9tTm9kZS5BZGRMaW5lKHRoaXMpO1xuICAgIHRoaXMudG9Ob2RlPy5BZGRMaW5lKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgcHVibGljIFN0YXJ0U2VsZWN0ZWQoZTogYW55KSB7XG4gICAgdGhpcy5wYXJlbnQuU2VsZWN0TGluZSh0aGlzKTtcbiAgfVxuICBwcml2YXRlIGNyZWF0ZUN1cnZhdHVyZShzdGFydF9wb3NfeDogbnVtYmVyLCBzdGFydF9wb3NfeTogbnVtYmVyLCBlbmRfcG9zX3g6IG51bWJlciwgZW5kX3Bvc195OiBudW1iZXIsIGN1cnZhdHVyZV92YWx1ZTogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICBsZXQgbGluZV94ID0gc3RhcnRfcG9zX3g7XG4gICAgbGV0IGxpbmVfeSA9IHN0YXJ0X3Bvc195O1xuICAgIGxldCB4ID0gZW5kX3Bvc194O1xuICAgIGxldCB5ID0gZW5kX3Bvc195O1xuICAgIGxldCBjdXJ2YXR1cmUgPSBjdXJ2YXR1cmVfdmFsdWU7XG4gICAgLy90eXBlIG9wZW5jbG9zZSBvcGVuIGNsb3NlIG90aGVyXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG5cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb3RoZXInOlxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcblxuICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG5cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZGVsZXRlKG5vZGVUaGlzOiBhbnkgPSBudWxsKSB7XG4gICAgdGhpcy5lbFBhdGg/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICBpZiAodGhpcy5mcm9tTm9kZSAhPSBub2RlVGhpcylcbiAgICAgIHRoaXMuZnJvbU5vZGUuUmVtb3ZlTGluZSh0aGlzKTtcbiAgICBpZiAodGhpcy50b05vZGUgIT0gbm9kZVRoaXMpXG4gICAgICB0aGlzLnRvTm9kZT8uUmVtb3ZlTGluZSh0aGlzKTtcbiAgICB0aGlzLmVsQ29ubmVjdGlvbj8ucmVtb3ZlKCk7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24gPSBudWxsO1xuICB9XG4gIHB1YmxpYyB1cGRhdGVUbyh0b194OiBudW1iZXIsIHRvX3k6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmZyb21Ob2RlLmVsTm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgbGV0IGZyb21feCA9IHRoaXMuZnJvbU5vZGUucG9zX3ggKyB0aGlzLmZyb21Ob2RlLmVsTm9kZS5jbGllbnRXaWR0aCArIDU7XG4gICAgbGV0IGZyb21feSA9IHRoaXMuZnJvbU5vZGUucG9zX3kgKyAodGhpcy5mcm9tTm9kZS5vdXRwdXQoKSA+IDEgPyAoKCh0aGlzLm91dHB1dEluZGV4IC0gMSkgKiAyMSkgKyAxNSkgOiAoMiArIHRoaXMuZnJvbU5vZGUuZWxOb2RlLmNsaWVudEhlaWdodCAvIDIpKTtcbiAgICB2YXIgbGluZUN1cnZlID0gdGhpcy5jcmVhdGVDdXJ2YXR1cmUoZnJvbV94LCBmcm9tX3ksIHRvX3gsIHRvX3ksIHRoaXMuY3VydmF0dXJlLCAnb3BlbmNsb3NlJyk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCBsaW5lQ3VydmUpO1xuICB9XG4gIHB1YmxpYyB1cGRhdGUoKSB7XG4gICAgLy9Qb3N0aW9uIG91dHB1dFxuICAgIGlmICh0aGlzLnRvTm9kZSAmJiB0aGlzLnRvTm9kZS5lbE5vZGUpIHtcbiAgICAgIGxldCB0b194ID0gdGhpcy50b05vZGUucG9zX3ggLSA1O1xuICAgICAgbGV0IHRvX3kgPSB0aGlzLnRvTm9kZS5wb3NfeSArIHRoaXMudG9Ob2RlLmVsTm9kZS5jbGllbnRIZWlnaHQgLyAyO1xuICAgICAgdGhpcy51cGRhdGVUbyh0b194LCB0b195KTtcbiAgICB9XG5cbiAgfVxufVxuIiwiaW1wb3J0IHsgTm9kZUZsb3cgfSBmcm9tIFwiLi9Ob2RlRmxvd1wiO1xuXG5leHBvcnQgY2xhc3MgRGF0YUZsb3cge1xuICBwcml2YXRlIGRhdGE6IGFueSA9IHt9O1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBub2RlOiBOb2RlRmxvdykge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5ub2RlLmVsTm9kZT8ucXVlcnlTZWxlY3RvckFsbChgW25vZGVcXFxcOm1vZGVsXWApLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuY2hhbmdlSW5wdXQuYmluZCh0aGlzKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBwdWJsaWMgU2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBvYmogPSBudWxsKSB7XG4gICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMubm9kZS5lbE5vZGU/LnF1ZXJ5U2VsZWN0b3JBbGwoYFtub2RlXFxcXDptb2RlbD1cIiR7a2V5fVwiXWApLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICBpZiAoaXRlbSAhPSBvYmopXG4gICAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm5vZGUuZGlzcGF0Y2godGhpcy5ub2RlLkV2ZW50LmRhdGFDaGFuZ2UsIHsga2V5LCB2YWx1ZSwgb2JqIH0pO1xuICAgICAgdGhpcy5ub2RlLmRpc3BhdGNoKHRoaXMubm9kZS5FdmVudC5jaGFuZ2UsIHsga2V5LCB2YWx1ZSwgb2JqIH0pO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBjaGFuZ2VJbnB1dChlOiBhbnkpIHtcbiAgICB0aGlzLlNldChlLnRhcmdldC5nZXRBdHRyaWJ1dGUoYG5vZGU6bW9kZWxgKSwgZS50YXJnZXQudmFsdWUsIGUudGFyZ2V0KTtcbiAgfVxuICBwdWJsaWMgbG9hZChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmRhdGEgPSBkYXRhIHx8IHt9O1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5ub2RlLmVsTm9kZT8ucXVlcnlTZWxlY3RvckFsbChgW25vZGVcXFxcOm1vZGVsXWApLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICBpdGVtLnZhbHVlID0gdGhpcy5kYXRhW2l0ZW0uZ2V0QXR0cmlidXRlKGBub2RlOm1vZGVsYCldID8/IG51bGw7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBwdWJsaWMgdG9Kc29uKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGE7XG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4vRGF0YUZsb3dcIjtcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gXCIuL0V2ZW50Rmxvd1wiO1xuaW1wb3J0IHsgTGluZUZsb3cgfSBmcm9tIFwiLi9MaW5lRmxvd1wiO1xuaW1wb3J0IHsgVmlld0Zsb3cgfSBmcm9tIFwiLi9WaWV3Rmxvd1wiO1xuY29uc3QgZ2V2YWwgPSBldmFsO1xuZXhwb3J0IGNsYXNzIE5vZGVGbG93IHtcbiAgcHJpdmF0ZSBwYXJlbnQ6IFZpZXdGbG93O1xuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgZWxOb2RlSW5wdXRzOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgZWxOb2RlT3V0cHV0czogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIGVsTm9kZUNvbnRlbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBub2RlSWQ6IHN0cmluZztcbiAgcHVibGljIHBvc194OiBudW1iZXIgPSAwO1xuICBwdWJsaWMgcG9zX3k6IG51bWJlciA9IDA7XG4gIHB1YmxpYyBhcnJMaW5lOiBMaW5lRmxvd1tdID0gW107XG4gIHByaXZhdGUgb3B0aW9uOiBhbnk7XG4gIHB1YmxpYyBkYXRhOiBEYXRhRmxvdyB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgcmVhZG9ubHkgRXZlbnQgPSB7XG4gICAgUmVVSTogXCJSZVVJXCIsXG4gICAgY2hhbmdlOiBcImNoYW5nZVwiLFxuICAgIHVwZGF0ZVBvc2l0aW9uOiBcInVwZGF0ZVBvc2l0aW9uXCIsXG4gICAgc2VsZWN0ZWQ6IFwiU2VsZWN0ZWRcIixcbiAgICBkYXRhQ2hhbmdlOiBcImRhdGFDaGFuZ2VcIlxuICB9O1xuXG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudEZsb3c7XG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgcHVibGljIHRvSnNvbigpIHtcbiAgICBsZXQgTGluZUpzb24gPSB0aGlzLmFyckxpbmUuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmZyb21Ob2RlID09PSB0aGlzKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICBmcm9tTm9kZTogaXRlbS5mcm9tTm9kZS5ub2RlSWQsXG4gICAgICB0b05vZGU6IGl0ZW0udG9Ob2RlPy5ub2RlSWQsXG4gICAgICBvdXB1dEluZGV4OiBpdGVtLm91dHB1dEluZGV4XG4gICAgfSkpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5ub2RlSWQsXG4gICAgICBub2RlOiB0aGlzLm9wdGlvbi5rZXksXG4gICAgICBsaW5lOiBMaW5lSnNvbixcbiAgICAgIGRhdGE6IHRoaXMuZGF0YT8udG9Kc29uKCksXG4gICAgICB4OiB0aGlzLnBvc194LFxuICAgICAgeTogdGhpcy5wb3NfeVxuICAgIH1cbiAgfVxuICBwdWJsaWMgbG9hZChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLm5vZGVJZCA9IGRhdGE/LmlkID8/IHRoaXMubm9kZUlkO1xuICAgIHRoaXMub3B0aW9uID0gdGhpcy5wYXJlbnQuZ2V0T3B0aW9uKGRhdGE/Lm5vZGUpO1xuICAgIHRoaXMuZGF0YT8ubG9hZChkYXRhPy5kYXRhKTtcbiAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKGRhdGE/LngsIGRhdGE/LnksIHRydWUpO1xuICAgIHRoaXMuaW5pdE9wdGlvbigpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBvdXRwdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uPy5vdXRwdXQgPz8gMDtcbiAgfVxuICBwdWJsaWMgZGVsZXRlKGlzUmVtb3ZlUGFyZW50ID0gdHJ1ZSkge1xuICAgIHRoaXMuYXJyTGluZS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmRlbGV0ZSh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuTm9kZU92ZXIuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLk5vZGVMZWF2ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlPy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlPy5yZW1vdmUoKTtcbiAgICB0aGlzLmFyckxpbmUgPSBbXTtcbiAgICBpZiAoaXNSZW1vdmVQYXJlbnQpXG4gICAgICB0aGlzLnBhcmVudC5SZW1vdmVOb2RlKHRoaXMpO1xuICAgIHRoaXMuZGlzcGF0Y2godGhpcy5FdmVudC5jaGFuZ2UsIHt9KTtcbiAgfVxuICBwdWJsaWMgQWRkTGluZShsaW5lOiBMaW5lRmxvdykge1xuICAgIHRoaXMuYXJyTGluZSA9IFsuLi50aGlzLmFyckxpbmUsIGxpbmVdO1xuICAgIHRoaXMuZGlzcGF0Y2godGhpcy5FdmVudC5jaGFuZ2UsIHt9KTtcbiAgfVxuICBwdWJsaWMgUmVtb3ZlTGluZShsaW5lOiBMaW5lRmxvdykge1xuICAgIHZhciBpbmRleCA9IHRoaXMuYXJyTGluZS5pbmRleE9mKGxpbmUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLmFyckxpbmUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaCh0aGlzLkV2ZW50LmNoYW5nZSwge30pO1xuICAgIHJldHVybiB0aGlzLmFyckxpbmU7XG4gIH1cbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogVmlld0Zsb3csIGlkOiBzdHJpbmcsIG9wdGlvbjogYW55ID0gbnVsbCkge1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50Rmxvdyh0aGlzKTtcbiAgICB0aGlzLm9wdGlvbiA9IG9wdGlvbjtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB0aGlzLm5vZGVJZCA9IGlkO1xuICAgIHRoaXMub24odGhpcy5FdmVudC5jaGFuZ2UsIChlOiBhbnksIHNlbmRlcjogYW55KSA9PiB7XG4gICAgICB0aGlzLnBhcmVudC5kaXNwYXRjaCh0aGlzLnBhcmVudC5FdmVudC5jaGFuZ2UsIHtcbiAgICAgICAgLi4uZSxcbiAgICAgICAgdGFyZ2V0Tm9kZTogc2VuZGVyXG4gICAgICB9KTtcbiAgICB9KVxuICAgIHRoaXMuUmVVSSgpO1xuICB9XG4gIHB1YmxpYyBSZVVJKCkge1xuICAgIGlmICh0aGlzLmVsTm9kZSkgdGhpcy5lbE5vZGUucmVtb3ZlKCk7XG4gICAgdGhpcy5lbE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKFwid29ya2VyZmxvdy1ub2RlXCIpO1xuICAgIHRoaXMuZWxOb2RlLmlkID0gYG5vZGUtJHt0aGlzLm5vZGVJZH1gO1xuICAgIHRoaXMuZWxOb2RlSW5wdXRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbE5vZGVJbnB1dHMuY2xhc3NMaXN0LmFkZCgnd29ya2VyZmxvdy1ub2RlX2lucHV0cycpO1xuICAgIHRoaXMuZWxOb2RlSW5wdXRzLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwiaW5wdXRzIGRvdFwiPjwvZGl2PmA7XG4gICAgdGhpcy5lbE5vZGVDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbE5vZGVDb250ZW50LmNsYXNzTGlzdC5hZGQoJ3dvcmtlcmZsb3ctbm9kZV9jb250ZW50Jyk7XG4gICAgdGhpcy5lbE5vZGVPdXRwdXRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbE5vZGVPdXRwdXRzLmNsYXNzTGlzdC5hZGQoJ3dvcmtlcmZsb3ctbm9kZV9vdXRwdXRzJyk7XG4gICAgdGhpcy5lbE5vZGVPdXRwdXRzLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwib3V0cHV0cyBkb3RcIj48L2Rpdj5gO1xuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJywgdGhpcy5ub2RlSWQpO1xuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgdG9wOiAke3RoaXMucG9zX3l9cHg7IGxlZnQ6ICR7dGhpcy5wb3NfeH1weDtgKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLk5vZGVPdmVyLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLk5vZGVMZWF2ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZUlucHV0cyk7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGVDb250ZW50KTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZU91dHB1dHMpO1xuXG4gICAgdGhpcy5wYXJlbnQuZWxDYW52YXM/LmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcbiAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICB0aGlzLmRhdGEubG9hZCh0aGlzLmRhdGEudG9Kc29uKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBuZXcgRGF0YUZsb3codGhpcyk7XG4gICAgfVxuICAgIHRoaXMuaW5pdE9wdGlvbigpO1xuICAgIHRoaXMuZGlzcGF0Y2godGhpcy5FdmVudC5SZVVJLCB7fSk7XG4gIH1cbiAgcHVibGljIGNoZWNrSW5wdXQoKSB7XG4gICAgcmV0dXJuICEodGhpcy5vcHRpb24/LmlucHV0ID09PSAwKTtcbiAgfVxuICBwcml2YXRlIGluaXRPcHRpb24oKSB7XG5cbiAgICBpZiAodGhpcy5lbE5vZGVDb250ZW50ICYmIHRoaXMub3B0aW9uICYmIHRoaXMuZWxOb2RlT3V0cHV0cykge1xuICAgICAgdGhpcy5lbE5vZGVDb250ZW50LmlubmVySFRNTCA9IHRoaXMub3B0aW9uLmh0bWw7XG4gICAgICBpZiAodGhpcy5vcHRpb24ub3V0cHV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5lbE5vZGVPdXRwdXRzLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpbmRleDogbnVtYmVyID0gMTsgaW5kZXggPD0gdGhpcy5vcHRpb24ub3V0cHV0OyBpbmRleCsrKSB7XG4gICAgICAgICAgbGV0IG91dHB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIG91dHB1dC5zZXRBdHRyaWJ1dGUoJ25vZGUnLCAoaW5kZXgpLnRvU3RyaW5nKCkpO1xuICAgICAgICAgIG91dHB1dC5jbGFzc0xpc3QuYWRkKFwiZG90XCIpO1xuICAgICAgICAgIG91dHB1dC5jbGFzc0xpc3QuYWRkKFwib3V0cHV0X1wiICsgKGluZGV4KSk7XG4gICAgICAgICAgdGhpcy5lbE5vZGVPdXRwdXRzLmFwcGVuZENoaWxkKG91dHB1dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbi5pbnB1dCA9PT0gMCAmJiB0aGlzLmVsTm9kZUlucHV0cykge1xuICAgICAgICB0aGlzLmVsTm9kZUlucHV0cy5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cblxuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuUnVuU2NyaXB0KHRoaXMsIHRoaXMuZWxOb2RlKTtcbiAgICB9LCAxMDApO1xuICB9XG4gIHB1YmxpYyBSdW5TY3JpcHQoc2VsZk5vZGU6IE5vZGVGbG93LCBlbDogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uICYmIHRoaXMub3B0aW9uLnNjcmlwdCkge1xuICAgICAgZ2V2YWwoJyhub2RlLGVsKT0+eycgKyB0aGlzLm9wdGlvbi5zY3JpcHQudG9TdHJpbmcoKSArICd9Jykoc2VsZk5vZGUsIGVsKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIGNoZWNrS2V5KGtleTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uICYmIHRoaXMub3B0aW9uLmtleSA9PSBrZXk7XG4gIH1cbiAgcHVibGljIE5vZGVPdmVyKGU6IGFueSkge1xuICAgIHRoaXMucGFyZW50Lm5vZGVPdmVyID0gdGhpcztcbiAgfVxuICBwdWJsaWMgTm9kZUxlYXZlKGU6IGFueSkge1xuICAgIHRoaXMucGFyZW50Lm5vZGVPdmVyID0gbnVsbDtcbiAgfVxuICBwdWJsaWMgU3RhcnRTZWxlY3RlZChlOiBhbnkpIHtcbiAgICB0aGlzLnBhcmVudC5TZWxlY3ROb2RlKHRoaXMpO1xuICAgIHRoaXMuZGlzcGF0Y2godGhpcy5FdmVudC5zZWxlY3RlZCwge30pO1xuICB9XG4gIHB1YmxpYyB1cGRhdGVQb3NpdGlvbih4OiBhbnksIHk6IGFueSwgaUNoZWNrID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5lbE5vZGUpIHtcbiAgICAgIGlmIChpQ2hlY2spIHtcbiAgICAgICAgdGhpcy5wb3NfeCA9IHg7XG4gICAgICAgIHRoaXMucG9zX3kgPSB5O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wb3NfeCA9ICh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0IC0geCk7XG4gICAgICAgIHRoaXMucG9zX3kgPSAodGhpcy5lbE5vZGUub2Zmc2V0VG9wIC0geSk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYHRvcDogJHt0aGlzLnBvc195fXB4OyBsZWZ0OiAke3RoaXMucG9zX3h9cHg7YCk7XG4gICAgICB0aGlzLmFyckxpbmUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnVwZGF0ZSgpO1xuICAgICAgfSlcbiAgICAgIHRoaXMuZGlzcGF0Y2godGhpcy5FdmVudC51cGRhdGVQb3NpdGlvbiwgeyB4OiB0aGlzLnBvc194LCB5OiB0aGlzLnBvc195IH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaCh0aGlzLkV2ZW50LmNoYW5nZSwge30pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgV29ya2VyRmxvdyB9IGZyb20gXCIuLi9Xb3JrZXJGbG93XCI7XG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tIFwiLi9FdmVudEZsb3dcIjtcbmltcG9ydCB7IExpbmVGbG93IH0gZnJvbSBcIi4vTGluZUZsb3dcIjtcbmltcG9ydCB7IE5vZGVGbG93IH0gZnJvbSBcIi4vTm9kZUZsb3dcIjtcblxuZXhwb3J0IGVudW0gTW92ZVR5cGUge1xuICBOb25lID0gMCxcbiAgTm9kZSA9IDEsXG4gIENhbnZhcyA9IDIsXG4gIExpbmUgPSAzLFxufVxuZXhwb3J0IGNsYXNzIFZpZXdGbG93IHtcbiAgcHJpdmF0ZSBlbFZpZXc6IEhUTUxFbGVtZW50O1xuICBwdWJsaWMgZWxDYW52YXM6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHBhcmVudDogV29ya2VyRmxvdztcbiAgcHJpdmF0ZSBub2RlczogTm9kZUZsb3dbXSA9IFtdO1xuICBwdWJsaWMgZmxnRHJhcDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgZmxnTW92ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIG1vdmVUeXBlOiBNb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gIHByaXZhdGUgem9vbTogbnVtYmVyID0gMTtcbiAgcHJpdmF0ZSB6b29tX21heDogbnVtYmVyID0gMS42O1xuICBwcml2YXRlIHpvb21fbWluOiBudW1iZXIgPSAwLjU7XG4gIHByaXZhdGUgem9vbV92YWx1ZTogbnVtYmVyID0gMC4xO1xuICBwcml2YXRlIHpvb21fbGFzdF92YWx1ZTogbnVtYmVyID0gMTtcbiAgcHJpdmF0ZSBjYW52YXNfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBjYW52YXNfeTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBwb3NfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBwb3NfeTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtb3VzZV94OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1vdXNlX3k6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbGluZVNlbGVjdGVkOiBMaW5lRmxvdyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIG5vZGVTZWxlY3RlZDogTm9kZUZsb3cgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIG5vZGVPdmVyOiBOb2RlRmxvdyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGRvdFNlbGVjdGVkOiBOb2RlRmxvdyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHRlbXBMaW5lOiBMaW5lRmxvdyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHRpbWVGYXN0Q2xpY2s6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgcHJvamVjdElkOiBzdHJpbmcgPSBcIlwiO1xuICBwcml2YXRlIHByb2plY3ROYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBwcml2YXRlIHRhZ0luZ29yZSA9IFsnaW5wdXQnLCAnYnV0dG9uJywgJ2EnLCAndGV4dGFyZWEnXTtcblxuICBwdWJsaWMgcmVhZG9ubHkgRXZlbnQgPSB7XG4gICAgY2hhbmdlOiBcImNoYW5nZVwiLFxuICAgIHNlbGVjdGVkOiBcIlNlbGVjdGVkXCIsXG4gICAgdXBkYXRlVmlldzogXCJ1cGRhdGVWaWV3XCJcbiAgfTtcblxuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogV29ya2VyRmxvdykge1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50Rmxvdyh0aGlzKTtcbiAgICB0aGlzLmVsVmlldyA9IHRoaXMucGFyZW50LmNvbnRhaW5lcj8ucXVlcnlTZWxlY3RvcignLndvcmtlcmZsb3ctZGVzZ2luIC53b3JrZXJmbG93LXZpZXcnKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbENhbnZhcy5jbGFzc0xpc3QuYWRkKFwid29ya2VyZmxvdy1jYW52YXNcIik7XG4gICAgdGhpcy5lbFZpZXcuYXBwZW5kQ2hpbGQodGhpcy5lbENhbnZhcyk7XG4gICAgdGhpcy5lbFZpZXcudGFiSW5kZXggPSAwO1xuICAgIHRoaXMuYWRkRXZlbnQoKTtcbiAgICB0aGlzLlJlc2V0KCk7XG4gICAgdGhpcy51cGRhdGVWaWV3KCk7XG5cbiAgfVxuICBwdWJsaWMgZ2V0T3B0aW9uKGtleU5vZGU6IGFueSkge1xuICAgIGlmICgha2V5Tm9kZSkgcmV0dXJuO1xuICAgIGxldCBjb250cm9sID0gdGhpcy5wYXJlbnQub3B0aW9uLmNvbnRyb2xba2V5Tm9kZV07XG4gICAgaWYgKCFjb250cm9sKSB7XG4gICAgICBjb250cm9sID0gT2JqZWN0LnZhbHVlcyh0aGlzLnBhcmVudC5vcHRpb24uY29udHJvbClbMF07XG4gICAgfVxuICAgIGNvbnRyb2wua2V5ID0ga2V5Tm9kZTtcbiAgICByZXR1cm4gY29udHJvbDtcbiAgfVxuICBwcml2YXRlIGRyb3BFbmQoZXY6IGFueSkge1xuICAgIGxldCBrZXlOb2RlOiBzdHJpbmcgfCBudWxsID0gJyc7XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2hlbmRcIikge1xuICAgICAga2V5Tm9kZSA9IHRoaXMucGFyZW50LmRhdGFOb2RlU2VsZWN0O1xuICAgIH0gZWxzZSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAga2V5Tm9kZSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibm9kZVwiKTtcbiAgICB9XG4gICAgbGV0IG9wdGlvbiA9IHRoaXMuZ2V0T3B0aW9uKGtleU5vZGUpO1xuICAgIGlmIChvcHRpb24gJiYgb3B0aW9uLm9ubHlOb2RlKSB7XG4gICAgICBpZiAodGhpcy5ub2Rlcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uY2hlY2tLZXkoa2V5Tm9kZSkpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbm9kZSA9IHRoaXMuQWRkTm9kZShvcHRpb24pO1xuXG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIGxldCB4ID0gdGhpcy5DYWxjWCh0aGlzLmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggLSBlX3Bvc194KTtcbiAgICBsZXQgeSA9IHRoaXMuQ2FsY1kodGhpcy5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XG5cbiAgICBub2RlLnVwZGF0ZVBvc2l0aW9uKHgsIHkpO1xuICB9XG4gIHB1YmxpYyB0b0pzb24oKSB7XG4gICAgbGV0IG5vZGVzID0gdGhpcy5ub2Rlcy5tYXAoKGl0ZW0pID0+IGl0ZW0udG9Kc29uKCkpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogdGhpcy5wcm9qZWN0SWQsXG4gICAgICBuYW1lOiB0aGlzLnByb2plY3ROYW1lLFxuICAgICAgeDogdGhpcy5jYW52YXNfeCxcbiAgICAgIHk6IHRoaXMuY2FudmFzX3ksXG4gICAgICB6b29tOiB0aGlzLnpvb20sXG4gICAgICBub2Rlc1xuICAgIH1cbiAgfVxuICBwdWJsaWMgbG9hZChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLlJlc2V0KCk7XG4gICAgdGhpcy5wcm9qZWN0SWQgPSBkYXRhPy5pZCA/PyB0aGlzLnBhcmVudC5nZXRVdWlkKCk7XG4gICAgdGhpcy5wcm9qZWN0TmFtZSA9IGRhdGE/Lm5hbWUgPz8gYHByb2plY3QtJHt0aGlzLnBhcmVudC5nZXRUaW1lKCl9YDtcbiAgICB0aGlzLmNhbnZhc194ID0gZGF0YT8ueCA/PyAwO1xuICAgIHRoaXMuY2FudmFzX3kgPSBkYXRhPy55ID8/IDA7XG4gICAgdGhpcy56b29tID0gZGF0YT8uem9vbSA/PyAxO1xuICAgIHRoaXMubm9kZXMgPSAoZGF0YT8ubm9kZXMgPz8gW10pLm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICByZXR1cm4gKG5ldyBOb2RlRmxvdyh0aGlzLCBcIlwiKSkubG9hZChpdGVtKTtcbiAgICB9KTtcbiAgICAoZGF0YT8ubm9kZXMgPz8gW10pLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgKGl0ZW0ubGluZSA/PyBbXSkuZm9yRWFjaCgobGluZTogYW55KSA9PiB7XG4gICAgICAgIGxldCBmcm9tTm9kZSA9IHRoaXMuZ2V0Tm9kZUJ5SWQobGluZS5mcm9tTm9kZSk7XG4gICAgICAgIGxldCB0b05vZGUgPSB0aGlzLmdldE5vZGVCeUlkKGxpbmUudG9Ob2RlKTtcbiAgICAgICAgbGV0IG91cHV0SW5kZXggPSBsaW5lLm91cHV0SW5kZXggPz8gMDtcbiAgICAgICAgaWYgKGZyb21Ob2RlICYmIHRvTm9kZSkge1xuICAgICAgICAgIHRoaXMuQWRkTGluZShmcm9tTm9kZSwgdG9Ob2RlLCBvdXB1dEluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVZpZXcoKTtcbiAgfVxuICBwdWJsaWMgUmVzZXQoKSB7XG4gICAgdGhpcy5ub2Rlcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmRlbGV0ZShmYWxzZSkpO1xuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgICB0aGlzLnByb2plY3RJZCA9IHRoaXMucGFyZW50LmdldFV1aWQoKTtcbiAgICB0aGlzLnByb2plY3ROYW1lID0gYHByb2plY3QtJHt0aGlzLnBhcmVudC5nZXRUaW1lKCl9YDtcbiAgICB0aGlzLmNhbnZhc194ID0gMDtcbiAgICB0aGlzLmNhbnZhc195ID0gMDtcbiAgICB0aGlzLnpvb20gPSAxO1xuICAgIHRoaXMudXBkYXRlVmlldygpO1xuICB9XG4gIHB1YmxpYyBnZXROb2RlQnlJZChub2RlSWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLm5vZGVzPy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0ubm9kZUlkID09IG5vZGVJZClbMF07XG4gIH1cbiAgcHVibGljIHVwZGF0ZVZpZXcoKSB7XG4gICAgdGhpcy5lbENhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHRoaXMuY2FudmFzX3ggKyBcInB4LCBcIiArIHRoaXMuY2FudmFzX3kgKyBcInB4KSBzY2FsZShcIiArIHRoaXMuem9vbSArIFwiKVwiO1xuICAgIHRoaXMuZGlzcGF0Y2godGhpcy5FdmVudC51cGRhdGVWaWV3LCB7IHg6IHRoaXMuY2FudmFzX3gsIHk6IHRoaXMuY2FudmFzX3ksIHpvb206IHRoaXMuem9vbSB9KTtcbiAgfVxuICBwcml2YXRlIENhbGNYKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxWaWV3LmNsaWVudFdpZHRoICogdGhpcy56b29tKSk7XG4gIH1cbiAgcHJpdmF0ZSBDYWxjWShudW1iZXI6IGFueSkge1xuICAgIHJldHVybiBudW1iZXIgKiAodGhpcy5lbENhbnZhcy5jbGllbnRIZWlnaHQgLyAodGhpcy5lbFZpZXcuY2xpZW50SGVpZ2h0ICogdGhpcy56b29tKSk7XG4gIH1cbiAgcHJpdmF0ZSBkcmFnb3ZlcihlOiBhbnkpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgcHVibGljIFVuU2VsZWN0TGluZSgpIHtcbiAgICBpZiAodGhpcy5saW5lU2VsZWN0ZWQpIHtcbiAgICAgIHRoaXMubGluZVNlbGVjdGVkLmVsUGF0aD8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICB0aGlzLmxpbmVTZWxlY3RlZCA9IG51bGw7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBVblNlbGVjdERvdCgpIHtcbiAgICBpZiAodGhpcy5kb3RTZWxlY3RlZCkge1xuICAgICAgdGhpcy5kb3RTZWxlY3RlZC5lbE5vZGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5kb3RTZWxlY3RlZCA9IG51bGw7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBVblNlbGVjdE5vZGUoKSB7XG4gICAgaWYgKHRoaXMubm9kZVNlbGVjdGVkKSB7XG4gICAgICB0aGlzLm5vZGVTZWxlY3RlZC5lbE5vZGU/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5ub2RlU2VsZWN0ZWQgPSBudWxsO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgVW5TZWxlY3QoKSB7XG4gICAgdGhpcy5VblNlbGVjdExpbmUoKTtcbiAgICB0aGlzLlVuU2VsZWN0Tm9kZSgpO1xuICAgIHRoaXMuVW5TZWxlY3REb3QoKTtcbiAgfVxuICBwdWJsaWMgU2VsZWN0TGluZShub2RlOiBMaW5lRmxvdykge1xuICAgIHRoaXMuVW5TZWxlY3QoKTtcbiAgICB0aGlzLmxpbmVTZWxlY3RlZCA9IG5vZGU7XG4gICAgdGhpcy5saW5lU2VsZWN0ZWQuZWxQYXRoLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG4gIHB1YmxpYyBTZWxlY3ROb2RlKG5vZGU6IE5vZGVGbG93KSB7XG4gICAgdGhpcy5VblNlbGVjdCgpO1xuICAgIHRoaXMubm9kZVNlbGVjdGVkID0gbm9kZTtcbiAgICB0aGlzLm5vZGVTZWxlY3RlZC5lbE5vZGU/LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG4gIHB1YmxpYyBTZWxlY3REb3Qobm9kZTogTm9kZUZsb3cpIHtcbiAgICB0aGlzLlVuU2VsZWN0KCk7XG4gICAgdGhpcy5kb3RTZWxlY3RlZCA9IG5vZGU7XG4gICAgdGhpcy5kb3RTZWxlY3RlZC5lbE5vZGU/LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG4gIHB1YmxpYyBSZW1vdmVOb2RlKG5vZGU6IE5vZGVGbG93KSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5ub2Rlcy5pbmRleE9mKG5vZGUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG4gIHB1YmxpYyBBZGROb2RlKG9wdGlvbjogYW55ID0gbnVsbCk6IE5vZGVGbG93IHtcbiAgICBsZXQgTm9kZUlkID0gb3B0aW9uID8gb3B0aW9uLmlkIDogdGhpcy5wYXJlbnQuZ2V0VXVpZCgpO1xuICAgIGxldCBub2RlID0gbmV3IE5vZGVGbG93KHRoaXMsIE5vZGVJZCA/PyB0aGlzLnBhcmVudC5nZXRVdWlkKCksIG9wdGlvbik7XG4gICAgdGhpcy5ub2RlcyA9IFsuLi50aGlzLm5vZGVzLCBub2RlXTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBwdWJsaWMgQWRkTGluZShmcm9tTm9kZTogTm9kZUZsb3csIHRvTm9kZTogTm9kZUZsb3csIG91dHB1dEluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgaWYgKGZyb21Ob2RlID09IHRvTm9kZSkgcmV0dXJuO1xuICAgIGlmIChmcm9tTm9kZS5hcnJMaW5lLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0udG9Ob2RlID09PSB0b05vZGUgJiYgaXRlbS5vdXRwdXRJbmRleCA9PSBvdXRwdXRJbmRleCAmJiBpdGVtICE9IHRoaXMudGVtcExpbmU7XG4gICAgfSkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExpbmVGbG93KHRoaXMsIGZyb21Ob2RlLCB0b05vZGUsIG91dHB1dEluZGV4KTtcbiAgfVxuICBwdWJsaWMgYWRkRXZlbnQoKSB7XG4gICAgLyogTW91c2UgYW5kIFRvdWNoIEFjdGlvbnMgKi9cbiAgICB0aGlzLmVsVmlldy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5FbmRNb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRNb3ZlLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0TW92ZS5iaW5kKHRoaXMpKTtcbiAgICAvKiBDb250ZXh0IE1lbnUgKi9cbiAgICB0aGlzLmVsVmlldy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuY29udGV4dG1lbnUuYmluZCh0aGlzKSk7XG5cbiAgICAvKiBEcm9wIERyYXAgKi9cbiAgICB0aGlzLmVsVmlldy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5kcm9wRW5kLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5kcmFnb3Zlci5iaW5kKHRoaXMpKTtcbiAgICAvKiBab29tIE1vdXNlICovXG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLnpvb21fZW50ZXIuYmluZCh0aGlzKSk7XG4gICAgLyogRGVsZXRlICovXG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bi5iaW5kKHRoaXMpKTtcbiAgfVxuICBwdWJsaWMga2V5ZG93bihlOiBhbnkpIHtcbiAgICBpZiAoZS5rZXkgPT09ICdEZWxldGUnIHx8IChlLmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgZS5tZXRhS2V5KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBpZiAodGhpcy5ub2RlU2VsZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLm5vZGVTZWxlY3RlZC5kZWxldGUoKTtcbiAgICAgICAgdGhpcy5ub2RlU2VsZWN0ZWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubGluZVNlbGVjdGVkICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5saW5lU2VsZWN0ZWQuZGVsZXRlKCk7XG4gICAgICAgIHRoaXMubGluZVNlbGVjdGVkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHVibGljIHpvb21fZW50ZXIoZXZlbnQ6IGFueSkge1xuICAgIGlmIChldmVudC5jdHJsS2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBpZiAoZXZlbnQuZGVsdGFZID4gMCkge1xuICAgICAgICAvLyBab29tIE91dFxuICAgICAgICB0aGlzLnpvb21fb3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBab29tIEluXG4gICAgICAgIHRoaXMuem9vbV9pbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9yZWZyZXNoKCkge1xuICAgIHRoaXMuY2FudmFzX3ggPSAodGhpcy5jYW52YXNfeCAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRoaXMuem9vbTtcbiAgICB0aGlzLmNhbnZhc195ID0gKHRoaXMuY2FudmFzX3kgLyB0aGlzLnpvb21fbGFzdF92YWx1ZSkgKiB0aGlzLnpvb207XG4gICAgdGhpcy56b29tX2xhc3RfdmFsdWUgPSB0aGlzLnpvb207XG4gICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gIH1cbiAgcHVibGljIHpvb21faW4oKSB7XG4gICAgaWYgKHRoaXMuem9vbSA8IHRoaXMuem9vbV9tYXgpIHtcbiAgICAgIHRoaXMuem9vbSArPSB0aGlzLnpvb21fdmFsdWU7XG4gICAgICB0aGlzLnpvb21fcmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9vdXQoKSB7XG4gICAgaWYgKHRoaXMuem9vbSA+IHRoaXMuem9vbV9taW4pIHtcbiAgICAgIHRoaXMuem9vbSAtPSB0aGlzLnpvb21fdmFsdWU7XG4gICAgICB0aGlzLnpvb21fcmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9yZXNldCgpIHtcbiAgICBpZiAodGhpcy56b29tICE9IDEpIHtcbiAgICAgIHRoaXMuem9vbSA9IDE7XG4gICAgICB0aGlzLnpvb21fcmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBTdGFydE1vdmUoZTogYW55KSB7XG4gICAgaWYgKHRoaXMudGFnSW5nb3JlLmluY2x1ZGVzKGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy50aW1lRmFzdENsaWNrID0gdGhpcy5wYXJlbnQuZ2V0VGltZSgpO1xuICAgIGlmICh0aGlzLm1vdmVUeXBlID09IE1vdmVUeXBlLk5vbmUpIHtcbiAgICAgIGlmICh0aGlzLm5vZGVTZWxlY3RlZCAmJiB0aGlzLnBhcmVudC5jaGVja1BhcmVudChlLnRhcmdldCwgdGhpcy5ub2RlU2VsZWN0ZWQuZWxOb2RlKSkge1xuICAgICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkb3QnKSkge1xuICAgICAgICAgIGlmICh0aGlzLnBhcmVudC5jaGVja1BhcmVudChlLnRhcmdldCwgdGhpcy5ub2RlU2VsZWN0ZWQuZWxOb2RlSW5wdXRzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTGluZTtcbiAgICAgICAgICB0aGlzLnRlbXBMaW5lID0gbmV3IExpbmVGbG93KHRoaXMsIHRoaXMubm9kZVNlbGVjdGVkLCBudWxsKTtcbiAgICAgICAgICB0aGlzLnRlbXBMaW5lLm91dHB1dEluZGV4ID0gKyhlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ25vZGUnKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vZGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5DYW52YXM7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICB0aGlzLnBvc194ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnBvc195ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zX3ggPSBlLmNsaWVudFg7XG4gICAgICB0aGlzLnBvc195ID0gZS5jbGllbnRZO1xuICAgIH1cbiAgICB0aGlzLmZsZ0RyYXAgPSB0cnVlO1xuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICB9XG4gIHB1YmxpYyBNb3ZlKGU6IGFueSkge1xuICAgIGlmICghdGhpcy5mbGdEcmFwKSByZXR1cm47XG4gICAgdGhpcy5mbGdNb3ZlID0gdHJ1ZTtcbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIGVfcG9zX3ggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGUuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBlLmNsaWVudFk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5tb3ZlVHlwZSkge1xuICAgICAgY2FzZSBNb3ZlVHlwZS5DYW52YXM6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeCA9IHRoaXMuY2FudmFzX3ggKyB0aGlzLkNhbGNYKC0odGhpcy5wb3NfeCAtIGVfcG9zX3gpKVxuICAgICAgICAgIGxldCB5ID0gdGhpcy5jYW52YXNfeSArIHRoaXMuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXG4gICAgICAgICAgdGhpcy5lbENhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4KSBzY2FsZShcIiArIHRoaXMuem9vbSArIFwiKVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIE1vdmVUeXBlLk5vZGU6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeCA9IHRoaXMuQ2FsY1godGhpcy5wb3NfeCAtIGVfcG9zX3gpO1xuICAgICAgICAgIGxldCB5ID0gdGhpcy5DYWxjWSh0aGlzLnBvc195IC0gZV9wb3NfeSk7XG4gICAgICAgICAgdGhpcy5wb3NfeCA9IGVfcG9zX3g7XG4gICAgICAgICAgdGhpcy5wb3NfeSA9IGVfcG9zX3k7XG4gICAgICAgICAgdGhpcy5ub2RlU2VsZWN0ZWQ/LnVwZGF0ZVBvc2l0aW9uKHgsIHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIE1vdmVUeXBlLkxpbmU6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodGhpcy50ZW1wTGluZSkge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLkNhbGNYKHRoaXMuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCAtIGVfcG9zX3gpO1xuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLkNhbGNZKHRoaXMuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSAtIGVfcG9zX3kpO1xuICAgICAgICAgICAgdGhpcy50ZW1wTGluZS51cGRhdGVUbyh0aGlzLmVsQ2FudmFzLm9mZnNldExlZnQgLSB4LCB0aGlzLmVsQ2FudmFzLm9mZnNldFRvcCAtIHkpO1xuICAgICAgICAgICAgdGhpcy50ZW1wTGluZS50b05vZGUgPSB0aGlzLm5vZGVPdmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIHRoaXMubW91c2VfeCA9IGVfcG9zX3g7XG4gICAgICB0aGlzLm1vdXNlX3kgPSBlX3Bvc195O1xuICAgIH1cbiAgfVxuICBwdWJsaWMgRW5kTW92ZShlOiBhbnkpIHtcbiAgICAvL2ZpeCBGYXN0IENsaWNrXG4gICAgaWYgKCgodGhpcy5wYXJlbnQuZ2V0VGltZSgpIC0gdGhpcy50aW1lRmFzdENsaWNrKSA8IDMwMCkgfHwgIXRoaXMuZmxnRHJhcCAmJiAhdGhpcy5mbGdNb3ZlKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5VblNlbGVjdCgpO1xuICAgIGlmICh0aGlzLnRlbXBMaW5lICYmIHRoaXMubW92ZVR5cGUgPT0gTW92ZVR5cGUuTGluZSkge1xuICAgICAgaWYgKHRoaXMudGVtcExpbmUudG9Ob2RlICYmIHRoaXMudGVtcExpbmUudG9Ob2RlLmNoZWNrSW5wdXQoKSkge1xuICAgICAgICB0aGlzLkFkZExpbmUodGhpcy50ZW1wTGluZS5mcm9tTm9kZSwgdGhpcy50ZW1wTGluZS50b05vZGUsIHRoaXMudGVtcExpbmUub3V0cHV0SW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy50ZW1wTGluZS5kZWxldGUoKTtcbiAgICAgIHRoaXMudGVtcExpbmUgPSBudWxsO1xuICAgIH1cbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2hlbmRcIikge1xuICAgICAgZV9wb3NfeCA9IHRoaXMubW91c2VfeDtcbiAgICAgIGVfcG9zX3kgPSB0aGlzLm1vdXNlX3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBlLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZS5jbGllbnRZO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PT0gTW92ZVR5cGUuQ2FudmFzKSB7XG4gICAgICB0aGlzLmNhbnZhc194ID0gdGhpcy5jYW52YXNfeCArIHRoaXMuQ2FsY1goLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpO1xuICAgICAgdGhpcy5jYW52YXNfeSA9IHRoaXMuY2FudmFzX3kgKyB0aGlzLkNhbGNZKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKTtcbiAgICB9XG4gICAgdGhpcy5wb3NfeCA9IGVfcG9zX3g7XG4gICAgdGhpcy5wb3NfeSA9IGVfcG9zX3k7XG4gICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gICAgdGhpcy5mbGdEcmFwID0gZmFsc2U7XG4gICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gIH1cbiAgcHVibGljIGNvbnRleHRtZW51KGU6IGFueSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29udHJvbEZsb3cgfSBmcm9tIFwiLi9jb21wb25lbnRzL0NvbnRyb2xGbG93XCI7XG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tIFwiLi9jb21wb25lbnRzL0V2ZW50Rmxvd1wiO1xuaW1wb3J0IHsgVGFiRmxvdyB9IGZyb20gXCIuL2NvbXBvbmVudHMvVGFiRmxvd1wiO1xuaW1wb3J0IHsgVmlld0Zsb3cgfSBmcm9tIFwiLi9jb21wb25lbnRzL1ZpZXdGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBXb3JrZXJGbG93IHtcblxuICBwdWJsaWMgY29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGw7XG4gIHB1YmxpYyBWaWV3OiBWaWV3RmxvdyB8IG51bGw7XG4gIHB1YmxpYyBDb250cm9sOiBDb250cm9sRmxvdyB8IG51bGw7XG4gIHB1YmxpYyB0YWI6IFRhYkZsb3cgfCBudWxsO1xuICBwdWJsaWMgZGF0YU5vZGVTZWxlY3Q6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgb3B0aW9uOiBhbnk7XG5cbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xuICB9XG5cbiAgcHVibGljIGNoZWNrUGFyZW50KG5vZGU6IGFueSwgbm9kZUNoZWNrOiBhbnkpIHtcbiAgICBpZiAobm9kZSAmJiBub2RlQ2hlY2spIHtcbiAgICAgIGlmIChub2RlID09IG5vZGVDaGVjaykgcmV0dXJuIHRydWU7XG4gICAgICBsZXQgcGFyZW50OiBhbnkgPSBub2RlO1xuICAgICAgd2hpbGUgKChwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudCkgIT0gbnVsbCkge1xuICAgICAgICBpZiAobm9kZUNoZWNrID09IHBhcmVudCkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgb3B0aW9uOiBhbnkgPSBudWxsKSB7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIndvcmtlcmZsb3dcIik7XG4gICAgdGhpcy5vcHRpb24gPSBvcHRpb24gfHwge1xuICAgICAgY29udHJvbDoge1xuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LWNvbnRyb2xcIj5cbiAgICAgIDxoMiBjbGFzcz1cIndvcmtlcmZsb3ctY29udHJvbF9faGVhZGVyXCI+Tm9kZSBDb250cm9sPC9oMj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LWNvbnRyb2xfX2xpc3RcIj5cbiAgICAgIDxkaXYgZHJhZ2dhYmxlPVwidHJ1ZVwiPk5vZGUgMTwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIndvcmtlcmZsb3ctZGVzZ2luXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy1pdGVtc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy1pdGVtXCI+VGjDtG5nIHRpbiBt4bubaTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy1pdGVtXCI+VGjDtG5nIHRpbiBt4bubaTEyMzwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy12aWV3XCI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuICAgIHRoaXMuVmlldyA9IG5ldyBWaWV3Rmxvdyh0aGlzKTtcbiAgICB0aGlzLnRhYiA9IG5ldyBUYWJGbG93KHRoaXMsIFtdKTtcbiAgICB0aGlzLkNvbnRyb2wgPSBuZXcgQ29udHJvbEZsb3codGhpcyk7XG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KHRoaXMpO1xuICB9XG4gIHB1YmxpYyBuZXcoKSB7XG4gICAgdGhpcy50YWI/Lk5ld1Byb2plY3QoKTtcbiAgfVxuICBwdWJsaWMgbG9hZChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLnRhYj8uTG9hZFByb2plY3QoZGF0YSk7XG4gIH1cbiAgcHVibGljIHRvSnNvbigpIHtcbiAgICByZXR1cm4gdGhpcy5WaWV3Py50b0pzb24oKTtcbiAgfVxuICBwdWJsaWMgZ2V0VGltZSgpOiBudW1iZXIge1xuICAgIHJldHVybiAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICB9XG4gIHB1YmxpYyBnZXRVdWlkKCk6IHN0cmluZyB7XG4gICAgLy8gaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDEyMi50eHRcbiAgICBsZXQgczogYW55ID0gW107XG4gICAgbGV0IGhleERpZ2l0cyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgICAgc1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xuICAgIH1cbiAgICBzWzE0XSA9IFwiNFwiOyAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gICAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpOyAgLy8gYml0cyA2LTcgb2YgdGhlIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgdG8gMDFcbiAgICBzWzhdID0gc1sxM10gPSBzWzE4XSA9IHNbMjNdID0gXCItXCI7XG5cbiAgICBsZXQgdXVpZCA9IHMuam9pbihcIlwiKTtcbiAgICByZXR1cm4gdXVpZDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkNvbnRyb2xGbG93IiwiZWxDb250cm9sIiwicGFyZW50IiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsIk9iamVjdCIsImtleXMiLCJvcHRpb24iLCJjb250cm9sIiwiZm9yRWFjaCIsImtleSIsIk5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJuYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYWdTdGFydCIsImJpbmQiLCJkcmFnZW5kIiwiYXBwZW5kQ2hpbGQiLCJlIiwiZGF0YU5vZGVTZWxlY3QiLCJ0eXBlIiwidGFyZ2V0IiwiY2xvc2VzdCIsImdldEF0dHJpYnV0ZSIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJFdmVudEZsb3ciLCJldmVudHMiLCJvbiIsImV2ZW50IiwiY2FsbGJhY2siLCJjb25zb2xlIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsaXN0ZW5lcnMiLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJsaXN0ZW5lckluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImRpc3BhdGNoIiwiZGV0YWlscyIsInNlbGYiLCJsaXN0ZW5lciIsIlRhYkZsb3ciLCJtb2R1bGVzIiwiZWxUYWIiLCJDbGlja1RhYiIsImNvbnRhaW5zIiwicHJvamVjdElkIiwiTG9hZFByb2plY3RCeUlkIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW0iLCJ0b1N0cmluZyIsIlZpZXciLCJ0b0pzb24iLCJyZW1vdmUiLCJsb2FkIiwiTmV3UHJvamVjdCIsImRhdGEiLCJpZCIsImdldFV1aWQiLCJnZXRUaW1lIiwieCIsInkiLCJ6b29tIiwibm9kZXMiLCJMb2FkUHJvamVjdCIsIkxpbmVGbG93IiwiZnJvbU5vZGUiLCJ0b05vZGUiLCJvdXRwdXRJbmRleCIsImVsQ29ubmVjdGlvbiIsImVsUGF0aCIsImN1cnZhdHVyZSIsImNyZWF0ZUVsZW1lbnROUyIsIlN0YXJ0U2VsZWN0ZWQiLCJzZXRBdHRyaWJ1dGVOUyIsImVsQ2FudmFzIiwiQWRkTGluZSIsInVwZGF0ZSIsIlNlbGVjdExpbmUiLCJjcmVhdGVDdXJ2YXR1cmUiLCJzdGFydF9wb3NfeCIsInN0YXJ0X3Bvc195IiwiZW5kX3Bvc194IiwiZW5kX3Bvc195IiwiY3VydmF0dXJlX3ZhbHVlIiwibGluZV94IiwibGluZV95IiwiaHgxIiwiTWF0aCIsImFicyIsImh4MiIsImRlbGV0ZSIsIm5vZGVUaGlzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlJlbW92ZUxpbmUiLCJ1cGRhdGVUbyIsInRvX3giLCJ0b195IiwiZWxOb2RlIiwiZnJvbV94IiwicG9zX3giLCJjbGllbnRXaWR0aCIsImZyb21feSIsInBvc195Iiwib3V0cHV0IiwiY2xpZW50SGVpZ2h0IiwibGluZUN1cnZlIiwiRGF0YUZsb3ciLCJub2RlIiwic2V0VGltZW91dCIsImNoYW5nZUlucHV0IiwiU2V0IiwidmFsdWUiLCJvYmoiLCJFdmVudCIsImRhdGFDaGFuZ2UiLCJjaGFuZ2UiLCJnZXZhbCIsImV2YWwiLCJOb2RlRmxvdyIsImVsTm9kZUlucHV0cyIsImVsTm9kZU91dHB1dHMiLCJlbE5vZGVDb250ZW50Iiwibm9kZUlkIiwiYXJyTGluZSIsIlJlVUkiLCJ1cGRhdGVQb3NpdGlvbiIsInNlbGVjdGVkIiwibG9nIiwiTGluZUpzb24iLCJmaWx0ZXIiLCJtYXAiLCJvdXB1dEluZGV4IiwibGluZSIsImdldE9wdGlvbiIsImluaXRPcHRpb24iLCJpc1JlbW92ZVBhcmVudCIsIk5vZGVPdmVyIiwiTm9kZUxlYXZlIiwiUmVtb3ZlTm9kZSIsImluZGV4Iiwic2VuZGVyIiwidGFyZ2V0Tm9kZSIsImNoZWNrSW5wdXQiLCJpbnB1dCIsImh0bWwiLCJSdW5TY3JpcHQiLCJzZWxmTm9kZSIsImVsIiwic2NyaXB0IiwiY2hlY2tLZXkiLCJub2RlT3ZlciIsIlNlbGVjdE5vZGUiLCJpQ2hlY2siLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwiTW92ZVR5cGUiLCJWaWV3RmxvdyIsImVsVmlldyIsImZsZ0RyYXAiLCJmbGdNb3ZlIiwibW92ZVR5cGUiLCJOb25lIiwiem9vbV9tYXgiLCJ6b29tX21pbiIsInpvb21fdmFsdWUiLCJ6b29tX2xhc3RfdmFsdWUiLCJjYW52YXNfeCIsImNhbnZhc195IiwibW91c2VfeCIsIm1vdXNlX3kiLCJsaW5lU2VsZWN0ZWQiLCJub2RlU2VsZWN0ZWQiLCJkb3RTZWxlY3RlZCIsInRlbXBMaW5lIiwidGltZUZhc3RDbGljayIsInByb2plY3ROYW1lIiwidGFnSW5nb3JlIiwidXBkYXRlVmlldyIsInRhYkluZGV4IiwiYWRkRXZlbnQiLCJSZXNldCIsImtleU5vZGUiLCJ2YWx1ZXMiLCJkcm9wRW5kIiwiZXYiLCJwcmV2ZW50RGVmYXVsdCIsImdldERhdGEiLCJvbmx5Tm9kZSIsImxlbmd0aCIsIkFkZE5vZGUiLCJlX3Bvc194IiwiZV9wb3NfeSIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIkNhbGNYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiQ2FsY1kiLCJnZXROb2RlQnlJZCIsInN0eWxlIiwidHJhbnNmb3JtIiwibnVtYmVyIiwiZHJhZ292ZXIiLCJVblNlbGVjdExpbmUiLCJVblNlbGVjdERvdCIsIlVuU2VsZWN0Tm9kZSIsIlVuU2VsZWN0IiwiU2VsZWN0RG90IiwiTm9kZUlkIiwiRW5kTW92ZSIsIk1vdmUiLCJTdGFydE1vdmUiLCJjb250ZXh0bWVudSIsInpvb21fZW50ZXIiLCJrZXlkb3duIiwibWV0YUtleSIsImN0cmxLZXkiLCJkZWx0YVkiLCJ6b29tX291dCIsInpvb21faW4iLCJ6b29tX3JlZnJlc2giLCJ6b29tX3Jlc2V0IiwiaW5jbHVkZXMiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJjaGVja1BhcmVudCIsIkxpbmUiLCJDYW52YXMiLCJDb250cm9sIiwidGFiIiwibm9kZUNoZWNrIiwicGFyZW50RWxlbWVudCIsIm5ldyIsIkRhdGUiLCJzIiwiaGV4RGlnaXRzIiwiaSIsInN1YnN0ciIsImZsb29yIiwicmFuZG9tIiwiam9pbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OzZDQUVhQSxFQUNIQyxVQUNBQyxPQUNSQyxZQUFtQkQsR0FHakIsR0FGQUUsS0FBS0YsT0FBU0EsRUFDZEUsS0FBS0gsVUFBWUMsRUFBT0csV0FBV0MsY0FBYyw2QkFDN0NGLEtBQUtILFVBQVcsQ0FDbEJHLEtBQUtILFVBQVVNLFVBQVksR0FDaEJDLE9BQU9DLEtBQUtQLEVBQU9RLE9BQU9DLFNBQ2hDQyxTQUFRQyxJQUNYLElBQUlDLEVBQU9DLFNBQVNDLGNBQWMsT0FDbENGLEVBQUtHLGFBQWEsWUFB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
