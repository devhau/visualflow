/**
   * @license
   * author: Nguyen Van Hau
   * workerflow.js v0.0.1
   * Released under the MIT license.
   */
var workerflow=function(){"use strict";class e{node;data={};nodes=[];Event={dataChange:"dataChange",change:"change"};constructor(e){this.node=e}InitData(e=null,t=-1){-1!==t&&(this.node.properties=t),this.nodes=[this.node],this.load(e),this.BindEvent(this.node),this.UpdateUI()}RemoveEventAll(){for(let e of this.nodes)e.elNode.querySelectorAll("[node\\:model]").forEach((e=>{e.removeEventListener("keyup",this.changeInput.bind(this))}));this.nodes=[]}RemoveEvent(e){let t=this.nodes.indexOf(e);t>-1&&(this.nodes[t].elNode.querySelectorAll("[node\\:model]").forEach((e=>{e.removeEventListener("keyup",this.changeInput.bind(this))})),e.elNode.querySelectorAll("[node\\:model]").forEach((e=>{e.removeEventListener("keyup",this.changeInput.bind(this))})),this.nodes.splice(t))}BindEvent(e){this.RemoveEvent(e),this.nodes=[...this.nodes,e],e.elNode.querySelectorAll("[node\\:model]").forEach((e=>{"SPAN"==e.tagName||"DIV"==e.tagName?e.innerHTML=`${this.data[e.getAttribute("node:model")]}`:e.value=this.data[e.getAttribute("node:model")]})),e.elNode.querySelectorAll("[node\\:model]").forEach((e=>{e.addEventListener("keyup",this.changeInput.bind(this))}))}SetValue(e,t,i=null){-1==this.nodes.indexOf(this.node)&&(this.node.elNode.querySelectorAll(`[node\\:model="${e}"]`).forEach((e=>{e!=i&&("SPAN"==e.tagName||"DIV"==e.tagName?e.innerHTML=`${t}`:e.value=t)})),this.node.dispatch(this.Event.dataChange,{key:e,value:t,elUpdate:i}),this.node.dispatch(this.Event.change,{key:e,value:t,elUpdate:i}));for(let s of this.nodes)s.elNode.querySelectorAll(`[node\\:model="${e}"]`).forEach((e=>{e!=i&&("SPAN"==e.tagName||"DIV"==e.tagName?e.innerHTML=`${t}`:e.value=t)})),s.dispatch(this.Event.dataChange,{key:e,value:t,elUpdate:i}),s.dispatch(this.Event.change,{key:e,value:t,elUpdate:i})}Set(e,t,i=null){this.data[e]=t,setTimeout((()=>{this.SetValue(e,t,i)}),100)}Get(e){return this.data[e]}changeInput(e){this.Set(e.target.getAttribute("node:model"),e.target.value,e.target)}UpdateUI(){setTimeout((()=>{for(let e of this.nodes)e.elNode.querySelectorAll("[node\\:model]").forEach((e=>{"SPAN"==e.tagName||"DIV"==e.tagName?e.innerHTML=`${this.data[e.getAttribute("node:model")]}`:e.value=this.data[e.getAttribute("node:model")]}))}),100)}load(e){this.data={};for(let t of Object.keys(this.node.properties))this.data[t]=e?.[t]??this.node.properties[t]?.default??""}toJson(){let e={};for(let t of Object.keys(this.node.properties))e[t]=this.Get(t);return e}}class t{parent;events={};constructor(e){this.parent=e}on(e,t){return"function"!=typeof t?(console.error("The listener callback must be a function, the given type is "+typeof t),!1):"string"!=typeof e?(console.error("The event name must be a string, the given type is "+typeof e),!1):(void 0===this.events[e]&&(this.events[e]={listeners:[]}),void this.events[e].listeners.push(t))}removeListener(e,t){if(!this.events[e])return!1;const i=this.events[e].listeners,s=i.indexOf(t);s>-1&&i.splice(s,1)}dispatch(e,t){let i=this.parent;if(void 0===this.events[e])return!1;this.events[e].listeners.forEach((e=>{e(t,i)}))}}class i{events;Id;properties={};data=new e(this);elNode=document.createElement("div");on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}constructor(){this.events=new t(this)}}class s extends i{parent;constructor(e){super(),this.parent=e}}class o extends s{constructor(e){if(super(e),this.elNode=this.parent.elNode.querySelector(".workerflow-control__list")||this.elNode,this.elNode){this.elNode.innerHTML="",Object.keys(e.option.control).forEach((t=>{let i=document.createElement("div");i.setAttribute("draggable","true"),i.setAttribute("data-node",t),i.classList.add("workerflow-control__item"),i.innerHTML=e.option.control[t].name,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),this.elNode.appendChild(i)}))}}dragend(e){this.parent.dataNodeSelect=null}dragStart(e){"touchstart"===e.type?this.parent.dataNodeSelect=e.target.closest(".workerflow-control__item").getAttribute("data-node"):(this.parent.dataNodeSelect=e.target.getAttribute("data-node"),e.dataTransfer.setData("node",e.target.getAttribute("data-node")))}}class n extends s{lastData;constructor(e){super(e),this.Id=this.parent.getUuid(),this.elNode=this.parent.elNode.querySelector(".workerflow-property__list")||this.elNode,this.elNode.innerHTML=""}PropertyInfo(e){this.lastData&&this.lastData===e||(this.lastData&&this.lastData.RemoveEvent(this),this.lastData=e,this.RenderUI())}RenderUI(){if(this.elNode.innerHTML="",this.lastData){for(let e of Object.keys(this.lastData.node.properties)){let t=document.createElement("div");t.classList.add("workerflow-property__item");let i=document.createElement("span");i.innerHTML=e;let s=document.createElement("input");s.setAttribute("node:model",e),t.appendChild(i),t.appendChild(s),this.elNode.appendChild(t)}this.lastData?.BindEvent(this)}}}class d extends s{dataItem;ItemId;constructor(e,t){super(e),this.dataItem=t,this.Id=this.parent.parent.getUuid(),this.ItemId=t.Id,this.elNode=document.createElement("div"),this.elNode.classList.add("workerflow-item"),this.elNode.setAttribute("data-project",this.ItemId);let i=document.createElement("span");i.setAttribute("node:model","name"),i.innerHTML=t.name,this.elNode.appendChild(i),this.parent.elNode.appendChild(this.elNode),this.elNode.addEventListener("click",this.ClickTab.bind(this))}ClickTab(e){this.parent.LoadProjectById(this.ItemId)}SetData(e){this.dataItem=e}Active(e=!0){e?(this.elNode.classList.add("active"),this.parent.parent.View?.load(this.dataItem),this.parent.parent.View?.data.BindEvent(this)):(this.elNode.classList.remove("active"),this.parent.parent.View?.data.RemoveEvent(this))}}class h extends s{tabs=[];tabActive;constructor(e){super(e),this.elNode=this.parent.elNode.querySelector(".workerflow-items")||this.elNode,this.elNode&&(this.elNode.innerHTML="")}LoadProjectById(e){if(!e)return;let t=this.tabs?.filter((t=>t.ItemId==e))?.[0],i=this.parent.modules[e];if(i){if(t||(t=new d(this,i),this.tabs=[...this.tabs,t]),t&&this.tabActive){if(this.tabActive==t)return;this.UpdateData(),this.tabActive.Active(!1),this.tabActive=void 0}this.tabActive=t,this.tabActive.SetData(i),this.tabActive.Active(!0)}}UpdateData(){this.tabActive&&(this.parent.modules[this.tabActive.ItemId]=this.parent.View?.toJson())}NewProject(){const e={Id:this.parent.getUuid(),data:{name:`project-${this.parent.getTime()}`,x:0,y:0,zoom:1},nodes:[]};this.LoadProject(e)}LoadProject(e){this.parent.modules[e.Id]=e,this.LoadProjectById(e.Id)}}class a{parent;fromNode;toNode;outputIndex;elConnection;elPath;curvature=.5;constructor(e,t,i=null,s=0){this.parent=e,this.fromNode=t,this.toNode=i,this.outputIndex=s,this.elConnection=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.elPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elConnection.classList.add("connection"),this.elConnection.appendChild(this.elPath),this.parent.elCanvas?.appendChild(this.elConnection),this.fromNode.AddLine(this),this.toNode?.AddLine(this),this.update()}StartSelected(e){this.parent.SelectLine(this)}createCurvature(e,t,i,s,o,n){let d=e,h=t,a=i,l=s,r=o;switch(n){case"open":if(e>=i)var p=d+Math.abs(a-d)*r,c=a-Math.abs(a-d)*(-1*r);else p=d+Math.abs(a-d)*r,c=a-Math.abs(a-d)*r;return" M "+d+" "+h+" C "+p+" "+h+" "+c+" "+l+" "+a+"  "+l;case"close":if(e>=i)p=d+Math.abs(a-d)*(-1*r),c=a-Math.abs(a-d)*r;else p=d+Math.abs(a-d)*r,c=a-Math.abs(a-d)*r;return" M "+d+" "+h+" C "+p+" "+h+" "+c+" "+l+" "+a+"  "+l;case"other":if(e>=i)p=d+Math.abs(a-d)*(-1*r),c=a-Math.abs(a-d)*(-1*r);else p=d+Math.abs(a-d)*r,c=a-Math.abs(a-d)*r;return" M "+d+" "+h+" C "+p+" "+h+" "+c+" "+l+" "+a+"  "+l;default:return" M "+d+" "+h+" C "+(p=d+Math.abs(a-d)*r)+" "+h+" "+(c=a-Math.abs(a-d)*r)+" "+l+" "+a+"  "+l}}delete(e=null){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),this.fromNode!=e&&this.fromNode.RemoveLine(this),this.toNode!=e&&this.toNode?.RemoveLine(this),this.elConnection?.remove(),this.elConnection=null}updateTo(e,t){if(null==this.fromNode.elNode)return;let{x:i,y:s}=this.fromNode.getDotOutput(this.outputIndex);var o=this.createCurvature(i,s,e,t,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",o)}update(){if(this.toNode&&this.toNode.elNode){let e=this.toNode.getX()-5,t=this.toNode.getY()+this.toNode.elNode.clientHeight/2;this.updateTo(e,t)}}}const l=eval;class r extends s{elNodeInputs=null;elNodeOutputs=null;elNodeContent=null;getY(){return+this.data.Get(this.propertieDefault.y.key)}getX(){return+this.data.Get(this.propertieDefault.x.key)}getDotInput(e=1){let t=this.elNodeOutputs?.querySelector(`.dot[node="${e}"]`);if(t){let e=this.elNode.offsetTop+t.offsetTop+10;return{x:this.elNode.offsetLeft+t.offsetLeft-10,y:e}}return{}}getDotOutput(e=0){let t=this.elNodeOutputs?.querySelector(`.dot[node="${e}"]`);if(t){let e=this.elNode.offsetTop+t.offsetTop+10;return{x:this.elNode.offsetLeft+t.offsetLeft+10,y:e}}return{}}arrLine=[];option;node;propertieDefault={x:{key:"x",default:0},y:{key:"y",default:0}};properties={};flgScript=!1;Event={ReUI:"ReUI",change:"change",updatePosition:"updatePosition",selected:"Selected",dataChange:"dataChange"};setOption(e=null,t={}){this.option=e||{},this.option.properties||(this.option.properties={}),this.node=this.option.node,this.Id=t?.Id??this.parent.parent.getUuid(),this.properties={...this.propertieDefault,...this.option.properties},this.data.InitData(t?.data)}constructor(e,t=null){super(e),this.setOption(t,{}),t&&this.ReUI(),this.on(this.Event.change,((e,t)=>{this.parent.dispatch(this.parent.Event.change,{...e,targetNode:t})}))}toJson(){let e=this.arrLine.filter((e=>e.fromNode===this)).map((e=>({fromNode:e.fromNode.Id,toNode:e.toNode?.Id,ouputIndex:e.outputIndex})));return{Id:this.Id,node:this.node,line:e,data:this.data.toJson()}}load(e){this.data.RemoveEventAll();let t=this.parent.getOption(e?.node);return this.setOption(t,e),this.ReUI(),this}output(){return this.option?.output??0}delete(e=!0){this.arrLine.forEach((e=>e.delete(this))),this.data.RemoveEvent(this),this.elNode?.removeEventListener("mouseover",this.NodeOver.bind(this)),this.elNode?.removeEventListener("mouseleave",this.NodeLeave.bind(this)),this.elNode?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elNode?.removeEventListener("touchstart",this.StartSelected.bind(this)),this.elNode?.remove(),this.arrLine=[],e&&this.parent.RemoveNode(this),this.dispatch(this.Event.change,{})}AddLine(e){this.arrLine=[...this.arrLine,e],this.dispatch(this.Event.change,{})}RemoveLine(e){var t=this.arrLine.indexOf(e);return t>-1&&this.arrLine.splice(t,1),this.dispatch(this.Event.change,{}),this.arrLine}ReUI(){if(this.elNode&&(this.data.RemoveEvent(this),this.elNode.removeEventListener("mouseover",this.NodeOver.bind(this)),this.elNode.removeEventListener("mouseleave",this.NodeLeave.bind(this)),this.elNode.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elNode.removeEventListener("touchstart",this.StartSelected.bind(this)),this.elNode.remove()),this.elNodeInputs=document.createElement("div"),this.elNodeInputs.classList.add("workerflow-node_inputs"),this.elNodeInputs.innerHTML='<div class="inputs dot"></div>',this.elNodeContent=document.createElement("div"),this.elNodeContent.classList.add("workerflow-node_content"),this.elNodeOutputs=document.createElement("div"),this.elNodeOutputs.classList.add("workerflow-node_outputs"),this.elNodeOutputs.innerHTML='<div class="outputs dot" node="0"></div>',this.elNode=document.createElement("div"),this.elNode.classList.add("workerflow-node"),this.elNode.id=`node-${this.Id}`,this.elNode.setAttribute("data-node",this.Id),this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.elNode.addEventListener("mouseover",this.NodeOver.bind(this)),this.elNode.addEventListener("mouseleave",this.NodeLeave.bind(this)),this.elNode.addEventListener("mousedown",this.StartSelected.bind(this)),this.elNode.addEventListener("touchstart",this.StartSelected.bind(this)),this.elNode.appendChild(this.elNodeInputs),this.elNode.appendChild(this.elNodeContent),this.elNode.appendChild(this.elNodeOutputs),this.parent.elCanvas?.appendChild(this.elNode),this.data){let e=this.data.toJson();this.data.load(e),this.data.UpdateUI()}this.initOption(),this.on(this.data.Event.dataChange,(()=>{this.UpdateUI()})),this.dispatch(this.Event.ReUI,{})}checkInput(){return!(0===this.option?.input)}initOption(){if(this.elNodeContent&&this.option&&this.elNodeOutputs){if(this.elNodeContent.innerHTML=this.option.html,void 0!==this.option.output){this.elNodeOutputs.innerHTML="";for(let e=0;e<this.option.output;e++){let t=document.createElement("div");t.setAttribute("node",(300+e).toString()),t.classList.add("dot"),t.classList.add("output_"+e),this.elNodeOutputs?.appendChild(t)}}0===this.option.input&&this.elNodeInputs&&(this.elNodeInputs.innerHTML="")}let e=this;setTimeout((()=>{e.RunScript(e,e.elNode)}),100)}RunScript(e,t){this.option&&this.option.script&&!this.flgScript&&(this.flgScript=!0,l("(node,el)=>{"+this.option.script.toString()+"}")(e,t),this.flgScript=!0)}checkNode(e){return this.option&&this.option.node==e}NodeOver(e){this.parent.nodeOver=this}NodeLeave(e){this.parent.nodeOver=null}StartSelected(e){this.parent.SelectNode(this),this.dispatch(this.Event.selected,{})}updatePosition(e,t,i=!1){this.elNode&&(i?(e!==this.getX()&&this.data.Set(this.propertieDefault.x.key,e),t!==this.getY()&&this.data.Set(this.propertieDefault.y.key,t)):(this.data.Set(this.propertieDefault.y.key,this.elNode.offsetTop-t),this.data.Set(this.propertieDefault.x.key,this.elNode.offsetLeft-e)),this.dispatch(this.Event.updatePosition,{x:this.getX(),y:this.getY()}),this.dispatch(this.Event.change,{}),this.UpdateUI())}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((e=>{e.update()}))}}var p;!function(e){e[e.None=0]="None",e[e.Node=1]="Node",e[e.Canvas=2]="Canvas",e[e.Line=3]="Line"}(p||(p={}));class c extends s{elCanvas;flgDrap=!1;flgMove=!1;moveType=p.None;zoom_max=1.6;zoom_min=.5;zoom_value=.1;zoom_last_value=1;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;nodes=[];lineSelected=null;nodeSelected=null;nodeOver=null;dotSelected=null;tempLine=null;timeFastClick=0;tagIngore=["input","button","a","textarea"];getX(){return+this.data.Get(this.properties.x.key)}getY(){return+this.data.Get(this.properties.y.key)}getZoom(){return+this.data.Get(this.properties.zoom.key)}properties={name:{key:"name"},zoom:{key:"zoom",default:1,type:"number"},x:{key:"x",default:0,type:"number"},y:{key:"y",default:0,type:"number"}};Event={change:"change",selected:"Selected",updateView:"updateView"};constructor(e){super(e),this.elNode=this.parent.elNode.querySelector(".workerflow-desgin .workerflow-view")||this.elNode,this.elCanvas=document.createElement("div"),this.elCanvas.classList.add("workerflow-canvas"),this.elNode.appendChild(this.elCanvas),this.elNode.tabIndex=0,this.addEvent(),this.Reset(),this.data.InitData(null,this.properties),this.on(this.data.Event.dataChange,(e=>{this.updateView()})),this.updateView()}getOption(e){return this.parent.getOption(e)}dropEnd(e){e.preventDefault(),0==Object.keys(this.parent.modules).length&&this.parent.new();let t="";t="touchend"===e.type?this.parent.dataNodeSelect:e.dataTransfer.getData("node");let i=this.getOption(t);if(i&&i.onlyNode&&this.nodes.filter((e=>e.checkNode(t))).length>0)return;let s=this.AddNode(i),o=0,n=0;"touchmove"===e.type?(o=e.touches[0].clientX,n=e.touches[0].clientY):(o=e.clientX,n=e.clientY);let d=this.CalcX(this.elCanvas.getBoundingClientRect().x-o),h=this.CalcY(this.elCanvas.getBoundingClientRect().y-n);s.updatePosition(d,h)}toJson(){let e=this.nodes.map((e=>e.toJson()));return{Id:this.Id,data:this.data.toJson(),nodes:e}}load(e){this.Reset(),e||(e={}),e.Id||(e.Id=this.parent.getUuid()),e.data||(e.data={}),e.data[this.properties.name.key]||(e.data[this.properties.name.key]=`project-${this.parent.getTime()}`),this.Id=e.Id,this.data.load(e.data),this.data.UpdateUI(),this.nodes=(e.nodes??[]).map((e=>new r(this,"").load(e))),(e.nodes??[]).forEach((e=>{(e.line??[]).forEach((e=>{let t=this.getNodeById(e.fromNode),i=this.getNodeById(e.toNode),s=e.ouputIndex??0;t&&i&&this.AddLine(t,i,s)}))})),this.updateView()}Reset(){this.nodes.forEach((e=>e.delete(!1))),this.nodes=[],this.data.Set(this.properties.x.key,0),this.data.Set(this.properties.y.key,0),this.updateView()}getNodeById(e){return this.nodes?.filter((t=>t.Id==e))[0]}updateView(){this.elCanvas.style.transform="translate("+this.getX()+"px, "+this.getY()+"px) scale("+this.getZoom()+")",this.dispatch(this.Event.updateView,{x:this.getX(),y:this.getY(),zoom:this.getZoom()})}CalcX(e){return e*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(e){return e*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}dragover(e){e.preventDefault()}UnSelectLine(){this.SelectLine(null)}UnSelectDot(){this.SelectDot(null)}UnSelectNode(){this.SelectNode(null)}UnSelect(){this.UnSelectLine(),this.UnSelectNode(),this.UnSelectDot()}SelectLine(e){null==e?this.lineSelected&&(this.lineSelected.elPath?.classList.remove("active"),this.lineSelected=null):(this.UnSelect(),this.lineSelected=e,this.lineSelected.elPath.classList.add("active"))}flgSelectNode=!1;SelectNode(e){null==e?(this.nodeSelected&&(this.nodeSelected.elNode?.classList.remove("active"),this.nodeSelected=null),this.flgSelectNode||this.parent.PropertyInfo(this.data)):(this.flgSelectNode=!0,this.UnSelect(),this.nodeSelected=e,this.nodeSelected.elNode?.classList.add("active"),this.parent.PropertyInfo(this.nodeSelected.data),this.flgSelectNode=!1)}SelectDot(e){null==e?this.dotSelected&&(this.dotSelected.elNode?.classList.remove("active"),this.dotSelected=null):(this.UnSelect(),this.dotSelected=e,this.dotSelected.elNode?.classList.add("active"))}RemoveNode(e){var t=this.nodes.indexOf(e);return t>-1&&this.nodes.splice(t,1),this.nodes}AddNode(e=null){let t=new r(this,e);return this.nodes=[...this.nodes,t],t}AddLine(e,t,i=0){if(e!=t&&!(e.arrLine.filter((e=>e.toNode===t&&e.outputIndex==i&&e!=this.tempLine)).length>0))return new a(this,e,t,i)}addEvent(){this.elNode?.addEventListener("mouseup",this.EndMove.bind(this)),this.elNode?.addEventListener("mouseleave",this.EndMove.bind(this)),this.elNode?.addEventListener("mousemove",this.Move.bind(this)),this.elNode?.addEventListener("mousedown",this.StartMove.bind(this)),this.elNode?.addEventListener("touchend",this.EndMove.bind(this)),this.elNode?.addEventListener("touchmove",this.Move.bind(this)),this.elNode?.addEventListener("touchstart",this.StartMove.bind(this)),this.elNode?.addEventListener("contextmenu",this.contextmenu.bind(this)),this.elNode?.addEventListener("drop",this.dropEnd.bind(this)),this.elNode?.addEventListener("dragover",this.dragover.bind(this)),this.elNode?.addEventListener("wheel",this.zoom_enter.bind(this)),this.elNode?.addEventListener("keydown",this.keydown.bind(this))}keydown(e){("Delete"===e.key||"Backspace"===e.key&&e.metaKey)&&(e.preventDefault(),null!=this.nodeSelected&&(this.nodeSelected.delete(),this.nodeSelected=null),null!=this.lineSelected&&(this.lineSelected.delete(),this.lineSelected=null))}zoom_enter(e){e.ctrlKey&&(e.preventDefault(),e.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(){this.data.Set(this.properties.x.key,this.getX()/this.zoom_last_value*this.getZoom()),this.data.Set(this.properties.y.key,this.getY()/this.zoom_last_value*this.getZoom()),this.zoom_last_value=this.getZoom(),this.updateView()}zoom_in(){this.getZoom()<this.zoom_max&&(this.data.Set(this.properties.zoom.key,this.getZoom()+this.zoom_value),this.zoom_refresh())}zoom_out(){this.getZoom()>this.zoom_min&&(this.data.Set(this.properties.zoom.key,this.getZoom()-this.zoom_value),this.zoom_refresh())}zoom_reset(){1!=this.getZoom()&&(this.data.Set(this.properties.zoom.key,this.properties.zoom.default),this.zoom_refresh())}StartMove(e){if(!this.tagIngore.includes(e.target.tagName.toLowerCase())&&(this.timeFastClick=this.parent.getTime(),!e.target.classList.contains("main-path"))){if(this.moveType==p.None)if(this.nodeSelected&&this.parent.checkParent(e.target,this.nodeSelected.elNode))if(e.target.classList.contains("dot")){if(this.parent.checkParent(e.target,this.nodeSelected.elNodeInputs))return;this.moveType=p.Line,this.tempLine=new a(this,this.nodeSelected,null),this.tempLine.outputIndex=+e.target.getAttribute("node")}else this.moveType=p.Node;else this.moveType=p.Canvas;"touchstart"===e.type?(this.pos_x=e.touches[0].clientX,this.pos_y=e.touches[0].clientY):(this.pos_x=e.clientX,this.pos_y=e.clientY),this.flgDrap=!0,this.flgMove=!1}}Move(e){if(!this.flgDrap)return;this.flgMove=!0;let t=0,i=0;switch("touchmove"===e.type?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY),this.moveType){case p.Canvas:{let e=this.getX()+this.CalcX(-(this.pos_x-t)),s=this.getY()+this.CalcY(-(this.pos_y-i));this.elCanvas.style.transform="translate("+e+"px, "+s+"px) scale("+this.getZoom()+")";break}case p.Node:{let e=this.CalcX(this.pos_x-t),s=this.CalcY(this.pos_y-i);this.pos_x=t,this.pos_y=i,this.nodeSelected?.updatePosition(e,s);break}case p.Line:if(this.tempLine){let e=this.CalcX(this.elCanvas.getBoundingClientRect().x-t),s=this.CalcY(this.elCanvas.getBoundingClientRect().y-i);this.tempLine.updateTo(this.elCanvas.offsetLeft-e,this.elCanvas.offsetTop-s),this.tempLine.toNode=this.nodeOver}}"touchmove"===e.type&&(this.mouse_x=t,this.mouse_y=i)}EndMove(e){if(!this.flgDrap)return;if(this.parent.getTime()-this.timeFastClick<300||!this.flgMove)return this.moveType===p.Canvas&&this.flgDrap&&this.UnSelect(),this.moveType=p.None,this.flgDrap=!1,void(this.flgMove=!1);this.tempLine&&this.moveType==p.Line&&(this.tempLine.toNode&&this.tempLine.toNode.checkInput()&&this.AddLine(this.tempLine.fromNode,this.tempLine.toNode,this.tempLine.outputIndex),this.tempLine.delete(),this.tempLine=null);let t=0,i=0;"touchend"===e.type?(t=this.mouse_x,i=this.mouse_y):(t=e.clientX,i=e.clientY),this.moveType===p.Canvas&&(this.data.Set(this.properties.x.key,this.getX()+this.CalcX(-(this.pos_x-t))),this.data.Set(this.properties.y.key,this.getY()+this.CalcY(-(this.pos_y-i)))),this.pos_x=t,this.pos_y=i,this.moveType=p.None,this.flgDrap=!1,this.flgMove=!1}contextmenu(e){e.preventDefault()}}return class extends i{View;Control;Property;Tab;modules={};dataNodeSelect=null;option;checkParent(e,t){if(e&&t){if(e==t)return!0;let i=e;for(;null!=(i=i.parentElement);)if(t==i)return!0}return!1}constructor(e,t=null){super(),this.elNode=e,this.elNode.classList.add("workerflow"),this.option=t||{control:{}},this.elNode.innerHTML='\n    <div class="workerflow-control">\n      <h2 class="workerflow-control__header">Node Control</h2>\n      <div class="workerflow-control__list">\n      </div>\n    </div>\n    <div class="workerflow-desgin">\n      <div class="workerflow-items">\n      </div>\n      <div class="workerflow-view">\n      </div>\n    </div>\n    <div class="workerflow-property">\n      <h2 class="workerflow-property__header">Properties</h2>\n      <div class="workerflow-property__list">\n      </div>\n    </div>\n    ',this.View=new c(this),this.Tab=new h(this),this.Control=new o(this),this.Property=new n(this)}new(){this.Tab?.NewProject()}openProject(e){this.modules=e;let t=Object.keys(this.modules)[0];t&&this.load(this.modules[t])}load(e){this.Tab?.LoadProject(e)}PropertyInfo(e){this.Property?.PropertyInfo(e)}getOption(e){if(!e)return;let t=this.option.control[e];return t||(t=Object.values(this.option.control)[0]),t.node=e,t}toJson(){return this.Tab?.UpdateData(),this.modules}getTime(){return(new Date).getTime()}getUuid(){let e=[],t="0123456789abcdef";for(let i=0;i<36;i++)e[i]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL0RhdGFGbG93LnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvRXZlbnRGbG93LnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvQmFzZUZsb3cudHMiLCIuLi9zcmMvY29tcG9uZW50cy9Db250cm9sRmxvdy50cyIsIi4uL3NyYy9jb21wb25lbnRzL1Byb3BlcnR5Rmxvdy50cyIsIi4uL3NyYy9jb21wb25lbnRzL1RhYkZsb3cudHMiLCIuLi9zcmMvY29tcG9uZW50cy9MaW5lRmxvdy50cyIsIi4uL3NyYy9jb21wb25lbnRzL05vZGVGbG93LnRzIiwiLi4vc3JjL2NvbXBvbmVudHMvVmlld0Zsb3cudHMiLCIuLi9zcmMvV29ya2VyRmxvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGbG93Q29yZSB9IGZyb20gXCIuL0Jhc2VGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBEYXRhRmxvdyB7XG4gIHByaXZhdGUgZGF0YTogYW55ID0ge307XG4gIHB1YmxpYyBub2RlczogRmxvd0NvcmVbXSA9IFtdO1xuICBwdWJsaWMgcmVhZG9ubHkgRXZlbnQgPSB7XG4gICAgZGF0YUNoYW5nZTogXCJkYXRhQ2hhbmdlXCIsXG4gICAgY2hhbmdlOiBcImNoYW5nZVwiXG4gIH1cbiAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBub2RlOiBGbG93Q29yZSkge1xuICB9XG4gIHB1YmxpYyBJbml0RGF0YShkYXRhOiBhbnkgPSBudWxsLCBwcm9wZXJ0aWVzOiBhbnkgPSAtMSkge1xuICAgIGlmIChwcm9wZXJ0aWVzICE9PSAtMSkge1xuICAgICAgdGhpcy5ub2RlLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgIH1cbiAgICB0aGlzLm5vZGVzID0gW3RoaXMubm9kZV07XG4gICAgdGhpcy5sb2FkKGRhdGEpO1xuICAgIHRoaXMuQmluZEV2ZW50KHRoaXMubm9kZSk7XG4gICAgdGhpcy5VcGRhdGVVSSgpO1xuICB9XG4gIHB1YmxpYyBSZW1vdmVFdmVudEFsbCgpIHtcbiAgICBmb3IgKGxldCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgIG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYFtub2RlXFxcXDptb2RlbF1gKS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgIGl0ZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmNoYW5nZUlucHV0LmJpbmQodGhpcykpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgfVxuICBwdWJsaWMgUmVtb3ZlRXZlbnQobm9kZTogRmxvd0NvcmUpIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLm5vZGVzLmluZGV4T2Yobm9kZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMubm9kZXNbaW5kZXhdLmVsTm9kZS5xdWVyeVNlbGVjdG9yQWxsKGBbbm9kZVxcXFw6bW9kZWxdYCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBpdGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5jaGFuZ2VJbnB1dC5iaW5kKHRoaXMpKTtcbiAgICAgIH0pO1xuICAgICAgbm9kZS5lbE5vZGUucXVlcnlTZWxlY3RvckFsbChgW25vZGVcXFxcOm1vZGVsXWApLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuY2hhbmdlSW5wdXQuYmluZCh0aGlzKSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubm9kZXMuc3BsaWNlKGluZGV4KTtcbiAgICB9XG4gIH1cbiAgcHVibGljIEJpbmRFdmVudChub2RlOiBGbG93Q29yZSkge1xuICAgIHRoaXMuUmVtb3ZlRXZlbnQobm9kZSk7XG4gICAgdGhpcy5ub2RlcyA9IFsuLi50aGlzLm5vZGVzLCBub2RlXTtcbiAgICBub2RlLmVsTm9kZS5xdWVyeVNlbGVjdG9yQWxsKGBbbm9kZVxcXFw6bW9kZWxdYCkuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XG4gICAgICBpZiAoaXRlbS50YWdOYW1lID09ICdTUEFOJyB8fCBpdGVtLnRhZ05hbWUgPT0gJ0RJVicpIHtcbiAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBgJHt0aGlzLmRhdGFbaXRlbS5nZXRBdHRyaWJ1dGUoYG5vZGU6bW9kZWxgKV19YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0udmFsdWUgPSB0aGlzLmRhdGFbaXRlbS5nZXRBdHRyaWJ1dGUoYG5vZGU6bW9kZWxgKV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgbm9kZS5lbE5vZGUucXVlcnlTZWxlY3RvckFsbChgW25vZGVcXFxcOm1vZGVsXWApLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmNoYW5nZUlucHV0LmJpbmQodGhpcykpO1xuICAgIH0pO1xuICB9XG4gIHByaXZhdGUgU2V0VmFsdWUoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIGVsVXBkYXRlID0gbnVsbCkge1xuICAgIGlmICh0aGlzLm5vZGVzLmluZGV4T2YodGhpcy5ub2RlKSA9PSAtMSkge1xuICAgICAgdGhpcy5ub2RlLmVsTm9kZS5xdWVyeVNlbGVjdG9yQWxsKGBbbm9kZVxcXFw6bW9kZWw9XCIke2tleX1cIl1gKS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGl0ZW0gIT0gZWxVcGRhdGUpIHtcbiAgICAgICAgICBpZiAoaXRlbS50YWdOYW1lID09ICdTUEFOJyB8fCBpdGVtLnRhZ05hbWUgPT0gJ0RJVicpIHtcbiAgICAgICAgICAgIGl0ZW0uaW5uZXJIVE1MID0gYCR7dmFsdWV9YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm5vZGUuZGlzcGF0Y2godGhpcy5FdmVudC5kYXRhQ2hhbmdlLCB7IGtleSwgdmFsdWUsIGVsVXBkYXRlIH0pO1xuICAgICAgdGhpcy5ub2RlLmRpc3BhdGNoKHRoaXMuRXZlbnQuY2hhbmdlLCB7IGtleSwgdmFsdWUsIGVsVXBkYXRlIH0pO1xuICAgIH1cbiAgICBmb3IgKGxldCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgIG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoYFtub2RlXFxcXDptb2RlbD1cIiR7a2V5fVwiXWApLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICBpZiAoaXRlbSAhPSBlbFVwZGF0ZSkge1xuICAgICAgICAgIGlmIChpdGVtLnRhZ05hbWUgPT0gJ1NQQU4nIHx8IGl0ZW0udGFnTmFtZSA9PSAnRElWJykge1xuICAgICAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBgJHt2YWx1ZX1gO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG5vZGUuZGlzcGF0Y2godGhpcy5FdmVudC5kYXRhQ2hhbmdlLCB7IGtleSwgdmFsdWUsIGVsVXBkYXRlIH0pO1xuICAgICAgbm9kZS5kaXNwYXRjaCh0aGlzLkV2ZW50LmNoYW5nZSwgeyBrZXksIHZhbHVlLCBlbFVwZGF0ZSB9KTtcbiAgICB9XG4gIH1cbiAgcHVibGljIFNldChrZXk6IHN0cmluZywgdmFsdWU6IGFueSwgZWxVcGRhdGUgPSBudWxsKSB7XG4gICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuU2V0VmFsdWUoa2V5LCB2YWx1ZSwgZWxVcGRhdGUpO1xuICAgIH0sIDEwMCk7XG4gIH1cbiAgcHVibGljIEdldChrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRhdGFba2V5XTtcbiAgfVxuICBwdWJsaWMgY2hhbmdlSW5wdXQoZTogYW55KSB7XG4gICAgdGhpcy5TZXQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKGBub2RlOm1vZGVsYCksIGUudGFyZ2V0LnZhbHVlLCBlLnRhcmdldCk7XG4gIH1cblxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBmb3IgKGxldCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgbm9kZS5lbE5vZGUucXVlcnlTZWxlY3RvckFsbChgW25vZGVcXFxcOm1vZGVsXWApLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChpdGVtLnRhZ05hbWUgPT0gJ1NQQU4nIHx8IGl0ZW0udGFnTmFtZSA9PSAnRElWJykge1xuICAgICAgICAgICAgaXRlbS5pbm5lckhUTUwgPSBgJHt0aGlzLmRhdGFbaXRlbS5nZXRBdHRyaWJ1dGUoYG5vZGU6bW9kZWxgKV19YDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHRoaXMuZGF0YVtpdGVtLmdldEF0dHJpYnV0ZShgbm9kZTptb2RlbGApXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIDEwMCk7XG4gIH1cbiAgcHVibGljIGxvYWQoZGF0YTogYW55KSB7XG4gICAgdGhpcy5kYXRhID0ge307XG5cbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5ub2RlLnByb3BlcnRpZXMpKSB7XG4gICAgICB0aGlzLmRhdGFba2V5XSA9IChkYXRhPy5ba2V5XSA/PyAodGhpcy5ub2RlLnByb3BlcnRpZXNba2V5XT8uZGVmYXVsdCA/PyBcIlwiKSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyB0b0pzb24oKSB7XG4gICAgbGV0IHJzOiBhbnkgPSB7fTtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5ub2RlLnByb3BlcnRpZXMpKSB7XG4gICAgICByc1trZXldID0gdGhpcy5HZXQoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIHJzO1xuICB9XG59XG4iLCJpbXBvcnQgeyBGbG93Q29yZSB9IGZyb20gXCIuL0Jhc2VGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBFdmVudEZsb3cge1xuICBwcml2YXRlIGV2ZW50czogYW55ID0ge307XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudDogRmxvd0NvcmUpIHtcblxuICB9XG4gIC8qIEV2ZW50cyAqL1xuICBwdWJsaWMgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIC8vIENoZWNrIGlmIHRoZSBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBsaXN0ZW5lciBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24sIHRoZSBnaXZlbiB0eXBlIGlzICR7dHlwZW9mIGNhbGxiYWNrfWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiB0aGUgZXZlbnQgaXMgbm90IGEgc3RyaW5nXG4gICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBldmVudCBuYW1lIG11c3QgYmUgYSBzdHJpbmcsIHRoZSBnaXZlbiB0eXBlIGlzICR7dHlwZW9mIGV2ZW50fWApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBDaGVjayBpZiB0aGlzIGV2ZW50IG5vdCBleGlzdHNcbiAgICBpZiAodGhpcy5ldmVudHNbZXZlbnRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHtcbiAgICAgICAgbGlzdGVuZXJzOiBbXVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICAvLyBDaGVjayBpZiB0aGlzIGV2ZW50IG5vdCBleGlzdHNcblxuICAgIGlmICghdGhpcy5ldmVudHNbZXZlbnRdKSByZXR1cm4gZmFsc2VcblxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnNcbiAgICBjb25zdCBsaXN0ZW5lckluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spXG4gICAgY29uc3QgaGFzTGlzdGVuZXIgPSBsaXN0ZW5lckluZGV4ID4gLTFcbiAgICBpZiAoaGFzTGlzdGVuZXIpIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSlcbiAgfVxuXG4gIHB1YmxpYyBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICBsZXQgc2VsZiA9IHRoaXMucGFyZW50O1xuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gY29uc29sZS5lcnJvcihgVGhpcyBldmVudDogJHtldmVudH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5ldmVudHNbZXZlbnRdLmxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcjogYW55KSA9PiB7XG4gICAgICBsaXN0ZW5lcihkZXRhaWxzLCBzZWxmKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi9EYXRhRmxvd1wiO1xuaW1wb3J0IHsgRXZlbnRGbG93IH0gZnJvbSBcIi4vRXZlbnRGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBGbG93Q29yZSB7XG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudEZsb3c7XG4gIHB1YmxpYyBJZDogYW55O1xuICBwdWJsaWMgcHJvcGVydGllczogYW55ID0ge307XG4gIHB1YmxpYyByZWFkb25seSBkYXRhOiBEYXRhRmxvdyA9IG5ldyBEYXRhRmxvdyh0aGlzKTtcbiAgcHVibGljIGVsTm9kZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xuICB9XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3codGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJhc2VGbG93PFRQYXJlbnQ+IGV4dGVuZHMgRmxvd0NvcmUge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHBhcmVudDogVFBhcmVudCkge1xuICAgIHN1cGVyKCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtlckZsb3cgfSBmcm9tIFwiLi4vV29ya2VyRmxvd1wiO1xuaW1wb3J0IHsgQmFzZUZsb3cgfSBmcm9tIFwiLi9CYXNlRmxvd1wiO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbEZsb3cgZXh0ZW5kcyBCYXNlRmxvdzxXb3JrZXJGbG93PiAge1xuICBwdWJsaWMgY29uc3RydWN0b3IocGFyZW50OiBXb3JrZXJGbG93KSB7XG4gICAgc3VwZXIocGFyZW50KTtcbiAgICB0aGlzLmVsTm9kZSA9IHRoaXMucGFyZW50LmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcud29ya2VyZmxvdy1jb250cm9sX19saXN0JykgfHwgdGhpcy5lbE5vZGU7XG4gICAgaWYgKHRoaXMuZWxOb2RlKSB7XG4gICAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhwYXJlbnQub3B0aW9uLmNvbnRyb2wpO1xuICAgICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgIGxldCBOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIE5vZGUuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgICBOb2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJywga2V5KTtcbiAgICAgICAgTm9kZS5jbGFzc0xpc3QuYWRkKFwid29ya2VyZmxvdy1jb250cm9sX19pdGVtXCIpO1xuICAgICAgICBOb2RlLmlubmVySFRNTCA9IHBhcmVudC5vcHRpb24uY29udHJvbFtrZXldLm5hbWU7XG4gICAgICAgIE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5kcmFnU3RhcnQuYmluZCh0aGlzKSlcbiAgICAgICAgTm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5kcmFnZW5kLmJpbmQodGhpcykpXG4gICAgICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKE5vZGUpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBkcmFnZW5kKGU6IGFueSkge1xuICAgIHRoaXMucGFyZW50LmRhdGFOb2RlU2VsZWN0ID0gbnVsbDtcbiAgfVxuXG4gIHB1YmxpYyBkcmFnU3RhcnQoZTogYW55KSB7XG4gICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgIHRoaXMucGFyZW50LmRhdGFOb2RlU2VsZWN0ID0gZS50YXJnZXQuY2xvc2VzdChcIi53b3JrZXJmbG93LWNvbnRyb2xfX2l0ZW1cIikuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYXJlbnQuZGF0YU5vZGVTZWxlY3QgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZScpO1xuICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIm5vZGVcIiwgZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnKSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBXb3JrZXJGbG93IH0gZnJvbSBcIi4uL1dvcmtlckZsb3dcIjtcbmltcG9ydCB7IEJhc2VGbG93IH0gZnJvbSBcIi4vQmFzZUZsb3dcIjtcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4vRGF0YUZsb3dcIjtcblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5RmxvdyBleHRlbmRzIEJhc2VGbG93PFdvcmtlckZsb3c+IHtcbiAgcHJpdmF0ZSBsYXN0RGF0YTogRGF0YUZsb3cgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwYXJlbnQ6IFdvcmtlckZsb3cpIHtcbiAgICBzdXBlcihwYXJlbnQpO1xuICAgIHRoaXMuSWQgPSB0aGlzLnBhcmVudC5nZXRVdWlkKCk7XG4gICAgdGhpcy5lbE5vZGUgPSB0aGlzLnBhcmVudC5lbE5vZGUucXVlcnlTZWxlY3RvcignLndvcmtlcmZsb3ctcHJvcGVydHlfX2xpc3QnKSB8fCB0aGlzLmVsTm9kZTtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG4gIHB1YmxpYyBQcm9wZXJ0eUluZm8oZGF0YTogRGF0YUZsb3cpIHtcbiAgICBpZiAodGhpcy5sYXN0RGF0YSAmJiB0aGlzLmxhc3REYXRhID09PSBkYXRhKSByZXR1cm47XG4gICAgaWYgKHRoaXMubGFzdERhdGEpIHtcbiAgICAgIHRoaXMubGFzdERhdGEuUmVtb3ZlRXZlbnQodGhpcyk7XG4gICAgfVxuICAgIHRoaXMubGFzdERhdGEgPSBkYXRhO1xuICAgIHRoaXMuUmVuZGVyVUkoKTtcbiAgfVxuICBwcml2YXRlIFJlbmRlclVJKCkge1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IFwiXCI7XG4gICAgaWYgKHRoaXMubGFzdERhdGEpIHtcbiAgICAgIGZvciAobGV0IGl0ZW0gb2YgT2JqZWN0LmtleXModGhpcy5sYXN0RGF0YS5ub2RlLnByb3BlcnRpZXMpKSB7XG4gICAgICAgIGxldCBwcm9wZXJ0eUluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcHJvcGVydHlJbmZvLmNsYXNzTGlzdC5hZGQoJ3dvcmtlcmZsb3ctcHJvcGVydHlfX2l0ZW0nKTtcbiAgICAgICAgbGV0IGVsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGVsTGFiZWwuaW5uZXJIVE1MID0gaXRlbTtcbiAgICAgICAgbGV0IGVsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGVsSXRlbS5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCBpdGVtKTtcbiAgICAgICAgcHJvcGVydHlJbmZvLmFwcGVuZENoaWxkKGVsTGFiZWwpO1xuICAgICAgICBwcm9wZXJ0eUluZm8uYXBwZW5kQ2hpbGQoZWxJdGVtKTtcbiAgICAgICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQocHJvcGVydHlJbmZvKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubGFzdERhdGE/LkJpbmRFdmVudCh0aGlzKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtlckZsb3cgfSBmcm9tIFwiLi4vV29ya2VyRmxvd1wiO1xuaW1wb3J0IHsgQmFzZUZsb3cgfSBmcm9tIFwiLi9CYXNlRmxvd1wiO1xuZXhwb3J0IGNsYXNzIFRhYkl0ZW1GbG93IGV4dGVuZHMgQmFzZUZsb3c8VGFiRmxvdz57XG4gIHB1YmxpYyBJdGVtSWQ6IGFueTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogVGFiRmxvdywgcHJpdmF0ZSBkYXRhSXRlbTogYW55KSB7XG4gICAgc3VwZXIocGFyZW50KTtcbiAgICB0aGlzLklkID0gdGhpcy5wYXJlbnQucGFyZW50LmdldFV1aWQoKTtcbiAgICB0aGlzLkl0ZW1JZCA9IGRhdGFJdGVtLklkO1xuICAgIHRoaXMuZWxOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZChcIndvcmtlcmZsb3ctaXRlbVwiKTtcbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdCcsIHRoaXMuSXRlbUlkKTtcbiAgICBsZXQgbm9kZU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgbm9kZU5hbWUuc2V0QXR0cmlidXRlKCdub2RlOm1vZGVsJywgJ25hbWUnKTtcbiAgICBub2RlTmFtZS5pbm5lckhUTUwgPSBkYXRhSXRlbS5uYW1lO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKG5vZGVOYW1lKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5DbGlja1RhYi5iaW5kKHRoaXMpKTtcbiAgfVxuICBwcml2YXRlIENsaWNrVGFiKGU6IGFueSkge1xuICAgIHRoaXMucGFyZW50LkxvYWRQcm9qZWN0QnlJZCh0aGlzLkl0ZW1JZCk7XG4gIH1cbiAgcHVibGljIFNldERhdGEoZGF0YUl0ZW06IGFueSkge1xuICAgIHRoaXMuZGF0YUl0ZW0gPSBkYXRhSXRlbTtcbiAgfVxuICBwdWJsaWMgQWN0aXZlKGZsZzogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBpZiAoZmxnKSB7XG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMucGFyZW50LnBhcmVudC5WaWV3Py5sb2FkKHRoaXMuZGF0YUl0ZW0pO1xuICAgICAgdGhpcy5wYXJlbnQucGFyZW50LlZpZXc/LmRhdGEuQmluZEV2ZW50KHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMucGFyZW50LnBhcmVudC5WaWV3Py5kYXRhLlJlbW92ZUV2ZW50KHRoaXMpO1xuICAgIH1cbiAgfVxuXG59XG5leHBvcnQgY2xhc3MgVGFiRmxvdyBleHRlbmRzIEJhc2VGbG93PFdvcmtlckZsb3c+ICB7XG4gIHB1YmxpYyB0YWJzOiBUYWJJdGVtRmxvd1tdID0gW107XG4gIHByaXZhdGUgdGFiQWN0aXZlOiBUYWJJdGVtRmxvdyB8IHVuZGVmaW5lZDtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogV29ya2VyRmxvdykge1xuICAgIHN1cGVyKHBhcmVudCk7XG4gICAgdGhpcy5lbE5vZGUgPSB0aGlzLnBhcmVudC5lbE5vZGUucXVlcnlTZWxlY3RvcignLndvcmtlcmZsb3ctaXRlbXMnKSB8fCB0aGlzLmVsTm9kZTtcbiAgICBpZiAodGhpcy5lbE5vZGUpIHtcbiAgICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBMb2FkUHJvamVjdEJ5SWQocHJvamVjdElkOiBhbnkpIHtcbiAgICBpZiAoIXByb2plY3RJZCkgcmV0dXJuO1xuICAgIGxldCBQcm9qZWN0TmV4dCA9IHRoaXMudGFicz8uZmlsdGVyKChpdGVtKSA9PiBpdGVtLkl0ZW1JZCA9PSBwcm9qZWN0SWQpPy5bMF07XG4gICAgbGV0IGRhdGFOZXh0OiBhbnkgPSB0aGlzLnBhcmVudC5tb2R1bGVzW3Byb2plY3RJZF07XG4gICAgaWYgKCFkYXRhTmV4dCkgcmV0dXJuO1xuICAgIGlmICghUHJvamVjdE5leHQpIHtcbiAgICAgIFByb2plY3ROZXh0ID0gbmV3IFRhYkl0ZW1GbG93KHRoaXMsIGRhdGFOZXh0KTtcbiAgICAgIHRoaXMudGFicyA9IFsuLi50aGlzLnRhYnMsIFByb2plY3ROZXh0XTtcbiAgICB9XG5cbiAgICBpZiAoUHJvamVjdE5leHQgJiYgdGhpcy50YWJBY3RpdmUpIHtcbiAgICAgIGlmICh0aGlzLnRhYkFjdGl2ZSA9PSBQcm9qZWN0TmV4dCkgcmV0dXJuO1xuICAgICAgdGhpcy5VcGRhdGVEYXRhKCk7XG4gICAgICB0aGlzLnRhYkFjdGl2ZS5BY3RpdmUoZmFsc2UpO1xuICAgICAgdGhpcy50YWJBY3RpdmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMudGFiQWN0aXZlID0gUHJvamVjdE5leHQ7XG4gICAgdGhpcy50YWJBY3RpdmUuU2V0RGF0YShkYXRhTmV4dCk7XG4gICAgdGhpcy50YWJBY3RpdmUuQWN0aXZlKHRydWUpO1xuICB9XG4gIHB1YmxpYyBVcGRhdGVEYXRhKCkge1xuICAgIGlmICh0aGlzLnRhYkFjdGl2ZSkge1xuICAgICAgdGhpcy5wYXJlbnQubW9kdWxlc1t0aGlzLnRhYkFjdGl2ZS5JdGVtSWRdID0gdGhpcy5wYXJlbnQuVmlldz8udG9Kc29uKCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBOZXdQcm9qZWN0KCkge1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBJZDogdGhpcy5wYXJlbnQuZ2V0VXVpZCgpLFxuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lOiBgcHJvamVjdC0ke3RoaXMucGFyZW50LmdldFRpbWUoKX1gLFxuICAgICAgICB4OiAwLFxuICAgICAgICB5OiAwLFxuICAgICAgICB6b29tOiAxLFxuICAgICAgfSxcbiAgICAgIG5vZGVzOiBbXVxuICAgIH1cbiAgICB0aGlzLkxvYWRQcm9qZWN0KGRhdGEpO1xuICB9XG4gIHB1YmxpYyBMb2FkUHJvamVjdChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLnBhcmVudC5tb2R1bGVzW2RhdGEuSWRdID0gZGF0YTtcbiAgICB0aGlzLkxvYWRQcm9qZWN0QnlJZChkYXRhLklkKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBOb2RlRmxvdyB9IGZyb20gXCIuL05vZGVGbG93XCI7XG5pbXBvcnQgeyBWaWV3RmxvdyB9IGZyb20gXCIuL1ZpZXdGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lRmxvdyB7XG4gIHB1YmxpYyBlbENvbm5lY3Rpb246IFNWR0VsZW1lbnQgfCBudWxsO1xuICBwdWJsaWMgZWxQYXRoOiBTVkdQYXRoRWxlbWVudDtcbiAgcHJpdmF0ZSBjdXJ2YXR1cmU6IG51bWJlciA9IDAuNTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBWaWV3RmxvdywgcHVibGljIGZyb21Ob2RlOiBOb2RlRmxvdywgcHVibGljIHRvTm9kZTogTm9kZUZsb3cgfCBudWxsID0gbnVsbCwgcHVibGljIG91dHB1dEluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJzdmdcIik7XG4gICAgdGhpcy5lbFBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJwYXRoXCIpO1xuICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoXCJtYWluLXBhdGhcIik7XG4gICAgdGhpcy5lbFBhdGguYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnJyk7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24uY2xhc3NMaXN0LmFkZChcImNvbm5lY3Rpb25cIik7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24uYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGgpO1xuICAgIHRoaXMucGFyZW50LmVsQ2FudmFzPy5hcHBlbmRDaGlsZCh0aGlzLmVsQ29ubmVjdGlvbik7XG4gICAgdGhpcy5mcm9tTm9kZS5BZGRMaW5lKHRoaXMpO1xuICAgIHRoaXMudG9Ob2RlPy5BZGRMaW5lKHRoaXMpO1xuICAgIHRoaXMudXBkYXRlKCk7XG4gIH1cbiAgcHVibGljIFN0YXJ0U2VsZWN0ZWQoZTogYW55KSB7XG4gICAgdGhpcy5wYXJlbnQuU2VsZWN0TGluZSh0aGlzKTtcbiAgfVxuICBwcml2YXRlIGNyZWF0ZUN1cnZhdHVyZShzdGFydF9wb3NfeDogbnVtYmVyLCBzdGFydF9wb3NfeTogbnVtYmVyLCBlbmRfcG9zX3g6IG51bWJlciwgZW5kX3Bvc195OiBudW1iZXIsIGN1cnZhdHVyZV92YWx1ZTogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICBsZXQgbGluZV94ID0gc3RhcnRfcG9zX3g7XG4gICAgbGV0IGxpbmVfeSA9IHN0YXJ0X3Bvc195O1xuICAgIGxldCB4ID0gZW5kX3Bvc194O1xuICAgIGxldCB5ID0gZW5kX3Bvc195O1xuICAgIGxldCBjdXJ2YXR1cmUgPSBjdXJ2YXR1cmVfdmFsdWU7XG4gICAgLy90eXBlIG9wZW5jbG9zZSBvcGVuIGNsb3NlIG90aGVyXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG5cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb3RoZXInOlxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcblxuICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG5cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZGVsZXRlKG5vZGVUaGlzOiBhbnkgPSBudWxsKSB7XG4gICAgdGhpcy5lbFBhdGg/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICBpZiAodGhpcy5mcm9tTm9kZSAhPSBub2RlVGhpcylcbiAgICAgIHRoaXMuZnJvbU5vZGUuUmVtb3ZlTGluZSh0aGlzKTtcbiAgICBpZiAodGhpcy50b05vZGUgIT0gbm9kZVRoaXMpXG4gICAgICB0aGlzLnRvTm9kZT8uUmVtb3ZlTGluZSh0aGlzKTtcbiAgICB0aGlzLmVsQ29ubmVjdGlvbj8ucmVtb3ZlKCk7XG4gICAgdGhpcy5lbENvbm5lY3Rpb24gPSBudWxsO1xuICB9XG4gIHB1YmxpYyB1cGRhdGVUbyh0b194OiBudW1iZXIsIHRvX3k6IG51bWJlcikge1xuICAgIGlmICh0aGlzLmZyb21Ob2RlLmVsTm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgbGV0IHsgeDogZnJvbV94LCB5OiBmcm9tX3kgfTogYW55ID0gdGhpcy5mcm9tTm9kZS5nZXREb3RPdXRwdXQodGhpcy5vdXRwdXRJbmRleCk7XG4gICAgdmFyIGxpbmVDdXJ2ZSA9IHRoaXMuY3JlYXRlQ3VydmF0dXJlKGZyb21feCwgZnJvbV95LCB0b194LCB0b195LCB0aGlzLmN1cnZhdHVyZSwgJ29wZW5jbG9zZScpO1xuICAgIHRoaXMuZWxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgbGluZUN1cnZlKTtcbiAgfVxuICBwdWJsaWMgdXBkYXRlKCkge1xuICAgIC8vUG9zdGlvbiBvdXRwdXRcbiAgICBpZiAodGhpcy50b05vZGUgJiYgdGhpcy50b05vZGUuZWxOb2RlKSB7XG4gICAgICBsZXQgdG9feCA9IHRoaXMudG9Ob2RlLmdldFgoKSAtIDU7XG4gICAgICBsZXQgdG9feSA9IHRoaXMudG9Ob2RlLmdldFkoKSArIHRoaXMudG9Ob2RlLmVsTm9kZS5jbGllbnRIZWlnaHQgLyAyO1xuICAgICAgdGhpcy51cGRhdGVUbyh0b194LCB0b195KTtcbiAgICB9XG5cbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUZsb3cgfSBmcm9tIFwiLi9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgTGluZUZsb3cgfSBmcm9tIFwiLi9MaW5lRmxvd1wiO1xuaW1wb3J0IHsgVmlld0Zsb3cgfSBmcm9tIFwiLi9WaWV3Rmxvd1wiO1xuY29uc3QgZ2V2YWwgPSBldmFsO1xuZXhwb3J0IGNsYXNzIE5vZGVGbG93IGV4dGVuZHMgQmFzZUZsb3c8Vmlld0Zsb3c+IHtcbiAgcHVibGljIGVsTm9kZUlucHV0czogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIGVsTm9kZU91dHB1dHM6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBlbE5vZGVDb250ZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwdWJsaWMgZ2V0WSgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQodGhpcy5wcm9wZXJ0aWVEZWZhdWx0Lnkua2V5KTtcbiAgfVxuICBwdWJsaWMgZ2V0WCgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQodGhpcy5wcm9wZXJ0aWVEZWZhdWx0Lngua2V5KTtcbiAgfVxuICBwdWJsaWMgZ2V0RG90SW5wdXQoaW5kZXg6IG51bWJlciA9IDEpIHtcbiAgICBsZXQgZWxEb3Q6IGFueSA9IHRoaXMuZWxOb2RlT3V0cHV0cz8ucXVlcnlTZWxlY3RvcihgLmRvdFtub2RlPVwiJHtpbmRleH1cIl1gKTtcbiAgICBpZiAoZWxEb3QpIHtcbiAgICAgIGxldCB5ID0gKHRoaXMuZWxOb2RlLm9mZnNldFRvcCArIGVsRG90Lm9mZnNldFRvcCArIDEwKTtcbiAgICAgIGxldCB4ID0gKHRoaXMuZWxOb2RlLm9mZnNldExlZnQgKyBlbERvdC5vZmZzZXRMZWZ0IC0gMTApO1xuICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbiAgcHVibGljIGdldERvdE91dHB1dChpbmRleDogbnVtYmVyID0gMCkge1xuICAgIGxldCBlbERvdDogYW55ID0gdGhpcy5lbE5vZGVPdXRwdXRzPy5xdWVyeVNlbGVjdG9yKGAuZG90W25vZGU9XCIke2luZGV4fVwiXWApO1xuICAgIGlmIChlbERvdCkge1xuICAgICAgbGV0IHkgPSAodGhpcy5lbE5vZGUub2Zmc2V0VG9wICsgZWxEb3Qub2Zmc2V0VG9wICsgMTApO1xuICAgICAgbGV0IHggPSAodGhpcy5lbE5vZGUub2Zmc2V0TGVmdCArIGVsRG90Lm9mZnNldExlZnQgKyAxMCk7XG5cbiAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHB1YmxpYyBhcnJMaW5lOiBMaW5lRmxvd1tdID0gW107XG4gIHByaXZhdGUgb3B0aW9uOiBhbnk7XG4gIHByaXZhdGUgbm9kZTogYW55O1xuICBwcml2YXRlIHByb3BlcnRpZURlZmF1bHQgPSB7XG4gICAgeDoge1xuICAgICAga2V5OiBcInhcIixcbiAgICAgIGRlZmF1bHQ6IDBcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGtleTogXCJ5XCIsXG4gICAgICBkZWZhdWx0OiAwXG4gICAgfVxuICB9XG4gIHB1YmxpYyBwcm9wZXJ0aWVzOiBhbnkgPSB7fVxuICBwcml2YXRlIGZsZ1NjcmlwdDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgcmVhZG9ubHkgRXZlbnQgPSB7XG4gICAgUmVVSTogXCJSZVVJXCIsXG4gICAgY2hhbmdlOiBcImNoYW5nZVwiLFxuICAgIHVwZGF0ZVBvc2l0aW9uOiBcInVwZGF0ZVBvc2l0aW9uXCIsXG4gICAgc2VsZWN0ZWQ6IFwiU2VsZWN0ZWRcIixcbiAgICBkYXRhQ2hhbmdlOiBcImRhdGFDaGFuZ2VcIlxuICB9O1xuICBwdWJsaWMgc2V0T3B0aW9uKG9wdGlvbjogYW55ID0gbnVsbCwgZGF0YTogYW55ID0ge30pIHtcbiAgICB0aGlzLm9wdGlvbiA9IG9wdGlvbiB8fCB7fTtcbiAgICBpZiAoIXRoaXMub3B0aW9uLnByb3BlcnRpZXMpIHtcbiAgICAgIHRoaXMub3B0aW9uLnByb3BlcnRpZXMgPSB7fTtcbiAgICB9XG4gICAgdGhpcy5ub2RlID0gdGhpcy5vcHRpb24ubm9kZTtcbiAgICB0aGlzLklkID0gZGF0YT8uSWQgPz8gdGhpcy5wYXJlbnQucGFyZW50LmdldFV1aWQoKTtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB7IC4uLnRoaXMucHJvcGVydGllRGVmYXVsdCwgLi4udGhpcy5vcHRpb24ucHJvcGVydGllcyB9O1xuICAgIHRoaXMuZGF0YS5Jbml0RGF0YShkYXRhPy5kYXRhKTtcbiAgfVxuICBwdWJsaWMgY29uc3RydWN0b3IocGFyZW50OiBWaWV3Rmxvdywgb3B0aW9uOiBhbnkgPSBudWxsKSB7XG4gICAgc3VwZXIocGFyZW50KTtcbiAgICB0aGlzLnNldE9wdGlvbihvcHRpb24sIHt9KTtcbiAgICBpZiAob3B0aW9uKSB7XG4gICAgICB0aGlzLlJlVUkoKTtcbiAgICB9XG4gICAgdGhpcy5vbih0aGlzLkV2ZW50LmNoYW5nZSwgKGU6IGFueSwgc2VuZGVyOiBhbnkpID0+IHtcbiAgICAgIHRoaXMucGFyZW50LmRpc3BhdGNoKHRoaXMucGFyZW50LkV2ZW50LmNoYW5nZSwge1xuICAgICAgICAuLi5lLFxuICAgICAgICB0YXJnZXROb2RlOiBzZW5kZXJcbiAgICAgIH0pO1xuICAgIH0pXG4gIH1cbiAgcHVibGljIHRvSnNvbigpIHtcbiAgICBsZXQgTGluZUpzb24gPSB0aGlzLmFyckxpbmUuZmlsdGVyKChpdGVtKSA9PiBpdGVtLmZyb21Ob2RlID09PSB0aGlzKS5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICBmcm9tTm9kZTogaXRlbS5mcm9tTm9kZS5JZCxcbiAgICAgIHRvTm9kZTogaXRlbS50b05vZGU/LklkLFxuICAgICAgb3VwdXRJbmRleDogaXRlbS5vdXRwdXRJbmRleFxuICAgIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgSWQ6IHRoaXMuSWQsXG4gICAgICBub2RlOiB0aGlzLm5vZGUsXG4gICAgICBsaW5lOiBMaW5lSnNvbixcbiAgICAgIGRhdGE6IHRoaXMuZGF0YS50b0pzb24oKSxcbiAgICB9XG4gIH1cbiAgcHVibGljIGxvYWQoZGF0YTogYW55KSB7XG4gICAgdGhpcy5kYXRhLlJlbW92ZUV2ZW50QWxsKCk7XG4gICAgbGV0IG9wdGlvbiA9IHRoaXMucGFyZW50LmdldE9wdGlvbihkYXRhPy5ub2RlKTtcbiAgICB0aGlzLnNldE9wdGlvbihvcHRpb24sIGRhdGEpO1xuICAgIHRoaXMuUmVVSSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBvdXRwdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uPy5vdXRwdXQgPz8gMDtcbiAgfVxuICBwdWJsaWMgZGVsZXRlKGlzUmVtb3ZlUGFyZW50ID0gdHJ1ZSkge1xuICAgIHRoaXMuYXJyTGluZS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmRlbGV0ZSh0aGlzKSk7XG4gICAgdGhpcy5kYXRhLlJlbW92ZUV2ZW50KHRoaXMpO1xuICAgIHRoaXMuZWxOb2RlPy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLk5vZGVPdmVyLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlPy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5Ob2RlTGVhdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGU/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZT8ucmVtb3ZlKCk7XG4gICAgdGhpcy5hcnJMaW5lID0gW107XG4gICAgaWYgKGlzUmVtb3ZlUGFyZW50KVxuICAgICAgdGhpcy5wYXJlbnQuUmVtb3ZlTm9kZSh0aGlzKTtcbiAgICB0aGlzLmRpc3BhdGNoKHRoaXMuRXZlbnQuY2hhbmdlLCB7fSk7XG4gIH1cbiAgcHVibGljIEFkZExpbmUobGluZTogTGluZUZsb3cpIHtcbiAgICB0aGlzLmFyckxpbmUgPSBbLi4udGhpcy5hcnJMaW5lLCBsaW5lXTtcbiAgICB0aGlzLmRpc3BhdGNoKHRoaXMuRXZlbnQuY2hhbmdlLCB7fSk7XG4gIH1cbiAgcHVibGljIFJlbW92ZUxpbmUobGluZTogTGluZUZsb3cpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmFyckxpbmUuaW5kZXhPZihsaW5lKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5hcnJMaW5lLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2godGhpcy5FdmVudC5jaGFuZ2UsIHt9KTtcbiAgICByZXR1cm4gdGhpcy5hcnJMaW5lO1xuICB9XG4gIHB1YmxpYyBSZVVJKCkge1xuICAgIGlmICh0aGlzLmVsTm9kZSkge1xuICAgICAgdGhpcy5kYXRhLlJlbW92ZUV2ZW50KHRoaXMpO1xuICAgICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5Ob2RlT3Zlci5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWxOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLk5vZGVMZWF2ZS5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWxOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWxOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmVsTm9kZS5yZW1vdmUoKTtcbiAgICB9XG4gICAgdGhpcy5lbE5vZGVJbnB1dHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsTm9kZUlucHV0cy5jbGFzc0xpc3QuYWRkKCd3b3JrZXJmbG93LW5vZGVfaW5wdXRzJyk7XG4gICAgdGhpcy5lbE5vZGVJbnB1dHMuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJpbnB1dHMgZG90XCI+PC9kaXY+YDtcbiAgICB0aGlzLmVsTm9kZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsTm9kZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnd29ya2VyZmxvdy1ub2RlX2NvbnRlbnQnKTtcbiAgICB0aGlzLmVsTm9kZU91dHB1dHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsTm9kZU91dHB1dHMuY2xhc3NMaXN0LmFkZCgnd29ya2VyZmxvdy1ub2RlX291dHB1dHMnKTtcbiAgICB0aGlzLmVsTm9kZU91dHB1dHMuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJvdXRwdXRzIGRvdFwiIG5vZGU9XCIwXCI+PC9kaXY+YDtcbiAgICB0aGlzLmVsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoXCJ3b3JrZXJmbG93LW5vZGVcIik7XG4gICAgdGhpcy5lbE5vZGUuaWQgPSBgbm9kZS0ke3RoaXMuSWR9YDtcbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZScsIHRoaXMuSWQpO1xuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgdG9wOiAke3RoaXMuZ2V0WSgpfXB4OyBsZWZ0OiAke3RoaXMuZ2V0WCgpfXB4O2ApO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuTm9kZU92ZXIuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuTm9kZUxlYXZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlSW5wdXRzKTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZUNvbnRlbnQpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlT3V0cHV0cyk7XG5cbiAgICB0aGlzLnBhcmVudC5lbENhbnZhcz8uYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgIGxldCBkYXRhVGVtcCA9IHRoaXMuZGF0YS50b0pzb24oKTtcbiAgICAgIHRoaXMuZGF0YS5sb2FkKGRhdGFUZW1wKTtcbiAgICAgIHRoaXMuZGF0YS5VcGRhdGVVSSgpO1xuICAgIH1cbiAgICB0aGlzLmluaXRPcHRpb24oKTtcbiAgICB0aGlzLm9uKHRoaXMuZGF0YS5FdmVudC5kYXRhQ2hhbmdlLCAoKSA9PiB7XG4gICAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaCh0aGlzLkV2ZW50LlJlVUksIHt9KTtcbiAgfVxuICBwdWJsaWMgY2hlY2tJbnB1dCgpIHtcbiAgICByZXR1cm4gISh0aGlzLm9wdGlvbj8uaW5wdXQgPT09IDApO1xuICB9XG4gIHByaXZhdGUgaW5pdE9wdGlvbigpIHtcbiAgICBpZiAodGhpcy5lbE5vZGVDb250ZW50ICYmIHRoaXMub3B0aW9uICYmIHRoaXMuZWxOb2RlT3V0cHV0cykge1xuICAgICAgdGhpcy5lbE5vZGVDb250ZW50LmlubmVySFRNTCA9IHRoaXMub3B0aW9uLmh0bWw7XG4gICAgICBpZiAodGhpcy5vcHRpb24ub3V0cHV0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5lbE5vZGVPdXRwdXRzLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpbmRleDogbnVtYmVyID0gMDsgaW5kZXggPCB0aGlzLm9wdGlvbi5vdXRwdXQ7IGluZGV4KyspIHtcbiAgICAgICAgICBsZXQgb3V0cHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgb3V0cHV0LnNldEF0dHJpYnV0ZSgnbm9kZScsICgzMDAgKyBpbmRleCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgb3V0cHV0LmNsYXNzTGlzdC5hZGQoXCJkb3RcIik7XG4gICAgICAgICAgb3V0cHV0LmNsYXNzTGlzdC5hZGQoXCJvdXRwdXRfXCIgKyAoaW5kZXgpKTtcbiAgICAgICAgICB0aGlzLmVsTm9kZU91dHB1dHM/LmFwcGVuZENoaWxkKG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9uLmlucHV0ID09PSAwICYmIHRoaXMuZWxOb2RlSW5wdXRzKSB7XG4gICAgICAgIHRoaXMuZWxOb2RlSW5wdXRzLmlubmVySFRNTCA9ICcnO1xuICAgICAgfVxuXG4gICAgfVxuICAgIGxldCBzZWxmID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNlbGYuUnVuU2NyaXB0KHNlbGYsIHNlbGYuZWxOb2RlKTtcbiAgICB9LCAxMDApO1xuICB9XG4gIHB1YmxpYyBSdW5TY3JpcHQoc2VsZk5vZGU6IE5vZGVGbG93LCBlbDogSFRNTEVsZW1lbnQgfCBudWxsKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uICYmIHRoaXMub3B0aW9uLnNjcmlwdCAmJiAhdGhpcy5mbGdTY3JpcHQpIHtcbiAgICAgIHRoaXMuZmxnU2NyaXB0ID0gdHJ1ZTtcbiAgICAgIGdldmFsKCcobm9kZSxlbCk9PnsnICsgdGhpcy5vcHRpb24uc2NyaXB0LnRvU3RyaW5nKCkgKyAnfScpKHNlbGZOb2RlLCBlbCk7XG4gICAgICB0aGlzLmZsZ1NjcmlwdCA9IHRydWU7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBjaGVja05vZGUobm9kZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uICYmIHRoaXMub3B0aW9uLm5vZGUgPT0gbm9kZTtcbiAgfVxuICBwdWJsaWMgTm9kZU92ZXIoZTogYW55KSB7XG4gICAgdGhpcy5wYXJlbnQubm9kZU92ZXIgPSB0aGlzO1xuICB9XG4gIHB1YmxpYyBOb2RlTGVhdmUoZTogYW55KSB7XG4gICAgdGhpcy5wYXJlbnQubm9kZU92ZXIgPSBudWxsO1xuICB9XG4gIHB1YmxpYyBTdGFydFNlbGVjdGVkKGU6IGFueSkge1xuICAgIHRoaXMucGFyZW50LlNlbGVjdE5vZGUodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaCh0aGlzLkV2ZW50LnNlbGVjdGVkLCB7fSk7XG4gIH1cbiAgcHVibGljIHVwZGF0ZVBvc2l0aW9uKHg6IGFueSwgeTogYW55LCBpQ2hlY2sgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmVsTm9kZSkge1xuICAgICAgaWYgKGlDaGVjaykge1xuICAgICAgICBpZiAoeCAhPT0gdGhpcy5nZXRYKCkpIHtcbiAgICAgICAgICB0aGlzLmRhdGEuU2V0KHRoaXMucHJvcGVydGllRGVmYXVsdC54LmtleSwgeCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgIT09IHRoaXMuZ2V0WSgpKSB7XG4gICAgICAgICAgdGhpcy5kYXRhLlNldCh0aGlzLnByb3BlcnRpZURlZmF1bHQueS5rZXksIHkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRhdGEuU2V0KHRoaXMucHJvcGVydGllRGVmYXVsdC55LmtleSwgKHRoaXMuZWxOb2RlLm9mZnNldFRvcCAtIHkpKTtcbiAgICAgICAgdGhpcy5kYXRhLlNldCh0aGlzLnByb3BlcnRpZURlZmF1bHQueC5rZXksICh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0IC0geCkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmRpc3BhdGNoKHRoaXMuRXZlbnQudXBkYXRlUG9zaXRpb24sIHsgeDogdGhpcy5nZXRYKCksIHk6IHRoaXMuZ2V0WSgpIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaCh0aGlzLkV2ZW50LmNoYW5nZSwge30pO1xuICAgICAgdGhpcy5VcGRhdGVVSSgpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGB0b3A6ICR7dGhpcy5nZXRZKCl9cHg7IGxlZnQ6ICR7dGhpcy5nZXRYKCl9cHg7YCk7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0udXBkYXRlKCk7XG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgV29ya2VyRmxvdyB9IGZyb20gXCIuLi9Xb3JrZXJGbG93XCI7XG5pbXBvcnQgeyBCYXNlRmxvdyB9IGZyb20gXCIuL0Jhc2VGbG93XCI7XG5pbXBvcnQgeyBMaW5lRmxvdyB9IGZyb20gXCIuL0xpbmVGbG93XCI7XG5pbXBvcnQgeyBOb2RlRmxvdyB9IGZyb20gXCIuL05vZGVGbG93XCI7XG5cbmV4cG9ydCBlbnVtIE1vdmVUeXBlIHtcbiAgTm9uZSA9IDAsXG4gIE5vZGUgPSAxLFxuICBDYW52YXMgPSAyLFxuICBMaW5lID0gMyxcbn1cbmV4cG9ydCBjbGFzcyBWaWV3RmxvdyBleHRlbmRzIEJhc2VGbG93PFdvcmtlckZsb3c+IHtcbiAgcHVibGljIGVsQ2FudmFzOiBIVE1MRWxlbWVudDtcbiAgcHVibGljIGZsZ0RyYXA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHVibGljIGZsZ01vdmU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBtb3ZlVHlwZTogTW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xuICBwcml2YXRlIHpvb21fbWF4OiBudW1iZXIgPSAxLjY7XG4gIHByaXZhdGUgem9vbV9taW46IG51bWJlciA9IDAuNTtcbiAgcHJpdmF0ZSB6b29tX3ZhbHVlOiBudW1iZXIgPSAwLjE7XG4gIHByaXZhdGUgem9vbV9sYXN0X3ZhbHVlOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIHBvc194OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc195OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1vdXNlX3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VfeTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBub2RlczogTm9kZUZsb3dbXSA9IFtdO1xuICBwcml2YXRlIGxpbmVTZWxlY3RlZDogTGluZUZsb3cgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBub2RlU2VsZWN0ZWQ6IE5vZGVGbG93IHwgbnVsbCA9IG51bGw7XG4gIHB1YmxpYyBub2RlT3ZlcjogTm9kZUZsb3cgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBkb3RTZWxlY3RlZDogTm9kZUZsb3cgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0ZW1wTGluZTogTGluZUZsb3cgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB0aW1lRmFzdENsaWNrOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHRhZ0luZ29yZSA9IFsnaW5wdXQnLCAnYnV0dG9uJywgJ2EnLCAndGV4dGFyZWEnXTtcbiAgcHJpdmF0ZSBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCh0aGlzLnByb3BlcnRpZXMueC5rZXkpXG4gIH1cbiAgcHJpdmF0ZSBnZXRZKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCh0aGlzLnByb3BlcnRpZXMueS5rZXkpXG4gIH1cbiAgcHJpdmF0ZSBnZXRab29tKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCh0aGlzLnByb3BlcnRpZXMuem9vbS5rZXkpO1xuICB9XG4gIHB1YmxpYyBwcm9wZXJ0aWVzID0ge1xuICAgIG5hbWU6IHtcbiAgICAgIGtleTogXCJuYW1lXCIsXG4gICAgfSxcbiAgICB6b29tOiB7XG4gICAgICBrZXk6IFwiem9vbVwiLFxuICAgICAgZGVmYXVsdDogMSxcbiAgICAgIHR5cGU6IFwibnVtYmVyXCJcbiAgICB9LFxuICAgIHg6IHtcbiAgICAgIGtleTogXCJ4XCIsXG4gICAgICBkZWZhdWx0OiAwLFxuICAgICAgdHlwZTogXCJudW1iZXJcIlxuICAgIH0sXG4gICAgeToge1xuICAgICAga2V5OiBcInlcIixcbiAgICAgIGRlZmF1bHQ6IDAsXG4gICAgICB0eXBlOiBcIm51bWJlclwiXG4gICAgfVxuICB9O1xuICBwdWJsaWMgcmVhZG9ubHkgRXZlbnQgPSB7XG4gICAgY2hhbmdlOiBcImNoYW5nZVwiLFxuICAgIHNlbGVjdGVkOiBcIlNlbGVjdGVkXCIsXG4gICAgdXBkYXRlVmlldzogXCJ1cGRhdGVWaWV3XCJcbiAgfTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogV29ya2VyRmxvdykge1xuICAgIHN1cGVyKHBhcmVudCk7XG4gICAgdGhpcy5lbE5vZGUgPSB0aGlzLnBhcmVudC5lbE5vZGUucXVlcnlTZWxlY3RvcignLndvcmtlcmZsb3ctZGVzZ2luIC53b3JrZXJmbG93LXZpZXcnKSB8fCB0aGlzLmVsTm9kZTtcbiAgICB0aGlzLmVsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbENhbnZhcy5jbGFzc0xpc3QuYWRkKFwid29ya2VyZmxvdy1jYW52YXNcIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbENhbnZhcyk7XG4gICAgdGhpcy5lbE5vZGUudGFiSW5kZXggPSAwO1xuICAgIHRoaXMuYWRkRXZlbnQoKTtcbiAgICB0aGlzLlJlc2V0KCk7XG4gICAgdGhpcy5kYXRhLkluaXREYXRhKG51bGwsIHRoaXMucHJvcGVydGllcyk7XG4gICAgdGhpcy5vbih0aGlzLmRhdGEuRXZlbnQuZGF0YUNoYW5nZSwgKGl0ZW06IGFueSkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gIH1cbiAgcHVibGljIGdldE9wdGlvbihrZXlOb2RlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0T3B0aW9uKGtleU5vZGUpO1xuICB9XG4gIHByaXZhdGUgZHJvcEVuZChldjogYW55KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5wYXJlbnQubW9kdWxlcykubGVuZ3RoID09IDApIHtcbiAgICAgIHRoaXMucGFyZW50Lm5ldygpO1xuICAgIH1cbiAgICBsZXQga2V5Tm9kZTogc3RyaW5nIHwgbnVsbCA9ICcnO1xuICAgIGlmIChldi50eXBlID09PSBcInRvdWNoZW5kXCIpIHtcbiAgICAgIGtleU5vZGUgPSB0aGlzLnBhcmVudC5kYXRhTm9kZVNlbGVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5Tm9kZSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibm9kZVwiKTtcbiAgICB9XG4gICAgbGV0IG9wdGlvbiA9IHRoaXMuZ2V0T3B0aW9uKGtleU5vZGUpO1xuICAgIGlmIChvcHRpb24gJiYgb3B0aW9uLm9ubHlOb2RlKSB7XG4gICAgICBpZiAodGhpcy5ub2Rlcy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uY2hlY2tOb2RlKGtleU5vZGUpKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5vZGUgPSB0aGlzLkFkZE5vZGUob3B0aW9uKTtcblxuICAgIGxldCBlX3Bvc194ID0gMDtcbiAgICBsZXQgZV9wb3NfeSA9IDA7XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIGVfcG9zX3ggPSBldi50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0gZWxzZSB7XG4gICAgICBlX3Bvc194ID0gZXYuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi5jbGllbnRZO1xuICAgIH1cbiAgICBsZXQgeCA9IHRoaXMuQ2FsY1godGhpcy5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54IC0gZV9wb3NfeCk7XG4gICAgbGV0IHkgPSB0aGlzLkNhbGNZKHRoaXMuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSAtIGVfcG9zX3kpO1xuXG4gICAgbm9kZS51cGRhdGVQb3NpdGlvbih4LCB5KTtcblxuICB9XG4gIHB1YmxpYyB0b0pzb24oKSB7XG4gICAgbGV0IG5vZGVzID0gdGhpcy5ub2Rlcy5tYXAoKGl0ZW0pID0+IGl0ZW0udG9Kc29uKCkpO1xuICAgIHJldHVybiB7XG4gICAgICBJZDogdGhpcy5JZCxcbiAgICAgIGRhdGE6IHRoaXMuZGF0YS50b0pzb24oKSxcbiAgICAgIG5vZGVzXG4gICAgfVxuICB9XG4gIHB1YmxpYyBsb2FkKGRhdGE6IGFueSkge1xuICAgIHRoaXMuUmVzZXQoKTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIGRhdGEgPSB7fTtcbiAgICB9XG4gICAgaWYgKCFkYXRhLklkKSB7XG4gICAgICBkYXRhLklkID0gdGhpcy5wYXJlbnQuZ2V0VXVpZCgpO1xuICAgIH1cbiAgICBpZiAoIWRhdGEuZGF0YSkge1xuICAgICAgZGF0YS5kYXRhID0ge307XG4gICAgfVxuICAgIGlmICghZGF0YS5kYXRhW3RoaXMucHJvcGVydGllcy5uYW1lLmtleV0pIHtcbiAgICAgIGRhdGEuZGF0YVt0aGlzLnByb3BlcnRpZXMubmFtZS5rZXldID0gYHByb2plY3QtJHt0aGlzLnBhcmVudC5nZXRUaW1lKCl9YDtcbiAgICB9XG4gICAgdGhpcy5JZCA9IGRhdGEuSWQ7XG4gICAgdGhpcy5kYXRhLmxvYWQoZGF0YS5kYXRhKTtcbiAgICB0aGlzLmRhdGEuVXBkYXRlVUkoKTtcbiAgICB0aGlzLm5vZGVzID0gKGRhdGEubm9kZXMgPz8gW10pLm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICByZXR1cm4gKG5ldyBOb2RlRmxvdyh0aGlzLCBcIlwiKSkubG9hZChpdGVtKTtcbiAgICB9KTtcbiAgICAoZGF0YS5ub2RlcyA/PyBbXSkuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAoaXRlbS5saW5lID8/IFtdKS5mb3JFYWNoKChsaW5lOiBhbnkpID0+IHtcbiAgICAgICAgbGV0IGZyb21Ob2RlID0gdGhpcy5nZXROb2RlQnlJZChsaW5lLmZyb21Ob2RlKTtcbiAgICAgICAgbGV0IHRvTm9kZSA9IHRoaXMuZ2V0Tm9kZUJ5SWQobGluZS50b05vZGUpO1xuICAgICAgICBsZXQgb3VwdXRJbmRleCA9IGxpbmUub3VwdXRJbmRleCA/PyAwO1xuICAgICAgICBpZiAoZnJvbU5vZGUgJiYgdG9Ob2RlKSB7XG4gICAgICAgICAgdGhpcy5BZGRMaW5lKGZyb21Ob2RlLCB0b05vZGUsIG91cHV0SW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlVmlldygpO1xuICB9XG4gIHB1YmxpYyBSZXNldCgpIHtcbiAgICB0aGlzLm5vZGVzLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uZGVsZXRlKGZhbHNlKSk7XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuICAgIHRoaXMuZGF0YS5TZXQodGhpcy5wcm9wZXJ0aWVzLngua2V5LCAwKTtcbiAgICB0aGlzLmRhdGEuU2V0KHRoaXMucHJvcGVydGllcy55LmtleSwgMCk7XG4gICAgdGhpcy51cGRhdGVWaWV3KCk7XG4gIH1cbiAgcHVibGljIGdldE5vZGVCeUlkKG5vZGVJZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXM/LmZpbHRlcigoaXRlbSkgPT4gaXRlbS5JZCA9PSBub2RlSWQpWzBdO1xuICB9XG4gIHB1YmxpYyB1cGRhdGVWaWV3KCkge1xuICAgIHRoaXMuZWxDYW52YXMuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLmdldFgoKSArIFwicHgsIFwiICsgdGhpcy5nZXRZKCkgKyBcInB4KSBzY2FsZShcIiArIHRoaXMuZ2V0Wm9vbSgpICsgXCIpXCI7XG4gICAgdGhpcy5kaXNwYXRjaCh0aGlzLkV2ZW50LnVwZGF0ZVZpZXcsIHsgeDogdGhpcy5nZXRYKCksIHk6IHRoaXMuZ2V0WSgpLCB6b29tOiB0aGlzLmdldFpvb20oKSB9KTtcbiAgfVxuICBwcml2YXRlIENhbGNYKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxOb2RlPy5jbGllbnRXaWR0aCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHJpdmF0ZSBDYWxjWShudW1iZXI6IGFueSkge1xuICAgIHJldHVybiBudW1iZXIgKiAodGhpcy5lbENhbnZhcy5jbGllbnRIZWlnaHQgLyAodGhpcy5lbE5vZGU/LmNsaWVudEhlaWdodCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHJpdmF0ZSBkcmFnb3ZlcihlOiBhbnkpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbiAgcHVibGljIFVuU2VsZWN0TGluZSgpIHtcbiAgICB0aGlzLlNlbGVjdExpbmUobnVsbCk7XG4gIH1cbiAgcHVibGljIFVuU2VsZWN0RG90KCkge1xuICAgIHRoaXMuU2VsZWN0RG90KG51bGwpO1xuICB9XG4gIHB1YmxpYyBVblNlbGVjdE5vZGUoKSB7XG4gICAgdGhpcy5TZWxlY3ROb2RlKG51bGwpO1xuICB9XG4gIHB1YmxpYyBVblNlbGVjdCgpIHtcbiAgICB0aGlzLlVuU2VsZWN0TGluZSgpO1xuICAgIHRoaXMuVW5TZWxlY3ROb2RlKCk7XG4gICAgdGhpcy5VblNlbGVjdERvdCgpO1xuICB9XG4gIHB1YmxpYyBTZWxlY3RMaW5lKG5vZGU6IExpbmVGbG93IHwgbnVsbCkge1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLmxpbmVTZWxlY3RlZCkge1xuICAgICAgICB0aGlzLmxpbmVTZWxlY3RlZC5lbFBhdGg/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgICB0aGlzLmxpbmVTZWxlY3RlZCA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuVW5TZWxlY3QoKTtcbiAgICAgIHRoaXMubGluZVNlbGVjdGVkID0gbm9kZTtcbiAgICAgIHRoaXMubGluZVNlbGVjdGVkLmVsUGF0aC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG5cbiAgfVxuICBwcml2YXRlIGZsZ1NlbGVjdE5vZGUgPSBmYWxzZTtcbiAgcHVibGljIFNlbGVjdE5vZGUobm9kZTogTm9kZUZsb3cgfCBudWxsKSB7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMubm9kZVNlbGVjdGVkKSB7XG4gICAgICAgIHRoaXMubm9kZVNlbGVjdGVkLmVsTm9kZT8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMubm9kZVNlbGVjdGVkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5mbGdTZWxlY3ROb2RlKVxuICAgICAgICB0aGlzLnBhcmVudC5Qcm9wZXJ0eUluZm8odGhpcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mbGdTZWxlY3ROb2RlID0gdHJ1ZTtcbiAgICAgIHRoaXMuVW5TZWxlY3QoKTtcbiAgICAgIHRoaXMubm9kZVNlbGVjdGVkID0gbm9kZTtcbiAgICAgIHRoaXMubm9kZVNlbGVjdGVkLmVsTm9kZT8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB0aGlzLnBhcmVudC5Qcm9wZXJ0eUluZm8odGhpcy5ub2RlU2VsZWN0ZWQuZGF0YSk7XG4gICAgICB0aGlzLmZsZ1NlbGVjdE5vZGUgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcHVibGljIFNlbGVjdERvdChub2RlOiBOb2RlRmxvdyB8IG51bGwpIHtcbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5kb3RTZWxlY3RlZCkge1xuICAgICAgICB0aGlzLmRvdFNlbGVjdGVkLmVsTm9kZT8uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIHRoaXMuZG90U2VsZWN0ZWQgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLlVuU2VsZWN0KCk7XG4gICAgICB0aGlzLmRvdFNlbGVjdGVkID0gbm9kZTtcbiAgICAgIHRoaXMuZG90U2VsZWN0ZWQuZWxOb2RlPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIFJlbW92ZU5vZGUobm9kZTogTm9kZUZsb3cpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLm5vZGVzLmluZGV4T2Yobm9kZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMubm9kZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubm9kZXM7XG4gIH1cbiAgcHVibGljIEFkZE5vZGUob3B0aW9uOiBhbnkgPSBudWxsKTogTm9kZUZsb3cge1xuICAgIGxldCBub2RlID0gbmV3IE5vZGVGbG93KHRoaXMsIG9wdGlvbik7XG4gICAgdGhpcy5ub2RlcyA9IFsuLi50aGlzLm5vZGVzLCBub2RlXTtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuICBwdWJsaWMgQWRkTGluZShmcm9tTm9kZTogTm9kZUZsb3csIHRvTm9kZTogTm9kZUZsb3csIG91dHB1dEluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgaWYgKGZyb21Ob2RlID09IHRvTm9kZSkgcmV0dXJuO1xuICAgIGlmIChmcm9tTm9kZS5hcnJMaW5lLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgcmV0dXJuIGl0ZW0udG9Ob2RlID09PSB0b05vZGUgJiYgaXRlbS5vdXRwdXRJbmRleCA9PSBvdXRwdXRJbmRleCAmJiBpdGVtICE9IHRoaXMudGVtcExpbmU7XG4gICAgfSkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExpbmVGbG93KHRoaXMsIGZyb21Ob2RlLCB0b05vZGUsIG91dHB1dEluZGV4KTtcbiAgfVxuICBwdWJsaWMgYWRkRXZlbnQoKSB7XG4gICAgLyogTW91c2UgYW5kIFRvdWNoIEFjdGlvbnMgKi9cbiAgICB0aGlzLmVsTm9kZT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZT8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlPy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLlN0YXJ0TW92ZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuZWxOb2RlPy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZT8uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlPy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XG4gICAgLyogQ29udGV4dCBNZW51ICovXG4gICAgdGhpcy5lbE5vZGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5jb250ZXh0bWVudS5iaW5kKHRoaXMpKTtcblxuICAgIC8qIERyb3AgRHJhcCAqL1xuICAgIHRoaXMuZWxOb2RlPy5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5kcm9wRW5kLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlPy5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuZHJhZ292ZXIuYmluZCh0aGlzKSk7XG4gICAgLyogWm9vbSBNb3VzZSAqL1xuICAgIHRoaXMuZWxOb2RlPy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuem9vbV9lbnRlci5iaW5kKHRoaXMpKTtcbiAgICAvKiBEZWxldGUgKi9cbiAgICB0aGlzLmVsTm9kZT8uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bi5iaW5kKHRoaXMpKTtcbiAgfVxuICBwdWJsaWMga2V5ZG93bihlOiBhbnkpIHtcbiAgICBpZiAoZS5rZXkgPT09ICdEZWxldGUnIHx8IChlLmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgZS5tZXRhS2V5KSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBpZiAodGhpcy5ub2RlU2VsZWN0ZWQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLm5vZGVTZWxlY3RlZC5kZWxldGUoKTtcbiAgICAgICAgdGhpcy5ub2RlU2VsZWN0ZWQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubGluZVNlbGVjdGVkICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5saW5lU2VsZWN0ZWQuZGVsZXRlKCk7XG4gICAgICAgIHRoaXMubGluZVNlbGVjdGVkID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHVibGljIHpvb21fZW50ZXIoZXZlbnQ6IGFueSkge1xuICAgIGlmIChldmVudC5jdHJsS2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBpZiAoZXZlbnQuZGVsdGFZID4gMCkge1xuICAgICAgICAvLyBab29tIE91dFxuICAgICAgICB0aGlzLnpvb21fb3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBab29tIEluXG4gICAgICAgIHRoaXMuem9vbV9pbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9yZWZyZXNoKCkge1xuICAgIHRoaXMuZGF0YS5TZXQodGhpcy5wcm9wZXJ0aWVzLngua2V5LCAodGhpcy5nZXRYKCkgLyB0aGlzLnpvb21fbGFzdF92YWx1ZSkgKiB0aGlzLmdldFpvb20oKSk7XG4gICAgdGhpcy5kYXRhLlNldCh0aGlzLnByb3BlcnRpZXMueS5rZXksICh0aGlzLmdldFkoKSAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRoaXMuZ2V0Wm9vbSgpKTtcbiAgICB0aGlzLnpvb21fbGFzdF92YWx1ZSA9IHRoaXMuZ2V0Wm9vbSgpO1xuICAgIHRoaXMudXBkYXRlVmlldygpO1xuICB9XG4gIHB1YmxpYyB6b29tX2luKCkge1xuICAgIGlmICh0aGlzLmdldFpvb20oKSA8IHRoaXMuem9vbV9tYXgpIHtcbiAgICAgIHRoaXMuZGF0YS5TZXQodGhpcy5wcm9wZXJ0aWVzLnpvb20ua2V5LCAodGhpcy5nZXRab29tKCkgKyB0aGlzLnpvb21fdmFsdWUpKTtcbiAgICAgIHRoaXMuem9vbV9yZWZyZXNoKCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyB6b29tX291dCgpIHtcbiAgICBpZiAodGhpcy5nZXRab29tKCkgPiB0aGlzLnpvb21fbWluKSB7XG4gICAgICB0aGlzLmRhdGEuU2V0KHRoaXMucHJvcGVydGllcy56b29tLmtleSwgKHRoaXMuZ2V0Wm9vbSgpIC0gdGhpcy56b29tX3ZhbHVlKSk7XG4gICAgICB0aGlzLnpvb21fcmVmcmVzaCgpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9yZXNldCgpIHtcbiAgICBpZiAodGhpcy5nZXRab29tKCkgIT0gMSkge1xuICAgICAgdGhpcy5kYXRhLlNldCh0aGlzLnByb3BlcnRpZXMuem9vbS5rZXksIHRoaXMucHJvcGVydGllcy56b29tLmRlZmF1bHQpO1xuICAgICAgdGhpcy56b29tX3JlZnJlc2goKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgU3RhcnRNb3ZlKGU6IGFueSkge1xuICAgIGlmICh0aGlzLnRhZ0luZ29yZS5pbmNsdWRlcyhlLnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGltZUZhc3RDbGljayA9IHRoaXMucGFyZW50LmdldFRpbWUoKTtcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLXBhdGgnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PSBNb3ZlVHlwZS5Ob25lKSB7XG4gICAgICBpZiAodGhpcy5ub2RlU2VsZWN0ZWQgJiYgdGhpcy5wYXJlbnQuY2hlY2tQYXJlbnQoZS50YXJnZXQsIHRoaXMubm9kZVNlbGVjdGVkLmVsTm9kZSkpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZG90JykpIHtcbiAgICAgICAgICBpZiAodGhpcy5wYXJlbnQuY2hlY2tQYXJlbnQoZS50YXJnZXQsIHRoaXMubm9kZVNlbGVjdGVkLmVsTm9kZUlucHV0cykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLkxpbmU7XG4gICAgICAgICAgdGhpcy50ZW1wTGluZSA9IG5ldyBMaW5lRmxvdyh0aGlzLCB0aGlzLm5vZGVTZWxlY3RlZCwgbnVsbCk7XG4gICAgICAgICAgdGhpcy50ZW1wTGluZS5vdXRwdXRJbmRleCA9ICsoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdub2RlJykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob2RlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuQ2FudmFzO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZS50eXBlID09PSBcInRvdWNoc3RhcnRcIikge1xuICAgICAgdGhpcy5wb3NfeCA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvc194ID0gZS5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGUuY2xpZW50WTtcbiAgICB9XG4gICAgdGhpcy5mbGdEcmFwID0gdHJ1ZTtcbiAgICB0aGlzLmZsZ01vdmUgPSBmYWxzZTtcbiAgfVxuICBwdWJsaWMgTW92ZShlOiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuZmxnRHJhcCkgcmV0dXJuO1xuICAgIHRoaXMuZmxnTW92ZSA9IHRydWU7XG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZS50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICBlX3Bvc194ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBlLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZS5jbGllbnRZO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMubW92ZVR5cGUpIHtcbiAgICAgIGNhc2UgTW92ZVR5cGUuQ2FudmFzOlxuICAgICAgICB7XG4gICAgICAgICAgbGV0IHggPSB0aGlzLmdldFgoKSArIHRoaXMuQ2FsY1goLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpXG4gICAgICAgICAgbGV0IHkgPSB0aGlzLmdldFkoKSArIHRoaXMuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXG4gICAgICAgICAgdGhpcy5lbENhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZShcIiArIHggKyBcInB4LCBcIiArIHkgKyBcInB4KSBzY2FsZShcIiArIHRoaXMuZ2V0Wm9vbSgpICsgXCIpXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgTW92ZVR5cGUuTm9kZTpcbiAgICAgICAge1xuICAgICAgICAgIGxldCB4ID0gdGhpcy5DYWxjWCh0aGlzLnBvc194IC0gZV9wb3NfeCk7XG4gICAgICAgICAgbGV0IHkgPSB0aGlzLkNhbGNZKHRoaXMucG9zX3kgLSBlX3Bvc195KTtcbiAgICAgICAgICB0aGlzLnBvc194ID0gZV9wb3NfeDtcbiAgICAgICAgICB0aGlzLnBvc195ID0gZV9wb3NfeTtcbiAgICAgICAgICB0aGlzLm5vZGVTZWxlY3RlZD8udXBkYXRlUG9zaXRpb24oeCwgeSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgTW92ZVR5cGUuTGluZTpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0aGlzLnRlbXBMaW5lKSB7XG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMuQ2FsY1godGhpcy5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54IC0gZV9wb3NfeCk7XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMuQ2FsY1kodGhpcy5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnVwZGF0ZVRvKHRoaXMuZWxDYW52YXMub2Zmc2V0TGVmdCAtIHgsIHRoaXMuZWxDYW52YXMub2Zmc2V0VG9wIC0geSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnRvTm9kZSA9IHRoaXMubm9kZU92ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgdGhpcy5tb3VzZV94ID0gZV9wb3NfeDtcbiAgICAgIHRoaXMubW91c2VfeSA9IGVfcG9zX3k7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBFbmRNb3ZlKGU6IGFueSkge1xuICAgIGlmICghdGhpcy5mbGdEcmFwKSByZXR1cm47XG4gICAgLy9maXggRmFzdCBDbGlja1xuICAgIGlmICgoKHRoaXMucGFyZW50LmdldFRpbWUoKSAtIHRoaXMudGltZUZhc3RDbGljaykgPCAzMDApIHx8ICF0aGlzLmZsZ01vdmUpIHtcbiAgICAgIGlmICh0aGlzLm1vdmVUeXBlID09PSBNb3ZlVHlwZS5DYW52YXMgJiYgdGhpcy5mbGdEcmFwKVxuICAgICAgICB0aGlzLlVuU2VsZWN0KCk7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnRlbXBMaW5lICYmIHRoaXMubW92ZVR5cGUgPT0gTW92ZVR5cGUuTGluZSkge1xuICAgICAgaWYgKHRoaXMudGVtcExpbmUudG9Ob2RlICYmIHRoaXMudGVtcExpbmUudG9Ob2RlLmNoZWNrSW5wdXQoKSkge1xuICAgICAgICB0aGlzLkFkZExpbmUodGhpcy50ZW1wTGluZS5mcm9tTm9kZSwgdGhpcy50ZW1wTGluZS50b05vZGUsIHRoaXMudGVtcExpbmUub3V0cHV0SW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy50ZW1wTGluZS5kZWxldGUoKTtcbiAgICAgIHRoaXMudGVtcExpbmUgPSBudWxsO1xuICAgIH1cbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2hlbmRcIikge1xuICAgICAgZV9wb3NfeCA9IHRoaXMubW91c2VfeDtcbiAgICAgIGVfcG9zX3kgPSB0aGlzLm1vdXNlX3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBlLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZS5jbGllbnRZO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PT0gTW92ZVR5cGUuQ2FudmFzKSB7XG4gICAgICB0aGlzLmRhdGEuU2V0KHRoaXMucHJvcGVydGllcy54LmtleSwgdGhpcy5nZXRYKCkgKyB0aGlzLkNhbGNYKC0odGhpcy5wb3NfeCAtIGVfcG9zX3gpKSk7XG4gICAgICB0aGlzLmRhdGEuU2V0KHRoaXMucHJvcGVydGllcy55LmtleSwgdGhpcy5nZXRZKCkgKyB0aGlzLkNhbGNZKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKSk7XG4gICAgfVxuICAgIHRoaXMucG9zX3ggPSBlX3Bvc194O1xuICAgIHRoaXMucG9zX3kgPSBlX3Bvc195O1xuICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xuICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICB9XG4gIHB1YmxpYyBjb250ZXh0bWVudShlOiBhbnkpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZsb3dDb3JlIH0gZnJvbSBcIi4vY29tcG9uZW50cy9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgQ29udHJvbEZsb3cgfSBmcm9tIFwiLi9jb21wb25lbnRzL0NvbnRyb2xGbG93XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL2NvbXBvbmVudHMvRGF0YUZsb3dcIjtcbmltcG9ydCB7IFByb3BlcnR5RmxvdyB9IGZyb20gXCIuL2NvbXBvbmVudHMvUHJvcGVydHlGbG93XCI7XG5pbXBvcnQgeyBUYWJGbG93LCBUYWJJdGVtRmxvdyB9IGZyb20gXCIuL2NvbXBvbmVudHMvVGFiRmxvd1wiO1xuaW1wb3J0IHsgVmlld0Zsb3cgfSBmcm9tIFwiLi9jb21wb25lbnRzL1ZpZXdGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBXb3JrZXJGbG93IGV4dGVuZHMgRmxvd0NvcmUge1xuXG4gIHB1YmxpYyBWaWV3OiBWaWV3RmxvdyB8IG51bGw7XG4gIHB1YmxpYyBDb250cm9sOiBDb250cm9sRmxvdyB8IG51bGw7XG4gIHB1YmxpYyBQcm9wZXJ0eTogUHJvcGVydHlGbG93IHwgbnVsbDtcbiAgcHVibGljIFRhYjogVGFiRmxvdyB8IG51bGw7XG4gIHB1YmxpYyBtb2R1bGVzOiBhbnkgPSB7fTtcbiAgcHVibGljIGRhdGFOb2RlU2VsZWN0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHVibGljIG9wdGlvbjogYW55O1xuXG4gIHB1YmxpYyBjaGVja1BhcmVudChub2RlOiBhbnksIG5vZGVDaGVjazogYW55KSB7XG4gICAgaWYgKG5vZGUgJiYgbm9kZUNoZWNrKSB7XG4gICAgICBpZiAobm9kZSA9PSBub2RlQ2hlY2spIHJldHVybiB0cnVlO1xuICAgICAgbGV0IHBhcmVudDogYW55ID0gbm9kZTtcbiAgICAgIHdoaWxlICgocGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG5vZGVDaGVjayA9PSBwYXJlbnQpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG9wdGlvbjogYW55ID0gbnVsbCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5lbE5vZGUgPSBjb250YWluZXI7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZChcIndvcmtlcmZsb3dcIik7XG4gICAgdGhpcy5vcHRpb24gPSBvcHRpb24gfHwge1xuICAgICAgY29udHJvbDoge31cbiAgICB9O1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy1jb250cm9sXCI+XG4gICAgICA8aDIgY2xhc3M9XCJ3b3JrZXJmbG93LWNvbnRyb2xfX2hlYWRlclwiPk5vZGUgQ29udHJvbDwvaDI+XG4gICAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy1jb250cm9sX19saXN0XCI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy1kZXNnaW5cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LWl0ZW1zXCI+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LXZpZXdcIj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LXByb3BlcnR5XCI+XG4gICAgICA8aDIgY2xhc3M9XCJ3b3JrZXJmbG93LXByb3BlcnR5X19oZWFkZXJcIj5Qcm9wZXJ0aWVzPC9oMj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LXByb3BlcnR5X19saXN0XCI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuICAgIHRoaXMuVmlldyA9IG5ldyBWaWV3Rmxvdyh0aGlzKTtcbiAgICB0aGlzLlRhYiA9IG5ldyBUYWJGbG93KHRoaXMpO1xuICAgIHRoaXMuQ29udHJvbCA9IG5ldyBDb250cm9sRmxvdyh0aGlzKTtcbiAgICB0aGlzLlByb3BlcnR5ID0gbmV3IFByb3BlcnR5Rmxvdyh0aGlzKTtcbiAgfVxuICBwdWJsaWMgbmV3KCkge1xuICAgIHRoaXMuVGFiPy5OZXdQcm9qZWN0KCk7XG4gIH1cbiAgcHVibGljIG9wZW5Qcm9qZWN0KG1vZHVlbHM6IGFueSkge1xuICAgIHRoaXMubW9kdWxlcyA9IG1vZHVlbHM7XG4gICAgbGV0IGtleSA9IE9iamVjdC5rZXlzKHRoaXMubW9kdWxlcylbMF07XG4gICAgaWYgKGtleSkge1xuICAgICAgdGhpcy5sb2FkKHRoaXMubW9kdWxlc1trZXldKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbG9hZChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLlRhYj8uTG9hZFByb2plY3QoZGF0YSk7XG4gIH1cblxuICBwdWJsaWMgUHJvcGVydHlJbmZvKGRhdGE6IERhdGFGbG93KSB7XG4gICAgdGhpcy5Qcm9wZXJ0eT8uUHJvcGVydHlJbmZvKGRhdGEpO1xuICB9XG4gIHB1YmxpYyBnZXRPcHRpb24oa2V5Tm9kZTogYW55KSB7XG4gICAgaWYgKCFrZXlOb2RlKSByZXR1cm47XG4gICAgbGV0IGNvbnRyb2wgPSB0aGlzLm9wdGlvbi5jb250cm9sW2tleU5vZGVdO1xuICAgIGlmICghY29udHJvbCkge1xuICAgICAgY29udHJvbCA9IE9iamVjdC52YWx1ZXModGhpcy5vcHRpb24uY29udHJvbClbMF07XG4gICAgfVxuICAgIGNvbnRyb2wubm9kZSA9IGtleU5vZGU7XG4gICAgcmV0dXJuIGNvbnRyb2w7XG4gIH1cbiAgcHVibGljIHRvSnNvbigpIHtcbiAgICB0aGlzLlRhYj8uVXBkYXRlRGF0YSgpO1xuICAgIHJldHVybiB0aGlzLm1vZHVsZXM7XG4gIH1cbiAgcHVibGljIGdldFRpbWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgfVxuICBwdWJsaWMgZ2V0VXVpZCgpOiBzdHJpbmcge1xuICAgIC8vIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQxMjIudHh0XG4gICAgbGV0IHM6IGFueSA9IFtdO1xuICAgIGxldCBoZXhEaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM2OyBpKyspIHtcbiAgICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgICB9XG4gICAgc1sxNF0gPSBcIjRcIjsgIC8vIGJpdHMgMTItMTUgb2YgdGhlIHRpbWVfaGlfYW5kX3ZlcnNpb24gZmllbGQgdG8gMDAxMFxuICAgIHNbMTldID0gaGV4RGlnaXRzLnN1YnN0cigoc1sxOV0gJiAweDMpIHwgMHg4LCAxKTsgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gICAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gICAgbGV0IHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gICAgcmV0dXJuIHV1aWQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJEYXRhRmxvdyIsIm5vZGUiLCJkYXRhIiwibm9kZXMiLCJFdmVudCIsImRhdGFDaGFuZ2UiLCJjaGFuZ2UiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJJbml0RGF0YSIsInByb3BlcnRpZXMiLCJsb2FkIiwiQmluZEV2ZW50IiwiVXBkYXRlVUkiLCJSZW1vdmVFdmVudEFsbCIsImVsTm9kZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiaXRlbSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjaGFuZ2VJbnB1dCIsImJpbmQiLCJSZW1vdmVFdmVudCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInRhZ05hbWUiLCJpbm5lckhUTUwiLCJnZXRBdHRyaWJ1dGUiLCJ2YWx1ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJTZXRWYWx1ZSIsImtleSIsImVsVXBkYXRlIiwiZGlzcGF0Y2giLCJTZXQiLCJzZXRUaW1lb3V0IiwiR2V0IiwiZSIsInRhcmdldCIsIk9iamVjdCIsImtleXMiLCJkZWZhdWx0IiwidG9Kc29uIiwicnMiLCJFdmVudEZsb3ciLCJwYXJlbnQiLCJldmVudHMiLCJvbiIsImV2ZW50IiwiY2FsbGJhY2siLCJjb25zb2xlIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsaXN0ZW5lcnMiLCJwdXNoIiwicmVtb3ZlTGlzdGVuZXIiLCJsaXN0ZW5lckluZGV4IiwiZGV0YWlscyIsInNlbGYiLCJsaXN0ZW5lciIsIkZsb3dDb3JlIiwiSWQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJCYXNlRmxvdyIsInN1cGVyIiwiQ29udHJvbEZsb3ciLCJxdWVyeVNlbGVjdG9yIiwib3B0aW9uIiwiY29udHJvbCIsIk5vZGUiLCJzZXRBdHRyaWJ1dGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJuYW1lIiwiZHJhZ1N0YXJ0IiwiZHJhZ2VuZCIsImFwcGVuZENoaWxkIiwiZGF0YU5vZGVTZWxlY3QiLCJ0eXBlIiwiY2xvc2VzdCIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJQcm9wZXJ0eUZsb3ciLCJsYXN0RGF0YSIsImdldFV1aWQiLCJQcm9wZXJ0eUluZm8iLCJSZW5kZXJVSSIsInByb3BlcnR5SW5mbyIsImVsTGFiZWwiLCJlbEl0ZW0iLCJUYWJJdGVtRmxvdyIsImRhdGFJdGVtIiwiSXRlbUlkIiwibm9kZU5hbWUiLCJDbGlja1RhYiIsIkxvYWRQcm9qZWN0QnlJZCIsIlNldERhdGEiLCJBY3RpdmUiLCJmbGciLCJWaWV3IiwicmVtb3ZlIiwiVGFiRmxvdyIsInRhYnMiLCJ0YWJBY3RpdmUiLCJwcm9qZWN0SWQiLCJQcm9qZWN0TmV4dCIsImZpbHRlciIsImRhdGFOZXh0IiwibW9kdWxlcyIsIlVwZGF0ZURhdGEiLCJOZXdQcm9qZWN0IiwiZ2V0VGltZSIsIngiLCJ5Iiwiem9vbSIsIkxvYWRQcm9qZWN0IiwiTGluZUZsb3ciLCJmcm9tTm9kZSIsInRvTm9kZSIsIm91dHB1dEluZGV4IiwiZWxDb25uZWN0aW9uIiwiZWxQYXRoIiwiY3VydmF0dXJlIiwiY3JlYXRlRWxlbWVudE5TIiwiU3RhcnRTZWxlY3RlZCIsInNldEF0dHJpYnV0ZU5TIiwiZWxDYW52YXMiLCJBZGRMaW5lIiwidXBkYXRlIiwiU2VsZWN0TGluZSIsImNyZWF0ZUN1cnZhdHVyZSIsInN0YXJ0X3Bvc194Iiwic3RhcnRfcG9zX3kiLCJlbmRfcG9zX3giLCJlbmRfcG9zX3kiLCJjdXJ2YXR1cmVfdmFsdWUiLCJsaW5lX3giLCJsaW5lX3kiLCJoeDEiLCJNYXRoIiwiYWJzIiwiaHgyIiwiZGVsZXRlIiwibm9kZVRoaXMiLCJSZW1vdmVMaW5lIiwidXBkYXRlVG8iLCJ0b194IiwidG9feSIsImZyb21feCIsImZyb21feSIsImdldERvdE91dHB1dCIsImxpbmVDdXJ2ZSIsImdldFgiLCJnZXRZIiwiY2xpZW50SGVpZ2h0IiwiZ2V2YWwiLCJldmFsIiwiTm9kZUZsb3ciLCJlbE5vZGVJbnB1dHMiLCJlbE5vZGVPdXRwdXRzIiwiZWxOb2RlQ29udGVudCIsInByb3BlcnRpZURlZmF1bHQiLCJnZXREb3RJbnB1dCIsImVsRG90Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsImFyckxpbmUiLCJmbGdTY3JpcHQiLCJSZVVJIiwidXBkYXRlUG9zaXRpb24iLCJzZWxlY3RlZCIsInNldE9wdGlvbiIsInNlbmRlciIsInRhcmdldE5vZGUiLCJMaW5lSnNvbiIsIm1hcCIsIm91cHV0SW5kZXgiLCJsaW5lIiwiZ2V0T3B0aW9uIiwib3V0cHV0IiwiaXNSZW1vdmVQYXJlbnQiLCJOb2RlT3ZlciIsIk5vZGVMZWF2ZSIsIlJlbW92ZU5vZGUiLCJpZCIsImRhdGFUZW1wIiwiaW5pdE9wdGlvbiIsImNoZWNrSW5wdXQiLCJpbnB1dCIsImh0bWwiLCJ0b1N0cmluZyIsIlJ1blNjcmlwdCIsInNlbGZOb2RlIiwiZWwiLCJzY3JpcHQiLCJjaGVja05vZGUiLCJub2RlT3ZlciIsIlNlbGVjdE5vZGUiLCJpQ2hlY2siLCJNb3ZlVHlwZSIsIlZpZXdGbG93IiwiZmxnRHJhcCIsImZsZ01vdmUiLCJtb3ZlVHlwZSIsIk5vbmUiLCJ6b29tX21heCIsInpvb21fbWluIiwiem9vbV92YWx1ZSIsInpvb21fbGFzdF92YWx1ZSIsInBvc194IiwicG9zX3kiLCJtb3VzZV94IiwibW91c2VfeSIsImxpbmVTZWxlY3RlZCIsIm5vZGVTZWxlY3RlZCIsImRvdFNlbGVjdGVkIiwidGVtcExpbmUiLCJ0aW1lRmFzdENsaWNrIiwidGFnSW5nb3JlIiwiZ2V0Wm9vbSIsInVwZGF0ZVZpZXciLCJ0YWJJbmRleCIsImFkZEV2ZW50IiwiUmVzZXQiLCJrZXlOb2RlIiwiZHJvcEVuZCIsImV2IiwicHJldmVudERlZmF1bHQiLCJsZW5ndGgiLCJuZXciLCJnZXREYXRhIiwib25seU5vZGUiLCJBZGROb2RlIiwiZV9wb3NfeCIsImVfcG9zX3kiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJDYWxjWCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIkNhbGNZIiwiZ2V0Tm9kZUJ5SWQiLCJub2RlSWQiLCJzdHlsZSIsInRyYW5zZm9ybSIsIm51bWJlciIsImNsaWVudFdpZHRoIiwiZHJhZ292ZXIiLCJVblNlbGVjdExpbmUiLCJVblNlbGVjdERvdCIsIlNlbGVjdERvdCIsIlVuU2VsZWN0Tm9kZSIsIlVuU2VsZWN0IiwiZmxnU2VsZWN0Tm9kZSIsIkVuZE1vdmUiLCJNb3ZlIiwiU3RhcnRNb3ZlIiwiY29udGV4dG1lbnUiLCJ6b29tX2VudGVyIiwia2V5ZG93biIsIm1ldGFLZXkiLCJjdHJsS2V5IiwiZGVsdGFZIiwiem9vbV9vdXQiLCJ6b29tX2luIiwiem9vbV9yZWZyZXNoIiwiem9vbV9yZXNldCIsImluY2x1ZGVzIiwidG9Mb3dlckNhc2UiLCJjb250YWlucyIsImNoZWNrUGFyZW50IiwiTGluZSIsIkNhbnZhcyIsIkNvbnRyb2wiLCJQcm9wZXJ0eSIsIlRhYiIsIm5vZGVDaGVjayIsInBhcmVudEVsZW1lbnQiLCJjb250YWluZXIiLCJvcGVuUHJvamVjdCIsIm1vZHVlbHMiLCJ2YWx1ZXMiLCJEYXRlIiwicyIsImhleERpZ2l0cyIsImkiLCJzdWJzdHIiLCJmbG9vciIsInJhbmRvbSIsImpvaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs2Q0FFYUEsRUFPZUMsS0FObEJDLEtBQVksR0FDYkMsTUFBb0IsR0FDWEMsTUFBUSxDQUN0QkMsV0FBWSxh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
