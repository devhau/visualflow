/**
   * @license
   * author: Nguyen Van Hau
   * workerflow.js v0.0.1
   * Released under the MIT license.
   */
var workerflow=function(){"use strict";class t{elView;elCanvas=null;parent;flgDrap=!1;zoom=1;zoom_max=1.6;zoom_min=.5;zoom_value=.1;zoom_last_value=1;canvas_x=0;canvas_y=0;pos_x=0;pos_x_start=0;pos_y=0;pos_y_start=0;mouse_x=0;mouse_y=0;constructor(t){this.parent=t,this.elView=this.parent.container?.querySelector(".workerflow-desgin .workerflow-view"),this.elView&&(this.elCanvas=document.createElement("div"),this.elCanvas.classList.add("workerflow-canvas"),this.elView.appendChild(this.elCanvas),this.elView.tabIndex=0,this.addEvent())}addEvent(){this.elView&&(this.elView.addEventListener("mouseup",this.EndMove.bind(this)),this.elView.addEventListener("mousemove",this.Move.bind(this)),this.elView.addEventListener("mousedown",this.StartMove.bind(this)),this.elView.addEventListener("touchend",this.EndMove.bind(this)),this.elView.addEventListener("touchmove",this.Move.bind(this)),this.elView.addEventListener("touchstart",this.StartMove.bind(this)),this.elView.addEventListener("contextmenu",this.contextmenu.bind(this)))}StartMove(t){this.flgDrap=!0,console.log("StartMove"),"touchstart"===t.type?(this.pos_x=t.touches[0].clientX,this.pos_x_start=t.touches[0].clientX,this.pos_y=t.touches[0].clientY,this.pos_y_start=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_x_start=t.clientX,this.pos_y=t.clientY,this.pos_y_start=t.clientY)}Move(t){if(!this.flgDrap||!this.elCanvas)return;let e=0,s=0;"touchmove"===t.type?(e=t.touches[0].clientX,s=t.touches[0].clientY):(e=t.clientX,s=t.clientY),console.log("Move");let i=this.canvas_x+-(this.pos_x-e),n=this.canvas_y+-(this.pos_y-s);this.elCanvas.style.transform="translate("+i+"px, "+n+"px) scale("+this.zoom+")","touchmove"===t.type&&(this.mouse_x=e,this.mouse_y=s)}EndMove(t){this.flgDrap=!1;let e=0,s=0;"touchend"===t.type?(e=this.mouse_x,s=this.mouse_y):(e=t.clientX,s=t.clientY),this.canvas_x=this.canvas_x+-(this.pos_x-e),this.canvas_y=this.canvas_y+-(this.pos_y-s)}contextmenu(t){t.preventDefault()}}return class{container;View;constructor(e){this.container=e,this.container.classList.add("workerflow"),this.container.innerHTML='\n    <div class="workerflow-control">\n      <div class="workerflow-control__item" draggable="true">Node 1</div>\n    </div>\n    <div class="workerflow-desgin">\n      <div class="workerflow-items">\n        <div class="workerflow-item">Thông tin mới</div>\n        <div class="workerflow-item">Thông tin mới123</div>\n      </div>\n      <div class="workerflow-view">\n      </div>\n    </div>\n    ',this.View=new t(this)}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL1ZpZXdGbG93LnRzIiwiLi4vc3JjL1dvcmtlckZsb3cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgV29ya2VyRmxvdyB9IGZyb20gXCIuLi9Xb3JrZXJGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3RmxvdyB7XG4gIHByaXZhdGUgZWxWaWV3OiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCB8IG51bGw7XG4gIHByaXZhdGUgZWxDYW52YXM6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcGFyZW50OiBXb3JrZXJGbG93O1xuICBwcml2YXRlIGZsZ0RyYXA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSB6b29tOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIHpvb21fbWF4OiBudW1iZXIgPSAxLjY7XG4gIHByaXZhdGUgem9vbV9taW46IG51bWJlciA9IDAuNTtcbiAgcHJpdmF0ZSB6b29tX3ZhbHVlOiBudW1iZXIgPSAwLjE7XG4gIHByaXZhdGUgem9vbV9sYXN0X3ZhbHVlOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIGNhbnZhc194OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGNhbnZhc195OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc194OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc194X3N0YXJ0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc195OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc195X3N0YXJ0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1vdXNlX3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VfeTogbnVtYmVyID0gMDtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogV29ya2VyRmxvdykge1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMuZWxWaWV3ID0gdGhpcy5wYXJlbnQuY29udGFpbmVyPy5xdWVyeVNlbGVjdG9yKCcud29ya2VyZmxvdy1kZXNnaW4gLndvcmtlcmZsb3ctdmlldycpO1xuICAgIGlmICh0aGlzLmVsVmlldykge1xuICAgICAgdGhpcy5lbENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGhpcy5lbENhbnZhcy5jbGFzc0xpc3QuYWRkKFwid29ya2VyZmxvdy1jYW52YXNcIik7XG4gICAgICB0aGlzLmVsVmlldy5hcHBlbmRDaGlsZCh0aGlzLmVsQ2FudmFzKTtcbiAgICAgIHRoaXMuZWxWaWV3LnRhYkluZGV4ID0gMDtcbiAgICAgIHRoaXMuYWRkRXZlbnQoKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIGFkZEV2ZW50KCkge1xuICAgIGlmICghdGhpcy5lbFZpZXcpIHJldHVybjtcbiAgICAvKiBNb3VzZSBhbmQgVG91Y2ggQWN0aW9ucyAqL1xuICAgIHRoaXMuZWxWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRNb3ZlLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFZpZXcuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxWaWV3LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0TW92ZS5iaW5kKHRoaXMpKTtcbiAgICAvKiBDb250ZXh0IE1lbnUgKi9cbiAgICB0aGlzLmVsVmlldy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuY29udGV4dG1lbnUuYmluZCh0aGlzKSk7XG4gIH1cbiAgcHVibGljIFN0YXJ0TW92ZShlOiBhbnkpIHtcbiAgICB0aGlzLmZsZ0RyYXAgPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKFwiU3RhcnRNb3ZlXCIpO1xuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICB0aGlzLnBvc194ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnBvc194X3N0YXJ0ID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnBvc195ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB0aGlzLnBvc195X3N0YXJ0ID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zX3ggPSBlLmNsaWVudFg7XG4gICAgICB0aGlzLnBvc194X3N0YXJ0ID0gZS5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGUuY2xpZW50WTtcbiAgICAgIHRoaXMucG9zX3lfc3RhcnQgPSBlLmNsaWVudFk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBNb3ZlKGU6IGFueSkge1xuICAgIGlmICghdGhpcy5mbGdEcmFwIHx8ICF0aGlzLmVsQ2FudmFzKSByZXR1cm47XG5cbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChlLnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIGVfcG9zX3ggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGUuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBlLmNsaWVudFk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiTW92ZVwiKTtcbiAgICBsZXQgeCA9IHRoaXMuY2FudmFzX3ggKyAoLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpXG4gICAgbGV0IHkgPSB0aGlzLmNhbnZhc195ICsgKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKVxuICAgIC8vIHRoaXMuZGlzcGF0Y2goJ3RyYW5zbGF0ZScsIHsgeDogeCwgeTogeSB9KTtcbiAgICB0aGlzLmVsQ2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgeCArIFwicHgsIFwiICsgeSArIFwicHgpIHNjYWxlKFwiICsgdGhpcy56b29tICsgXCIpXCI7XG4gICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgdGhpcy5tb3VzZV94ID0gZV9wb3NfeDtcbiAgICAgIHRoaXMubW91c2VfeSA9IGVfcG9zX3k7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBFbmRNb3ZlKGU6IGFueSkge1xuICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgIGxldCBlX3Bvc194ID0gMDtcbiAgICBsZXQgZV9wb3NfeSA9IDA7XG4gICAgaWYgKGUudHlwZSA9PT0gXCJ0b3VjaGVuZFwiKSB7XG4gICAgICBlX3Bvc194ID0gdGhpcy5tb3VzZV94O1xuICAgICAgZV9wb3NfeSA9IHRoaXMubW91c2VfeTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGUuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBlLmNsaWVudFk7XG4gICAgfVxuXG4gICAgdGhpcy5jYW52YXNfeCA9IHRoaXMuY2FudmFzX3ggKyAoLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpO1xuICAgIHRoaXMuY2FudmFzX3kgPSB0aGlzLmNhbnZhc195ICsgKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKTtcbiAgfVxuICBwdWJsaWMgY29udGV4dG1lbnUoZTogYW55KSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBWaWV3RmxvdyB9IGZyb20gXCIuL2NvbXBvbmVudHMvVmlld0Zsb3dcIjtcblxuZXhwb3J0IGNsYXNzIFdvcmtlckZsb3cge1xuXG4gIHB1YmxpYyBjb250YWluZXI6IEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgcHVibGljIFZpZXc6IFZpZXdGbG93IHwgbnVsbDtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwid29ya2VyZmxvd1wiKTtcbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIndvcmtlcmZsb3ctY29udHJvbFwiPlxuICAgICAgPGRpdiBjbGFzcz1cIndvcmtlcmZsb3ctY29udHJvbF9faXRlbVwiIGRyYWdnYWJsZT1cInRydWVcIj5Ob2RlIDE8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwid29ya2VyZmxvdy1kZXNnaW5cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LWl0ZW1zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LWl0ZW1cIj5UaMO0bmcgdGluIG3hu5tpPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LWl0ZW1cIj5UaMO0bmcgdGluIG3hu5tpMTIzPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3b3JrZXJmbG93LXZpZXdcIj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGA7XG4gICAgdGhpcy5WaWV3ID0gbmV3IFZpZXdGbG93KHRoaXMpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiVmlld0Zsb3ciLCJlbFZpZXciLCJlbENhbnZhcyIsInBhcmVudCIsImZsZ0RyYXAiLCJ6b29tIiwiem9vbV9tYXgiLCJ6b29tX21pbiIsInpvb21fdmFsdWUiLCJ6b29tX2xhc3RfdmFsdWUiLCJjYW52YXNfeCIsImNhbnZhc195IiwicG9zX3giLCJwb3NfeF9zdGFydCIsInBvc195IiwicG9zX3lfc3RhcnQiLCJtb3VzZV94IiwibW91c2VfeSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImNvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsInRhYkluZGV4IiwiYWRkRXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiRW5kTW92ZSIsImJpbmQiLCJNb3ZlIiwiU3RhcnRNb3ZlIiwiY29udGV4dG1lbnUiLCJlIiwiY29uc29sZSIsImxvZyIsInR5cGUiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJlX3Bvc194IiwiZV9wb3NfeSIsIngiLCJ5Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJwcmV2ZW50RGVmYXVsdCIsIlZpZXciLCJpbm5lckhUTUwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs2Q0FFYUEsRUFDSEMsT0FDQUMsU0FBK0IsS0FDL0JDLE9BQ0FDLFNBQW1CLEVBQ25CQyxLQUFlLEVBQ2ZDLFNBQW1CLElBQ25CQyxTQUFtQixHQUNuQkMsV0FBcUIsR0FDckJDLGdCQUEwQixFQUMxQkMsU0FBbUIsRUFDbkJDLFNBQW1CLEVBQ25CQyxNQUFnQixFQUNoQkMsWUFBc0IsRUFDdEJDLE1BQWdCLEVBQ2hCQyxZQUFzQixFQUN0QkMsUUFBa0IsRUFDbEJDLFFBQWtCLEVBQzFCQyxZQUFtQmYsR0FDakJnQixLQUFLaEIsT0FBU0EsRUFDZGdCLEtBQUtsQixPQUFTa0IsS0FBS2hCLE9BQU9pQixXQUFXQyxjQUFjLHVDQUMvQ0YsS0FBS2xCLFNBQ1BrQixLQUFLakIsU0FBV29CLFNBQVNDLGNBQWMsT0FDdkNKLEtBQUtqQixTQUFTc0IsVUFBVUMsSUFBSSxxQkFDNUJOLEtBQUtsQixPQUFPeUIsWUFBWVAsS0FBS2pCLFVBQzdCaUIsS0FBS2xCLE9BQU8wQixTQUFXLEVBQ3ZCUixLQUFLUyxZQUdGQSxXQUNBVCxLQUFLbEIsU0FFVmtCLEtBQUtsQixPQUFPNEIsaUJBQWlCLFVBQVdWLEtBQUtXLFFBQVFDLEtBQUtaLE9BQzFEQSxLQUFLbEIsT0FBTzRCLGlCQUFpQixZQUFhVixLQUFLYSxLQUFLRCxLQUFLWixPQUN6REEsS0FBS2xCLE9BQU80QixpQkFBaUIsWUFBYVYsS0FBS2MsVUFBVUYsS0FBS1osT0FFOURBLEtBQUtsQixPQUFPNEIsaUJBQWlCLFdBQVlWLEtBQUtXLFFBQVFDLEtBQUtaLE9BQzNEQSxLQUFLbEIsT0FBTzRCLGlCQUFpQixZQUFhVixLQUFLYSxLQUFLRCxLQUFLWixPQUN6REEsS0FBS2xCLE9BQU80QixpQkFBaUIsYUFBY1YsS0FBS2MsVUFBVUYsS0FBS1osT0FFL0RBLEtBQUtsQixPQUFPNEIsaUJBQWlCLGNBQWVWLEtBQUtlLFlBQVlILEtBQUtaLFFBRTdEYyxVQUFVRSxHQUNmaEIsS0FBS2YsU0FBVSxFQUNmZ0MsUUFBUUMsSUFBSSxhQUNHLGVBQVhGLEVBQUVHLE1BQ0puQixLQUFLUCxNQUFRdUIsRUFBRUksUUFBUSxHQUFHQyxRQUMxQnJCLEtBQUtOLFlBQWNzQixFQUFFSSxRQUFRLEdBQUdDLFFBQ2hDckIsS0FBS0wsTUFBUXFCLEVBQUVJLFFBQVEsR0FBR0UsUUFDMUJ0QixLQUFLSixZQUFjb0IsRUFBRUksUUFBUSxHQUFHRSxVQUVoQ3RCLEtBQUtQLE1BQVF1QixFQUFFSyxRQUNmckIsS0FBS04sWUFBY3NCLEVBQUVLLFFBQ3JCckIsS0FBS0wsTUFBUXFCLEVBQUVNLFFBQ2Z0QixLQUFLSixZQUFjb0IsRUFBRU0sU0FHbEJULEtBQUtHLEdBQ1YsSUFBS2hCLEtBQUtmLFVBQVllLEtBQUtqQixTQUFVLE9BRXJDLElBQUl3QyxFQUFVLEVBQ1ZDLEVBQVUsRUFDQyxjQUFYUixFQUFFRyxNQUNKSSxFQUFVUCxFQUFFSSxRQUFRLEdBQUdDLFFBQ3ZCRyxFQUFVUixFQUFFSSxRQUFRLEdBQUdFLFVBRXZCQyxFQUFVUCxFQUFFSyxRQUNaRyxFQUFVUixFQUFFTSxTQUVkTCxRQUFRQyxJQUFJLFFBQ1osSUFBSU8sRUFBSXpCLEtBQUtULFdBQWNTLEtBQUtQLE1BQVE4QixHQUNwQ0csRUFBSTFCLEtBQUtSLFdBQWNRLEtBQUtMLE1BQVE2QixHQUV4Q3hCLEtBQUtqQixTQUFTNEMsTUFBTUMsVUFBWSxhQUFlSCxFQUFJLE9BQVNDLEVBQUksYUFBZTFCLEtBQUtkLEtBQU8sSUFDNUUsY0FBWDhCLEVBQUVHLE9BQ0puQixLQUFLSCxRQUFVMEIsRUFDZnZCLEtBQUtGLFFBQVUwQixHQUdaYixRQUFRSyxHQUNiaEIsS0FBS2YsU0FBVSxFQUNmLElBQUlzQyxFQUFVLEVBQ1ZDLEVBQVUsRUFDQyxhQUFYUixFQUFFRyxNQUNKSSxFQUFVdkIsS0FBS0gsUUFDZjJCLEVBQVV4QixLQUFLRixVQUVmeUIsRUFBVVAsRUFBRUssUUFDWkcsRUFBVVIsRUFBRU0sU0FHZHRCLEtBQUtULFNBQVdTLEtBQUtULFdBQWNTLEtBQUtQLE1BQVE4QixHQUNoRHZCLEtBQUtSLFNBQVdRLEtBQUtSLFdBQWNRLEtBQUtMLE1BQVE2QixHQUUzQ1QsWUFBWUMsR0FDakJBLEVBQUVhLCtCQzdGRzVCLFVBQ0E2QixLQUNQL0IsWUFBbUJFLEdBQ2pCRCxLQUFLQyxVQUFZQSxFQUNqQkQsS0FBS0MsVUFBVUksVUFBVUMsSUFBSSxjQUM3Qk4sS0FBS0MsVUFBVThCLFVBQVkscVpBYTNCL0IsS0FBSzhCLEtBQU8sSUFBSWpELEVBQVNtQiJ9
