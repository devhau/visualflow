/**
   * @license
   * author: Nguyen Van Hau
   * visualflow.js v0.0.1-beta2
   * Released under the MIT license.
   */
var visualflow=function(){"use strict";const e="dataChange",t="showProperty",s="change",i="dispose",n="vs-left",o="vs-top",a="vs-view",h="vs-bottom",d="vs-right",r="main_project";class l{main;elNode=document.createElement("div");constructor(e,t){this.main=t,e.appendChild(this.elNode),this.elNode.innerHTML="DockBase"}BoxInfo(e,t){this.elNode.classList.remove("vs-boxinfo"),this.elNode.classList.add("vs-boxinfo"),this.elNode.innerHTML=`<div class="vs-boxinfo_title">${e}</div>\n    <div class="vs-boxinfo_content"></div>`,t&&t(this.elNode.querySelector(".vs-boxinfo_content"))}}class c extends l{main;constructor(e,t){super(e,t),this.main=t,this.elNode.classList.add("vs-control"),this.BoxInfo("Control",(e=>{let t=this.main.getControlAll();Object.keys(t).forEach((s=>{let i=document.createElement("div");i.classList.add("node-item"),i.setAttribute("draggable","true"),i.setAttribute("data-node",s),i.innerHTML=t[s].name,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),e.appendChild(i)}))}))}dragend(e){this.main.setControlChoose(null)}dragStart(e){let t=e.target.closest(".node-item").getAttribute("data-node");this.main.setControlChoose(t),"touchstart"!==e.type&&e.dataTransfer.setData("node",t)}}var p;!function(e){e[e.Label=0]="Label",e[e.Text=1]="Text",e[e.Inline=2]="Inline"}(p||(p={}));class v{data;key;type;isEdit=!1;elInput=null;elLabel=null;elNode=document.createElement("div");constructor(t,s,n=null,o=p.Label,a=!1){this.data=t,this.key=s,this.type=o,this.data=t,this.data.onSafe(`${e}_${s}`,this.changeData.bind(this)),this.data.onSafe(i,this.dispose.bind(this)),this.isEdit=o===p.Text,this.elNode.classList.add("node-editor"),a&&n?(n.parentElement?.insertBefore(this.elNode,n),n.parentElement?.removeChild(n),n?.remove()):n&&n.appendChild(this.elNode),this.render()}render(){let e=this.data.Get(this.key);if(this.isEdit){if(this.elLabel&&(this.elLabel.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.remove(),this.elLabel=null),this.elInput)return void(this.elInput.value=e);this.elInput=document.createElement("input"),this.elInput.classList.add("node-form-control"),this.elInput.addEventListener("keydown",this.inputData.bind(this)),this.elInput.value=e,this.elInput.setAttribute("node:model",this.key),this.elNode.appendChild(this.elInput)}else{if(this.elInput&&(this.elInput.removeEventListener("keyup",this.inputData.bind(this)),this.elInput.remove(),this.elInput=null),this.elLabel)return void(this.elLabel.innerHTML=e);this.elLabel=document.createElement("span"),this.type==p.Inline&&this.elLabel.addEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.setAttribute("node:model",this.key),this.elLabel.innerHTML=e,this.elNode.appendChild(this.elLabel)}}switchModeEdit(){this.isEdit=!0,this.render()}inputData(e){setTimeout((()=>{this.data.Set(this.key,e.target.value,this)}))}changeData({key:e,value:t,sender:s}){this.render()}dispose(){this.elInput?.removeEventListener("keydown",this.inputData.bind(this)),this.elLabel?.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.data.removeListener(`${e}_${this.key}`,this.changeData.bind(this)),this.data.removeListener(i,this.dispose.bind(this))}}class u extends l{main;lastData;labelKeys=["id","key"];dataJson=document.createElement("textarea");constructor(e,s){super(e,s),this.main=s,this.elNode.classList.add("vs-property"),this.BoxInfo("Property",(e=>{s.on(t,(t=>{this.renderUI(e,t.data)}))}))}renderUI(t,s){if(this.lastData==s)return;this.lastData=s,t.innerHTML="";let i=s.getProperties();Object.keys(i).forEach((e=>{let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=e;let o=document.createElement("div");o.classList.add("property-value"),this.labelKeys.includes(e)?new v(s,e,o,p.Label):new v(s,e,o,p.Text),i.appendChild(n),i.appendChild(o),t.appendChild(i)})),t.appendChild(this.dataJson),this.dataJson.value=s.toString(),this.dataJson.classList.add("node-form-control"),s.on(e,(()=>this.dataJson.value=s.toString()))}}class m{events={};constructor(){}onSafe(e,t){this.removeListener(e,t),this.on(e,t)}on(e,t){return"function"!=typeof t?(console.error("The listener callback must be a function, the given type is "+typeof t),!1):"string"!=typeof e?(console.error("The event name must be a string, the given type is "+typeof e),!1):(void 0===this.events[e]&&(this.events[e]={listeners:[]}),void this.events[e].listeners.push(t))}removeListener(e,t){if(!this.events[e])return!1;const s=this.events[e].listeners,i=s.indexOf(t);i>-1&&s.splice(i,1)}dispatch(e,t){if(void 0===this.events[e])return!1;this.events[e].listeners.forEach((e=>{e(t)}))}}class f{property;data={};properties=null;events;getProperties(){return this.properties}onSafe(e,t){this.events.onSafe(e,t)}on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}constructor(e,t){this.property=e,this.events=new m,t&&this.load(t)}InitData(e=null,t=-1){-1!==t&&(this.properties=t),this.load(e)}eventDataChange(t,s,i,n,o){o?(this.dispatch(`${e}_${t}_${o}_${s}`,{key:t,keyChild:s,value:i,sender:n,index:o}),this.dispatch(`${e}_${t}_${o}`,{key:t,keyChild:s,value:i,sender:n,index:o})):this.dispatch(`${e}_${t}_${s}`,{key:t,keyChild:s,value:i,sender:n}),this.dispatch(`${e}_${t}`,{key:t,keyChild:s,value:i,sender:n})}RemoveEventData(t,s,i){t&&t.removeListener(`${e}`,(({key:e,value:t,sender:n})=>this.eventDataChange(s,e,t,n,i)))}OnEventData(t,s,i){t&&t.on(`${e}`,(({key:e,value:t,sender:n})=>this.eventDataChange(s,e,t,n,i)))}BindEvent(e,t){e&&(e instanceof f&&this.OnEventData(e,t),Array.isArray(e)&&e.length>0&&e[0]instanceof f&&e.forEach(((e,s)=>this.OnEventData(e,t,s))))}Set(t,i,n=null){this.data[t]!=i&&(this.data[t]&&(this.data[t]instanceof f&&this.RemoveEventData(this.data[t],t),Array.isArray(this.data[t])&&this.data[t].length>0&&this.data[t][0]instanceof f&&this.data[t].forEach(((e,s)=>this.RemoveEventData(e,t,s)))),this.BindEvent(i,t)),this.data[t]=i,this.dispatch(`${e}_${t}`,{key:t,value:i,sender:n}),this.dispatch(e,{key:t,value:i,sender:n}),this.dispatch(s,{key:t,value:i,sender:n})}Get(e){return this.data[e]}Append(e,t){this.data[e]=[...this.data[e],t],this.BindEvent(t,e)}Remove(e,t){this.data[e].indexOf(t);var s=this.data[e].indexOf(t);s>-1&&(this.RemoveEventData(this.data[e][s],e),this.data[e].splice(s,1))}load(e){if(this.data={},this.properties||(this.properties=this.property?.getPropertyByKey(e.key)),this.properties)for(let t of Object.keys(this.properties))this.data[t]=e?.[t]??("function"==typeof this.properties[t]?.default?this.properties[t]?.default():this.properties[t]?.default)??"",this.BindEvent(this.data[t],t)}toString(){return JSON.stringify(this.toJson())}toJson(){let e={};for(let t of Object.keys(this.properties))e[t]=this.Get(t),e[t]instanceof f&&(e[t]=e[t].toJson()),Array.isArray(e[t])&&e[t].length>0&&e[t][0]instanceof f&&(e[t]=e[t].map((e=>e.toJson())));return e}delete(){this.events=new m,this.data={}}}class y{GetId(){return this.data.Get("id")}SetId(e){return this.data.Set("id",e)}properties={};data=new f;elNode=document.createElement("div");CheckElementChild(e){return this.elNode==e||this.elNode.contains(e)}events;setData(e){this.data=e,this.BindDataEvent(),this.dispatch("bind_data_event",{data:e,sender:this})}onSafe(e,t){this.events.onSafe(e,t)}on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}BindDataEvent(){this.data.on(e,(({key:t,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${e}_${t}`,{type:"data",key:t,value:s,sender:i}),this.dispatch(e,{type:"data",key:t,value:s,sender:i})}))})),this.data.on(s,(({key:e,value:t,sender:i})=>{setTimeout((()=>{this.dispatch(s,{type:"data",key:e,value:t,sender:i})}))}))}constructor(){this.events=new m,this.BindDataEvent()}}class g extends y{parent;constructor(e){super(),this.parent=e}}const L=()=>(new Date).getTime();class C{from;fromIndex;to;toIndex;elNode=document.createElementNS("http://www.w3.org/2000/svg","svg");elPath=document.createElementNS("http://www.w3.org/2000/svg","path");data=new f;curvature=.5;constructor(e,t=0,s,i=0){this.from=e,this.fromIndex=t,this.to=s,this.toIndex=i,this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elNode.classList.add("connection"),this.elNode.appendChild(this.elPath),this.from.parent.elCanvas.appendChild(this.elNode),this.from.AddLine(this),this.to?.AddLine(this),this.data.InitData({},{from:{default:this.from.GetId()},fromIndex:{default:this.fromIndex},to:{default:this.to?.GetId()},toIndex:{default:this.toIndex}}),this.from.data.Append("lines",this.data)}updateTo(e,t){if(!this.from||null==this.from.elNode)return;let{x:s,y:i}=this.from.getPostisionDot(this.fromIndex);var n=this.createCurvature(s,i,e,t,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",n)}UpdateUI(){if(this.to&&this.to.elNode){let{x:e,y:t}=this.to.getPostisionDot(this.toIndex);this.updateTo(e,t)}return this}Active(e=!0){e?this.elPath.classList.add("active"):this.elPath.classList.remove("active")}createCurvature(e,t,s,i,n,o){let a=e,h=t,d=s,r=i,l=n;switch(o){case"open":if(e>=s)var c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+h+" C "+c+" "+h+" "+p+" "+r+" "+d+"  "+r;case"close":if(e>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*l;else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+h+" C "+c+" "+h+" "+p+" "+r+" "+d+"  "+r;case"other":if(e>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+h+" C "+c+" "+h+" "+p+" "+r+" "+d+"  "+r;default:return" M "+a+" "+h+" C "+(c=a+Math.abs(d-a)*l)+" "+h+" "+(p=d-Math.abs(d-a)*l)+" "+r+" "+d+"  "+r}}delete(e=null){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),this.from.data.Remove("lines",this.data),this.from!=e&&this.from.RemoveLine(this),this.to!=e&&this.to?.RemoveLine(this),this.elPath.remove(),this.elNode.remove()}StartSelected(e){this.from.parent.setLineChoose(this)}setNodeTo(e,t){this.to=e,this.toIndex=t}Clone(){if(this.to&&this.toIndex)return new C(this.from,this.fromIndex,this.to,this.toIndex).UpdateUI()}}var N;!function(e){e[e.None=0]="None",e[e.Node=1]="Node",e[e.Canvas=2]="Canvas",e[e.Line=3]="Line"}(N||(N={}));const b=1.6,k=.6,E=.1,_=1;class x{parent;zoom_last_value=1;timeFastClick=0;tagIngore=["input","button","a","textarea"];moveType=N.None;flgDrap=!1;flgMove=!1;av_x=0;av_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;tempLine;constructor(e){this.parent=e,this.parent.elNode.addEventListener("mouseup",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mouseleave",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mousemove",this.Move.bind(this)),this.parent.elNode.addEventListener("mousedown",this.StartMove.bind(this)),this.parent.elNode.addEventListener("touchend",this.EndMove.bind(this)),this.parent.elNode.addEventListener("touchmove",this.Move.bind(this)),this.parent.elNode.addEventListener("touchstart",this.StartMove.bind(this)),this.parent.elNode.addEventListener("contextmenu",this.contextmenu.bind(this)),this.parent.elNode.addEventListener("drop",this.node_dropEnd.bind(this)),this.parent.elNode.addEventListener("dragover",this.node_dragover.bind(this)),this.parent.elNode.addEventListener("wheel",this.zoom_enter.bind(this)),this.parent.elNode.addEventListener("keydown",this.keydown.bind(this))}contextmenu(e){e.preventDefault()}node_dragover(e){e.preventDefault()}node_dropEnd(e){e.preventDefault();let t=this.parent.main.getControlChoose();if(t||"touchend"===e.type||(t=e.dataTransfer.getData("node")),!t)return;let s=0,i=0;"touchmove"===e.type?(s=e.touches[0].clientX,i=e.touches[0].clientY):(s=e.clientX,i=e.clientY);let n=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-s),o=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-i);this.parent.checkOnlyNode(t)||this.parent.AddNode(t).updatePosition(n,o)}zoom_enter(e){e.ctrlKey&&(e.preventDefault(),e.deltaY>0?this.zoom_out():this.zoom_in())}zoom_refresh(e=0){let t=0==e?_:this.parent.getZoom()+E*e;b>=t&&t>=k&&(this.parent.setX(this.parent.getX()/this.zoom_last_value*t),this.parent.setY(this.parent.getY()/this.zoom_last_value*t),this.zoom_last_value=t,this.parent.setZoom(this.zoom_last_value))}zoom_in(){this.zoom_refresh(1)}zoom_out(){this.zoom_refresh(-1)}zoom_reset(){this.zoom_refresh(0)}StartMove(e){if(this.tagIngore.includes(e.target.tagName.toLowerCase()))return;if(this.timeFastClick=L(),e.target.classList.contains("main-path"))return;"touchstart"===e.type?(this.pos_x=e.touches[0].clientX,this.pos_y=e.touches[0].clientY):(this.pos_x=e.clientX,this.pos_y=e.clientY),this.moveType=N.Canvas;let t=this.parent.getNodeChoose();if(t&&t.CheckElementChild(e.target)?this.moveType=N.Node:this.parent.setNodeChoose(void 0),t&&this.moveType==N.Node&&e.target.classList.contains("node-dot")){this.moveType=N.Line;let s=e.target.getAttribute("node");this.tempLine=new C(t,s)}this.moveType==N.Canvas&&(this.av_x=this.parent.getX(),this.av_y=this.parent.getY()),this.flgDrap=!0,this.flgMove=!1}Move(e){if(!this.flgDrap)return;this.flgMove=!0;let t=0,s=0;switch("touchmove"===e.type?(t=e.touches[0].clientX,s=e.touches[0].clientY):(t=e.clientX,s=e.clientY),this.moveType){case N.Canvas:{let e=this.av_x+this.parent.CalcX(-(this.pos_x-t)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(e),this.parent.setY(i);break}case N.Node:{let e=this.parent.CalcX(this.pos_x-t),i=this.parent.CalcY(this.pos_y-s);this.pos_x=t,this.pos_y=s,this.parent.getNodeChoose()?.updatePosition(e,i);break}case N.Line:if(this.tempLine){let i=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-t),n=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-s);this.tempLine.updateTo(this.parent.elCanvas.offsetLeft-i,this.parent.elCanvas.offsetTop-n);let o=e.target.closest("[node-id]"),a=o?.getAttribute("node-id"),h=a?this.parent.GetNodeById(a):void 0;if(h&&e.target.classList.contains("node-dot")){let t=e.target.getAttribute("node");this.tempLine.setNodeTo(h,t)}else{let e=o?.querySelector(".node-dot")?.[0]?.getAttribute("node");this.tempLine.setNodeTo(h,e)}}}"touchmove"===e.type&&(this.mouse_x=t,this.mouse_y=s)}EndMove(e){if(!this.flgDrap)return;if(L()-this.timeFastClick<100||!this.flgMove)return this.moveType=N.None,this.flgDrap=!1,void(this.flgMove=!1);let t=0,s=0;if("touchend"===e.type?(t=this.mouse_x,s=this.mouse_y):(t=e.clientX,s=e.clientY),this.moveType===N.Canvas){let e=this.av_x+this.parent.CalcX(-(this.pos_x-t)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(e),this.parent.setY(i),this.av_x=0,this.av_y=0}this.tempLine&&(this.tempLine.Clone(),this.tempLine.delete(),this.tempLine=void 0),this.pos_x=t,this.pos_y=s,this.moveType=N.None,this.flgDrap=!1,this.flgMove=!1}keydown(e){("Delete"===e.key||"Backspace"===e.key&&e.metaKey)&&(e.preventDefault(),this.parent.getNodeChoose()?.delete(),this.parent.getLineChoose()?.delete()),"F2"===e.key&&(e.preventDefault(),console.log(this.parent.data.toJson()))}}class I extends g{keyNode;getY(){return+this.data.Get("y")}setY(e){return this.data.Set("y",e,this)}getX(){return+this.data.Get("x")}setX(e){return this.data.Set("x",e,this)}CheckKey(e){return this.data.Get("key")==e}elContent;arrLine=[];option={};constructor(t,s,i={}){super(t),this.keyNode=s,this.option=this.parent.main.getControlNodeByKey(s),this.properties=this.option?.properties,this.data.InitData(i,this.properties),this.data.on(e,this.renderUI.bind(this)),this.elNode.classList.add("vs-node"),this.option.class&&this.elNode.classList.add(this.option.class),this.parent.elCanvas.appendChild(this.elNode),this.elNode.setAttribute("node-id",this.GetId()),this.elNode.addEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.addEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.parent.data.Append("nodes",this.data),this.renderUI()}renderUI(){this.elNode.setAttribute("style","display:none;"),this.elNode.innerHTML=`\n      <div class="node-left">\n        <div class="node-dot" node="4000"></div>\n      </div>\n      <div class="node-container">\n        <div class="node-top">\n          <div class="node-dot" node="1000"></div>\n        </div>\n        <div class="node-content">${this.option.html}</div>\n        <div class="node-bottom">\n          <div class="node-dot" node="2000"></div>\n        </div>\n      </div>\n      <div class="node-right">\n        <div class="node-dot"  node="3000"></div>\n      </div>\n    `,this.elContent=this.elNode.querySelector(".node-content"),this.UpdateUI()}updatePosition(e,t,s=!1){this.elNode&&(s?(e!==this.getX()&&this.setX(e),t!==this.getY()&&this.setX(t)):(this.setY(this.elNode.offsetTop-t),this.setX(this.elNode.offsetLeft-e)))}Active(e=!0){e?this.elNode.classList.add("active"):this.elNode.classList.remove("active")}RemoveLine(e){var t=this.arrLine.indexOf(e);return t>-1&&this.arrLine.splice(t,1),this.arrLine}AddLine(e){this.arrLine=[...this.arrLine,e]}getPostisionDot(e=0){let t=this.elNode?.querySelector(`.node-dot[node="${e}"]`);if(t){let e=this.elNode.offsetTop+t.offsetTop+10;return{x:this.elNode.offsetLeft+t.offsetLeft+10,y:e}}return{}}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((e=>{e.UpdateUI()}))}delete(e=!0){this.arrLine.forEach((e=>e.delete(this))),this.data.delete(),this.elNode.removeEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.removeEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.elNode.remove(),this.arrLine=[],e&&this.parent.RemoveNode(this),this.dispatch(s,{})}}class M extends y{main;getZoom(){return+this.data.Get("zoom")}setZoom(e){return this.data.Set("zoom",e,this)}getY(){return+this.data.Get("y")}setY(e){return this.data.Set("y",e,this)}getX(){return+this.data.Get("x")}setX(e){return this.data.Set("x",e,this)}view_event;lineChoose;setLineChoose(e){this.lineChoose&&this.lineChoose.Active(!1),this.lineChoose=e,this.lineChoose&&(this.lineChoose.Active(),this.setNodeChoose(void 0))}getLineChoose(){return this.lineChoose}nodes=[];nodeChoose;setNodeChoose(e){this.nodeChoose&&this.nodeChoose.Active(!1),this.nodeChoose=e,this.nodeChoose?(this.nodeChoose.Active(),this.setLineChoose(void 0),this.dispatch(t,{data:this.nodeChoose.data})):this.dispatch(t,{data:this.data})}getNodeChoose(){return this.nodeChoose}AddNode(e,t={}){return this.InsertNode(new I(this,e,t))}InsertNode(e){return this.nodes=[...this.nodes,e],e}RemoveNode(e){var t=this.nodes.indexOf(e);return this.data.Remove("nodes",e),t>-1&&this.nodes.splice(t,1),this.nodes}elCanvas=document.createElement("div");constructor(t,s){super(),this.main=s,this.elNode=t;let i=this.main.getPropertyByKey(r);this.data.InitData({},i),this.RenderUI(),this.UpdateUI(),this.on(e,this.RenderUI.bind(this)),this.view_event=new x(this)}updateView(e,t,s){this.elCanvas.style.transform=`translate(${e}px, ${t}px) scale(${s})`}UpdateUI(){setTimeout((()=>{this.updateView(this.getX(),this.getY(),this.getZoom())}))}RenderUI(){this.elNode.innerHTML="",this.elNode.classList.remove("desginer-view"),this.elCanvas.classList.remove("desginer-canvas"),this.elNode.classList.add("desginer-view"),this.elCanvas.classList.add("desginer-canvas"),this.elNode.appendChild(this.elCanvas),this.elNode.tabIndex=0,this.UpdateUI()}CalcX(e){return e*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(e){return e*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}GetAllNode(){return this.nodes||[]}GetNodeById(e){return this.GetAllNode().filter((t=>t.GetId()==e))?.[0]}checkOnlyNode(e){return this.main.getControlByKey(e).onlyNode&&this.nodes.filter((t=>t.CheckKey(e))).length>0}}class $ extends l{main;constructor(e,s){super(e,s),this.main=s,new M(this.elNode,s).on(t,(e=>s.dispatch(t,e)))}}class D{container;main;$dockManager={};constructor(e,t){this.container=e,this.main=t}reset(){this.$dockManager={},this.addDock(n,c),this.addDock(d,u),this.addDock(a,$),this.addDock(o,l),this.addDock(h,l),this.RenderUI()}addDock(e,t){this.$dockManager[e]||(this.$dockManager[e]=[]),this.$dockManager[e]=[...this.$dockManager[e],t]}RenderUI(){this.container.innerHTML='\n      <div class="vs-left vs-dock"></div>\n      <div class="vs-content">\n        <div class="vs-top vs-dock"></div>\n        <div class="vs-view vs-dock"></div>\n        <div class="vs-bottom vs-dock"></div>\n      </div>\n      <div class="vs-right vs-dock"></div>\n    ',Object.keys(this.$dockManager).forEach((e=>{let t=this.container.querySelector(`.${e}`);t&&this.$dockManager[e].forEach((e=>{new e(t,this.main)}))}))}}return class{container;$properties={};$control={};$controlChoose=null;$dockManager;events;getDockManager(){return this.$dockManager}onSafe(e,t){this.events.onSafe(e,t)}on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}getControlAll(){return this.$control??{}}constructor(e,t=null){this.container=e,this.events=new m,this.$properties[r]={...t?.properties||{},id:{default:()=>L()},name:{default:""},x:{default:0},y:{default:0},zoom:{default:1},nodes:{default:[]}},this.$control=t?.control||{},Object.keys(this.$control).forEach((e=>{this.$properties[`node_${e}`]={...this.$control[e].properties||{},id:{default:()=>L()},key:{default:e},name:{default:""},x:{default:0},y:{default:0},lines:{default:[]}}})),this.container.classList.remove("vs-container"),this.container.classList.add("vs-container"),this.$dockManager=new D(this.container,this),this.$dockManager.reset()}setControlChoose(e){this.$controlChoose=e}getControlChoose(){return this.$controlChoose}getControlByKey(e){return this.$control[e]||{}}getControlNodeByKey(e){return{...this.getControlByKey(e),properties:this.getPropertyByKey(`node_${e}`)}}getPropertyByKey(e){return this.$properties[e]}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL0NvbnN0YW50LnRzIiwiLi4vc3JjL2RvY2svRG9ja0Jhc2UudHMiLCIuLi9zcmMvZG9jay9Db250cm9sRG9jay50cyIsIi4uL3NyYy9jb3JlL0VkaXRvci50cyIsIi4uL3NyYy9kb2NrL1Byb3BlcnR5RG9jay50cyIsIi4uL3NyYy9jb3JlL0V2ZW50Rmxvdy50cyIsIi4uL3NyYy9jb3JlL0RhdGFGbG93LnRzIiwiLi4vc3JjL2NvcmUvQmFzZUZsb3cudHMiLCIuLi9zcmMvY29yZS9VdGlscy50cyIsIi4uL3NyYy9kZXNnaW5lci9MaW5lLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlld19FdmVudC50cyIsIi4uL3NyYy9kZXNnaW5lci9Ob2RlLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlldy50cyIsIi4uL3NyYy9kb2NrL1ZpZXdEb2NrLnRzIiwiLi4vc3JjL2RvY2svRG9ja01hbmFnZXIudHMiLCIuLi9zcmMvVmlzdWFsRmxvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRXZlbnRFbnVtID0ge1xuICBpbml0OiBcImluaXRcIixcbiAgZGF0YUNoYW5nZTogXCJkYXRhQ2hhbmdlXCIsXG4gIHNob3dQcm9wZXJ0eTogXCJzaG93UHJvcGVydHlcIixcbiAgY2hhbmdlOiBcImNoYW5nZVwiLFxuICBkaXNwb3NlOiBcImRpc3Bvc2VcIlxufVxuXG5leHBvcnQgY29uc3QgRG9ja0VudW0gPSB7XG4gIGxlZnQ6IFwidnMtbGVmdFwiLFxuICB0b3A6IFwidnMtdG9wXCIsXG4gIHZpZXc6IFwidnMtdmlld1wiLFxuICBib3R0b206IFwidnMtYm90dG9tXCIsXG4gIHJpZ2h0OiBcInZzLXJpZ2h0XCIsXG59XG5cbmV4cG9ydCBjb25zdCBQcm9wZXJ0eUVudW0gPSB7XG4gIG1haW46IFwibWFpbl9wcm9qZWN0XCJcbn07XG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBEb2NrQmFzZSB7XG4gIHB1YmxpYyBlbE5vZGU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICdEb2NrQmFzZSc7XG4gIH1cbiAgcHVibGljIEJveEluZm8odGl0bGU6IHN0cmluZywgJGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QucmVtb3ZlKCd2cy1ib3hpbmZvJyk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtYm94aW5mbycpO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwidnMtYm94aW5mb190aXRsZVwiPiR7dGl0bGV9PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInZzLWJveGluZm9fY29udGVudFwiPjwvZGl2PmA7XG4gICAgaWYgKCRjYWxsYmFjaykge1xuICAgICAgJGNhbGxiYWNrKHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2NvbnRlbnQnKSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb250cm9sRG9jayBleHRlbmRzIERvY2tCYXNlIHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtY29udHJvbCcpO1xuICAgIHRoaXMuQm94SW5mbygnQ29udHJvbCcsIChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgbGV0IGNvbnRyb2xzID0gdGhpcy5tYWluLmdldENvbnRyb2xBbGwoKTtcbiAgICAgIE9iamVjdC5rZXlzKGNvbnRyb2xzKS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ25vZGUtaXRlbScpO1xuICAgICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJywgaXRlbSk7XG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGNvbnRyb2xzW2l0ZW1dLm5hbWU7XG4gICAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuZHJhZ1N0YXJ0LmJpbmQodGhpcykpXG4gICAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCB0aGlzLmRyYWdlbmQuYmluZCh0aGlzKSlcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChub2RlSXRlbSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBwcml2YXRlIGRyYWdlbmQoZTogYW55KSB7XG4gICAgdGhpcy5tYWluLnNldENvbnRyb2xDaG9vc2UobnVsbCk7XG4gIH1cblxuICBwcml2YXRlIGRyYWdTdGFydChlOiBhbnkpIHtcbiAgICBsZXQga2V5ID0gZS50YXJnZXQuY2xvc2VzdChcIi5ub2RlLWl0ZW1cIikuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnKTtcbiAgICB0aGlzLm1haW4uc2V0Q29udHJvbENob29zZShrZXkpO1xuICAgIGlmIChlLnR5cGUgIT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwibm9kZVwiLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUZsb3csIEZsb3dDb3JlIH0gZnJvbSBcIi4vQmFzZUZsb3dcIlxuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4vQ29uc3RhbnRcIjtcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4vRGF0YUZsb3dcIjtcbmltcG9ydCB7IExPRyB9IGZyb20gXCIuL1V0aWxzXCI7XG5leHBvcnQgZW51bSBFZGl0b3JUeXBlIHtcbiAgTGFiZWwsXG4gIFRleHQsXG4gIElubGluZVxufVxuZXhwb3J0IGNsYXNzIEVkaXRvciB7XG4gIHByaXZhdGUgaXNFZGl0OiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgZWxJbnB1dDogSFRNTERhdGFFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZWxMYWJlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBlbE5vZGU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZGF0YTogRGF0YUZsb3csIHByaXZhdGUga2V5OiBzdHJpbmcsIGVsOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsLCBwcml2YXRlIHR5cGU6IEVkaXRvclR5cGUgPSBFZGl0b3JUeXBlLkxhYmVsLCBjaGFnbmU6IGJvb2xlYW4gPSBmYWxzZSkge1xuXG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB0aGlzLmRhdGEub25TYWZlKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB0aGlzLmNoYW5nZURhdGEuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kYXRhLm9uU2FmZShFdmVudEVudW0uZGlzcG9zZSwgdGhpcy5kaXNwb3NlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuaXNFZGl0ID0gdHlwZSA9PT0gRWRpdG9yVHlwZS5UZXh0O1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ25vZGUtZWRpdG9yJyk7XG4gICAgaWYgKGNoYWduZSAmJiBlbCkge1xuICAgICAgZWwucGFyZW50RWxlbWVudD8uaW5zZXJ0QmVmb3JlKHRoaXMuZWxOb2RlLCBlbCk7XG4gICAgICBlbC5wYXJlbnRFbGVtZW50Py5yZW1vdmVDaGlsZChlbCk7XG4gICAgICBlbD8ucmVtb3ZlKCk7XG4gICAgfSBlbHNlIGlmIChlbCkge1xuICAgICAgZWwuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgIH1cbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG4gIHB1YmxpYyByZW5kZXIoKSB7XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGEuR2V0KHRoaXMua2V5KTtcblxuICAgIGlmICh0aGlzLmlzRWRpdCkge1xuICAgICAgaWYgKHRoaXMuZWxMYWJlbCkge1xuICAgICAgICB0aGlzLmVsTGFiZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLnN3aXRjaE1vZGVFZGl0LmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmVsTGFiZWwucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuZWxMYWJlbCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lbElucHV0KSB7XG4gICAgICAgIHRoaXMuZWxJbnB1dC52YWx1ZSA9IGRhdGE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWxJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICB0aGlzLmVsSW5wdXQuY2xhc3NMaXN0LmFkZCgnbm9kZS1mb3JtLWNvbnRyb2wnKTtcbiAgICAgIHRoaXMuZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmVsSW5wdXQudmFsdWUgPSBkYXRhO1xuICAgICAgdGhpcy5lbElucHV0LnNldEF0dHJpYnV0ZSgnbm9kZTptb2RlbCcsIHRoaXMua2V5KTtcbiAgICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxJbnB1dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmVsSW5wdXQpIHtcbiAgICAgICAgdGhpcy5lbElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZWxJbnB1dC5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5lbElucHV0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmVsTGFiZWwpIHtcbiAgICAgICAgdGhpcy5lbExhYmVsLmlubmVySFRNTCA9IGRhdGE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWxMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgIGlmICh0aGlzLnR5cGUgPT0gRWRpdG9yVHlwZS5JbmxpbmUpIHtcbiAgICAgICAgdGhpcy5lbExhYmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5zd2l0Y2hNb2RlRWRpdC5iaW5kKHRoaXMpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWxMYWJlbC5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleSk7XG4gICAgICB0aGlzLmVsTGFiZWwuaW5uZXJIVE1MID0gZGF0YTtcbiAgICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxMYWJlbCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBzd2l0Y2hNb2RlRWRpdCgpIHtcbiAgICB0aGlzLmlzRWRpdCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuICBwdWJsaWMgaW5wdXREYXRhKGU6IGFueSkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhLlNldCh0aGlzLmtleSwgZS50YXJnZXQudmFsdWUsIHRoaXMpO1xuICAgIH0pXG4gIH1cbiAgcHVibGljIGNoYW5nZURhdGEoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSB7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuICBwdWJsaWMgZGlzcG9zZSgpIHtcbiAgICB0aGlzLmVsSW5wdXQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmlucHV0RGF0YS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTGFiZWw/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5zd2l0Y2hNb2RlRWRpdC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRhdGEucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7dGhpcy5rZXl9YCwgdGhpcy5jaGFuZ2VEYXRhLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uZGlzcG9zZSwgdGhpcy5kaXNwb3NlLmJpbmQodGhpcykpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBFZGl0b3IsIEVkaXRvclR5cGUgfSBmcm9tIFwiLi4vY29yZS9FZGl0b3JcIjtcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5RG9jayBleHRlbmRzIERvY2tCYXNlIHtcbiAgcHJpdmF0ZSBsYXN0RGF0YTogRGF0YUZsb3cgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbGFiZWxLZXlzOiBzdHJpbmdbXSA9IFsnaWQnLCAna2V5J107XG4gIHByaXZhdGUgZGF0YUpzb246IEhUTUxUZXh0QXJlYUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcblxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXByb3BlcnR5Jyk7XG4gICAgdGhpcy5Cb3hJbmZvKCdQcm9wZXJ0eScsIChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgbWFpbi5vbihFdmVudEVudW0uc2hvd1Byb3BlcnR5LCAoZGV0YWlsOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5yZW5kZXJVSShub2RlLCBkZXRhaWwuZGF0YSk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHByaXZhdGUgcmVuZGVyVUkobm9kZTogSFRNTEVsZW1lbnQsIGRhdGE6IERhdGFGbG93KSB7XG4gICAgaWYgKHRoaXMubGFzdERhdGEgPT0gZGF0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxhc3REYXRhID0gZGF0YTtcbiAgICBub2RlLmlubmVySFRNTCA9ICcnO1xuICAgIGxldCBwcm9wZXJ0aWVzOiBhbnkgPSBkYXRhLmdldFByb3BlcnRpZXMoKVxuICAgIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBsZXQgcHJvcGVydHlJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwcm9wZXJ0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvcGVydHktaXRlbScpO1xuICAgICAgbGV0IHByb3BlcnR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5TGFiZWwuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktbGFiZWwnKTtcbiAgICAgIHByb3BlcnR5TGFiZWwuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgbGV0IHByb3BlcnR5VmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5VmFsdWUuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktdmFsdWUnKTtcbiAgICAgIGlmICh0aGlzLmxhYmVsS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIG5ldyBFZGl0b3IoZGF0YSwga2V5LCBwcm9wZXJ0eVZhbHVlLCBFZGl0b3JUeXBlLkxhYmVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ldyBFZGl0b3IoZGF0YSwga2V5LCBwcm9wZXJ0eVZhbHVlLCBFZGl0b3JUeXBlLlRleHQpO1xuICAgICAgfVxuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5TGFiZWwpO1xuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5VmFsdWUpO1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChwcm9wZXJ0eUl0ZW0pO1xuICAgIH0pO1xuICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kYXRhSnNvbik7XG4gICAgdGhpcy5kYXRhSnNvbi52YWx1ZSA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICB0aGlzLmRhdGFKc29uLmNsYXNzTGlzdC5hZGQoJ25vZGUtZm9ybS1jb250cm9sJyk7XG4gICAgZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgKCkgPT4gdGhpcy5kYXRhSnNvbi52YWx1ZSA9IGRhdGEudG9TdHJpbmcoKSlcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEV2ZW50RmxvdyB7XG4gIHByaXZhdGUgZXZlbnRzOiBhbnkgPSB7fTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XG4gIHB1YmxpYyBvblNhZmUoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgICB0aGlzLm9uKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgLyogRXZlbnRzICovXG4gIHB1YmxpYyBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGxpc3RlbmVyIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbiwgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgY2FsbGJhY2t9YCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBpcyBub3QgYSBzdHJpbmdcbiAgICBpZiAodHlwZW9mIGV2ZW50ICE9PSAnc3RyaW5nJykge1xuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGV2ZW50IG5hbWUgbXVzdCBiZSBhIHN0cmluZywgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgZXZlbnR9YCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0ge1xuICAgICAgICBsaXN0ZW5lcnM6IFtdXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xuXG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudF0pIHJldHVybiBmYWxzZVxuXG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5ldmVudHNbZXZlbnRdLmxpc3RlbmVyc1xuICAgIGNvbnN0IGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaylcbiAgICBjb25zdCBoYXNMaXN0ZW5lciA9IGxpc3RlbmVySW5kZXggPiAtMVxuICAgIGlmIChoYXNMaXN0ZW5lcikgbGlzdGVuZXJzLnNwbGljZShsaXN0ZW5lckluZGV4LCAxKVxuICB9XG5cbiAgcHVibGljIGRpc3BhdGNoKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IGFueSkge1xuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IHtcbiAgICAgIGxpc3RlbmVyKGRldGFpbHMpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJUHJvcGVydHkgfSBmcm9tIFwiLi9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4vQ29uc3RhbnRcIjtcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gXCIuL0V2ZW50Rmxvd1wiO1xuXG5leHBvcnQgY2xhc3MgRGF0YUZsb3cge1xuICBwcml2YXRlIGRhdGE6IGFueSA9IHt9O1xuICBwcml2YXRlIHByb3BlcnRpZXM6IGFueSA9IG51bGw7XG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudEZsb3c7XG4gIHB1YmxpYyBnZXRQcm9wZXJ0aWVzKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllcztcbiAgfVxuICBvblNhZmUoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIGRpc3BhdGNoKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IGFueSkge1xuXG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xuICB9XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHByb3BlcnR5OiBJUHJvcGVydHkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGRhdGE6IGFueSA9IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RmxvdygpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICB0aGlzLmxvYWQoZGF0YSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBJbml0RGF0YShkYXRhOiBhbnkgPSBudWxsLCBwcm9wZXJ0aWVzOiBhbnkgPSAtMSkge1xuICAgIGlmIChwcm9wZXJ0aWVzICE9PSAtMSkge1xuICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICB9XG4gICAgdGhpcy5sb2FkKGRhdGEpO1xuICB9XG4gIHByaXZhdGUgZXZlbnREYXRhQ2hhbmdlKGtleTogc3RyaW5nLCBrZXlDaGlsZDogc3RyaW5nLCB2YWx1ZUNoaWxkOiBhbnksIHNlbmRlckNoaWxkOiBhbnksIGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcbiAgICBpZiAoaW5kZXgpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fV8ke2luZGV4fV8ke2tleUNoaWxkfWAsIHtcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fV8ke2luZGV4fWAsIHtcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7a2V5Q2hpbGR9YCwge1xuICAgICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fWAsIHtcbiAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkXG4gICAgfSk7XG4gIH1cbiAgcHVibGljIFJlbW92ZUV2ZW50RGF0YShpdGVtOiBEYXRhRmxvdywga2V5OiBzdHJpbmcsIGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcbiAgICBpdGVtLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfWAsICh7IGtleToga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkIH06IGFueSkgPT4gdGhpcy5ldmVudERhdGFDaGFuZ2Uoa2V5LCBrZXlDaGlsZCwgdmFsdWVDaGlsZCwgc2VuZGVyQ2hpbGQsIGluZGV4KSk7XG4gIH1cbiAgcHVibGljIE9uRXZlbnREYXRhKGl0ZW06IERhdGFGbG93LCBrZXk6IHN0cmluZywgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgIGl0ZW0ub24oYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9YCwgKHsga2V5OiBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQgfTogYW55KSA9PiB0aGlzLmV2ZW50RGF0YUNoYW5nZShrZXksIGtleUNoaWxkLCB2YWx1ZUNoaWxkLCBzZW5kZXJDaGlsZCwgaW5kZXgpKTtcbiAgfVxuICBwcml2YXRlIEJpbmRFdmVudCh2YWx1ZTogYW55LCBrZXk6IHN0cmluZykge1xuICAgIGlmICghdmFsdWUpIHJldHVybjtcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgdGhpcy5PbkV2ZW50RGF0YSh2YWx1ZSBhcyBEYXRhRmxvdywga2V5KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmICh2YWx1ZSBhcyBbXSkubGVuZ3RoID4gMCAmJiB2YWx1ZVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICAodmFsdWUgYXMgRGF0YUZsb3dbXSkuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3csIGluZGV4OiBudW1iZXIpID0+IHRoaXMuT25FdmVudERhdGEoaXRlbSwga2V5LCBpbmRleCkpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgU2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBzZW5kZXI6IGFueSA9IG51bGwpIHtcbiAgICBpZiAodGhpcy5kYXRhW2tleV0gIT0gdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmRhdGFba2V5XSkge1xuICAgICAgICBpZiAodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKCh0aGlzLmRhdGFba2V5XSBhcyBEYXRhRmxvdyksIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmICh0aGlzLmRhdGFba2V5XSBhcyBbXSkubGVuZ3RoID4gMCAmJiB0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICAgICAgKHRoaXMuZGF0YVtrZXldIGFzIERhdGFGbG93W10pLmZvckVhY2goKGl0ZW06IERhdGFGbG93LCBpbmRleDogbnVtYmVyKSA9PiB0aGlzLlJlbW92ZUV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuQmluZEV2ZW50KHZhbHVlLCBrZXkpO1xuICAgIH1cbiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xuICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fWAsIHtcbiAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHtcbiAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge1xuICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXG4gICAgfSk7XG4gIH1cbiAgcHVibGljIEdldChrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRhdGFba2V5XTtcbiAgfVxuICBwdWJsaWMgQXBwZW5kKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5kYXRhW2tleV0gPSBbLi4udGhpcy5kYXRhW2tleV0sIHZhbHVlXTtcbiAgICB0aGlzLkJpbmRFdmVudCh2YWx1ZSwga2V5KTtcbiAgfVxuICBwdWJsaWMgUmVtb3ZlKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKHRoaXMuZGF0YVtrZXldW2luZGV4XSwga2V5KTtcbiAgICAgIHRoaXMuZGF0YVtrZXldLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuXG4gIH1cbiAgcHVibGljIGxvYWQoZGF0YTogYW55KSB7XG4gICAgdGhpcy5kYXRhID0ge307XG4gICAgaWYgKCF0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMucHJvcGVydHk/LmdldFByb3BlcnR5QnlLZXkoZGF0YS5rZXkpO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xuICAgICAgICB0aGlzLmRhdGFba2V5XSA9IChkYXRhPy5ba2V5XSA/PyAoKHR5cGVvZiB0aGlzLnByb3BlcnRpZXNba2V5XT8uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiID8gdGhpcy5wcm9wZXJ0aWVzW2tleV0/LmRlZmF1bHQoKSA6IHRoaXMucHJvcGVydGllc1trZXldPy5kZWZhdWx0KSA/PyBcIlwiKSk7XG4gICAgICAgIHRoaXMuQmluZEV2ZW50KHRoaXMuZGF0YVtrZXldLCBrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwdWJsaWMgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudG9Kc29uKCkpO1xuICB9XG4gIHB1YmxpYyB0b0pzb24oKSB7XG4gICAgbGV0IHJzOiBhbnkgPSB7fTtcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xuICAgICAgcnNba2V5XSA9IHRoaXMuR2V0KGtleSk7XG4gICAgICBpZiAocnNba2V5XSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLnRvSnNvbigpO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocnNba2V5XSkgJiYgKHJzW2tleV0gYXMgW10pLmxlbmd0aCA+IDAgJiYgcnNba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLm1hcCgoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0udG9Kc29uKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcnM7XG4gIH1cbiAgcHVibGljIGRlbGV0ZSgpIHtcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcbiAgICB0aGlzLmRhdGEgPSB7fTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi9EYXRhRmxvd1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4vQ29uc3RhbnRcIjtcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gXCIuL0V2ZW50Rmxvd1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElQcm9wZXJ0eSB7XG4gIGdldFByb3BlcnR5QnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XG59XG5leHBvcnQgaW50ZXJmYWNlIElDb250cm9sTm9kZSBleHRlbmRzIElQcm9wZXJ0eSB7XG4gIGdldENvbnRyb2xOb2RlQnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XG59XG5leHBvcnQgaW50ZXJmYWNlIElFdmVudCB7XG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSk6IHZvaWQ7XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpOiB2b2lkO1xuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpOiB2b2lkO1xufVxuZXhwb3J0IGludGVyZmFjZSBJTWFpbiBleHRlbmRzIElDb250cm9sTm9kZSwgSUV2ZW50IHtcbiAgZ2V0Q29udHJvbEFsbCgpOiBhbnlbXTtcbiAgc2V0Q29udHJvbENob29zZShrZXk6IHN0cmluZyB8IG51bGwpOiB2b2lkO1xuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGw7XG4gIGdldENvbnRyb2xCeUtleShrZXk6IHN0cmluZyk6IGFueTtcbn1cbmV4cG9ydCBjbGFzcyBGbG93Q29yZSBpbXBsZW1lbnRzIElFdmVudCB7XG4gIHB1YmxpYyBHZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgnaWQnKTtcbiAgfVxuICBwdWJsaWMgU2V0SWQoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCdpZCcsIGlkKTtcbiAgfVxuICBwdWJsaWMgcHJvcGVydGllczogYW55ID0ge307XG4gIHB1YmxpYyBkYXRhOiBEYXRhRmxvdyA9IG5ldyBEYXRhRmxvdygpO1xuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwdWJsaWMgQ2hlY2tFbGVtZW50Q2hpbGQoZWw6IEhUTUxFbGVtZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuZWxOb2RlID09IGVsIHx8IHRoaXMuZWxOb2RlLmNvbnRhaW5zKGVsKTtcbiAgfVxuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xuICBwdWJsaWMgc2V0RGF0YShkYXRhOiBEYXRhRmxvdykge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5CaW5kRGF0YUV2ZW50KCk7XG4gICAgdGhpcy5kaXNwYXRjaChgYmluZF9kYXRhX2V2ZW50YCwgeyBkYXRhLCBzZW5kZXI6IHRoaXMgfSk7XG4gIH1cbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgQmluZERhdGFFdmVudCgpIHtcbiAgICB0aGlzLmRhdGEub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB7XG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xuICAgICAgICAgIHR5cGU6ICdkYXRhJyxcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KVxuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uY2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcbiAgICB0aGlzLkJpbmREYXRhRXZlbnQoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFzZUZsb3c8VFBhcmVudCBleHRlbmRzIEZsb3dDb3JlPiBleHRlbmRzIEZsb3dDb3JlIHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IFRQYXJlbnQpIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgTE9HID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4gY29uc29sZS5sb2cobWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMpO1xuZXhwb3J0IGNvbnN0IGdldERhdGUgPSAoKSA9PiAobmV3IERhdGUoKSk7XG5leHBvcnQgY29uc3QgZ2V0VGltZSA9ICgpID0+IGdldERhdGUoKS5nZXRUaW1lKCk7XG5leHBvcnQgY29uc3QgZ2V0VXVpZCA9ICgpID0+IHtcbiAgLy8gaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDEyMi50eHRcbiAgbGV0IHM6IGFueSA9IFtdO1xuICBsZXQgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgIHNbaV0gPSBoZXhEaWdpdHMuc3Vic3RyKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDB4MTApLCAxKTtcbiAgfVxuICBzWzE0XSA9IFwiNFwiOyAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXG4gIHNbMTldID0gaGV4RGlnaXRzLnN1YnN0cigoc1sxOV0gJiAweDMpIHwgMHg4LCAxKTsgIC8vIGJpdHMgNi03IG9mIHRoZSBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkIHRvIDAxXG4gIHNbOF0gPSBzWzEzXSA9IHNbMThdID0gc1syM10gPSBcIi1cIjtcblxuICBsZXQgdXVpZCA9IHMuam9pbihcIlwiKTtcbiAgcmV0dXJuIHV1aWQ7XG59XG4iLCJpbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xuXG5leHBvcnQgY2xhc3MgTGluZSB7XG4gIHB1YmxpYyBlbE5vZGU6IFNWR0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJzdmdcIik7XG4gIHB1YmxpYyBlbFBhdGg6IFNWR1BhdGhFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIFwicGF0aFwiKTtcbiAgcHJpdmF0ZSBkYXRhOiBEYXRhRmxvdyA9IG5ldyBEYXRhRmxvdygpO1xuICBwcml2YXRlIGN1cnZhdHVyZTogbnVtYmVyID0gMC41O1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGZyb206IE5vZGUsIHB1YmxpYyBmcm9tSW5kZXg6IG51bWJlciA9IDAsIHB1YmxpYyB0bzogTm9kZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgcHVibGljIHRvSW5kZXg6IG51bWJlciA9IDApIHtcbiAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QuYWRkKFwibWFpbi1wYXRoXCIpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsUGF0aC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJycpO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoXCJjb25uZWN0aW9uXCIpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxQYXRoKTtcbiAgICB0aGlzLmZyb20ucGFyZW50LmVsQ2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcbiAgICB0aGlzLmZyb20uQWRkTGluZSh0aGlzKTtcbiAgICB0aGlzLnRvPy5BZGRMaW5lKHRoaXMpO1xuICAgIHRoaXMuZGF0YS5Jbml0RGF0YSh7fSwge1xuICAgICAgZnJvbToge1xuICAgICAgICBkZWZhdWx0OiB0aGlzLmZyb20uR2V0SWQoKVxuICAgICAgfSxcbiAgICAgIGZyb21JbmRleDoge1xuICAgICAgICBkZWZhdWx0OiB0aGlzLmZyb21JbmRleFxuICAgICAgfSxcbiAgICAgIHRvOiB7XG4gICAgICAgIGRlZmF1bHQ6IHRoaXMudG8/LkdldElkKClcbiAgICAgIH0sXG4gICAgICB0b0luZGV4OiB7XG4gICAgICAgIGRlZmF1bHQ6IHRoaXMudG9JbmRleFxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuZnJvbS5kYXRhLkFwcGVuZCgnbGluZXMnLCB0aGlzLmRhdGEpO1xuICB9XG4gIHB1YmxpYyB1cGRhdGVUbyh0b194OiBudW1iZXIsIHRvX3k6IG51bWJlcikge1xuICAgIGlmICghdGhpcy5mcm9tIHx8IHRoaXMuZnJvbS5lbE5vZGUgPT0gbnVsbCkgcmV0dXJuO1xuICAgIGxldCB7IHg6IGZyb21feCwgeTogZnJvbV95IH06IGFueSA9IHRoaXMuZnJvbS5nZXRQb3N0aXNpb25Eb3QodGhpcy5mcm9tSW5kZXgpO1xuICAgIHZhciBsaW5lQ3VydmUgPSB0aGlzLmNyZWF0ZUN1cnZhdHVyZShmcm9tX3gsIGZyb21feSwgdG9feCwgdG9feSwgdGhpcy5jdXJ2YXR1cmUsICdvcGVuY2xvc2UnKTtcbiAgICB0aGlzLmVsUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIGxpbmVDdXJ2ZSk7XG4gIH1cbiAgcHVibGljIFVwZGF0ZVVJKCk6IExpbmUge1xuICAgIC8vUG9zdGlvbiBvdXRwdXRcbiAgICBpZiAodGhpcy50byAmJiB0aGlzLnRvLmVsTm9kZSkge1xuICAgICAgbGV0IHsgeDogdG9feCwgeTogdG9feSB9OiBhbnkgPSB0aGlzLnRvLmdldFBvc3Rpc2lvbkRvdCh0aGlzLnRvSW5kZXgpO1xuICAgICAgdGhpcy51cGRhdGVUbyh0b194LCB0b195KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHVibGljIEFjdGl2ZShmbGc6IGFueSA9IHRydWUpIHtcbiAgICBpZiAoZmxnKSB7XG4gICAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbFBhdGguY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgY3JlYXRlQ3VydmF0dXJlKHN0YXJ0X3Bvc194OiBudW1iZXIsIHN0YXJ0X3Bvc195OiBudW1iZXIsIGVuZF9wb3NfeDogbnVtYmVyLCBlbmRfcG9zX3k6IG51bWJlciwgY3VydmF0dXJlX3ZhbHVlOiBudW1iZXIsIHR5cGU6IHN0cmluZykge1xuICAgIGxldCBsaW5lX3ggPSBzdGFydF9wb3NfeDtcbiAgICBsZXQgbGluZV95ID0gc3RhcnRfcG9zX3k7XG4gICAgbGV0IHggPSBlbmRfcG9zX3g7XG4gICAgbGV0IHkgPSBlbmRfcG9zX3k7XG4gICAgbGV0IGN1cnZhdHVyZSA9IGN1cnZhdHVyZV92YWx1ZTtcbiAgICAvL3R5cGUgb3BlbmNsb3NlIG9wZW4gY2xvc2Ugb3RoZXJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ29wZW4nOlxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcblxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvdGhlcic6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuXG4gICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcblxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBkZWxldGUobm9kZVRoaXM6IGFueSA9IG51bGwpIHtcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoPy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5mcm9tLmRhdGEuUmVtb3ZlKCdsaW5lcycsIHRoaXMuZGF0YSk7XG4gICAgaWYgKHRoaXMuZnJvbSAhPSBub2RlVGhpcylcbiAgICAgIHRoaXMuZnJvbS5SZW1vdmVMaW5lKHRoaXMpO1xuICAgIGlmICh0aGlzLnRvICE9IG5vZGVUaGlzKVxuICAgICAgdGhpcy50bz8uUmVtb3ZlTGluZSh0aGlzKTtcbiAgICB0aGlzLmVsUGF0aC5yZW1vdmUoKTtcbiAgICB0aGlzLmVsTm9kZS5yZW1vdmUoKTtcbiAgfVxuICBwdWJsaWMgU3RhcnRTZWxlY3RlZChlOiBhbnkpIHtcbiAgICB0aGlzLmZyb20ucGFyZW50LnNldExpbmVDaG9vc2UodGhpcylcbiAgfVxuICBwdWJsaWMgc2V0Tm9kZVRvKG5vZGU6IE5vZGUgfCB1bmRlZmluZWQsIHRvSW5kZXg6IG51bWJlcikge1xuICAgIHRoaXMudG8gPSBub2RlO1xuICAgIHRoaXMudG9JbmRleCA9IHRvSW5kZXg7XG4gIH1cbiAgcHVibGljIENsb25lKCkge1xuICAgIGlmICh0aGlzLnRvICYmIHRoaXMudG9JbmRleCkge1xuICAgICAgcmV0dXJuIG5ldyBMaW5lKHRoaXMuZnJvbSwgdGhpcy5mcm9tSW5kZXgsIHRoaXMudG8sIHRoaXMudG9JbmRleCkuVXBkYXRlVUkoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGdldFRpbWUgfSBmcm9tIFwiLi4vY29yZS9VdGlsc1wiO1xuaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3XCI7XG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vTGluZVwiO1xuaW1wb3J0IHsgTm9kZSB9IGZyb20gXCIuL05vZGVcIjtcblxuZXhwb3J0IGVudW0gTW92ZVR5cGUge1xuICBOb25lID0gMCxcbiAgTm9kZSA9IDEsXG4gIENhbnZhcyA9IDIsXG4gIExpbmUgPSAzLFxufVxuZXhwb3J0IGNvbnN0IFpvb20gPSB7XG4gIG1heDogMS42LFxuICBtaW46IDAuNixcbiAgdmFsdWU6IDAuMSxcbiAgZGVmYXVsdDogMVxufVxuZXhwb3J0IGNsYXNzIERlc2dpbmVyVmlld19FdmVudCB7XG4gIHByaXZhdGUgem9vbV9sYXN0X3ZhbHVlOiBhbnkgPSAxO1xuXG4gIHByaXZhdGUgdGltZUZhc3RDbGljazogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSB0YWdJbmdvcmUgPSBbJ2lucHV0JywgJ2J1dHRvbicsICdhJywgJ3RleHRhcmVhJ107XG5cbiAgcHJpdmF0ZSBtb3ZlVHlwZTogTW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xuICBwcml2YXRlIGZsZ0RyYXA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBmbGdNb3ZlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgcHJpdmF0ZSBhdl94OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGF2X3k6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBwb3NfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBwb3NfeTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtb3VzZV94OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1vdXNlX3k6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSB0ZW1wTGluZTogTGluZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBEZXNnaW5lclZpZXcpIHtcbiAgICAvKiBNb3VzZSBhbmQgVG91Y2ggQWN0aW9ucyAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5FbmRNb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5FbmRNb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLk1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRNb3ZlLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5FbmRNb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLk1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0TW92ZS5iaW5kKHRoaXMpKTtcbiAgICAvKiBDb250ZXh0IE1lbnUgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCB0aGlzLmNvbnRleHRtZW51LmJpbmQodGhpcykpO1xuXG4gICAgLyogRHJvcCBEcmFwICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLm5vZGVfZHJvcEVuZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLm5vZGVfZHJhZ292ZXIuYmluZCh0aGlzKSk7XG4gICAgLyogWm9vbSBNb3VzZSAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMuem9vbV9lbnRlci5iaW5kKHRoaXMpKTtcbiAgICAvKiBEZWxldGUgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHByaXZhdGUgY29udGV4dG1lbnUoZXY6IGFueSkgeyBldi5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gIHByaXZhdGUgbm9kZV9kcmFnb3ZlcihldjogYW55KSB7IGV2LnByZXZlbnREZWZhdWx0KCk7IH1cbiAgcHJpdmF0ZSBub2RlX2Ryb3BFbmQoZXY6IGFueSkge1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbGV0IGtleU5vZGU6IGFueSA9IHRoaXMucGFyZW50Lm1haW4uZ2V0Q29udHJvbENob29zZSgpO1xuICAgIGlmICgha2V5Tm9kZSAmJiBldi50eXBlICE9PSBcInRvdWNoZW5kXCIpIHtcbiAgICAgIGtleU5vZGUgPSBldi5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcIm5vZGVcIik7XG4gICAgfVxuICAgIGlmICgha2V5Tm9kZSkgcmV0dXJuO1xuICAgIGxldCBlX3Bvc194ID0gMDtcbiAgICBsZXQgZV9wb3NfeSA9IDA7XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIGVfcG9zX3ggPSBldi50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0gZWxzZSB7XG4gICAgICBlX3Bvc194ID0gZXYuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi5jbGllbnRZO1xuICAgIH1cbiAgICBsZXQgeCA9IHRoaXMucGFyZW50LkNhbGNYKHRoaXMucGFyZW50LmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggLSBlX3Bvc194KTtcbiAgICBsZXQgeSA9IHRoaXMucGFyZW50LkNhbGNZKHRoaXMucGFyZW50LmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkgLSBlX3Bvc195KTtcblxuICAgIGlmICh0aGlzLnBhcmVudC5jaGVja09ubHlOb2RlKGtleU5vZGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBub2RlSXRlbSA9IHRoaXMucGFyZW50LkFkZE5vZGUoa2V5Tm9kZSk7XG4gICAgbm9kZUl0ZW0udXBkYXRlUG9zaXRpb24oeCwgeSk7XG4gIH1cbiAgcHVibGljIHpvb21fZW50ZXIoZXZlbnQ6IGFueSkge1xuICAgIGlmIChldmVudC5jdHJsS2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBpZiAoZXZlbnQuZGVsdGFZID4gMCkge1xuICAgICAgICAvLyBab29tIE91dFxuICAgICAgICB0aGlzLnpvb21fb3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBab29tIEluXG4gICAgICAgIHRoaXMuem9vbV9pbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9yZWZyZXNoKGZsZzogYW55ID0gMCkge1xuICAgIGxldCB0ZW1wX3pvb20gPSBmbGcgPT0gMCA/IFpvb20uZGVmYXVsdCA6ICh0aGlzLnBhcmVudC5nZXRab29tKCkgKyBab29tLnZhbHVlICogZmxnKTtcbiAgICBpZiAoWm9vbS5tYXggPj0gdGVtcF96b29tICYmIHRlbXBfem9vbSA+PSBab29tLm1pbikge1xuICAgICAgdGhpcy5wYXJlbnQuc2V0WCgodGhpcy5wYXJlbnQuZ2V0WCgpIC8gdGhpcy56b29tX2xhc3RfdmFsdWUpICogdGVtcF96b29tKTtcbiAgICAgIHRoaXMucGFyZW50LnNldFkoKHRoaXMucGFyZW50LmdldFkoKSAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRlbXBfem9vbSk7XG4gICAgICB0aGlzLnpvb21fbGFzdF92YWx1ZSA9IHRlbXBfem9vbTtcbiAgICAgIHRoaXMucGFyZW50LnNldFpvb20odGhpcy56b29tX2xhc3RfdmFsdWUpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9pbigpIHtcbiAgICB0aGlzLnpvb21fcmVmcmVzaCgxKTtcbiAgfVxuICBwdWJsaWMgem9vbV9vdXQoKSB7XG4gICAgdGhpcy56b29tX3JlZnJlc2goLTEpO1xuICB9XG4gIHB1YmxpYyB6b29tX3Jlc2V0KCkge1xuICAgIHRoaXMuem9vbV9yZWZyZXNoKDApO1xuICB9XG4gIHByaXZhdGUgU3RhcnRNb3ZlKGV2OiBhbnkpIHtcbiAgICBpZiAodGhpcy50YWdJbmdvcmUuaW5jbHVkZXMoZXYudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy50aW1lRmFzdENsaWNrID0gZ2V0VGltZSgpO1xuICAgIGlmIChldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYWluLXBhdGgnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgIHRoaXMucG9zX3ggPSBldi50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB0aGlzLnBvc195ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBvc194ID0gZXYuY2xpZW50WDtcbiAgICAgIHRoaXMucG9zX3kgPSBldi5jbGllbnRZO1xuICAgIH1cbiAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuQ2FudmFzO1xuICAgIGxldCBub2RlQ2hvb3NlID0gdGhpcy5wYXJlbnQuZ2V0Tm9kZUNob29zZSgpO1xuICAgIGlmIChub2RlQ2hvb3NlICYmIG5vZGVDaG9vc2UuQ2hlY2tFbGVtZW50Q2hpbGQoZXYudGFyZ2V0KSkge1xuICAgICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodW5kZWZpbmVkKTtcbiAgICB9XG4gICAgaWYgKG5vZGVDaG9vc2UgJiYgdGhpcy5tb3ZlVHlwZSA9PSBNb3ZlVHlwZS5Ob2RlICYmIGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJub2RlLWRvdFwiKSkge1xuICAgICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLkxpbmU7XG4gICAgICBsZXQgZnJvbUluZGV4ID0gZXYudGFyZ2V0LmdldEF0dHJpYnV0ZSgnbm9kZScpO1xuICAgICAgdGhpcy50ZW1wTGluZSA9IG5ldyBMaW5lKG5vZGVDaG9vc2UsIGZyb21JbmRleCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm1vdmVUeXBlID09IE1vdmVUeXBlLkNhbnZhcykge1xuICAgICAgdGhpcy5hdl94ID0gdGhpcy5wYXJlbnQuZ2V0WCgpO1xuICAgICAgdGhpcy5hdl95ID0gdGhpcy5wYXJlbnQuZ2V0WSgpO1xuICAgIH1cbiAgICB0aGlzLmZsZ0RyYXAgPSB0cnVlO1xuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICB9XG4gIHB1YmxpYyBNb3ZlKGV2OiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuZmxnRHJhcCkgcmV0dXJuO1xuICAgIHRoaXMuZmxnTW92ZSA9IHRydWU7XG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5tb3ZlVHlwZSkge1xuICAgICAgY2FzZSBNb3ZlVHlwZS5DYW52YXM6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeCA9IHRoaXMuYXZfeCArIHRoaXMucGFyZW50LkNhbGNYKC0odGhpcy5wb3NfeCAtIGVfcG9zX3gpKVxuICAgICAgICAgIGxldCB5ID0gdGhpcy5hdl95ICsgdGhpcy5wYXJlbnQuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXG4gICAgICAgICAgdGhpcy5wYXJlbnQuc2V0WCh4KTtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zZXRZKHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIE1vdmVUeXBlLk5vZGU6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeCA9IHRoaXMucGFyZW50LkNhbGNYKHRoaXMucG9zX3ggLSBlX3Bvc194KTtcbiAgICAgICAgICBsZXQgeSA9IHRoaXMucGFyZW50LkNhbGNZKHRoaXMucG9zX3kgLSBlX3Bvc195KTtcbiAgICAgICAgICB0aGlzLnBvc194ID0gZV9wb3NfeDtcbiAgICAgICAgICB0aGlzLnBvc195ID0gZV9wb3NfeTtcbiAgICAgICAgICB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk/LnVwZGF0ZVBvc2l0aW9uKHgsIHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIE1vdmVUeXBlLkxpbmU6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodGhpcy50ZW1wTGluZSkge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnBhcmVudC5DYWxjWCh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54IC0gZV9wb3NfeCk7XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMucGFyZW50LkNhbGNZKHRoaXMucGFyZW50LmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkgLSBlX3Bvc195KTtcbiAgICAgICAgICAgIHRoaXMudGVtcExpbmUudXBkYXRlVG8odGhpcy5wYXJlbnQuZWxDYW52YXMub2Zmc2V0TGVmdCAtIHgsIHRoaXMucGFyZW50LmVsQ2FudmFzLm9mZnNldFRvcCAtIHkpO1xuICAgICAgICAgICAgbGV0IG5vZGVFbCA9IGV2LnRhcmdldC5jbG9zZXN0KCdbbm9kZS1pZF0nKTtcbiAgICAgICAgICAgIGxldCBub2RlSWQgPSBub2RlRWw/LmdldEF0dHJpYnV0ZSgnbm9kZS1pZCcpO1xuICAgICAgICAgICAgbGV0IG5vZGVUbyA9IG5vZGVJZCA/IHRoaXMucGFyZW50LkdldE5vZGVCeUlkKG5vZGVJZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAobm9kZVRvICYmIGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJub2RlLWRvdFwiKSkge1xuICAgICAgICAgICAgICBsZXQgdG9JbmRleCA9IGV2LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ25vZGUnKTtcbiAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZS5zZXROb2RlVG8obm9kZVRvLCB0b0luZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCB0b0luZGV4ID0gbm9kZUVsPy5xdWVyeVNlbGVjdG9yKCcubm9kZS1kb3QnKT8uWzBdPy5nZXRBdHRyaWJ1dGUoJ25vZGUnKTtcbiAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZS5zZXROb2RlVG8obm9kZVRvLCB0b0luZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgdGhpcy5tb3VzZV94ID0gZV9wb3NfeDtcbiAgICAgIHRoaXMubW91c2VfeSA9IGVfcG9zX3k7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgRW5kTW92ZShldjogYW55KSB7XG4gICAgaWYgKCF0aGlzLmZsZ0RyYXApIHJldHVybjtcbiAgICAvL2ZpeCBGYXN0IENsaWNrXG4gICAgaWYgKCgoZ2V0VGltZSgpIC0gdGhpcy50aW1lRmFzdENsaWNrKSA8IDEwMCkgfHwgIXRoaXMuZmxnTW92ZSkge1xuICAgICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gICAgICB0aGlzLmZsZ0RyYXAgPSBmYWxzZTtcbiAgICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBlX3Bvc194ID0gMDtcbiAgICBsZXQgZV9wb3NfeSA9IDA7XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2hlbmRcIikge1xuICAgICAgZV9wb3NfeCA9IHRoaXMubW91c2VfeDtcbiAgICAgIGVfcG9zX3kgPSB0aGlzLm1vdXNlX3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIGlmICh0aGlzLm1vdmVUeXBlID09PSBNb3ZlVHlwZS5DYW52YXMpIHtcbiAgICAgIGxldCB4ID0gdGhpcy5hdl94ICsgdGhpcy5wYXJlbnQuQ2FsY1goLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpXG4gICAgICBsZXQgeSA9IHRoaXMuYXZfeSArIHRoaXMucGFyZW50LkNhbGNZKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKVxuICAgICAgdGhpcy5wYXJlbnQuc2V0WCh4KTtcbiAgICAgIHRoaXMucGFyZW50LnNldFkoeSk7XG4gICAgICB0aGlzLmF2X3ggPSAwO1xuICAgICAgdGhpcy5hdl95ID0gMDtcbiAgICB9XG4gICAgaWYgKHRoaXMudGVtcExpbmUpIHtcbiAgICAgIHRoaXMudGVtcExpbmUuQ2xvbmUoKTtcbiAgICAgIHRoaXMudGVtcExpbmUuZGVsZXRlKCk7XG4gICAgICB0aGlzLnRlbXBMaW5lID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLnBvc194ID0gZV9wb3NfeDtcbiAgICB0aGlzLnBvc195ID0gZV9wb3NfeTtcbiAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgICB0aGlzLmZsZ0RyYXAgPSBmYWxzZTtcbiAgICB0aGlzLmZsZ01vdmUgPSBmYWxzZTtcbiAgfVxuICBwcml2YXRlIGtleWRvd24oZXY6IGFueSkge1xuICAgIGlmIChldi5rZXkgPT09ICdEZWxldGUnIHx8IChldi5rZXkgPT09ICdCYWNrc3BhY2UnICYmIGV2Lm1ldGFLZXkpKSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgIHRoaXMucGFyZW50LmdldE5vZGVDaG9vc2UoKT8uZGVsZXRlKCk7XG4gICAgICB0aGlzLnBhcmVudC5nZXRMaW5lQ2hvb3NlKCk/LmRlbGV0ZSgpO1xuICAgIH1cbiAgICBpZiAoZXYua2V5ID09PSAnRjInKSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBjb25zb2xlLmxvZyh0aGlzLnBhcmVudC5kYXRhLnRvSnNvbigpKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEJhc2VGbG93IH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcbmltcG9ydCB7IGdldFV1aWQgfSBmcm9tIFwiLi4vY29yZS9VdGlsc1wiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcblxuY29uc3QgZ2V2YWwgPSBldmFsO1xuZXhwb3J0IGNsYXNzIE5vZGUgZXh0ZW5kcyBCYXNlRmxvdzxEZXNnaW5lclZpZXc+IHtcbiAgLyoqXG4gICAqIEdFVCBTRVQgZm9yIERhdGFcbiAgICovXG4gIHB1YmxpYyBnZXRZKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneScpO1xuICB9XG4gIHB1YmxpYyBzZXRZKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneScsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwdWJsaWMgZ2V0WCgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3gnKTtcbiAgfVxuICBwdWJsaWMgc2V0WCh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3gnLCB2YWx1ZSwgdGhpcyk7XG4gIH1cbiAgcHVibGljIENoZWNrS2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2tleScpID09IGtleTtcbiAgfVxuICBwdWJsaWMgZWxDb250ZW50OiBFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgcHVibGljIGFyckxpbmU6IExpbmVbXSA9IFtdO1xuICBwcml2YXRlIG9wdGlvbjogYW55ID0ge307XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogRGVzZ2luZXJWaWV3LCBwcml2YXRlIGtleU5vZGU6IGFueSwgZGF0YTogYW55ID0ge30pIHtcbiAgICBzdXBlcihwYXJlbnQpO1xuICAgIHRoaXMub3B0aW9uID0gdGhpcy5wYXJlbnQubWFpbi5nZXRDb250cm9sTm9kZUJ5S2V5KGtleU5vZGUpO1xuICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMub3B0aW9uPy5wcm9wZXJ0aWVzO1xuICAgIHRoaXMuZGF0YS5Jbml0RGF0YShkYXRhLCB0aGlzLnByb3BlcnRpZXMpO1xuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5yZW5kZXJVSS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1ub2RlJyk7XG5cbiAgICBpZiAodGhpcy5vcHRpb24uY2xhc3MpIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb24uY2xhc3MpO1xuICAgIH1cbiAgICB0aGlzLnBhcmVudC5lbENhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdub2RlLWlkJywgdGhpcy5HZXRJZCgpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZGF0YS5BcHBlbmQoJ25vZGVzJywgdGhpcy5kYXRhKTtcbiAgICB0aGlzLnJlbmRlclVJKCk7XG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJVSSgpIHtcbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYGRpc3BsYXk6bm9uZTtgKTtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1sZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI0MDAwXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS10b3BcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiMTAwMFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudFwiPiR7dGhpcy5vcHRpb24uaHRtbH08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtYm90dG9tXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjIwMDBcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXJpZ2h0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWRvdFwiICBub2RlPVwiMzAwMFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICB0aGlzLmVsQ29udGVudCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5ub2RlLWNvbnRlbnQnKTtcbiAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gIH1cbiAgcHVibGljIHVwZGF0ZVBvc2l0aW9uKHg6IGFueSwgeTogYW55LCBpQ2hlY2sgPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLmVsTm9kZSkge1xuICAgICAgaWYgKGlDaGVjaykge1xuICAgICAgICBpZiAoeCAhPT0gdGhpcy5nZXRYKCkpIHtcbiAgICAgICAgICB0aGlzLnNldFgoeCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHkgIT09IHRoaXMuZ2V0WSgpKSB7XG4gICAgICAgICAgdGhpcy5zZXRYKHkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnNldFkoKHRoaXMuZWxOb2RlLm9mZnNldFRvcCAtIHkpKTtcbiAgICAgICAgdGhpcy5zZXRYKCh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0IC0geCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwdWJsaWMgQWN0aXZlKGZsZzogYW55ID0gdHJ1ZSkge1xuICAgIGlmIChmbGcpIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIFJlbW92ZUxpbmUobGluZTogTGluZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMuYXJyTGluZS5pbmRleE9mKGxpbmUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLmFyckxpbmUuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXJyTGluZTtcbiAgfVxuICBwdWJsaWMgQWRkTGluZShsaW5lOiBMaW5lKSB7XG4gICAgdGhpcy5hcnJMaW5lID0gWy4uLnRoaXMuYXJyTGluZSwgbGluZV07XG4gIH1cbiAgcHVibGljIGdldFBvc3Rpc2lvbkRvdChpbmRleDogbnVtYmVyID0gMCkge1xuICAgIGxldCBlbERvdDogYW55ID0gdGhpcy5lbE5vZGU/LnF1ZXJ5U2VsZWN0b3IoYC5ub2RlLWRvdFtub2RlPVwiJHtpbmRleH1cIl1gKTtcbiAgICBpZiAoZWxEb3QpIHtcbiAgICAgIGxldCB5ID0gKHRoaXMuZWxOb2RlLm9mZnNldFRvcCArIGVsRG90Lm9mZnNldFRvcCArIDEwKTtcbiAgICAgIGxldCB4ID0gKHRoaXMuZWxOb2RlLm9mZnNldExlZnQgKyBlbERvdC5vZmZzZXRMZWZ0ICsgMTApO1xuICAgICAgcmV0dXJuIHsgeCwgeSB9O1xuICAgIH1cbiAgICByZXR1cm4ge307XG4gIH1cbiAgcHVibGljIFVwZGF0ZVVJKCkge1xuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgdG9wOiAke3RoaXMuZ2V0WSgpfXB4OyBsZWZ0OiAke3RoaXMuZ2V0WCgpfXB4O2ApO1xuICAgIHRoaXMuYXJyTGluZS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpdGVtLlVwZGF0ZVVJKCk7XG4gICAgfSlcbiAgfVxuICBwdWJsaWMgZGVsZXRlKGlzUmVtb3ZlUGFyZW50ID0gdHJ1ZSkge1xuICAgIHRoaXMuYXJyTGluZS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmRlbGV0ZSh0aGlzKSk7XG4gICAgdGhpcy5kYXRhLmRlbGV0ZSgpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5yZW1vdmUoKTtcbiAgICB0aGlzLmFyckxpbmUgPSBbXTtcbiAgICBpZiAoaXNSZW1vdmVQYXJlbnQpXG4gICAgICB0aGlzLnBhcmVudC5SZW1vdmVOb2RlKHRoaXMpO1xuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge30pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBGbG93Q29yZSwgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtLCBQcm9wZXJ0eUVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xuaW1wb3J0IHsgRGVzZ2luZXJWaWV3X0V2ZW50IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3X0V2ZW50XCI7XG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vTGluZVwiO1xuaW1wb3J0IHsgTm9kZSB9IGZyb20gXCIuL05vZGVcIjtcblxuZXhwb3J0IGNsYXNzIERlc2dpbmVyVmlldyBleHRlbmRzIEZsb3dDb3JlIHtcbiAgLyoqXG4gICAqIEdFVCBTRVQgZm9yIERhdGFcbiAgICovXG4gIHB1YmxpYyBnZXRab29tKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgnem9vbScpO1xuICB9XG4gIHB1YmxpYyBzZXRab29tKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgnem9vbScsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwdWJsaWMgZ2V0WSgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3knKTtcbiAgfVxuICBwdWJsaWMgc2V0WSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3knLCB2YWx1ZSwgdGhpcyk7XG4gIH1cbiAgcHVibGljIGdldFgoKSB7XG4gICAgcmV0dXJuICt0aGlzLmRhdGEuR2V0KCd4Jyk7XG4gIH1cbiAgcHVibGljIHNldFgodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCd4JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHByaXZhdGUgcmVhZG9ubHkgdmlld19ldmVudDogRGVzZ2luZXJWaWV3X0V2ZW50IHwgdW5kZWZpbmVkO1xuXG4gIHByaXZhdGUgbGluZUNob29zZTogTGluZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldExpbmVDaG9vc2Uobm9kZTogTGluZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpbmVDaG9vc2UpIHRoaXMubGluZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubGluZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubGluZUNob29zZSkge1xuICAgICAgdGhpcy5saW5lQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXROb2RlQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRMaW5lQ2hvb3NlKCk6IExpbmUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmxpbmVDaG9vc2U7XG4gIH1cbiAgcHJpdmF0ZSBub2RlczogTm9kZVtdID0gW107XG4gIHByaXZhdGUgbm9kZUNob29zZTogTm9kZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldE5vZGVDaG9vc2Uobm9kZTogTm9kZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHRoaXMubm9kZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubm9kZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubm9kZUNob29zZSkge1xuICAgICAgdGhpcy5ub2RlQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXRMaW5lQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIHsgZGF0YTogdGhpcy5ub2RlQ2hvb3NlLmRhdGEgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiB0aGlzLmRhdGEgfSk7XG4gICAgfVxuXG4gIH1cbiAgcHVibGljIGdldE5vZGVDaG9vc2UoKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubm9kZUNob29zZTtcbiAgfVxuICBwdWJsaWMgQWRkTm9kZShrZXlOb2RlOiBzdHJpbmcsIGRhdGE6IGFueSA9IHt9KTogTm9kZSB7XG4gICAgcmV0dXJuIHRoaXMuSW5zZXJ0Tm9kZShuZXcgTm9kZSh0aGlzLCBrZXlOb2RlLCBkYXRhKSk7XG4gIH1cbiAgcHVibGljIEluc2VydE5vZGUobm9kZTogTm9kZSk6IE5vZGUge1xuICAgIHRoaXMubm9kZXMgPSBbLi4udGhpcy5ub2Rlcywgbm9kZV07XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcHVibGljIFJlbW92ZU5vZGUobm9kZTogTm9kZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMubm9kZXMuaW5kZXhPZihub2RlKTtcbiAgICB0aGlzLmRhdGEuUmVtb3ZlKCdub2RlcycsIG5vZGUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG4gIC8qKlxuICAgKiBWYXJpYnV0ZVxuICAqL1xuICBwdWJsaWMgZWxDYW52YXM6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihlbE5vZGU6IEhUTUxFbGVtZW50LCBwdWJsaWMgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZWxOb2RlID0gZWxOb2RlO1xuICAgIGxldCBwcm9wZXJ0aWVzOiBhbnkgPSB0aGlzLm1haW4uZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0ubWFpbik7XG4gICAgdGhpcy5kYXRhLkluaXREYXRhKHt9LCBwcm9wZXJ0aWVzKTtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gICAgdGhpcy5VcGRhdGVVSSgpO1xuICAgIHRoaXMub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHRoaXMuUmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy52aWV3X2V2ZW50ID0gbmV3IERlc2dpbmVyVmlld19FdmVudCh0aGlzKTtcbiAgfVxuICBwdWJsaWMgdXBkYXRlVmlldyh4OiBhbnksIHk6IGFueSwgem9vbTogYW55KSB7XG4gICAgdGhpcy5lbENhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7eH1weCwgJHt5fXB4KSBzY2FsZSgke3pvb219KWA7XG4gIH1cbiAgcHVibGljIFVwZGF0ZVVJKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVWaWV3KHRoaXMuZ2V0WCgpLCB0aGlzLmdldFkoKSwgdGhpcy5nZXRab29tKCkpO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBSZW5kZXJVSSgpIHtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdkZXNnaW5lci12aWV3JylcbiAgICB0aGlzLmVsQ2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoXCJkZXNnaW5lci1jYW52YXNcIik7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgnZGVzZ2luZXItdmlldycpXG4gICAgdGhpcy5lbENhbnZhcy5jbGFzc0xpc3QuYWRkKFwiZGVzZ2luZXItY2FudmFzXCIpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxDYW52YXMpO1xuICAgIHRoaXMuZWxOb2RlLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gIH1cbiAgcHVibGljIENhbGNYKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxOb2RlPy5jbGllbnRXaWR0aCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHVibGljIENhbGNZKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudEhlaWdodCAvICh0aGlzLmVsTm9kZT8uY2xpZW50SGVpZ2h0ICogdGhpcy5nZXRab29tKCkpKTtcbiAgfVxuICBwdWJsaWMgR2V0QWxsTm9kZSgpOiBOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzIHx8IFtdO1xuICB9XG4gIHB1YmxpYyBHZXROb2RlQnlJZChpZDogc3RyaW5nKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuR2V0QWxsTm9kZSgpLmZpbHRlcihub2RlID0+IG5vZGUuR2V0SWQoKSA9PSBpZCk/LlswXTtcbiAgfVxuXG4gIGNoZWNrT25seU5vZGUoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKHRoaXMubWFpbi5nZXRDb250cm9sQnlLZXkoa2V5KS5vbmx5Tm9kZSkgJiYgdGhpcy5ub2Rlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLkNoZWNrS2V5KGtleSkpLmxlbmd0aCA+IDA7XG4gIH1cbn1cbiIsImltcG9ydCB7IElDb250cm9sTm9kZSwgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuLi9kZXNnaW5lci9EZXNnaW5lclZpZXdcIjtcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIFZpZXdEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcbiAgICBuZXcgRGVzZ2luZXJWaWV3KHRoaXMuZWxOb2RlLCBtYWluKS5vbihFdmVudEVudW0uc2hvd1Byb3BlcnR5LCAoZGF0YTogYW55KSA9PiBtYWluLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIGRhdGEpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgRG9ja0VudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xuaW1wb3J0IHsgQ29udHJvbERvY2sgfSBmcm9tIFwiLi9Db250cm9sRG9ja1wiO1xuaW1wb3J0IHsgRG9ja0Jhc2UgfSBmcm9tIFwiLi9Eb2NrQmFzZVwiO1xuaW1wb3J0IHsgUHJvcGVydHlEb2NrIH0gZnJvbSBcIi4vUHJvcGVydHlEb2NrXCI7XG5pbXBvcnQgeyBWaWV3RG9jayB9IGZyb20gXCIuL1ZpZXdEb2NrXCI7XG5cbmV4cG9ydCBjbGFzcyBEb2NrTWFuYWdlciB7XG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBhbnkgPSB7fTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7fVxuICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgdGhpcy4kZG9ja01hbmFnZXIgPSB7fTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0ubGVmdCwgQ29udHJvbERvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5yaWdodCwgUHJvcGVydHlEb2NrKTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0udmlldywgVmlld0RvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS50b3AsIERvY2tCYXNlKTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0uYm90dG9tLCBEb2NrQmFzZSk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHB1YmxpYyBhZGREb2NrKCRrZXk6IHN0cmluZywgJHZpZXc6IGFueSkge1xuICAgIGlmICghdGhpcy4kZG9ja01hbmFnZXJbJGtleV0pXG4gICAgICB0aGlzLiRkb2NrTWFuYWdlclska2V5XSA9IFtdO1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldID0gWy4uLnRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldLCAkdmlld107XG4gIH1cblxuICBwdWJsaWMgUmVuZGVyVUkoKSB7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInZzLWxlZnQgdnMtZG9ja1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInZzLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZzLXRvcCB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy12aWV3IHZzLWRvY2tcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZzLWJvdHRvbSB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1yaWdodCB2cy1kb2NrXCI+PC9kaXY+XG4gICAgYDtcbiAgICBPYmplY3Qua2V5cyh0aGlzLiRkb2NrTWFuYWdlcikuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGxldCBxdWVyeVNlbGVjdG9yID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgLiR7a2V5fWApO1xuICAgICAgaWYgKHF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy4kZG9ja01hbmFnZXJba2V5XS5mb3JFYWNoKCgkaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgbmV3ICRpdGVtKHF1ZXJ5U2VsZWN0b3IsIHRoaXMubWFpbik7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSAnLi9jb3JlL0Jhc2VGbG93JztcbmltcG9ydCB7IERvY2tNYW5hZ2VyIH0gZnJvbSAnLi9kb2NrL0RvY2tNYW5hZ2VyJztcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gJy4vY29yZS9FdmVudEZsb3cnO1xuaW1wb3J0IHsgUHJvcGVydHlFbnVtIH0gZnJvbSAnLi9jb3JlL0NvbnN0YW50JztcbmltcG9ydCB7IGdldFRpbWUgfSBmcm9tICcuL2NvcmUvVXRpbHMnO1xuZXhwb3J0IGNsYXNzIFZpc3VhbEZsb3cgaW1wbGVtZW50cyBJTWFpbiB7XG4gIHByaXZhdGUgJHByb3BlcnRpZXM6IGFueSA9IHt9O1xuICBwcml2YXRlICRjb250cm9sOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSAkY29udHJvbENob29zZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBEb2NrTWFuYWdlcjtcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcbiAgcHVibGljIGdldERvY2tNYW5hZ2VyKCk6IERvY2tNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy4kZG9ja01hbmFnZXI7XG4gIH1cbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgZ2V0Q29udHJvbEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udHJvbCA/PyB7fTtcbiAgfVxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50LCBvcHRpb246IGFueSA9IG51bGwpIHtcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcbiAgICAvL3NldCBwcm9qZWN0XG4gICAgdGhpcy4kcHJvcGVydGllc1tQcm9wZXJ0eUVudW0ubWFpbl0gPSB7XG4gICAgICAuLi4ob3B0aW9uPy5wcm9wZXJ0aWVzIHx8IHt9KSxcbiAgICAgIGlkOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGdldFRpbWUoKVxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgZGVmYXVsdDogXCJcIlxuICAgICAgfSxcbiAgICAgIHg6IHtcbiAgICAgICAgZGVmYXVsdDogMFxuICAgICAgfSxcbiAgICAgIHk6IHtcbiAgICAgICAgZGVmYXVsdDogMFxuICAgICAgfSxcbiAgICAgIHpvb206IHtcbiAgICAgICAgZGVmYXVsdDogMVxuICAgICAgfSxcbiAgICAgIG5vZGVzOiB7XG4gICAgICAgIGRlZmF1bHQ6IFtdXG4gICAgICB9XG4gICAgfTtcbiAgICAvLyBzZXQgY29udHJvbFxuICAgIHRoaXMuJGNvbnRyb2wgPSBvcHRpb24/LmNvbnRyb2wgfHwge307XG4gICAgT2JqZWN0LmtleXModGhpcy4kY29udHJvbCkuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIHRoaXMuJHByb3BlcnRpZXNbYG5vZGVfJHtrZXl9YF0gPSB7XG4gICAgICAgIC4uLih0aGlzLiRjb250cm9sW2tleV0ucHJvcGVydGllcyB8fCB7fSksXG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXG4gICAgICAgIH0sXG4gICAgICAgIGtleToge1xuICAgICAgICAgIGRlZmF1bHQ6IGtleVxuICAgICAgICB9LFxuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgZGVmYXVsdDogXCJcIlxuICAgICAgICB9LFxuICAgICAgICB4OiB7XG4gICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICB9LFxuICAgICAgICB5OiB7XG4gICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICB9LFxuICAgICAgICBsaW5lczoge1xuICAgICAgICAgIGRlZmF1bHQ6IFtdXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndnMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgndnMtY29udGFpbmVyJyk7XG4gICAgdGhpcy4kZG9ja01hbmFnZXIgPSBuZXcgRG9ja01hbmFnZXIodGhpcy5jb250YWluZXIsIHRoaXMpO1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyLnJlc2V0KCk7XG4gIH1cbiAgc2V0Q29udHJvbENob29zZShrZXk6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLiRjb250cm9sQ2hvb3NlID0ga2V5O1xuICB9XG4gIGdldENvbnRyb2xDaG9vc2UoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2xDaG9vc2U7XG4gIH1cbiAgZ2V0Q29udHJvbEJ5S2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2xba2V5XSB8fCB7fTtcbiAgfVxuICBnZXRDb250cm9sTm9kZUJ5S2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuZ2V0Q29udHJvbEJ5S2V5KGtleSksXG4gICAgICBwcm9wZXJ0aWVzOiB0aGlzLmdldFByb3BlcnR5QnlLZXkoYG5vZGVfJHtrZXl9YClcbiAgICB9XG4gIH1cbiAgZ2V0UHJvcGVydHlCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLiRwcm9wZXJ0aWVzW2tleV07XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJFdmVudEVudW0iLCJEb2NrRW51bSIsIlByb3BlcnR5RW51bSIsIkRvY2tCYXNlIiwibWFpbiIsImVsTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNvbnN0cnVjdG9yIiwiY29udGFpbmVyIiwidGhpcyIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiQm94SW5mbyIsInRpdGxlIiwiJGNhbGxiYWNrIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicXVlcnlTZWxlY3RvciIsIkNvbnRyb2xEb2NrIiwic3VwZXIiLCJub2RlIiwiY29udHJvbHMiLCJnZXRDb250cm9sQWxsIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpdGVtIiwibm9kZUl0ZW0iLCJzZXRBdHRyaWJ1dGUiLCJuYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYWdTdGFydCIsImJpbmQiLCJkcmFnZW5kIiwiZSIsInNldENvbnRyb2xDaG9vc2UiLCJrZXkiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwidHlwZSIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJFZGl0b3JUeXBlIiwiRWRpdG9yIiwiZGF0YSIsImlzRWRpdCIsImVsSW5wdXQiLCJlbExhYmVsIiwiZWwiLCJMYWJlbCIsImNoYWduZSIsIm9uU2FmZSIsImNoYW5nZURhdGEiLCJkaXNwb3NlIiwiVGV4dCIsInBhcmVudEVsZW1lbnQiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsInJlbmRlciIsIkdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzd2l0Y2hNb2RlRWRpdCIsInZhbHVlIiwiaW5wdXREYXRhIiwiSW5saW5lIiwic2V0VGltZW91dCIsIlNldCIsInNlbmRlciIsInJlbW92ZUxpc3RlbmVyIiwiUHJvcGVydHlEb2NrIiwibGFzdERhdGEiLCJsYWJlbEtleXMiLCJkYXRhSnNvbiIsIm9uIiwiZGV0YWlsIiwicmVuZGVyVUkiLCJwcm9wZXJ0aWVzIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnR5SXRlbSIsInByb3BlcnR5TGFiZWwiLCJwcm9wZXJ0eVZhbHVlIiwiaW5jbHVkZXMiLCJ0b1N0cmluZyIsIkV2ZW50RmxvdyIsImV2ZW50cyIsImV2ZW50IiwiY2FsbGJhY2siLCJjb25zb2xlIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsaXN0ZW5lcnMiLCJwdXNoIiwibGlzdGVuZXJJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkaXNwYXRjaCIsImRldGFpbHMiLCJsaXN0ZW5lciIsIkRhdGFGbG93IiwicHJvcGVydHkiLCJsb2FkIiwiSW5pdERhdGEiLCJldmVudERhdGFDaGFuZ2UiLCJrZXlDaGlsZCIsInZhbHVlQ2hpbGQiLCJzZW5kZXJDaGlsZCIsImluZGV4IiwiUmVtb3ZlRXZlbnREYXRhIiwiT25FdmVudERhdGEiLCJCaW5kRXZlbnQiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJBcHBlbmQiLCJSZW1vdmUiLCJnZXRQcm9wZXJ0eUJ5S2V5IiwiZGVmYXVsdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b0pzb24iLCJycyIsIm1hcCIsImRlbGV0ZSIsIkZsb3dDb3JlIiwiR2V0SWQiLCJTZXRJZCIsImlkIiwiQ2hlY2tFbGVtZW50Q2hpbGQiLCJjb250YWlucyIsIkJpbmREYXRhRXZlbnQiLCJCYXNlRmxvdyIsInBhcmVudCIsImdldFRpbWUiLCJEYXRlIiwiTGluZSIsImZyb20iLCJmcm9tSW5kZXgiLCJ0byIsInRvSW5kZXgiLCJjcmVhdGVFbGVtZW50TlMiLCJlbFBhdGgiLCJjdXJ2YXR1cmUiLCJTdGFydFNlbGVjdGVkIiwic2V0QXR0cmlidXRlTlMiLCJlbENhbnZhcyIsIkFkZExpbmUiLCJ1cGRhdGVUbyIsInRvX3giLCJ0b195IiwieCIsImZyb21feCIsInkiLCJmcm9tX3kiLCJnZXRQb3N0aXNpb25Eb3QiLCJsaW5lQ3VydmUiLCJjcmVhdGVDdXJ2YXR1cmUiLCJVcGRhdGVVSSIsIkFjdGl2ZSIsImZsZyIsInN0YXJ0X3Bvc194Iiwic3RhcnRfcG9zX3kiLCJlbmRfcG9zX3giLCJlbmRfcG9zX3kiLCJjdXJ2YXR1cmVfdmFsdWUiLCJsaW5lX3giLCJsaW5lX3kiLCJoeDEiLCJNYXRoIiwiYWJzIiwiaHgyIiwibm9kZVRoaXMiLCJSZW1vdmVMaW5lIiwic2V0TGluZUNob29zZSIsInNldE5vZGVUbyIsIkNsb25lIiwiTW92ZVR5cGUiLCJab29tIiwiRGVzZ2luZXJWaWV3X0V2ZW50Iiwiem9vbV9sYXN0X3ZhbHVlIiwidGltZUZhc3RDbGljayIsInRhZ0luZ29yZSIsIm1vdmVUeXBlIiwiTm9uZSIsImZsZ0RyYXAiLCJmbGdNb3ZlIiwiYXZfeCIsImF2X3kiLCJwb3NfeCIsInBvc195IiwibW91c2VfeCIsIm1vdXNlX3kiLCJ0ZW1wTGluZSIsIkVuZE1vdmUiLCJNb3ZlIiwiU3RhcnRNb3ZlIiwiY29udGV4dG1lbnUiLCJub2RlX2Ryb3BFbmQiLCJub2RlX2RyYWdvdmVyIiwiem9vbV9lbnRlciIsImtleWRvd24iLCJldiIsInByZXZlbnREZWZhdWx0Iiwia2V5Tm9kZSIsImdldENvbnRyb2xDaG9vc2UiLCJnZXREYXRhIiwiZV9wb3NfeCIsImVfcG9zX3kiLCJ0b3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJDYWxjWCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIkNhbGNZIiwiY2hlY2tPbmx5Tm9kZSIsIkFkZE5vZGUiLCJ1cGRhdGVQb3NpdGlvbiIsImN0cmxLZXkiLCJkZWx0YVkiLCJ6b29tX291dCIsInpvb21faW4iLCJ6b29tX3JlZnJlc2giLCJ0ZW1wX3pvb20iLCJnZXRab29tIiwic2V0WCIsImdldFgiLCJzZXRZIiwiZ2V0WSIsInNldFpvb20iLCJ6b29tX3Jlc2V0IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiQ2FudmFzIiwibm9kZUNob29zZSIsImdldE5vZGVDaG9vc2UiLCJOb2RlIiwic2V0Tm9kZUNob29zZSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJub2RlRWwiLCJub2RlSWQiLCJub2RlVG8iLCJHZXROb2RlQnlJZCIsIm1ldGFLZXkiLCJnZXRMaW5lQ2hvb3NlIiwibG9nIiwiQ2hlY2tLZXkiLCJlbENvbnRlbnQiLCJhcnJMaW5lIiwib3B0aW9uIiwiZ2V0Q29udHJvbE5vZGVCeUtleSIsImNsYXNzIiwiaHRtbCIsImlDaGVjayIsImxpbmUiLCJlbERvdCIsImlzUmVtb3ZlUGFyZW50IiwiUmVtb3ZlTm9kZSIsIkRlc2dpbmVyVmlldyIsInZpZXdfZXZlbnQiLCJsaW5lQ2hvb3NlIiwibm9kZXMiLCJJbnNlcnROb2RlIiwiUmVuZGVyVUkiLCJ1cGRhdGVWaWV3Iiwiem9vbSIsInN0eWxlIiwidHJhbnNmb3JtIiwidGFiSW5kZXgiLCJudW1iZXIiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIkdldEFsbE5vZGUiLCJmaWx0ZXIiLCJnZXRDb250cm9sQnlLZXkiLCJWaWV3RG9jayIsIkRvY2tNYW5hZ2VyIiwiJGRvY2tNYW5hZ2VyIiwicmVzZXQiLCJhZGREb2NrIiwiJGtleSIsIiR2aWV3IiwiJGl0ZW0iLCIkcHJvcGVydGllcyIsIiRjb250cm9sIiwiJGNvbnRyb2xDaG9vc2UiLCJnZXREb2NrTWFuYWdlciIsImNvbnRyb2wiLCJsaW5lcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O3VDQUFPLE1BQU1BLEVBRUMsYUFGREEsRUFHRyxlQUhIQSxFQUlILFNBSkdBLEVBS0YsVUFHRUMsRUFDTCxVQURLQSxFQUVOLFNBRk1BLEVBR0wsVUFIS0EsRUFJSCxZQUpHQSxFQUtKLFdBR0lDLEVBQ0wscUJDZktDLEVBRTBDQyxLQUQ5Q0MsT0FBc0JDLFNBQVNDLGNBQWMsT0FDcERDLFlBQW1CQyxFQUFrQ0wsR0FBQU0sS0FBSU4sS0FBSkEsRUFDbkRLLEVBQVVFLFlBQVlELEtBQUtMLFFBQzNCSyxLQUFLTCxPQUFPTyxVQUFZLFdBRW5CQyxRQUFRQyxFQUFlQyxHQUM1QkwsS0FBS0wsT0FBT1csVUFBVUMsT0FBTyxjQUM3QlAsS0FBS0wsT0FBT1csVUFBVUUsSUFBSSxjQUMxQlIsS0FBS0wsT0FBT08sVUFBWSxpQ0FBaUNFLHNEQUVyREMsR0FDRkEsRUFBVUwsS0FBS0wsT0FB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
