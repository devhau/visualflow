/**
   * @license
   * author:nguyenvanhaudev@gmail.com (Nguyen Van Hau)
   * visualflow.js v0.0.7
   * Released under the MIT license.
   */
var visualflow=function(){"use strict";const e={init:"init",dataChange:"dataChange",showProperty:"showProperty",openProject:"openProject",newProject:"newProject",changeVariable:"changeVariable",change:"change",dispose:"dispose",groupChange:"groupChange",setGroup:"setGroup",zoom:"zoom",runProject:"runProject",stopProject:"stopProject",statusBot:"statusBot"},t={left:"vs-left",top:"vs-top",view:"vs-view",bottom:"vs-bottom",right:"vs-right"},s={main:"main_project",solution:"main_solution",line:"main_line",variable:"main_variable",groupCavas:"main_groupCavas"},i="root";class n{events={};constructor(){}onSafe(e,t){this.removeListener(e,t),this.on(e,t)}on(e,t){return"function"!=typeof t?(console.error("The listener callback must be a function, the given type is "+typeof t),!1):"string"!=typeof e?(console.error("The event name must be a string, the given type is "+typeof e),!1):(void 0===this.events[e]&&(this.events[e]={listeners:[]}),void this.events[e].listeners.push(t))}removeListener(e,t){if(!this.events[e])return!1;const s=this.events[e].listeners,i=s.indexOf(t);i>-1&&s.splice(i,1)}dispatch(e,t){if(void 0===this.events[e])return!1;this.events[e].listeners.forEach((e=>{e(t)}))}}const o=()=>new Date,a=()=>o().getTime(),r=e=>`${e}${o().getTime().toString().substring(5)}`,d=(e,t)=>e.sort<t.sort?-1:e.sort>t.sort?1:0,h=e=>e&&e instanceof Function;class l{property;data={};properties=null;events;getProperties(){return this.properties}onSafe(e,t){this.events.onSafe(e,t)}on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}constructor(e,t){this.property=e,this.events=new n,t&&this.load(t)}InitData(e=null,t=-1){-1!==t&&(this.properties=t),this.load(e)}eventDataChange(t,s,i,n,o){o?(this.dispatch(`${e.dataChange}_${t}_${o}_${s}`,{key:t,keyChild:s,value:i,sender:n,index:o}),this.dispatch(`${e.dataChange}_${t}_${o}`,{key:t,keyChild:s,value:i,sender:n,index:o})):this.dispatch(`${e.dataChange}_${t}_${s}`,{key:t,keyChild:s,value:i,sender:n}),this.dispatch(`${e.dataChange}_${t}`,{key:t,keyChild:s,value:i,sender:n})}RemoveEventData(t,s,i){t&&t.removeListener(`${e.dataChange}`,(({key:e,value:t,sender:n})=>this.eventDataChange(s,e,t,n,i)))}OnEventData(t,s,i){t&&t.on(`${e.dataChange}`,(({key:e,value:t,sender:n})=>this.eventDataChange(s,e,t,n,i)))}BindEvent(e,t){e&&(e instanceof l&&this.OnEventData(e,t),Array.isArray(e)&&e.length>0&&e[0]instanceof l&&e.forEach(((e,s)=>this.OnEventData(e,t,s))))}Set(t,s,i=null,n=!0){this.data[t]!=s&&(this.data[t]&&(this.data[t]instanceof l&&this.RemoveEventData(this.data[t],t),Array.isArray(this.data[t])&&this.data[t].length>0&&this.data[t][0]instanceof l&&this.data[t].forEach(((e,s)=>this.RemoveEventData(e,t,s)))),this.BindEvent(s,t)),this.data[t]=s,n&&(this.dispatch(`${e.dataChange}_${t}`,{key:t,value:s,sender:i}),this.dispatch(e.dataChange,{key:t,value:s,sender:i}),this.dispatch(e.change,{key:t,value:s,sender:i}))}SetData(t,s=null,i=!1){if(i&&(this.data={}),t instanceof l){let e=t;if(!this.property&&e.property&&(this.property=e.property),this.properties)for(let t of Object.keys(this.properties))this.Set(t,e.Get(t),s,!1);else for(let t of Object.keys(e.getProperties()))this.Set(t,e.Get(t),s,!1)}else Object.keys(t).forEach((e=>{this.Set(e,t[e],s,!1)}));this.dispatch(e.change,{data:t})}Get(e){return this.data[e]}Increase(e,t){(!t||t>this.data[e])&&this.Set(e,++this.data[e])}Decrease(e,t){(!t||t<this.data[e])&&this.Set(e,--this.data[e])}Append(e,t){this.data[e]||(this.data[e]=[]),this.data[e]=[...this.data[e],t],this.BindEvent(t,e)}Remove(e,t){this.data[e].indexOf(t);var s=this.data[e].indexOf(t);s>-1&&(this.RemoveEventData(this.data[e][s],e),this.data[e].splice(s,1))}load(e){if(this.data={},this.properties||(this.properties=this.property?.getPropertyByKey(e.key)),this.properties){const t=(e,t)=>{let s=t;h(t)&&(s=t()),Array.isArray(s)?s=s.map((e=>e.key?new l(this.property,e):e)):s?.key&&(s=new l(this.property,s)),this.data[e]=s,this.BindEvent(this.data[e],e)};for(let s of Object.keys(this.properties)){if(this.properties[s].sub&&e)for(let i of Object.keys(e))i.startsWith(s)&&t(i,e?.[i]??this.properties[s]?.default);else t(s,e?.[s]??this.properties[s]?.default)}}}toString(){return JSON.stringify(this.toJson())}toJson(){let e={};this.properties||(this.properties=this.property?.getPropertyByKey(this.data.key));const t=t=>{let s=this.Get(t);s instanceof l?e[t]=s.toJson():Array.isArray(s)?e[t]=s.map((e=>e instanceof l?e.toJson():e)):e[t]=s};for(let e of Object.keys(this.properties)){if(this.properties[e].sub)for(let s of Object.keys(this.data))s.startsWith(e)&&t(s);else t(e)}return e}delete(){this.events=new n,this.data={}}}class c{GetId(){return this.data.Get("id")}SetId(e){return this.data.Set("id",e)}properties={};data=new l;elNode=document.createElement("div");CheckElementChild(e){return this.elNode==e||this.elNode.contains(e)}events;SetData(e,t=null){this.data.SetData(e,t)}SetDataFlow(t){this.data.SetData(t,this,!0),this.dispatch("bind_data_event",{data:t,sender:this}),this.dispatch(e.change,{data:t,sender:this})}onSafe(e,t){return this.events.onSafe(e,t),this}on(e,t){return this.events.on(e,t),this}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){this.events.dispatch(e,t)}RemoveDataEvent(){this.data.removeListener(e.dataChange,(({key:t,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${e.dataChange}_${t}`,{type:"data",key:t,value:s,sender:i}),this.dispatch(e.dataChange,{type:"data",key:t,value:s,sender:i})}))})),this.data.removeListener(e.change,(({key:t,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(e.change,{type:"data",key:t,value:s,sender:i})}))}))}constructor(){this.events=new n}}class p extends c{parent;constructor(e){super(),this.parent=e}}const u=["SPAN","DIV","P","TEXTAREA"];class m{el;data;main;keyName;elNode;property;elSuggestions;elSuggestionsContent;nodeEditor;constructor(e,t,s,i=null){this.el=e,this.data=t,this.main=s,this.keyName=i,this.keyName?e.getAttribute("node:model")||(this.property=this.main.getPropertyByKey(this.data.Get("key"))?.[this.keyName],this.nodeEditor=e,this.nodeEditor.classList.add("node-editor"),this.property.edit?(this.property.select?this.elNode=document.createElement("select"):this.elNode=document.createElement("input"),this.elNode.classList.add("node-form-control")):this.elNode=document.createElement("span"),this.elNode.setAttribute("node:model",this.keyName),this.el.appendChild(this.elNode)):(this.keyName=e?.getAttribute("node:model"),this.keyName&&(this.property=this.main.getPropertyByKey(this.data.Get("key"))?.[this.keyName],this.elNode=this.el,this.nodeEditor=document.createElement("span"),this.nodeEditor.classList.add("node-editor"),e.parentElement?.insertBefore(this.nodeEditor,e),e.parentElement?.removeChild(e),this.nodeEditor.appendChild(this.elNode))),this.elSuggestions=document.createElement("div"),this.elSuggestions.classList.add("node-editor_suggestions"),this.elSuggestionsContent=document.createElement("div"),this.elSuggestionsContent.classList.add("suggestions_content"),this.elSuggestions.appendChild(this.elSuggestionsContent),this.showSuggestions(!1),this.nodeEditor&&this.nodeEditor.addEventListener("click",(e=>{e.target.classList.contains("sug-variable-item")&&this.setVar(e.target.innerText)})),this.keyName&&this.bindData()}setVar(e){let t=this.elNode.selectionStart;if(this.property.var)this.setNodeValue(e);else{let s=this.elNode.value,i=s.lastIndexOf("${",t);this.setNodeValue(`${s.substring(0,i)}\${${e}}${s.substring(t,s.length)}`)}setTimeout((()=>{this.elNode?.focus(),this.showSuggestions(!1),this.elNode.selectionStart=t+e.length,this.bindEvent()}))}checkShowSuggestions(){var e=this.main.getVariable();if(!e||0==e.length)return void this.showSuggestions(!1);let t=this.elNode.value,s=this.elNode.selectionStart,i="",n=0;if(t)if(this.property.var)i=t,this.showSuggestions(!0);else{if(n=t.lastIndexOf("${",s),!(t.lastIndexOf("}",s)<n))return void this.showSuggestions(!1);i=t.substring(n+2,s),this.showSuggestions(!0)}if(this.elSuggestionsContent){let t=document.createElement("div"),s=!1;console.log(i);for(let n of e){const e=n.Get("name");if(i&&!e.startsWith(i))continue;let o=document.createElement("button");o.innerHTML=e,o.classList.add("sug-variable-item"),t.appendChild(o),s=!0}if(this.elSuggestionsContent.appendChild(t),!s)return void this.showSuggestions(!1);this.suggestionIndex=0,this.setSuggestionIndex(0)}}showSuggestions(e=!0){this.elSuggestions&&(this.elSuggestionsContent&&(this.elSuggestionsContent.innerHTML=""),e?this.elSuggestions.removeAttribute("style"):this.elSuggestions.setAttribute("style","display:none;"))}elFocus=!1;regexValidate=null;suggestionIndex=0;setSuggestionIndex(e){if(!this.elSuggestions)return;let t=this.suggestionIndex+e;0>t||t>=this.elSuggestions.querySelectorAll(".sug-variable-item").length-1||(this.suggestionIndex=t,this.elSuggestions.querySelectorAll(".sug-variable-item").forEach(((e,t)=>{e.classList.remove("active"),t==this.suggestionIndex&&e.classList.add("active")})))}bindData(){if(this.keyName&&this.elNode){if(this.property.validate&&(this.regexValidate=new RegExp(this.property.validate,"i")),this.data.on(`${e.dataChange}_${this.keyName}`,this.bindInput.bind(this)),this.elNode.addEventListener("keydown",(e=>{var t=e.which?e.which:e.keyCode;if(13==t&&this.suggestionIndex>-1){let t=this.elSuggestions?.querySelector(".active")?.innerHTML;return t&&this.setVar(t),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1}return 38==t?(this.setSuggestionIndex(-1),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1):40==t?(this.setSuggestionIndex(1),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1):void this.bindEvent()})),this.elNode.addEventListener("paste",(e=>{if(this.regexValidate&&!this.regexValidate.test(e.clipboardData.getData("Text")))return e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1})),this.elNode.addEventListener("keypress",(e=>{var t=e.which?e.which:e.keyCode;if(this.regexValidate&&!this.regexValidate.test(String.fromCharCode(t)))return e.stopPropagation(),e.preventDefault(),e.returnValue=!1,e.cancelBubble=!0,!1})),this.elNode.addEventListener("focus",(()=>{this.elFocus=!0,this.suggestionIndex=0,this.elSuggestions&&this.elNode?.parentElement?.appendChild(this.elSuggestions)})),this.elNode.setAttribute("autocomplete","off"),this.elNode.addEventListener("blur",(()=>{this.elFocus=!1,setTimeout((()=>{this.elSuggestions&&!this.elFocus&&(this.elNode?.parentElement?.removeChild?.(this.elSuggestions),this.suggestionIndex=-1)}),500)})),this.elNode.addEventListener("select",(()=>{this.checkShowSuggestions()})),this.elNode&&this.property&&this.property.select&&h(this.property.dataSelect)){if(this.property.selectNone){let e=document.createElement("option");e.value="",e.text=this.property.selectNone,this.elNode?.appendChild(e),this.elNode.value=""}this.property.dataSelect({elNode:this.elNode,main:this.main,key:this.keyName}).forEach((e=>{let t=document.createElement("option");t.value=e.value,t.text=e.text,this.elNode?.appendChild(t)}))}this.property&&h(this.property.script)&&this.property.script({elNode:this.elNode,main:this.main,key:this.keyName}),this.setNodeValue(this.data.Get(this.keyName)??"")}}setNodeValue(e){this.elNode&&(u.includes(this.elNode.tagName)?this.elNode.innerText=`${e??""}`:this.elNode.value=e)}bindInput({value:e,sender:t}){t!==this&&this.elNode&&t?.elNode!==this.elNode&&this.setNodeValue(e??"")}bindEvent(){setTimeout((()=>{this.keyName&&this.elNode&&(this.data.Set(this.keyName,this.elNode.value,this),this.checkShowSuggestions())}))}Delete(){this.keyName&&this.elNode&&(this.data.removeListener(`${e.dataChange}_${this.keyName}`,this.bindInput.bind(this)),this.elNode.removeEventListener("change",this.bindEvent.bind(this)),this.elNode.removeEventListener("keydown",this.bindEvent.bind(this)))}static BindElement(e,t,s,i=null){return 0==e.childElementCount||e.getAttribute("node:model")?[new m(e,t,s,i)]:Array.from(e.querySelectorAll("[node\\:model]")).map((e=>new m(e,t,s)))}}var v,g=Object.freeze({__proto__:null,FlowCore:c,BaseFlow:p,DockEnum:t,EventEnum:e,PropertyEnum:s,ScopeRoot:i,DataFlow:l,DataView:m,EventFlow:n,compareSort:d,getUuid:()=>{let e=[],t="0123456789abcdef";for(let s=0;s<36;s++)e[s]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},getTime:a,LOG:(e,...t)=>console.log(e,t),getDate:o,isFunction:h});class f{from;fromIndex;to;toIndex;elNode=document.createElementNS("http://www.w3.org/2000/svg","svg");elPath=document.createElementNS("http://www.w3.org/2000/svg","path");data=new l;curvature=.5;temp=!1;constructor(e,t=0,i,n=0,o=null){this.from=e,this.fromIndex=t,this.to=i,this.toIndex=n,this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elNode.classList.add("connection"),this.elNode.appendChild(this.elPath),this.from.parent.elCanvas.appendChild(this.elNode),this.from.AddLine(this),this.to?.AddLine(this),o?this.data=o:(this.data.InitData({from:this.from.GetId(),fromIndex:this.fromIndex,to:this.to?.GetId(),toIndex:this.toIndex},{...this.from.parent.main.getPropertyByKey(s.line)||{}}),this.from.data.Append("lines",this.data))}updateTo(e,t){if(!this.from||null==this.from.elNode)return;let{x:s,y:i}=this.from.getPostisionDot(this.fromIndex);var n=this.createCurvature(s,i,e,t,this.curvature,"other");this.elPath.setAttributeNS(null,"d",n)}UpdateUI(){if(this.to&&this.to.elNode){let{x:e,y:t}=this.to.getPostisionDot(this.toIndex);this.updateTo(e,t)}return this}Active(e=!0){e?this.elPath.classList.add("active"):this.elPath.classList.remove("active")}createCurvature(e,t,s,i,n,o){let a=e,r=t,d=s,h=i,l=n;switch(o){case"open":if(e>=s)var c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"close":if(e>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*l;else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"other":if(e>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;default:return" M "+a+" "+r+" C "+(c=a+Math.abs(d-a)*l)+" "+r+" "+(p=d-Math.abs(d-a)*l)+" "+h+" "+d+"  "+h}}delete(e=null,t=!0){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),t&&this.from.data.Remove("lines",this.data),this.from!=e&&this.from.RemoveLine(this),this.to!=e&&this.to?.RemoveLine(this),this.elPath.remove(),this.elNode.remove()}StartSelected(e){this.from.parent.setLineChoose(this)}setNodeTo(e,t){this.to=e,this.toIndex=t}Clone(){if(this.to&&this.toIndex&&this.from!=this.to&&!this.from.checkLineExists(this.fromIndex,this.to,this.toIndex))return new f(this.from,this.fromIndex,this.to,this.toIndex).UpdateUI()}}!function(e){e[e.None=0]="None",e[e.Node=1]="Node",e[e.Canvas=2]="Canvas",e[e.Line=3]="Line"}(v||(v={}));class b{parent;timeFastClick=0;tagIngore=["input","button","a","textarea"];moveType=v.None;flgDrap=!1;flgMove=!1;av_x=0;av_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;tempLine;constructor(e){this.parent=e,this.parent.elNode.addEventListener("mouseup",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mouseleave",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mousemove",this.Move.bind(this)),this.parent.elNode.addEventListener("mousedown",this.StartMove.bind(this)),this.parent.elNode.addEventListener("touchend",this.EndMove.bind(this)),this.parent.elNode.addEventListener("touchmove",this.Move.bind(this)),this.parent.elNode.addEventListener("touchstart",this.StartMove.bind(this)),this.parent.elNode.addEventListener("contextmenu",this.contextmenu.bind(this)),this.parent.elNode.addEventListener("drop",this.node_dropEnd.bind(this)),this.parent.elNode.addEventListener("dragover",this.node_dragover.bind(this)),this.parent.elNode.addEventListener("wheel",this.zoom_enter.bind(this)),this.parent.elNode.addEventListener("keydown",this.keydown.bind(this))}contextmenu(e){e.preventDefault()}node_dragover(e){e.preventDefault()}node_dropEnd(e){if(e.preventDefault(),this.parent.$lock)return;let t=this.parent.main.getControlChoose();if(t||"touchend"===e.type||(t=e.dataTransfer.getData("node")),!t)return;let s=0,i=0;"touchmove"===e.type?(s=e.touches[0].clientX,i=e.touches[0].clientY):(s=e.clientX,i=e.clientY);let n=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-s),o=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-i);this.parent.checkOnlyNode(t)||this.parent.AddNode(t,{group:this.parent.CurrentGroup()}).updatePosition(n,o)}zoom_enter(e){this.parent.$lock||e.ctrlKey&&(e.preventDefault(),e.deltaY>0?this.parent.zoom_out():this.parent.zoom_in())}StartMove(e){if(this.parent.$lock)return;if(this.tagIngore.includes(e.target.tagName.toLowerCase()))return;if(this.timeFastClick=a(),e.target.classList.contains("main-path"))return;"touchstart"===e.type?(this.pos_x=e.touches[0].clientX,this.pos_y=e.touches[0].clientY):(this.pos_x=e.clientX,this.pos_y=e.clientY),this.moveType=v.Canvas;let t=this.parent.getNodeChoose();if(t&&t.CheckElementChild(e.target)?this.moveType=v.Node:this.parent.setNodeChoose(void 0),t&&this.moveType==v.Node&&e.target.classList.contains("node-dot")){this.moveType=v.Line;let s=e.target.getAttribute("node");this.tempLine=new f(t,s),this.tempLine.temp=!0}this.moveType==v.Canvas&&(this.av_x=this.parent.getX(),this.av_y=this.parent.getY()),this.flgDrap=!0,this.flgMove=!1}Move(e){if(this.parent.$lock)return;if(!this.flgDrap)return;this.flgMove=!0;let t=0,s=0;switch("touchmove"===e.type?(t=e.touches[0].clientX,s=e.touches[0].clientY):(t=e.clientX,s=e.clientY),this.moveType){case v.Canvas:{let e=this.av_x+this.parent.CalcX(-(this.pos_x-t)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(e),this.parent.setY(i),this.parent.UpdateUI();break}case v.Node:{let e=this.parent.CalcX(this.pos_x-t),i=this.parent.CalcY(this.pos_y-s);this.pos_x=t,this.pos_y=s,this.parent.getNodeChoose()?.updatePosition(e,i);break}case v.Line:if(this.tempLine){let i=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-t),n=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-s);this.tempLine.updateTo(this.parent.elCanvas.offsetLeft-i,this.parent.elCanvas.offsetTop-n);let o=e.target.closest("[node-id]"),a=o?.getAttribute("node-id"),r=a?this.parent.GetNodeById(a):void 0;if(r&&e.target.classList.contains("node-dot")){let t=e.target.getAttribute("node");this.tempLine.setNodeTo(r,t)}else{let e=o?.querySelector(".node-dot")?.[0]?.getAttribute("node");this.tempLine.setNodeTo(r,e)}}}"touchmove"===e.type&&(this.mouse_x=t,this.mouse_y=s)}EndMove(e){if(this.parent.$lock)return;if(!this.flgDrap)return;if(a()-this.timeFastClick<100||!this.flgMove)return this.moveType=v.None,this.flgDrap=!1,void(this.flgMove=!1);let t=0,s=0;if("touchend"===e.type?(t=this.mouse_x,s=this.mouse_y):(t=e.clientX,s=e.clientY),this.moveType===v.Canvas){let e=this.av_x+this.parent.CalcX(-(this.pos_x-t)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(e),this.parent.setY(i),this.av_x=0,this.av_y=0}this.tempLine&&(this.tempLine.Clone(),this.tempLine.delete(),this.tempLine=void 0),this.pos_x=t,this.pos_y=s,this.moveType=v.None,this.flgDrap=!1,this.flgMove=!1}keydown(e){this.parent.$lock||(("Delete"===e.key||"Backspace"===e.key&&e.metaKey)&&(e.preventDefault(),this.parent.getNodeChoose()?.delete(),this.parent.getLineChoose()?.delete()),"F2"===e.key&&e.preventDefault())}}class y extends p{keyNode;IncreaseValue(e,t){return this.data.Increase(e,t)}DecreaseValue(e,t){return this.data.Decrease(e,t)}getDataValue(e){return this.data.Get(e)}setDataValue(e,t){return this.data.Set(e,t,this)}getName(){return this.getDataValue("name")}getY(){return+this.getDataValue("y")}setY(e){return this.setDataValue("y",e)}getX(){return+this.getDataValue("x")}setX(e){return this.setDataValue("x",e)}CheckKey(e){return this.getDataValue("key")==e}getDataLine(){return this.getDataValue("lines")??[]}checkLineExists(e,t,s){return this.arrLine.filter((i=>!i.temp&&i.to==t&&i.toIndex==s&&i.fromIndex==e||!i.temp&&i.from==t&&i.fromIndex==s&&i.toIndex==e)).length>0}elContent;temp=new l;arrLine=[];option={};arrDataView=[];constructor(t,s,i={}){super(t),this.keyNode=s,this.option=this.parent.main.getControlNodeByKey(s),this.properties=this.option?.properties,i instanceof l?this.data=i:(this.data.InitData({...i,name:this.option.name},this.properties),this.parent.data.Append("nodes",this.data)),this.data.on(e.dataChange,this.renderUI.bind(this)),this.elNode.classList.add("vs-node"),this.option.class&&this.elNode.classList.add(this.option.class),this.elNode.setAttribute("node-id",this.GetId()),this.elNode.setAttribute("style","display:none"),this.elNode.addEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.addEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.parent.elCanvas.appendChild(this.elNode),this.renderUI()}getOption(){return this.option}renderUI(e=null){if(e&&["x","y"].includes(e.key))return void setTimeout((()=>{this.UpdateUI()}));if(document.activeElement&&this.elNode.contains(document.activeElement)&&!["BUTTON","A"].includes(document.activeElement.tagName))return;this.elNode.setAttribute("style","display:none;"),!0===this.getOption()?.hideTitle?this.elNode.innerHTML='\n      <div class="node-left"></div>\n      <div class="node-container">\n        <div class="node-top"></div>\n        <div class="node-content">\n          <div class="body"></div>\n        </div>\n        <div class="node-bottom"></div>\n      </div>\n      <div class="node-right"></div>\n    ':this.elNode.innerHTML=`\n      <div class="node-left"></div>\n      <div class="node-container">\n        <div class="node-top"></div>\n        <div class="node-content">\n          <div class="title">${this.option.icon} ${this.getName()}</div>\n          <div class="body"></div>\n        </div>\n        <div class="node-bottom"></div>\n      </div>\n      <div class="node-right"></div>\n    `;const t=(e,t,s)=>{if(e){let i=this.elNode.querySelector(s);if(i){i.innerHTML="";for(let s=0;s<e;s++){let e=document.createElement("div");e.classList.add("node-dot"),e.setAttribute("node",`${t+s}`),i.appendChild(e)}}}};t(this.option?.dot?.left,1e3,".node-left"),t(this.option?.dot?.top,2e3,".node-top"),t(this.option?.dot?.bottom,3e3,".node-bottom"),t(this.option?.dot?.right,4e3,".node-right"),this.elContent=this.elNode.querySelector(".node-content .body")||document.createElement("div"),this.parent.main.renderHtml({node:this,elNode:this.elContent,main:this.parent.main}),this.UpdateUI(),this.arrDataView.forEach((e=>e.Delete())),h(this.option.script)&&this.option.script({node:this,elNode:this.elContent,main:this.parent.main}),this.elContent&&(this.arrDataView=m.BindElement(this.elContent,this.data,this.parent.main))}updatePosition(e,t,s=!1){if(this.elNode){let i=e,n=t;s||(n=this.elNode.offsetTop-t,i=this.elNode.offsetLeft-e),i!==this.getX()&&this.setX(i),n!==this.getY()&&this.setY(n)}}Active(e=!0){e?this.elNode.classList.add("active"):this.elNode.classList.remove("active")}RemoveLine(e){var t=this.arrLine.indexOf(e);return t>-1&&this.arrLine.splice(t,1),this.arrLine}AddLine(e){this.arrLine=[...this.arrLine,e]}getPostisionDot(e=0){let t=this.elNode?.querySelector(`.node-dot[node="${e}"]`);if(t){let e=this.elNode.offsetTop+t.offsetTop+10;return{x:this.elNode.offsetLeft+t.offsetLeft+10,y:e}}return{}}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((e=>{e.UpdateUI()}))}delete(t=!0){this.arrLine.forEach((e=>e.delete(this,t))),t?this.data.delete():(this.data.removeListener(e.dataChange,this.renderUI.bind(this)),this.RemoveDataEvent()),this.elNode.removeEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.removeEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.elNode.remove(),this.arrLine=[],t&&this.parent.RemoveNode(this),this.dispatch(e.change,{})}RenderLine(){this.getDataLine().forEach((e=>{let t=this.parent.GetNodeById(e.Get("to")),s=e.Get("toIndex"),i=e.Get("fromIndex");new f(this,i,t,s,e).UpdateUI()}))}}const N=1.6,C=.6,L=.1,k=1;class E extends c{main;getZoom(){return+this.getDataGroup().Get("zoom")}setZoom(e){return this.getDataGroup().Set("zoom",e,this)}getY(){return+this.getDataGroup().Get("y")}setY(e){return this.getDataGroup().Set("y",e,this)}getX(){return+this.getDataGroup().Get("x")}setX(e){return this.getDataGroup().Set("x",e,this)}groupData;lastGroupName="";getDataGroup(){if(this.$lock)return this.data;if(this.lastGroupName===this.CurrentGroup())return this.groupData??this.data;this.lastGroupName=this.CurrentGroup();let t=this.data.Get("groups");this.groupData=t?.filter((e=>e.Get("group")==this.lastGroupName))?.[0],this.groupData||(this.groupData=new l(this.main,{key:s.groupCavas,group:this.lastGroupName}),this.data.Append("groups",this.groupData));let i=this.GetDataById(this.lastGroupName);return i&&i.onSafe(`${e.dataChange}_name`,(()=>{this.changeGroup()})),this.groupData}group=[];GetGroupName(){return[...this.group.map((e=>({id:e,text:this.GetDataById(e)?.Get("name")}))),{id:i,text:i}]}BackGroup(e=null){let t=1;e&&(t=this.group.indexOf(e),t<0&&(t=0)),t?this.group.splice(0,t):this.group=[],this.RenderUI(),this.changeGroup()}CurrentGroup(){let e=this.group?.[0];return e&&""!=e?e:"root"}CurrentGroupData(){return this.GetDataById(this.CurrentGroup())??this.data}changeGroup(){setTimeout((()=>{this.main.dispatch(e.groupChange,{group:this.GetGroupName()})}))}openGroup(e){this.group=[e,...this.group],this.RenderUI(),this.changeGroup()}lineChoose;setLineChoose(e){this.lineChoose&&this.lineChoose.Active(!1),this.lineChoose=e,this.lineChoose&&(this.lineChoose.Active(),this.setNodeChoose(void 0))}getLineChoose(){return this.lineChoose}nodes=[];nodeChoose;setNodeChoose(t){this.nodeChoose&&this.nodeChoose.Active(!1),this.nodeChoose=t,this.nodeChoose?(this.nodeChoose.Active(),this.setLineChoose(void 0),this.dispatch(e.showProperty,{data:this.nodeChoose.data})):this.dispatch(e.showProperty,{data:this.CurrentGroupData()})}getNodeChoose(){return this.nodeChoose}AddNodeItem(e){return this.AddNode(e.Get("key"),e)}AddNode(e,t={}){return this.InsertNode(new y(this,e,t))}InsertNode(e){return this.nodes=[...this.nodes,e],e}RemoveNode(e){var t=this.nodes.indexOf(e);return this.data.Remove("nodes",e),t>-1&&this.nodes.splice(t,1),this.nodes}ClearNode(){this.nodes?.forEach((e=>e.delete(!1))),this.nodes=[]}GetDataAllNode(){return this.data?.Get("nodes")??[]}GetDataNode(){return this.GetDataAllNode().filter((e=>e.Get("group")===this.CurrentGroup()))}elCanvas=document.createElement("div");$lock=!0;zoom_last_value=1;constructor(t,i){super(),this.main=i,this.elNode=t;let n=this.main.getPropertyByKey(s.main);this.data.InitData({},n),this.elNode.innerHTML="",this.elNode.classList.remove("desginer-view"),this.elCanvas.classList.remove("desginer-canvas"),this.elNode.classList.add("desginer-view"),this.elCanvas.classList.add("desginer-canvas"),this.elNode.appendChild(this.elCanvas),this.elNode.tabIndex=0,new b(this),this.on(e.dataChange,this.RenderUI.bind(this)),this.on(e.showProperty,(t=>{i.dispatch(e.showProperty,t)})),this.main.on(e.openProject,(e=>{this.Open(e.data)})),this.main.on(e.zoom,(({zoom:e})=>{0==e?this.zoom_reset():1==e?this.zoom_out():-1==e&&this.zoom_in(),this.UpdateUI()})),this.main.on(e.setGroup,(({groupId:e})=>{this.BackGroup(e)})),this.changeGroup()}updateView(e,t,s){this.elCanvas.style.transform=`translate(${e}px, ${t}px) scale(${s})`}UpdateUI(){this.updateView(this.getX(),this.getY(),this.getZoom())}RenderUI(e={}){e.sender&&e.sender instanceof y||(e.sender&&e.sender instanceof E||(this.ClearNode(),this.GetDataNode().forEach((e=>{this.AddNodeItem(e)})),this.GetAllNode().forEach((e=>{e.RenderLine()}))),this.UpdateUI())}Open(t){t!=this.data?(this.data?.dispatch(e.dataChange,(t=>this.dispatch(e.dataChange,t))),this.data=t,this.data.on(e.dataChange,(t=>this.dispatch(e.dataChange,t))),this.$lock=!1,this.lastGroupName="",this.groupData=void 0,this.group=[],this.RenderUI(),this.changeGroup()):this.RenderUI()}CalcX(e){return e*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(e){return e*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}GetAllNode(){return this.nodes||[]}GetNodeById(e){return this.GetAllNode().filter((t=>t.GetId()==e))?.[0]}GetDataById(e){return this.GetDataAllNode().filter((t=>t.Get("id")===e))?.[0]}checkOnlyNode(e){return this.main.getControlByKey(e).onlyNode&&this.nodes.filter((t=>t.CheckKey(e))).length>0}zoom_refresh(e=0){let t=0==e?k:this.getZoom()+L*e;N>=t&&t>=C&&(this.setX(this.getX()/this.zoom_last_value*t),this.setY(this.getY()/this.zoom_last_value*t),this.zoom_last_value=t,this.setZoom(this.zoom_last_value))}zoom_in(){this.zoom_refresh(1)}zoom_out(){this.zoom_refresh(-1)}zoom_reset(){this.zoom_refresh(0)}}class x{elNode;main;variables;constructor(t,s){this.elNode=t,this.main=s,this.elNode.classList.add("vs-variable"),this.main.onSafe(e.changeVariable,(({data:e})=>{this.Render()})),this.main.onSafe(e.openProject,(()=>{this.Render()})),this.main.onSafe(e.groupChange,(()=>{this.Render()})),this.Render()}Render(){if(this.variables=this.main.getVariable(),this.elNode.innerHTML='\n      <table border="1">\n        <thead>\n          <tr>\n            <td class="variable-name">Name</td>\n            <td class="variable-type">Type</td>\n            <td class="variable-scope">Scope</td>\n            <td class="variable-default">Default</td>\n            <td class="variable-button"></td>\n          </tr>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n    ',this.variables)for(let e of this.variables)new $(e,this).RenderScope(this.main.getGroupCurrent())}}class ${variable;parent;elNode=document.createElement("tr");nameInput=document.createElement("input");typeInput=document.createElement("select");scopeInput=document.createElement("select");valueDefaultInput=document.createElement("input");constructor(e,t){this.variable=e,this.parent=t,this.nameInput.value=this.variable.Get("name"),this.valueDefaultInput.value=this.variable.Get("initalValue")??"",this.typeInput.value=this.variable.Get("type")??"";for(let e of["text","number","date","object"]){let t=document.createElement("option");t.text=e,t.value=e,this.typeInput.appendChild(t)}let s=document.createElement("td");s.appendChild(this.nameInput),this.elNode.appendChild(s),this.nameInput.addEventListener("keydown",(e=>{this.variable.Set("name",e.target.value)})),this.nameInput.addEventListener("change",(e=>{this.variable.Set("name",e.target.value)}));let i=document.createElement("td");i.appendChild(this.typeInput),this.elNode.appendChild(i),this.typeInput.addEventListener("change",(e=>{this.variable.Set("type",e.target.value)}));let n=document.createElement("td");n.appendChild(this.scopeInput),this.elNode.appendChild(n);let o=document.createElement("td");o.appendChild(this.valueDefaultInput),this.elNode.appendChild(o),this.valueDefaultInput.addEventListener("change",(e=>{this.variable.Set("initalValue",e.target.value)})),this.valueDefaultInput.addEventListener("keydown",(e=>{this.variable.Set("initalValue",e.target.value)}));let a=document.createElement("button");a.innerHTML="-",a.addEventListener("click",(()=>{t.main.removeVariable(e)}));let r=document.createElement("td");r.appendChild(a),this.elNode.appendChild(r),t.elNode.querySelector("table tbody")?.appendChild(this.elNode)}RenderScope(e=null){if(this.scopeInput.innerHTML="",e)for(let t of e){let e=document.createElement("option");e.text=t.text,e.value=t.id,this.scopeInput.prepend(e)}this.scopeInput.value=this.variable.Get("scope"),this.scopeInput.addEventListener("change",(e=>{this.variable.Set("scope",e.target.value)}))}}class S{elNode;main;constructor(e,t){this.elNode=e,this.main=t,this.elNode.classList.add("vs-toolbox"),this.Render()}Render(){let e=this.main.getControlAll(),t={};Object.keys(e).forEach((s=>{let i=e[s].group??"other";void 0===t[i]&&(t[i]=[]),t[i]=[...t[i],e[s]]})),Object.keys(t).forEach(((e,s)=>{let i=document.createElement("div");i.classList.add("node-box"),i.classList.add("active"),i.innerHTML=`\n        <p class="node-box_title">${e}</p>\n        <div class="node-box_boby"></div>\n      `,i.querySelector(".node-box_title")?.addEventListener("click",(()=>{i.classList.contains("active")?i.classList.remove("active"):i.classList.add("active")}));for(let s of t[e]){let e=document.createElement("div");e.classList.add("node-item"),e.setAttribute("draggable","true"),e.setAttribute("data-node",s.key),e.innerHTML=`${s.icon} <span>${s.name}</span`,e.addEventListener("dragstart",this.dragStart.bind(this)),e.addEventListener("dragend",this.dragend.bind(this)),i.querySelector(".node-box_boby")?.appendChild(e)}this.elNode.appendChild(i)}))}dragend(e){this.main.setControlChoose(null)}dragStart(e){let t=e.target.closest(".node-item").getAttribute("data-node");this.main.setControlChoose(t),"touchstart"!==e.type&&e.dataTransfer.setData("node",t)}}class j{elNode;main;constructor(t,s){this.elNode=t,this.main=s,this.elNode.classList.add("vs-project"),this.main.on(e.changeVariable,this.Render.bind(this)),this.main.on(e.openProject,this.Render.bind(this))}Render(){this.elNode.innerHTML="",this.main.getProjectAll().forEach((t=>{let s=document.createElement("div");s.classList.add("node-item"),s.innerHTML=`${t.Get("name")}`,s.setAttribute("data-project-id",t.Get("id")),t.onSafe(`${e.dataChange}_name`,(()=>{s.innerHTML=`${t.Get("name")}`})),this.main.checkProjectOpen(t)&&s.classList.add("active"),s.addEventListener("click",(()=>{this.main.setProjectOpen(t)})),this.elNode?.appendChild(s)}))}}class w{elNode;main;$elBoby;$elWarp;$btnNext;$btnBack;$btnAdd;$btnZoomIn;$btnZoomOut;$btnZoomReset;$btnRunProject;constructor(t,s){this.elNode=t,this.main=s,this.elNode.classList.add("vs-tab-project"),this.main.on(e.openProject,this.Render.bind(this)),this.Render()}Render(){let t=this.$elWarp?.scrollLeft??0;this.elNode.innerHTML='\n    <div class="tab-project__search"></div>\n    <div class="tab-project__list">\n      <div class="tab-project_button">\n        <button class="btn-back"><i class="fas fa-angle-left"></i></button>\n      </div>\n      <div class="tab-project_warp">\n        <div class="tab-project__body">\n        </div>\n      </div>\n      <div class="tab-project_button">\n        <button class="btn-next"><i class="fas fa-angle-right"></i></button>\n      </div>\n      <div class="tab-project_button">\n        <button class="btn-add"><i class="fas fa-plus"></i></button>\n      </div>\n      <div class="tab-project_button">\n        <button class="btn-run-project"><i class="fas fa-play"></i> Run</button>\n      </div>\n      <div class="tab-project_button">\n        <button class="btn-zoom-in"><i class="fas fa-search-plus"></i></button>\n      </div>\n      <div class="tab-project_button">\n        <button class="btn-zoom-out"><i class="fas fa-search-minus"></i></button>\n      </div>\n      <div class="tab-project_button">\n        <button class="btn-zoom-reset"><i class="fas fa-redo"></i></button>\n      </div>\n    </div>\n    ',this.$elWarp=this.elNode.querySelector(".tab-project_warp"),this.$elBoby=this.elNode.querySelector(".tab-project__body"),this.$btnBack=this.elNode.querySelector(".btn-back"),this.$btnNext=this.elNode.querySelector(".btn-next"),this.$btnAdd=this.elNode.querySelector(".btn-add"),this.$btnZoomIn=this.elNode.querySelector(".btn-zoom-in"),this.$btnZoomOut=this.elNode.querySelector(".btn-zoom-out"),this.$btnZoomReset=this.elNode.querySelector(".btn-zoom-reset"),this.$btnRunProject=this.elNode.querySelector(".btn-run-project");const s=()=>{this.$elWarp};this.$elWarp?.addEventListener("scroll",(e=>{s()}),{passive:!0}),s(),this.$btnBack?.addEventListener("click",(()=>{this.$elWarp&&(this.$elWarp.scrollLeft-=100)})),this.$btnNext?.addEventListener("click",(()=>{this.$elWarp&&(this.$elWarp.scrollLeft+=100)})),this.$btnAdd?.addEventListener("click",(()=>{this.main.newProject("")})),this.$btnZoomIn?.addEventListener("click",(()=>{this.main.dispatch(e.zoom,{zoom:-1})})),this.$btnZoomOut?.addEventListener("click",(()=>{this.main.dispatch(e.zoom,{zoom:1})})),this.$btnZoomReset?.addEventListener("click",(()=>{this.main.dispatch(e.zoom,{zoom:0})})),this.main.on(e.statusBot,(e=>{this.$btnRunProject&&(this.$btnRunProject.innerHTML=e?'<i class="fas fa-stop"></i> Stop':'<i class="fas fa-play"></i> Run')})),this.$btnRunProject?.addEventListener("click",(()=>{this.main.running()?(console.log("stop"),this.main.stopProject()):(console.log("run"),this.main.runProject())}));let i,n=this.main.getProjectAll();for(let t of n){let s=document.createElement("div"),n=document.createElement("span"),o=document.createElement("div"),a=document.createElement("button");s.setAttribute("data-project-id",t.Get("id")),n.innerHTML=t.Get("name"),n.classList.add("pro-name"),o.classList.add("pro-button"),a.innerHTML='<i class="fas fa-minus"></i>',o.appendChild(a),s.appendChild(n),s.appendChild(o),s.classList.add("project-item"),this.main.checkProjectOpen(t)&&(s.classList.add("active"),i=s),s.addEventListener("click",(e=>{a.contains(e.target)||e.target==a||this.main.setProjectOpen(t)})),a.addEventListener("click",(e=>{this.main.removeProject(t)})),this.$elBoby?.appendChild(s),t.onSafe(e.dataChange+"_name",(()=>{n.innerHTML=t.Get("name")}))}this.$elWarp&&(this.$elWarp.scrollLeft=null!=i?i.offsetLeft-20:t)}}class I{elNode;main;constructor(t,s){this.elNode=t,this.main=s,this.elNode.classList.add("vs-breadcrumb-group"),this.main.on(e.groupChange,(({group:e})=>{this.render(e)})),this.elNode.innerHTML=""}render(e){if(this.elNode.innerHTML="",!this.elNode||!e)return;let t=document.createElement("ul"),s=!0;e.forEach((e=>{if(!s){let e=document.createElement("li");e.innerHTML=">",t.prepend(e)}let i=document.createElement("li");i.innerHTML=e.text,i.addEventListener("click",(()=>this.setGroupId(e.id))),i.classList.add("group-item"),t.prepend(i),s=!1}));let i=document.createElement("div");i.classList.add("group-warp");let n=document.createElement("div");if(n.classList.add("group-body"),i.appendChild(n),n.appendChild(t),e.length>1){let t=document.createElement("div");t.classList.add("group-button"),t.innerHTML='<button><i class="fas fa-redo"></i></button>',t.addEventListener("click",(()=>this.setGroupId(e[1].id))),this.elNode.appendChild(t)}this.elNode.appendChild(i)}setGroupId(t){this.main.dispatch(e.setGroup,{groupId:t})}}class _{elNode;main;lastData;hideKeys=["lines","nodes","groups","variable","x","y","zoom"];sortKeys=["id","key","name","group"];constructor(t,s){this.elNode=t,this.main=s,this.elNode.classList.add("vs-property-view"),this.main.on(e.showProperty,(e=>{this.Render(e.data)}))}Render(e){if(this.lastData==e)return;this.lastData=e,this.elNode.innerHTML="";let t=e.getProperties();this.sortKeys.forEach((s=>{if(this.hideKeys.includes(s)||!t[s]||t[s].hide)return;let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=t[s].text??s;let o=document.createElement("div");o.classList.add("property-value"),m.BindElement(o,e,this.main,s),i.appendChild(n),i.appendChild(o),this.elNode.appendChild(i)})),Object.keys(t).forEach((s=>{if(this.hideKeys.includes(s)||this.sortKeys.includes(s)||!t[s]||t[s].hide)return;let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=t[s].text??s;let o=document.createElement("div");o.classList.add("property-value"),m.BindElement(o,e,this.main,s),i.appendChild(n),i.appendChild(o),this.elNode.appendChild(i)}))}}var D=Object.freeze({__proto__:null,DesginerView:E,Line:f,NodeItem:y,VariableView:x,ToolboxView:S,ProjectView:j,TabProjectView:w,BreadcrumbGroupView:I,PropertyView:_});class G{main;elNode=document.createElement("div");elContent;constructor(e,t){this.main=t,e.appendChild(this.elNode),this.elNode.innerHTML="DockBase"}BoxInfo(e,t){this.elNode.classList.remove("vs-boxinfo"),this.elNode.classList.add("vs-boxinfo"),this.elNode.innerHTML=`<div class="vs-boxinfo_header"><span class="vs-boxinfo_title">${e}</span><span class="vs-boxinfo_button"></span></div>\n    <div class="vs-boxinfo_warp"><div class="vs-boxinfo_content"></div></div>`,this.elContent=this.elNode.querySelector(".vs-boxinfo_content"),t&&t(this.elContent)}}class P extends G{main;constructor(e,t){super(e,t),this.main=t,this.elNode.classList.add("vs-control"),this.BoxInfo("Control",(e=>{new S(e,this.main)}))}}class M extends G{main;constructor(e,t){super(e,t),this.main=t,this.elNode.classList.add("vs-variable"),this.BoxInfo("Variable",(e=>{new x(e,t)}));let s=this.elNode.querySelector(".vs-boxinfo_header .vs-boxinfo_button");if(s){s.innerHTML="";let e=document.createElement("button");s?.appendChild(e),e.innerHTML="New Variable",e.addEventListener("click",(()=>{this.main.newVariable(void 0,void 0,void 0)}))}}}class T extends G{main;constructor(e,t){super(e,t),this.main=t,this.elNode.classList.add("vs-property"),this.BoxInfo("Property",(e=>{new _(e,t)}))}}class O extends G{main;view;constructor(e,t){super(e,t),this.main=t,this.view=new E(this.elNode,t)}}class A extends G{main;constructor(e,t){super(e,t),this.main=t,new w(this.elNode,t)}}class V extends G{main;constructor(e,t){super(e,t),this.main=t,new I(this.elNode,t)}}class R{container;main;$dockManager={};constructor(e,t){this.container=e,this.main=t}reset(){this.$dockManager={},this.addDock(t.left,P),this.addDock(t.right,T),this.addDock(t.top,A),this.addDock(t.bottom,V),this.addDock(t.bottom,M),this.addDock(t.view,O),this.RenderUI()}addDock(e,t){this.$dockManager[e]||(this.$dockManager[e]=[]),this.$dockManager[e]=[...this.$dockManager[e],t]}RenderUI(){this.container.innerHTML='\n      <div class="vs-left vs-dock"></div>\n      <div class="vs-content">\n        <div class="vs-top vs-dock"></div>\n        <div class="vs-view vs-dock"></div>\n        <div class="vs-bottom vs-dock"></div>\n      </div>\n      <div class="vs-right vs-dock"></div>\n    ',Object.keys(this.$dockManager).forEach((e=>{let t=this.container.querySelector(`.${e}`);t&&this.$dockManager[e].forEach((e=>{new e(t,this.main)}))}))}}const B={node_begin:{icon:'<i class="fas fa-play"></i>',sort:0,name:"Begin",group:"common",class:"",html:"",dot:{top:0,right:1,left:0,bottom:0},onlyNode:!0},node_end:{icon:'<i class="fas fa-stop"></i>',sort:0,name:"End",group:"common",html:"",dot:{left:1,top:0,right:0,bottom:0},onlyNode:!0},node_if:{icon:'<i class="fas fa-equals"></i>',sort:0,name:"If",group:"common",class:"vs-content-flex",html:'<div>\n              <div class="node-content-row"><span style="text-align:right">Then</span><span><span class="node-dot" node="50001"></span></span></div>\n              <div class="node-content-row"><span style="text-align:right">Then</span><span><span class="node-dot" node="50002"></span></span></div>\n              <div class="node-content-row"><span style="text-align:right">Then</span><span><span class="node-dot" node="50003"></span></span></div>\n              <div class="node-content-row"><span style="text-align:right">Then</span><span><span class="node-dot" node="50004"></span></span></div>\n              <div class="node-content-row"><span style="text-align:right">Then</span><span><span class="node-dot" node="50005"></span></span></div>\n              <div class="node-content-row"><span style="text-align:right">Then</span><span><span class="node-dot" node="50006"></span></span></div>\n              <div class="node-content-row"><span style="text-align:right">Then</span><span><span class="node-dot" node="50007"></span></span></div>\n              <div class="node-content-row"><span style="text-align:right">Else</span><span><span class="node-dot" node="50008"></span></span></div>\n            </div>\n      ',script:"",properties:{condition:{key:"condition",edit:!0,default:""}},dot:{left:1,top:0,right:0,bottom:0}},node_group:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Group",group:"common",html:'<div class="text-center p3"><button class="btnGoGroup node-form-control">Go</button></div>',script:({elNode:e,main:t,node:s})=>{e.querySelector(".btnGoGroup")?.addEventListener("click",(()=>{s.openGroup()}))},properties:{},output:2},node_option:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Option",dot:{top:1,right:0,left:1,bottom:0},group:"common",html:'\n    <div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50001"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50002"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50003"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50004"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50005"></span></span></div>\n    </div>\n    ',script:({elNode:e,main:t,node:s})=>{e.querySelector(".btnGoGroup")?.addEventListener("click",(()=>{s.openGroup()}))},properties:{},output:2},node_project:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Project",group:"common",html:'<div class="text-center p3"><select class="node-form-control" node:model="project"></select></div>',script:({elNode:e,main:t,node:s})=>{},properties:{project:{key:"project",edit:!0,select:!0,dataSelect:({elNode:e,main:t,node:s})=>t.getProjectAll().map((e=>({value:e.Get("id"),text:e.Get("name")}))),script:({elNode:e,main:t,node:s})=>{},default:""}}}};class H{$data=new l(this);temp=new l;$projectOpen;$properties={};$control={};events=new n;$controlChoose=null;$checkOption=!1;$group;$indexProject=-1;constructor(){this.$properties[s.solution]={id:{default:()=>a()},key:{default:()=>s.solution},name:{default:()=>r("solution-"),edit:!0},project:{default:()=>""},projects:{default:[]}},this.$properties[s.line]={key:{default:s.line},from:{default:0},fromIndex:{default:0},to:{default:0},toIndex:{default:0}},this.$properties[s.main]={id:{default:()=>a()},name:{default:()=>"Flow "+this.$indexProject++,edit:!0},key:{default:s.main},variable:{default:[]},groups:{default:[]},nodes:{default:[]}},this.$properties[s.groupCavas]={key:{default:s.groupCavas},group:{default:""},x:{default:0},y:{default:0},zoom:{default:1}},this.$properties[s.variable]={key:{default:s.variable},name:{default:()=>r("var")},type:{default:()=>"text"},scope:{default:()=>i},initalValue:{default:""}},this.onSafe(e.groupChange,(({group:e})=>{this.$group=e}))}newSolution(e=""){this.$indexProject=1,this.openSolution({name:e})}openSolution(e){this.$data.InitData(e,this.getPropertyByKey(s.solution)),this.openProject(this.$data.Get("projects")?.[0]??{})}removeVariable(t){this.$projectOpen?.Remove("variable",t),this.dispatch(e.changeVariable,{data:t})}addVariable(e,t=null,i=null){let n=new l(this,{name:e,initalValue:i,key:s.variable,scope:t??this.getGroupCurrent()?.[0]?.id});return this.$projectOpen?.Append("variable",n),n}newVariable(t,s=null,i=null){let n=this.addVariable(t,s,i);return this.dispatch(e.changeVariable,{data:n}),n}changeVariableName(t,s,i){let n=this.$projectOpen?.Get("variable");if(n)for(let o of n)o.Get("name")==t&&o.Get("scope")==i&&(o.Set("name",s),this.dispatch(e.changeVariable,{data:o}))}getVariable(){let e=[];return this.$projectOpen&&(e=this.$projectOpen.Get("variable"),e||(e=[],this.$projectOpen.Set("variable",e))),e.filter((e=>this.getGroupCurrent().findIndex((t=>t.id==e.Get("scope")))>-1))}getGroupCurrent(){return this.$group??[]}exportJson(){return this.$data.toJson()}checkInitOption(){return this.$checkOption}initOption(e,t=!0){this.$checkOption=!0,this.$control=t?{...e?.control||{},...B}:{...e?.control||{}};let s={};Object.keys(this.$control).map((e=>({...this.$control[e],key:e,sort:void 0===this.$control[e].sort?99999:this.$control[e].sort}))).sort(d).forEach((e=>{s[e.key]={...e,dot:{left:1,top:1,right:1,bottom:1,...e?.dot}},this.$properties[`${e.key}`]={...e.properties||{},id:{default:()=>a()},key:{default:e.key},name:{default:e.key,edit:!0},x:{default:0},y:{default:0},group:{default:""},lines:{default:[]}}})),this.$control=s}renderHtml({elNode:e,main:t,node:s}){h(s.getOption()?.html)?e.innerHTML=s.getOption()?.html?.({elNode:e,main:t,node:s}):e.innerHTML=s.getOption()?.html}onSafe(e,t){this.events.onSafe(e,t)}on(e,t){this.events.on(e,t)}removeListener(e,t){this.events.removeListener(e,t)}dispatch(e,t){setTimeout((()=>{this.events.dispatch(e,t)}))}getControlAll(){return this.$control??{}}getProjectAll(){return this.$data.Get("projects")??[]}importJson(e){this.openSolution(e)}setProjectOpen(t){this.$projectOpen!=t&&(this.$projectOpen=t,this.$data.Set("project",this.$projectOpen?.Get("id")),this.dispatch(e.change,{data:t}),this.dispatch(e.showProperty,{data:t}),this.dispatch(e.openProject,{data:t}))}checkProjectOpen(e){return this.$projectOpen==e}newProject(){this.openProject({}),this.dispatch(e.newProject,{})}openProject(e){let t=null;e instanceof l?(t=this.getProjectById(e.Get("id")),t||(t=e,this.$data.Append("projects",t))):(t=new l(this),t.InitData(e,this.getPropertyByKey(s.main)),this.$data.Append("projects",t)),this.setProjectOpen(t)}removeProject(t){let s=t;s=this.getProjectById(t.Get("id")),this.$data.Remove("projects",s),!this.checkProjectOpen(s)||(this.$projectOpen=this.$data.Get("projects")?.[0],this.$projectOpen)?(this.dispatch(e.change,{data:this.$projectOpen}),this.dispatch(e.showProperty,{data:this.$projectOpen}),this.dispatch(e.openProject,{data:this.$projectOpen})):this.newProject()}getProjectById(e){return this.$data.Get("projects").filter((t=>t.Get("id")===e))?.[0]}setControlChoose(e){this.$controlChoose=e}getControlChoose(){return this.$controlChoose}getControlByKey(e){return this.$control[e]||{}}getControlNodeByKey(e){return{...this.getControlByKey(e),properties:this.getPropertyByKey(`${e}`)}}getPropertyByKey(e){return this.$properties[e]}$running=!1;running(){return this.$running}setRunning(t){this.$running=t,this.dispatch(e.statusBot,t)}callbackRunProject(t){this.on(e.runProject,(({data:e})=>{t?.(e)}))}callbackStopProject(t){this.on(e.stopProject,(()=>{t()}))}runProject(){this.setRunning(!0),this.dispatch(e.runProject,{data:this.exportJson()})}stopProject(){this.dispatch(e.stopProject,{})}}var z=Object.freeze({__proto__:null,SystemBase:H,SystemVue:class extends H{render;constructor(e){super(),this.render=e}renderHtml({elNode:e,main:t,node:s}){if(3===parseInt(this.render.version)){let t=this.render.h(s.getOption()?.html,{...s.getOption()?.props??{},node:s},s.getOption()?.options??{});t.appContext=e,this.render.render(t,e)}else{let t=new this.render({parent:e,render:e=>e(s.getOption()?.html,{props:{...s.getOption()?.props??{},node:s}}),...s.getOption()?.options??{}}).$mount();e.appendChild(t.$el)}}}});var U=Object.freeze({__proto__:null,DockEnum:t,ControlDock:P,DockBase:G,ProjectDock:class extends G{main;constructor(e,t){super(e,t),this.main=t,this.elNode.classList.add("vs-project"),this.BoxInfo("Project",(e=>{new j(e,t)}));let s=this.elNode.querySelector(".vs-boxinfo_header .vs-boxinfo_button");if(s){s.innerHTML="";let e=document.createElement("button");e.innerHTML="New",e.addEventListener("click",(()=>this.main.newProject(""))),s?.appendChild(e);let t=document.createElement("button");t.innerHTML="Export",t.addEventListener("click",(()=>{return e=this.main.exportJson(),t=`vs-solution-${a()}`,s="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),(i=document.createElement("a")).setAttribute("href",s),i.setAttribute("download",t+".json"),document.body.appendChild(i),i.click(),void i.remove();var e,t,s,i})),s?.appendChild(t);let i=document.createElement("button");i.innerHTML="Import",i.addEventListener("click",(()=>{var e,t;e=e=>{e&&this.main.importJson(JSON.parse(e))},(t=document.createElement("input")).setAttribute("type","file"),t.addEventListener("change",(function(){var s=new FileReader;s.onload=function(){e?.(s.result)},t&&t.files&&s.readAsText(t.files[0])})),document.body.appendChild(t),t.click(),t.remove()})),s?.appendChild(i)}}},PropertyDock:T,TabDock:A,ViewDock:O,VariableDock:M,DockManager:R});return{VisualFlow:class{container;main;$dockManager;getDockManager(){return this.$dockManager}setOption(e,t=!0){this.main?.initOption(e,t),this.$dockManager.reset()}constructor(e,t){this.container=e,this.main=t??new H,this.container.classList.remove("vs-container"),this.container.classList.add("vs-container"),this.$dockManager=new R(this.container,this.main),this.$dockManager.reset()}onSafe(e,t){this.main?.onSafe(e,t)}on(e,t){this.main?.on(e,t)}removeListener(e,t){this.main?.removeListener(e,t)}dispatch(e,t){this.main?.dispatch(e,t)}getMain(){return this.main}newSolution(e){this.getMain()?.newSolution(e)}openSolution(e){this.getMain()?.openSolution(e)}newProject(e){this.getMain()?.newProject(e)}openProject(e){this.getMain()?.openProject(e)}getProjectAll(){return this.getMain()?.getProjectAll()}setProjectOpen(e){this.getMain()?.setProjectOpen(e)}importJson(e){this.getMain()?.importJson(e)}exportJson(){return this.getMain()?.exportJson()}callbackRunProject(e){this.getMain()?.callbackRunProject(e)}callbackStopProject(e){this.getMain()?.callbackStopProject(e)}setRunning(e){this.getMain()?.setRunning(e)}},...z,...g,...U,...D}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL0NvbnN0YW50LnRzIiwiLi4vc3JjL2NvcmUvRXZlbnRGbG93LnRzIiwiLi4vc3JjL2NvcmUvVXRpbHMudHMiLCIuLi9zcmMvY29yZS9EYXRhRmxvdy50cyIsIi4uL3NyYy9jb3JlL0Jhc2VGbG93LnRzIiwiLi4vc3JjL2NvcmUvRGF0YVZpZXcudHMiLCIuLi9zcmMvZGVzZ2luZXIvRGVzZ2luZXJWaWV3X0V2ZW50LnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0xpbmUudHMiLCIuLi9zcmMvZGVzZ2luZXIvTm9kZUl0ZW0udHMiLCIuLi9zcmMvZGVzZ2luZXIvRGVzZ2luZXJWaWV3LnRzIiwiLi4vc3JjL2Rlc2dpbmVyL1ZhcmlhYmxlVmlldy50cyIsIi4uL3NyYy9kZXNnaW5lci9Ub29sYm94Vmlldy50cyIsIi4uL3NyYy9kZXNnaW5lci9Qcm9qZWN0Vmlldy50cyIsIi4uL3NyYy9kZXNnaW5lci9UYWJQcm9qZWN0Vmlldy50cyIsIi4uL3NyYy9kZXNnaW5lci9CcmVhZGNydW1iR3JvdXBWaWV3LnRzIiwiLi4vc3JjL2Rlc2dpbmVyL1Byb3BlcnR5Vmlldy50cyIsIi4uL3NyYy9kb2NrL0RvY2tCYXNlLnRzIiwiLi4vc3JjL2RvY2svQ29udHJvbERvY2sudHMiLCIuLi9zcmMvZG9jay9WYXJpYWJsZURvY2sudHMiLCIuLi9zcmMvZG9jay9Qcm9wZXJ0eURvY2sudHMiLCIuLi9zcmMvZG9jay9WaWV3RG9jay50cyIsIi4uL3NyYy9kb2NrL1RhYkRvY2sudHMiLCIuLi9zcmMvZG9jay9CcmVhZGNydW1iR3JvdXBEb2NrLnRzIiwiLi4vc3JjL2RvY2svRG9ja01hbmFnZXIudHMiLCIuLi9zcmMvc3lzdGVtcy9jb250cm9sLnRzIiwiLi4vc3JjL3N5c3RlbXMvU3lzdGVtQmFzZS50cyIsIi4uL3NyYy9zeXN0ZW1zL1N5c3RlbVZ1ZS50cyIsIi4uL3NyYy9kb2NrL1Byb2plY3REb2NrLnRzIiwiLi4vc3JjL2luZGV4LnRzIiwiLi4vc3JjL1Zpc3VhbEZsb3cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEV2ZW50RW51bSA9IHtcbiAgaW5pdDogXCJpbml0XCIsXG4gIGRhdGFDaGFuZ2U6IFwiZGF0YUNoYW5nZVwiLFxuICBzaG93UHJvcGVydHk6IFwic2hvd1Byb3BlcnR5XCIsXG4gIG9wZW5Qcm9qZWN0OiBcIm9wZW5Qcm9qZWN0XCIsXG4gIG5ld1Byb2plY3Q6IFwibmV3UHJvamVjdFwiLFxuICBjaGFuZ2VWYXJpYWJsZTogXCJjaGFuZ2VWYXJpYWJsZVwiLFxuICBjaGFuZ2U6IFwiY2hhbmdlXCIsXG4gIGRpc3Bvc2U6IFwiZGlzcG9zZVwiLFxuICBncm91cENoYW5nZTogXCJncm91cENoYW5nZVwiLFxuICBzZXRHcm91cDogXCJzZXRHcm91cFwiLFxuICB6b29tOiBcInpvb21cIixcbiAgcnVuUHJvamVjdDogXCJydW5Qcm9qZWN0XCIsXG4gIHN0b3BQcm9qZWN0OiBcInN0b3BQcm9qZWN0XCIsXG4gIHN0YXR1c0JvdDogXCJzdGF0dXNCb3RcIixcbn1cblxuZXhwb3J0IGNvbnN0IERvY2tFbnVtID0ge1xuICBsZWZ0OiBcInZzLWxlZnRcIixcbiAgdG9wOiBcInZzLXRvcFwiLFxuICB2aWV3OiBcInZzLXZpZXdcIixcbiAgYm90dG9tOiBcInZzLWJvdHRvbVwiLFxuICByaWdodDogXCJ2cy1yaWdodFwiLFxufVxuXG5leHBvcnQgY29uc3QgUHJvcGVydHlFbnVtID0ge1xuICBtYWluOiBcIm1haW5fcHJvamVjdFwiLFxuICBzb2x1dGlvbjogJ21haW5fc29sdXRpb24nLFxuICBsaW5lOiAnbWFpbl9saW5lJyxcbiAgdmFyaWFibGU6ICdtYWluX3ZhcmlhYmxlJyxcbiAgZ3JvdXBDYXZhczogXCJtYWluX2dyb3VwQ2F2YXNcIixcbn07XG5cbmV4cG9ydCBjb25zdCBTY29wZVJvb3QgPSBcInJvb3RcIjtcbiIsImltcG9ydCB7IElFdmVudCB9IGZyb20gXCIuL0lGbG93XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRXZlbnRGbG93IGltcGxlbWVudHMgSUV2ZW50IHtcclxuICBwcml2YXRlIGV2ZW50czogYW55ID0ge307XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gIH1cclxuICBwdWJsaWMgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgIHRoaXMub24oZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgLyogRXZlbnRzICovXHJcbiAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBUaGUgbGlzdGVuZXIgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLCB0aGUgZ2l2ZW4gdHlwZSBpcyAke3R5cGVvZiBjYWxsYmFja31gKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGV2ZW50IGlzIG5vdCBhIHN0cmluZ1xyXG4gICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGV2ZW50IG5hbWUgbXVzdCBiZSBhIHN0cmluZywgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgZXZlbnR9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHtcclxuICAgICAgICBsaXN0ZW5lcnM6IFtdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXHJcblxyXG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudF0pIHJldHVybiBmYWxzZVxyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnNcclxuICAgIGNvbnN0IGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaylcclxuICAgIGNvbnN0IGhhc0xpc3RlbmVyID0gbGlzdGVuZXJJbmRleCA+IC0xXHJcbiAgICBpZiAoaGFzTGlzdGVuZXIpIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4ge1xyXG4gICAgICBsaXN0ZW5lcihkZXRhaWxzKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgTE9HID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4gY29uc29sZS5sb2cobWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMpO1xuZXhwb3J0IGNvbnN0IGdldERhdGUgPSAoKSA9PiAobmV3IERhdGUoKSk7XG5leHBvcnQgY29uc3QgZ2V0VGltZSA9ICgpID0+IGdldERhdGUoKS5nZXRUaW1lKCk7XG5leHBvcnQgY29uc3QgZ2V0TmFtZVRpbWUgPSAobmFtZTogc3RyaW5nKSA9PiBgJHtuYW1lfSR7Z2V0RGF0ZSgpLmdldFRpbWUoKS50b1N0cmluZygpLnN1YnN0cmluZyg1KX1gO1xuZXhwb3J0IGNvbnN0IGdldFV1aWQgPSAoKSA9PiB7XG4gIC8vIGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQxMjIudHh0XG4gIGxldCBzOiBhbnkgPSBbXTtcbiAgbGV0IGhleERpZ2l0cyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IDM2OyBpKyspIHtcbiAgICBzW2ldID0gaGV4RGlnaXRzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwKSwgMSk7XG4gIH1cbiAgc1sxNF0gPSBcIjRcIjsgIC8vIGJpdHMgMTItMTUgb2YgdGhlIHRpbWVfaGlfYW5kX3ZlcnNpb24gZmllbGQgdG8gMDAxMFxuICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7ICAvLyBiaXRzIDYtNyBvZiB0aGUgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCB0byAwMVxuICBzWzhdID0gc1sxM10gPSBzWzE4XSA9IHNbMjNdID0gXCItXCI7XG5cbiAgbGV0IHV1aWQgPSBzLmpvaW4oXCJcIik7XG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgY29uc3QgY29tcGFyZVNvcnQgPSAoYTogYW55LCBiOiBhbnkpID0+IHtcbiAgaWYgKGEuc29ydCA8IGIuc29ydCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoYS5zb3J0ID4gYi5zb3J0KSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5leHBvcnQgY29uc3QgaXNGdW5jdGlvbiA9IChmbjogYW55KSA9PiB7XG4gIHJldHVybiBmbiAmJiBmbiBpbnN0YW5jZW9mIEZ1bmN0aW9uO1xufVxuZXhwb3J0IGNvbnN0IGRvd25sb2FkT2JqZWN0QXNKc29uID0gKGV4cG9ydE9iajogYW55LCBleHBvcnROYW1lOiBzdHJpbmcpID0+IHtcbiAgdmFyIGRhdGFTdHIgPSBcImRhdGE6dGV4dC9qc29uO2NoYXJzZXQ9dXRmLTgsXCIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZXhwb3J0T2JqKSk7XG4gIHZhciBkb3dubG9hZEFuY2hvck5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gIGRvd25sb2FkQW5jaG9yTm9kZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGRhdGFTdHIpO1xuICBkb3dubG9hZEFuY2hvck5vZGUuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgZXhwb3J0TmFtZSArIFwiLmpzb25cIik7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG93bmxvYWRBbmNob3JOb2RlKTsgLy8gcmVxdWlyZWQgZm9yIGZpcmVmb3hcbiAgZG93bmxvYWRBbmNob3JOb2RlLmNsaWNrKCk7XG4gIGRvd25sb2FkQW5jaG9yTm9kZS5yZW1vdmUoKTtcbn1cbmV4cG9ydCBjb25zdCByZWFkRmlsZUxvY2FsID0gKGNhbGxiYWNrOiBhbnkpID0+IHtcbiAgdmFyIGlucHV0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBpbnB1dEVsLnNldEF0dHJpYnV0ZSgndHlwZScsICdmaWxlJyk7XG4gIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgZnIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2s/Lihmci5yZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoaW5wdXRFbCAmJiBpbnB1dEVsLmZpbGVzKVxuICAgICAgZnIucmVhZEFzVGV4dChpbnB1dEVsLmZpbGVzWzBdKTtcbiAgfSk7XG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXRFbCk7XG4gIGlucHV0RWwuY2xpY2soKTtcbiAgaW5wdXRFbC5yZW1vdmUoKTtcbn1cbiIsImltcG9ydCB7IElQcm9wZXJ0eSB9IGZyb20gXCIuL0lGbG93XCI7XG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi9Db25zdGFudFwiO1xuaW1wb3J0IHsgRXZlbnRGbG93IH0gZnJvbSBcIi4vRXZlbnRGbG93XCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vVXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFGbG93IHtcbiAgcHJpdmF0ZSBkYXRhOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSBwcm9wZXJ0aWVzOiBhbnkgPSBudWxsO1xuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xuICBwdWJsaWMgZ2V0UHJvcGVydGllcygpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXM7XG4gIH1cbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcHJvcGVydHk6IElQcm9wZXJ0eSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGF0YTogYW55ID0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMubG9hZChkYXRhKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIEluaXREYXRhKGRhdGE6IGFueSA9IG51bGwsIHByb3BlcnRpZXM6IGFueSA9IC0xKSB7XG4gICAgaWYgKHByb3BlcnRpZXMgIT09IC0xKSB7XG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgIH1cbiAgICB0aGlzLmxvYWQoZGF0YSk7XG4gIH1cbiAgcHJpdmF0ZSBldmVudERhdGFDaGFuZ2Uoa2V5OiBzdHJpbmcsIGtleUNoaWxkOiBzdHJpbmcsIHZhbHVlQ2hpbGQ6IGFueSwgc2VuZGVyQ2hpbGQ6IGFueSwgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xuICAgIGlmIChpbmRleCkge1xuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7aW5kZXh9XyR7a2V5Q2hpbGR9YCwge1xuICAgICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZCwgaW5kZXhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7aW5kZXh9YCwge1xuICAgICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZCwgaW5kZXhcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtrZXlDaGlsZH1gLCB7XG4gICAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xuICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGRcbiAgICB9KTtcbiAgfVxuICBwdWJsaWMgUmVtb3ZlRXZlbnREYXRhKGl0ZW06IERhdGFGbG93LCBrZXk6IHN0cmluZywgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgIGl0ZW0ucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9YCwgKHsga2V5OiBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQgfTogYW55KSA9PiB0aGlzLmV2ZW50RGF0YUNoYW5nZShrZXksIGtleUNoaWxkLCB2YWx1ZUNoaWxkLCBzZW5kZXJDaGlsZCwgaW5kZXgpKTtcbiAgfVxuICBwdWJsaWMgT25FdmVudERhdGEoaXRlbTogRGF0YUZsb3csIGtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgaXRlbS5vbihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1gLCAoeyBrZXk6IGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZCB9OiBhbnkpID0+IHRoaXMuZXZlbnREYXRhQ2hhbmdlKGtleSwga2V5Q2hpbGQsIHZhbHVlQ2hpbGQsIHNlbmRlckNoaWxkLCBpbmRleCkpO1xuICB9XG4gIHByaXZhdGUgQmluZEV2ZW50KHZhbHVlOiBhbnksIGtleTogc3RyaW5nKSB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICB0aGlzLk9uRXZlbnREYXRhKHZhbHVlIGFzIERhdGFGbG93LCBrZXkpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgKHZhbHVlIGFzIFtdKS5sZW5ndGggPiAwICYmIHZhbHVlWzBdIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcbiAgICAgICh2YWx1ZSBhcyBEYXRhRmxvd1tdKS5mb3JFYWNoKChpdGVtOiBEYXRhRmxvdywgaW5kZXg6IG51bWJlcikgPT4gdGhpcy5PbkV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBTZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCwgaXNEaXNwYXRjaDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBpZiAodGhpcy5kYXRhW2tleV0gIT0gdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmRhdGFba2V5XSkge1xuICAgICAgICBpZiAodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKCh0aGlzLmRhdGFba2V5XSBhcyBEYXRhRmxvdyksIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmICh0aGlzLmRhdGFba2V5XSBhcyBbXSkubGVuZ3RoID4gMCAmJiB0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICAgICAgKHRoaXMuZGF0YVtrZXldIGFzIERhdGFGbG93W10pLmZvckVhY2goKGl0ZW06IERhdGFGbG93LCBpbmRleDogbnVtYmVyKSA9PiB0aGlzLlJlbW92ZUV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuQmluZEV2ZW50KHZhbHVlLCBrZXkpO1xuICAgIH1cbiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xuICAgIGlmIChpc0Rpc3BhdGNoKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB7XG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB7XG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcbiAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuICBwdWJsaWMgU2V0RGF0YShkYXRhOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCwgaXNDbGVhckRhdGEgPSBmYWxzZSkge1xuXG4gICAgaWYgKGlzQ2xlYXJEYXRhKSB0aGlzLmRhdGEgPSB7fTtcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICBsZXQgJGRhdGE6IERhdGFGbG93ID0gZGF0YSBhcyBEYXRhRmxvdztcbiAgICAgIGlmICghdGhpcy5wcm9wZXJ0eSAmJiAkZGF0YS5wcm9wZXJ0eSkgdGhpcy5wcm9wZXJ0eSA9ICRkYXRhLnByb3BlcnR5O1xuICAgICAgaWYgKHRoaXMucHJvcGVydGllcykge1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xuICAgICAgICAgIHRoaXMuU2V0KGtleSwgJGRhdGEuR2V0KGtleSksIHNlbmRlciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoJGRhdGEuZ2V0UHJvcGVydGllcygpKSkge1xuICAgICAgICAgIHRoaXMuU2V0KGtleSwgJGRhdGEuR2V0KGtleSksIHNlbmRlciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICB0aGlzLlNldChrZXksIGRhdGFba2V5XSwgc2VuZGVyLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICBwdWJsaWMgR2V0KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVtrZXldO1xuICB9XG4gIHB1YmxpYyBJbmNyZWFzZShrZXk6IHN0cmluZywgbWF4OiBhbnkgPSB1bmRlZmluZWQpIHtcbiAgICBpZiAoIW1heCB8fCAobWF4ID4gdGhpcy5kYXRhW2tleV0pKVxuICAgICAgdGhpcy5TZXQoa2V5LCArK3RoaXMuZGF0YVtrZXldKTtcbiAgfVxuICBwdWJsaWMgRGVjcmVhc2Uoa2V5OiBzdHJpbmcsIG1pbjogYW55ID0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKCFtaW4gfHwgKG1pbiA8IHRoaXMuZGF0YVtrZXldKSlcbiAgICAgIHRoaXMuU2V0KGtleSwgLS10aGlzLmRhdGFba2V5XSk7XG4gIH1cbiAgcHVibGljIEFwcGVuZChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIGlmICghdGhpcy5kYXRhW2tleV0pIHRoaXMuZGF0YVtrZXldID0gW107XG4gICAgdGhpcy5kYXRhW2tleV0gPSBbLi4udGhpcy5kYXRhW2tleV0sIHZhbHVlXTtcbiAgICB0aGlzLkJpbmRFdmVudCh2YWx1ZSwga2V5KTtcbiAgfVxuICBwdWJsaWMgUmVtb3ZlKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKHRoaXMuZGF0YVtrZXldW2luZGV4XSwga2V5KTtcbiAgICAgIHRoaXMuZGF0YVtrZXldLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBsb2FkKGRhdGE6IGFueSkge1xuICAgIHRoaXMuZGF0YSA9IHt9O1xuICAgIGlmICghdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5Py5nZXRQcm9wZXJ0eUJ5S2V5KGRhdGEua2V5KTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcGVydGllcykge1xuICAgICAgY29uc3QgZnVuY1NldFZhbHVlID0gKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgICAgIGxldCB2YWx1ZVNldCA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZVNldCA9IHZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVTZXQpKSB7XG4gICAgICAgICAgdmFsdWVTZXQgPSB2YWx1ZVNldC5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGl0ZW0ua2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0YUZsb3codGhpcy5wcm9wZXJ0eSwgaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVNldD8ua2V5KSB7XG4gICAgICAgICAgdmFsdWVTZXQgPSBuZXcgRGF0YUZsb3codGhpcy5wcm9wZXJ0eSwgdmFsdWVTZXQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YVtrZXldID0gdmFsdWVTZXQ7XG4gICAgICAgIHRoaXMuQmluZEV2ZW50KHRoaXMuZGF0YVtrZXldLCBrZXkpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMucHJvcGVydGllcykpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgaWYgKHByb3BlcnR5LnN1YiAmJiBkYXRhKSB7XG4gICAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgT2JqZWN0LmtleXMoZGF0YSkpIHtcbiAgICAgICAgICAgIGlmIChmaWVsZC5zdGFydHNXaXRoKGtleSkpIHtcbiAgICAgICAgICAgICAgZnVuY1NldFZhbHVlKGZpZWxkLCBkYXRhPy5bZmllbGRdID8/IHRoaXMucHJvcGVydGllc1trZXldPy5kZWZhdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnVuY1NldFZhbHVlKGtleSwgZGF0YT8uW2tleV0gPz8gdGhpcy5wcm9wZXJ0aWVzW2tleV0/LmRlZmF1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHB1YmxpYyB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50b0pzb24oKSk7XG4gIH1cbiAgcHVibGljIHRvSnNvbigpIHtcbiAgICBsZXQgcnM6IGFueSA9IHt9O1xuICAgIGlmICghdGhpcy5wcm9wZXJ0aWVzKSB7XG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5Py5nZXRQcm9wZXJ0eUJ5S2V5KHRoaXMuZGF0YS5rZXkpO1xuICAgIH1cbiAgICBjb25zdCBzZXRSUyA9IChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgbGV0IHZhbHVlUlMgPSB0aGlzLkdldChrZXkpO1xuICAgICAgaWYgKHZhbHVlUlMgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgICByc1trZXldID0gdmFsdWVSUy50b0pzb24oKTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZVJTKSkge1xuICAgICAgICByc1trZXldID0gdmFsdWVSUy5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgIGlmIChpdGVtIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnRvSnNvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJzW2tleV0gPSB2YWx1ZVJTO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xuICAgICAgY29uc3QgcHJvcGVydHkgPSB0aGlzLnByb3BlcnRpZXNba2V5XTtcbiAgICAgIGlmIChwcm9wZXJ0eS5zdWIpIHtcbiAgICAgICAgZm9yIChsZXQgZmllbGQgb2YgT2JqZWN0LmtleXModGhpcy5kYXRhKSkge1xuICAgICAgICAgIGlmIChmaWVsZC5zdGFydHNXaXRoKGtleSkpIHtcbiAgICAgICAgICAgIHNldFJTKGZpZWxkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFJTKGtleSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBycztcbiAgfVxuICBwdWJsaWMgZGVsZXRlKCkge1xuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RmxvdygpO1xuICAgIHRoaXMuZGF0YSA9IHt9O1xuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gXCIuL0V2ZW50Rmxvd1wiO1xyXG5pbXBvcnQgeyBJRXZlbnQgfSBmcm9tIFwiLi9JRmxvd1wiO1xyXG5leHBvcnQgY2xhc3MgRmxvd0NvcmUgaW1wbGVtZW50cyBJRXZlbnQge1xyXG4gIHB1YmxpYyBHZXRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGEuR2V0KCdpZCcpO1xyXG4gIH1cclxuICBwdWJsaWMgU2V0SWQoaWQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ2lkJywgaWQpO1xyXG4gIH1cclxuICBwdWJsaWMgcHJvcGVydGllczogYW55ID0ge307XHJcbiAgcHVibGljIGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KCk7XHJcbiAgcHVibGljIGVsTm9kZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgcHVibGljIENoZWNrRWxlbWVudENoaWxkKGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxOb2RlID09IGVsIHx8IHRoaXMuZWxOb2RlLmNvbnRhaW5zKGVsKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcclxuICBwdWJsaWMgU2V0RGF0YShkYXRhOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCkge1xyXG4gICAgdGhpcy5kYXRhLlNldERhdGEoZGF0YSwgc2VuZGVyKTtcclxuICB9XHJcbiAgcHVibGljIFNldERhdGFGbG93KGRhdGE6IERhdGFGbG93KSB7XHJcbiAgICB0aGlzLmRhdGEuU2V0RGF0YShkYXRhLCB0aGlzLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLmRpc3BhdGNoKGBiaW5kX2RhdGFfZXZlbnRgLCB7IGRhdGEsIHNlbmRlcjogdGhpcyB9KTtcclxuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwgeyBkYXRhLCBzZW5kZXI6IHRoaXMgfSk7XHJcbiAgfVxyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIGRpc3BhdGNoKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xyXG4gIH1cclxuICBSZW1vdmVEYXRhRXZlbnQoKSB7XHJcbiAgICB0aGlzLmRhdGEucmVtb3ZlTGlzdGVuZXIoRXZlbnRFbnVtLmRhdGFDaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uY2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RmxvdygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VGbG93PFRQYXJlbnQgZXh0ZW5kcyBGbG93Q29yZT4gZXh0ZW5kcyBGbG93Q29yZSB7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IFRQYXJlbnQpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4vSUZsb3dcIjtcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vVXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IFRhZ1ZpZXcgPSBbJ1NQQU4nLCAnRElWJywgJ1AnLCAnVEVYVEFSRUEnXTtcbmV4cG9ydCBjbGFzcyBEYXRhVmlldyB7XG4gIHByaXZhdGUgZWxOb2RlOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBwcm9wZXJ0eTogYW55O1xuICBwcml2YXRlIGVsU3VnZ2VzdGlvbnM6IEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgZWxTdWdnZXN0aW9uc0NvbnRlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9kZUVkaXRvcjogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50LCBwcml2YXRlIGRhdGE6IERhdGFGbG93LCBwcml2YXRlIG1haW46IElNYWluLCBwcml2YXRlIGtleU5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsKSB7XG4gICAgaWYgKHRoaXMua2V5TmFtZSkge1xuICAgICAgaWYgKCFlbC5nZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnKSkge1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gdGhpcy5tYWluLmdldFByb3BlcnR5QnlLZXkodGhpcy5kYXRhLkdldCgna2V5JykpPy5bdGhpcy5rZXlOYW1lXTtcbiAgICAgICAgdGhpcy5ub2RlRWRpdG9yID0gZWwgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMubm9kZUVkaXRvci5jbGFzc0xpc3QuYWRkKCdub2RlLWVkaXRvcicpO1xuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0eS5lZGl0KSB7XG4gICAgICAgICAgaWYgKHRoaXMucHJvcGVydHkuc2VsZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmVsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoXCJub2RlLWZvcm0tY29udHJvbFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleU5hbWUpO1xuXG4gICAgICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmtleU5hbWUgPSBlbD8uZ2V0QXR0cmlidXRlKCdub2RlOm1vZGVsJyk7XG4gICAgICBpZiAodGhpcy5rZXlOYW1lKSB7XG4gICAgICAgIHRoaXMucHJvcGVydHkgPSB0aGlzLm1haW4uZ2V0UHJvcGVydHlCeUtleSh0aGlzLmRhdGEuR2V0KCdrZXknKSk/Llt0aGlzLmtleU5hbWVdO1xuICAgICAgICB0aGlzLmVsTm9kZSA9IHRoaXMuZWwgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHRoaXMubm9kZUVkaXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgdGhpcy5ub2RlRWRpdG9yLmNsYXNzTGlzdC5hZGQoJ25vZGUtZWRpdG9yJyk7XG4gICAgICAgIGVsLnBhcmVudEVsZW1lbnQ/Lmluc2VydEJlZm9yZSh0aGlzLm5vZGVFZGl0b3IsIGVsKTtcbiAgICAgICAgZWwucGFyZW50RWxlbWVudD8ucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgICB0aGlzLm5vZGVFZGl0b3IuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmVsU3VnZ2VzdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmVsU3VnZ2VzdGlvbnMuY2xhc3NMaXN0LmFkZCgnbm9kZS1lZGl0b3Jfc3VnZ2VzdGlvbnMnKTtcbiAgICB0aGlzLmVsU3VnZ2VzdGlvbnNDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lbFN1Z2dlc3Rpb25zQ29udGVudC5jbGFzc0xpc3QuYWRkKCdzdWdnZXN0aW9uc19jb250ZW50Jyk7XG4gICAgdGhpcy5lbFN1Z2dlc3Rpb25zLmFwcGVuZENoaWxkKHRoaXMuZWxTdWdnZXN0aW9uc0NvbnRlbnQpO1xuICAgIHRoaXMuc2hvd1N1Z2dlc3Rpb25zKGZhbHNlKTtcbiAgICBpZiAodGhpcy5ub2RlRWRpdG9yKSB7XG4gICAgICB0aGlzLm5vZGVFZGl0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Zy12YXJpYWJsZS1pdGVtJykpIHtcbiAgICAgICAgICB0aGlzLnNldFZhcigoZS50YXJnZXQgYXMgYW55KS5pbm5lclRleHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMua2V5TmFtZSlcbiAgICAgIHRoaXMuYmluZERhdGEoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWYXIobmFtZTogYW55KSB7XG4gICAgbGV0IHNlbGVjdGlvblN0YXJ0ID0gKHRoaXMuZWxOb2RlIGFzIGFueSkuc2VsZWN0aW9uU3RhcnQ7XG4gICAgaWYgKHRoaXMucHJvcGVydHkudmFyKSB7XG4gICAgICB0aGlzLnNldE5vZGVWYWx1ZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHR4dDogc3RyaW5nID0gKHRoaXMuZWxOb2RlIGFzIGFueSkudmFsdWU7XG5cbiAgICAgIGxldCBzdGFydEluZGV4ID0gdHh0Lmxhc3RJbmRleE9mKFwiJHtcIiwgc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgdGhpcy5zZXROb2RlVmFsdWUoYCR7dHh0LnN1YnN0cmluZygwLCBzdGFydEluZGV4KX1cXCR7JHtuYW1lfX0ke3R4dC5zdWJzdHJpbmcoc2VsZWN0aW9uU3RhcnQsIHR4dC5sZW5ndGgpfWApO1xuXG4gICAgfVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5lbE5vZGU/LmZvY3VzKCk7XG4gICAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICAodGhpcy5lbE5vZGUgYXMgYW55KS5zZWxlY3Rpb25TdGFydCA9IHNlbGVjdGlvblN0YXJ0ICsgbmFtZS5sZW5ndGg7XG4gICAgICB0aGlzLmJpbmRFdmVudCgpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja1Nob3dTdWdnZXN0aW9ucygpIHtcbiAgICB2YXIgYXJyID0gdGhpcy5tYWluLmdldFZhcmlhYmxlKCk7XG4gICAgaWYgKCFhcnIgfHwgYXJyLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0eHQ6IGFueSA9ICh0aGlzLmVsTm9kZSBhcyBhbnkpLnZhbHVlO1xuICAgIGxldCBzZWxlY3Rpb25TdGFydCA9ICh0aGlzLmVsTm9kZSBhcyBhbnkpLnNlbGVjdGlvblN0YXJ0O1xuICAgIGxldCBzdWJUeHQ6IGFueSA9IFwiXCI7XG4gICAgbGV0IHN0YXJ0SW5kZXg6IG51bWJlciA9IDA7XG4gICAgaWYgKHR4dCkge1xuICAgICAgaWYgKHRoaXMucHJvcGVydHkudmFyKSB7XG4gICAgICAgIHN1YlR4dCA9IHR4dDtcbiAgICAgICAgdGhpcy5zaG93U3VnZ2VzdGlvbnModHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydEluZGV4ID0gdHh0Lmxhc3RJbmRleE9mKFwiJHtcIiwgc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgICBsZXQgZW5kSW5kZXggPSB0eHQubGFzdEluZGV4T2YoXCJ9XCIsIHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZEluZGV4IDwgc3RhcnRJbmRleCkge1xuICAgICAgICAgIHN1YlR4dCA9IHR4dC5zdWJzdHJpbmcoc3RhcnRJbmRleCArIDIsIHNlbGVjdGlvblN0YXJ0KTtcbiAgICAgICAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICB9XG4gICAgaWYgKHRoaXMuZWxTdWdnZXN0aW9uc0NvbnRlbnQpIHtcbiAgICAgIGxldCBlbExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGxldCBmbGcgPSBmYWxzZTtcbiAgICAgIGNvbnNvbGUubG9nKHN1YlR4dCk7XG4gICAgICBmb3IgKGxldCBpdGVtIG9mIGFycikge1xuICAgICAgICBjb25zdCBuYW1lID0gaXRlbS5HZXQoJ25hbWUnKTtcbiAgICAgICAgaWYgKHN1YlR4dCAmJiAhbmFtZS5zdGFydHNXaXRoKHN1YlR4dCkpIGNvbnRpbnVlO1xuICAgICAgICBsZXQgZWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIGVsSXRlbS5pbm5lckhUTUwgPSBuYW1lO1xuICAgICAgICBlbEl0ZW0uY2xhc3NMaXN0LmFkZCgnc3VnLXZhcmlhYmxlLWl0ZW0nKTtcbiAgICAgICAgZWxMaXN0LmFwcGVuZENoaWxkKGVsSXRlbSk7XG4gICAgICAgIGZsZyA9IHRydWU7XG4gICAgICB9XG4gICAgICB0aGlzLmVsU3VnZ2VzdGlvbnNDb250ZW50LmFwcGVuZENoaWxkKGVsTGlzdCk7XG4gICAgICBpZiAoIWZsZykge1xuICAgICAgICB0aGlzLnNob3dTdWdnZXN0aW9ucyhmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3VnZ2VzdGlvbkluZGV4ID0gMDtcbiAgICAgIHRoaXMuc2V0U3VnZ2VzdGlvbkluZGV4KDApO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIHNob3dTdWdnZXN0aW9ucyhmbGc6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgaWYgKCF0aGlzLmVsU3VnZ2VzdGlvbnMpIHJldHVybjtcbiAgICBpZiAodGhpcy5lbFN1Z2dlc3Rpb25zQ29udGVudCkgdGhpcy5lbFN1Z2dlc3Rpb25zQ29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICBpZiAoZmxnKSB7XG4gICAgICB0aGlzLmVsU3VnZ2VzdGlvbnMucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsU3VnZ2VzdGlvbnMuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmU7Jyk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgZWxGb2N1czogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIHJlZ2V4VmFsaWRhdGU6IGFueSA9IG51bGw7XG4gIHByaXZhdGUgc3VnZ2VzdGlvbkluZGV4OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHNldFN1Z2dlc3Rpb25JbmRleChpbmRleDogYW55KSB7XG4gICAgaWYgKCF0aGlzLmVsU3VnZ2VzdGlvbnMpIHJldHVybjtcbiAgICBsZXQgdGVtcCA9ICh0aGlzLnN1Z2dlc3Rpb25JbmRleCArIGluZGV4KTtcbiAgICBpZiAoMCA+IHRlbXAgfHwgdGVtcCA+PSB0aGlzLmVsU3VnZ2VzdGlvbnMucXVlcnlTZWxlY3RvckFsbCgnLnN1Zy12YXJpYWJsZS1pdGVtJykubGVuZ3RoIC0gMSkgcmV0dXJuO1xuICAgIHRoaXMuc3VnZ2VzdGlvbkluZGV4ID0gdGVtcDtcbiAgICB0aGlzLmVsU3VnZ2VzdGlvbnMucXVlcnlTZWxlY3RvckFsbCgnLnN1Zy12YXJpYWJsZS1pdGVtJykuZm9yRWFjaCgoaXRlbSwgaXRlbUluZGV4KSA9PiB7XG4gICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgaWYgKGl0ZW1JbmRleCA9PSB0aGlzLnN1Z2dlc3Rpb25JbmRleCkge1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgcHJpdmF0ZSBiaW5kRGF0YSgpIHtcbiAgICBpZiAodGhpcy5rZXlOYW1lICYmIHRoaXMuZWxOb2RlKSB7XG4gICAgICBpZiAodGhpcy5wcm9wZXJ0eS52YWxpZGF0ZSkge1xuICAgICAgICB0aGlzLnJlZ2V4VmFsaWRhdGUgPSBuZXcgUmVnRXhwKHRoaXMucHJvcGVydHkudmFsaWRhdGUsICdpJylcbiAgICAgIH1cbiAgICAgIHRoaXMuZGF0YS5vbihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHt0aGlzLmtleU5hbWV9YCwgdGhpcy5iaW5kSW5wdXQuYmluZCh0aGlzKSk7XG4gICAgICAvLyB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmJpbmRFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZTogYW55KSA9PiB7XG4gICAgICAgIHZhciBjaGFyQ29kZSA9IChlLndoaWNoKSA/IGUud2hpY2ggOiBlLmtleUNvZGU7XG4gICAgICAgIGlmIChjaGFyQ29kZSA9PSAxMyAmJiB0aGlzLnN1Z2dlc3Rpb25JbmRleCA+IC0xKSB7XG4gICAgICAgICAgbGV0IG5hbWVWYXIgPSB0aGlzLmVsU3VnZ2VzdGlvbnM/LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKT8uaW5uZXJIVE1MO1xuICAgICAgICAgIGlmIChuYW1lVmFyKSB7XG4gICAgICAgICAgICB0aGlzLnNldFZhcihuYW1lVmFyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyQ29kZSA9PSAzOCkgeyAvLyBVcFxuICAgICAgICAgIHRoaXMuc2V0U3VnZ2VzdGlvbkluZGV4KC0xKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJDb2RlID09IDQwKSB7IC8vIERvd25cbiAgICAgICAgICB0aGlzLnNldFN1Z2dlc3Rpb25JbmRleCgxKTtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaW5kRXZlbnQoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCAoZTogYW55KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnJlZ2V4VmFsaWRhdGUgJiYgIXRoaXMucmVnZXhWYWxpZGF0ZS50ZXN0KGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0JykpKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICBlLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGU6IGFueSkgPT4ge1xuICAgICAgICB2YXIgY2hhckNvZGUgPSAoZS53aGljaCkgPyBlLndoaWNoIDogZS5rZXlDb2RlO1xuICAgICAgICBpZiAodGhpcy5yZWdleFZhbGlkYXRlICYmICF0aGlzLnJlZ2V4VmFsaWRhdGUudGVzdChTdHJpbmcuZnJvbUNoYXJDb2RlKGNoYXJDb2RlKSkpIHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBlLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgZS5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHtcbiAgICAgICAgdGhpcy5lbEZvY3VzID0gdHJ1ZTsgdGhpcy5zdWdnZXN0aW9uSW5kZXggPSAwO1xuICAgICAgICBpZiAodGhpcy5lbFN1Z2dlc3Rpb25zKVxuICAgICAgICAgIHRoaXMuZWxOb2RlPy5wYXJlbnRFbGVtZW50Py5hcHBlbmRDaGlsZCh0aGlzLmVsU3VnZ2VzdGlvbnMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcbiAgICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuZWxGb2N1cyA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5lbFN1Z2dlc3Rpb25zICYmICF0aGlzLmVsRm9jdXMpIHtcbiAgICAgICAgICAgIHRoaXMuZWxOb2RlPy5wYXJlbnRFbGVtZW50Py5yZW1vdmVDaGlsZD8uKHRoaXMuZWxTdWdnZXN0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnN1Z2dlc3Rpb25JbmRleCA9IC0xO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcInNlbGVjdFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2hlY2tTaG93U3VnZ2VzdGlvbnMoKTtcbiAgICAgIH0pXG4gICAgICBpZiAodGhpcy5lbE5vZGUgJiYgdGhpcy5wcm9wZXJ0eSAmJiB0aGlzLnByb3BlcnR5LnNlbGVjdCAmJiBpc0Z1bmN0aW9uKHRoaXMucHJvcGVydHkuZGF0YVNlbGVjdCkpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydHkuc2VsZWN0Tm9uZSkge1xuICAgICAgICAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgICBvcHRpb24udmFsdWUgPSAnJztcbiAgICAgICAgICBvcHRpb24udGV4dCA9IHRoaXMucHJvcGVydHkuc2VsZWN0Tm9uZTtcbiAgICAgICAgICB0aGlzLmVsTm9kZT8uYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICAodGhpcy5lbE5vZGUgYXMgYW55KS52YWx1ZSA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0eS5kYXRhU2VsZWN0KHsgZWxOb2RlOiB0aGlzLmVsTm9kZSwgbWFpbjogdGhpcy5tYWluLCBrZXk6IHRoaXMua2V5TmFtZSB9KS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS52YWx1ZTtcbiAgICAgICAgICBvcHRpb24udGV4dCA9IGl0ZW0udGV4dDtcbiAgICAgICAgICB0aGlzLmVsTm9kZT8uYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wZXJ0eSAmJiBpc0Z1bmN0aW9uKHRoaXMucHJvcGVydHkuc2NyaXB0KSkge1xuICAgICAgICB0aGlzLnByb3BlcnR5LnNjcmlwdCh7IGVsTm9kZTogdGhpcy5lbE5vZGUsIG1haW46IHRoaXMubWFpbiwga2V5OiB0aGlzLmtleU5hbWUgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNldE5vZGVWYWx1ZSh0aGlzLmRhdGEuR2V0KHRoaXMua2V5TmFtZSkgPz8gJycpO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIHNldE5vZGVWYWx1ZSh2YWx1ZTogYW55KSB7XG4gICAgaWYgKHRoaXMuZWxOb2RlKSB7XG4gICAgICBpZiAoVGFnVmlldy5pbmNsdWRlcyh0aGlzLmVsTm9kZS50YWdOYW1lKSkge1xuICAgICAgICAodGhpcy5lbE5vZGUgYXMgYW55KS5pbm5lclRleHQgPSBgJHt2YWx1ZSA/PyBcIlwifWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAodGhpcy5lbE5vZGUgYXMgYW55KS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcml2YXRlIGJpbmRJbnB1dCh7IHZhbHVlLCBzZW5kZXIgfTogYW55KSB7XG4gICAgaWYgKHNlbmRlciAhPT0gdGhpcyAmJiB0aGlzLmVsTm9kZSAmJiBzZW5kZXI/LmVsTm9kZSAhPT0gdGhpcy5lbE5vZGUpIHtcbiAgICAgIHRoaXMuc2V0Tm9kZVZhbHVlKHZhbHVlID8/IFwiXCIpO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIGJpbmRFdmVudCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmICh0aGlzLmtleU5hbWUgJiYgdGhpcy5lbE5vZGUpIHtcbiAgICAgICAgdGhpcy5kYXRhLlNldCh0aGlzLmtleU5hbWUsICh0aGlzLmVsTm9kZSBhcyBhbnkpLnZhbHVlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5jaGVja1Nob3dTdWdnZXN0aW9ucygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBEZWxldGUoKSB7XG4gICAgaWYgKHRoaXMua2V5TmFtZSAmJiB0aGlzLmVsTm9kZSkge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke3RoaXMua2V5TmFtZX1gLCB0aGlzLmJpbmRJbnB1dC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWxOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgc3RhdGljIEJpbmRFbGVtZW50KGVsOiBFbGVtZW50LCBkYXRhOiBEYXRhRmxvdywgbWFpbjogSU1haW4sIGtleTogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiBEYXRhVmlld1tdIHtcbiAgICBpZiAoZWwuY2hpbGRFbGVtZW50Q291bnQgPT0gMCB8fCBlbC5nZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnKSkge1xuICAgICAgcmV0dXJuIFtuZXcgRGF0YVZpZXcoZWwsIGRhdGEsIG1haW4sIGtleSldO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCdbbm9kZVxcXFw6bW9kZWxdJykpLm1hcCgoaXRlbTogRWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBEYXRhVmlldyhpdGVtLCBkYXRhLCBtYWluKTtcbiAgICB9KTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBnZXRUaW1lIH0gZnJvbSBcIi4uL2NvcmUvVXRpbHNcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld1wiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcblxuZXhwb3J0IGVudW0gTW92ZVR5cGUge1xuICBOb25lID0gMCxcbiAgTm9kZSA9IDEsXG4gIENhbnZhcyA9IDIsXG4gIExpbmUgPSAzLFxufVxuZXhwb3J0IGNsYXNzIERlc2dpbmVyVmlld19FdmVudCB7XG5cbiAgcHJpdmF0ZSB0aW1lRmFzdENsaWNrOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHRhZ0luZ29yZSA9IFsnaW5wdXQnLCAnYnV0dG9uJywgJ2EnLCAndGV4dGFyZWEnXTtcblxuICBwcml2YXRlIG1vdmVUeXBlOiBNb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gIHByaXZhdGUgZmxnRHJhcDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGZsZ01vdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwcml2YXRlIGF2X3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgYXZfeTogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHBvc194OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc195OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1vdXNlX3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VfeTogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHRlbXBMaW5lOiBMaW5lIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IERlc2dpbmVyVmlldykge1xuICAgIC8qIE1vdXNlIGFuZCBUb3VjaCBBY3Rpb25zICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRNb3ZlLmJpbmQodGhpcykpO1xuICAgIC8qIENvbnRleHQgTWVudSAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuY29udGV4dG1lbnUuYmluZCh0aGlzKSk7XG5cbiAgICAvKiBEcm9wIERyYXAgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMubm9kZV9kcm9wRW5kLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMubm9kZV9kcmFnb3Zlci5iaW5kKHRoaXMpKTtcbiAgICAvKiBab29tIE1vdXNlICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy56b29tX2VudGVyLmJpbmQodGhpcykpO1xuICAgIC8qIERlbGV0ZSAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb250ZXh0bWVudShldjogYW55KSB7IGV2LnByZXZlbnREZWZhdWx0KCk7IH1cbiAgcHJpdmF0ZSBub2RlX2RyYWdvdmVyKGV2OiBhbnkpIHsgZXYucHJldmVudERlZmF1bHQoKTsgfVxuICBwcml2YXRlIG5vZGVfZHJvcEVuZChldjogYW55KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBsZXQga2V5Tm9kZTogYW55ID0gdGhpcy5wYXJlbnQubWFpbi5nZXRDb250cm9sQ2hvb3NlKCk7XG4gICAgaWYgKCFrZXlOb2RlICYmIGV2LnR5cGUgIT09IFwidG91Y2hlbmRcIikge1xuICAgICAga2V5Tm9kZSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibm9kZVwiKTtcbiAgICB9XG4gICAgaWYgKCFrZXlOb2RlKSByZXR1cm47XG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCAtIGVfcG9zX3gpO1xuICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSAtIGVfcG9zX3kpO1xuXG4gICAgaWYgKHRoaXMucGFyZW50LmNoZWNrT25seU5vZGUoa2V5Tm9kZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5vZGVJdGVtID0gdGhpcy5wYXJlbnQuQWRkTm9kZShrZXlOb2RlLCB7XG4gICAgICBncm91cDogdGhpcy5wYXJlbnQuQ3VycmVudEdyb3VwKClcbiAgICB9KTtcbiAgICBub2RlSXRlbS51cGRhdGVQb3NpdGlvbih4LCB5KTtcbiAgfVxuICBwdWJsaWMgem9vbV9lbnRlcihldmVudDogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIGlmIChldmVudC5kZWx0YVkgPiAwKSB7XG4gICAgICAgIC8vIFpvb20gT3V0XG4gICAgICAgIHRoaXMucGFyZW50Lnpvb21fb3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBab29tIEluXG4gICAgICAgIHRoaXMucGFyZW50Lnpvb21faW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBTdGFydE1vdmUoZXY6IGFueSkge1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGlmICh0aGlzLnRhZ0luZ29yZS5pbmNsdWRlcyhldi50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnRpbWVGYXN0Q2xpY2sgPSBnZXRUaW1lKCk7XG4gICAgaWYgKGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcGF0aCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldi50eXBlID09PSBcInRvdWNoc3RhcnRcIikge1xuICAgICAgdGhpcy5wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMucG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5DYW52YXM7XG4gICAgbGV0IG5vZGVDaG9vc2UgPSB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk7XG4gICAgaWYgKG5vZGVDaG9vc2UgJiYgbm9kZUNob29zZS5DaGVja0VsZW1lbnRDaGlsZChldi50YXJnZXQpKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICBpZiAobm9kZUNob29zZSAmJiB0aGlzLm1vdmVUeXBlID09IE1vdmVUeXBlLk5vZGUgJiYgZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm5vZGUtZG90XCIpKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTGluZTtcbiAgICAgIGxldCBmcm9tSW5kZXggPSBldi50YXJnZXQuZ2V0QXR0cmlidXRlKCdub2RlJyk7XG4gICAgICB0aGlzLnRlbXBMaW5lID0gbmV3IExpbmUobm9kZUNob29zZSwgZnJvbUluZGV4KTtcbiAgICAgIHRoaXMudGVtcExpbmUudGVtcCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLm1vdmVUeXBlID09IE1vdmVUeXBlLkNhbnZhcykge1xuICAgICAgdGhpcy5hdl94ID0gdGhpcy5wYXJlbnQuZ2V0WCgpO1xuICAgICAgdGhpcy5hdl95ID0gdGhpcy5wYXJlbnQuZ2V0WSgpO1xuICAgIH1cbiAgICB0aGlzLmZsZ0RyYXAgPSB0cnVlO1xuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICB9XG4gIHB1YmxpYyBNb3ZlKGV2OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoIXRoaXMuZmxnRHJhcCkgcmV0dXJuO1xuICAgIHRoaXMuZmxnTW92ZSA9IHRydWU7XG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5tb3ZlVHlwZSkge1xuICAgICAgY2FzZSBNb3ZlVHlwZS5DYW52YXM6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeCA9IHRoaXMuYXZfeCArIHRoaXMucGFyZW50LkNhbGNYKC0odGhpcy5wb3NfeCAtIGVfcG9zX3gpKVxuICAgICAgICAgIGxldCB5ID0gdGhpcy5hdl95ICsgdGhpcy5wYXJlbnQuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXG4gICAgICAgICAgdGhpcy5wYXJlbnQuc2V0WCh4KTtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zZXRZKHkpO1xuICAgICAgICAgIHRoaXMucGFyZW50LlVwZGF0ZVVJKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgTW92ZVR5cGUuTm9kZTpcbiAgICAgICAge1xuICAgICAgICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wb3NfeCAtIGVfcG9zX3gpO1xuICAgICAgICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wb3NfeSAtIGVfcG9zX3kpO1xuICAgICAgICAgIHRoaXMucG9zX3ggPSBlX3Bvc194O1xuICAgICAgICAgIHRoaXMucG9zX3kgPSBlX3Bvc195O1xuICAgICAgICAgIHRoaXMucGFyZW50LmdldE5vZGVDaG9vc2UoKT8udXBkYXRlUG9zaXRpb24oeCwgeSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgTW92ZVR5cGUuTGluZTpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0aGlzLnRlbXBMaW5lKSB7XG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMucGFyZW50LkNhbGNYKHRoaXMucGFyZW50LmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggLSBlX3Bvc194KTtcbiAgICAgICAgICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSAtIGVfcG9zX3kpO1xuICAgICAgICAgICAgdGhpcy50ZW1wTGluZS51cGRhdGVUbyh0aGlzLnBhcmVudC5lbENhbnZhcy5vZmZzZXRMZWZ0IC0geCwgdGhpcy5wYXJlbnQuZWxDYW52YXMub2Zmc2V0VG9wIC0geSk7XG4gICAgICAgICAgICBsZXQgbm9kZUVsID0gZXYudGFyZ2V0LmNsb3Nlc3QoJ1tub2RlLWlkXScpO1xuICAgICAgICAgICAgbGV0IG5vZGVJZCA9IG5vZGVFbD8uZ2V0QXR0cmlidXRlKCdub2RlLWlkJyk7XG4gICAgICAgICAgICBsZXQgbm9kZVRvID0gbm9kZUlkID8gdGhpcy5wYXJlbnQuR2V0Tm9kZUJ5SWQobm9kZUlkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChub2RlVG8gJiYgZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm5vZGUtZG90XCIpKSB7XG4gICAgICAgICAgICAgIGxldCB0b0luZGV4ID0gZXYudGFyZ2V0LmdldEF0dHJpYnV0ZSgnbm9kZScpO1xuICAgICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnNldE5vZGVUbyhub2RlVG8sIHRvSW5kZXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IHRvSW5kZXggPSBub2RlRWw/LnF1ZXJ5U2VsZWN0b3IoJy5ub2RlLWRvdCcpPy5bMF0/LmdldEF0dHJpYnV0ZSgnbm9kZScpO1xuICAgICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnNldE5vZGVUbyhub2RlVG8sIHRvSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChldi50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICB0aGlzLm1vdXNlX3ggPSBlX3Bvc194O1xuICAgICAgdGhpcy5tb3VzZV95ID0gZV9wb3NfeTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBFbmRNb3ZlKGV2OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoIXRoaXMuZmxnRHJhcCkgcmV0dXJuO1xuICAgIC8vZml4IEZhc3QgQ2xpY2tcbiAgICBpZiAoKChnZXRUaW1lKCkgLSB0aGlzLnRpbWVGYXN0Q2xpY2spIDwgMTAwKSB8fCAhdGhpcy5mbGdNb3ZlKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaGVuZFwiKSB7XG4gICAgICBlX3Bvc194ID0gdGhpcy5tb3VzZV94O1xuICAgICAgZV9wb3NfeSA9IHRoaXMubW91c2VfeTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGV2LmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYuY2xpZW50WTtcbiAgICB9XG4gICAgaWYgKHRoaXMubW92ZVR5cGUgPT09IE1vdmVUeXBlLkNhbnZhcykge1xuICAgICAgbGV0IHggPSB0aGlzLmF2X3ggKyB0aGlzLnBhcmVudC5DYWxjWCgtKHRoaXMucG9zX3ggLSBlX3Bvc194KSlcbiAgICAgIGxldCB5ID0gdGhpcy5hdl95ICsgdGhpcy5wYXJlbnQuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXG4gICAgICB0aGlzLnBhcmVudC5zZXRYKHgpO1xuICAgICAgdGhpcy5wYXJlbnQuc2V0WSh5KTtcbiAgICAgIHRoaXMuYXZfeCA9IDA7XG4gICAgICB0aGlzLmF2X3kgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZW1wTGluZSkge1xuICAgICAgdGhpcy50ZW1wTGluZS5DbG9uZSgpO1xuICAgICAgdGhpcy50ZW1wTGluZS5kZWxldGUoKTtcbiAgICAgIHRoaXMudGVtcExpbmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMucG9zX3ggPSBlX3Bvc194O1xuICAgIHRoaXMucG9zX3kgPSBlX3Bvc195O1xuICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xuICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICB9XG4gIHByaXZhdGUga2V5ZG93bihldjogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKGV2LmtleSA9PT0gJ0RlbGV0ZScgfHwgKGV2LmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgZXYubWV0YUtleSkpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgdGhpcy5wYXJlbnQuZ2V0Tm9kZUNob29zZSgpPy5kZWxldGUoKTtcbiAgICAgIHRoaXMucGFyZW50LmdldExpbmVDaG9vc2UoKT8uZGVsZXRlKCk7XG4gICAgfVxuICAgIGlmIChldi5rZXkgPT09ICdGMicpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFGbG93LCBQcm9wZXJ0eUVudW0gfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHsgTm9kZUl0ZW0gfSBmcm9tIFwiLi9Ob2RlSXRlbVwiO1xuXG5leHBvcnQgY2xhc3MgTGluZSB7XG4gIHB1YmxpYyBlbE5vZGU6IFNWR0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJzdmdcIik7XG4gIHB1YmxpYyBlbFBhdGg6IFNWR1BhdGhFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIFwicGF0aFwiKTtcbiAgcHJpdmF0ZSBkYXRhOiBEYXRhRmxvdyA9IG5ldyBEYXRhRmxvdygpO1xuICBwcml2YXRlIGN1cnZhdHVyZTogbnVtYmVyID0gMC41O1xuICBwdWJsaWMgdGVtcDogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGZyb206IE5vZGVJdGVtLCBwdWJsaWMgZnJvbUluZGV4OiBudW1iZXIgPSAwLCBwdWJsaWMgdG86IE5vZGVJdGVtIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBwdWJsaWMgdG9JbmRleDogbnVtYmVyID0gMCwgZGF0YTogYW55ID0gbnVsbCkge1xuICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoXCJtYWluLXBhdGhcIik7XG4gICAgdGhpcy5lbFBhdGguYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnJyk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZChcImNvbm5lY3Rpb25cIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGgpO1xuICAgIHRoaXMuZnJvbS5wYXJlbnQuZWxDYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuXG4gICAgdGhpcy5mcm9tLkFkZExpbmUodGhpcyk7XG4gICAgdGhpcy50bz8uQWRkTGluZSh0aGlzKTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kYXRhLkluaXREYXRhKFxuICAgICAge1xuICAgICAgICBmcm9tOiB0aGlzLmZyb20uR2V0SWQoKSxcbiAgICAgICAgZnJvbUluZGV4OiB0aGlzLmZyb21JbmRleCxcbiAgICAgICAgdG86IHRoaXMudG8/LkdldElkKCksXG4gICAgICAgIHRvSW5kZXg6IHRoaXMudG9JbmRleFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLi4uIHRoaXMuZnJvbS5wYXJlbnQubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5saW5lKSB8fCB7fVxuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5mcm9tLmRhdGEuQXBwZW5kKCdsaW5lcycsIHRoaXMuZGF0YSk7XG4gIH1cbiAgcHVibGljIHVwZGF0ZVRvKHRvX3g6IG51bWJlciwgdG9feTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLmZyb20gfHwgdGhpcy5mcm9tLmVsTm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgbGV0IHsgeDogZnJvbV94LCB5OiBmcm9tX3kgfTogYW55ID0gdGhpcy5mcm9tLmdldFBvc3Rpc2lvbkRvdCh0aGlzLmZyb21JbmRleCk7XG4gICAgdmFyIGxpbmVDdXJ2ZSA9IHRoaXMuY3JlYXRlQ3VydmF0dXJlKGZyb21feCwgZnJvbV95LCB0b194LCB0b195LCB0aGlzLmN1cnZhdHVyZSwgJ290aGVyJyk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCBsaW5lQ3VydmUpO1xuICB9XG4gIHB1YmxpYyBVcGRhdGVVSSgpOiBMaW5lIHtcbiAgICAvL1Bvc3Rpb24gb3V0cHV0XG4gICAgaWYgKHRoaXMudG8gJiYgdGhpcy50by5lbE5vZGUpIHtcbiAgICAgIGxldCB7IHg6IHRvX3gsIHk6IHRvX3kgfTogYW55ID0gdGhpcy50by5nZXRQb3N0aXNpb25Eb3QodGhpcy50b0luZGV4KTtcbiAgICAgIHRoaXMudXBkYXRlVG8odG9feCwgdG9feSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBBY3RpdmUoZmxnOiBhbnkgPSB0cnVlKSB7XG4gICAgaWYgKGZsZykge1xuICAgICAgdGhpcy5lbFBhdGguY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBwcml2YXRlIGNyZWF0ZUN1cnZhdHVyZShzdGFydF9wb3NfeDogbnVtYmVyLCBzdGFydF9wb3NfeTogbnVtYmVyLCBlbmRfcG9zX3g6IG51bWJlciwgZW5kX3Bvc195OiBudW1iZXIsIGN1cnZhdHVyZV92YWx1ZTogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcbiAgICBsZXQgbGluZV94ID0gc3RhcnRfcG9zX3g7XG4gICAgbGV0IGxpbmVfeSA9IHN0YXJ0X3Bvc195O1xuICAgIGxldCB4ID0gZW5kX3Bvc194O1xuICAgIGxldCB5ID0gZW5kX3Bvc195O1xuICAgIGxldCBjdXJ2YXR1cmUgPSBjdXJ2YXR1cmVfdmFsdWU7XG4gICAgLy90eXBlIG9wZW5jbG9zZSBvcGVuIGNsb3NlIG90aGVyXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdvcGVuJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG5cbiAgICAgICAgYnJlYWtcbiAgICAgIGNhc2UgJ2Nsb3NlJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnb3RoZXInOlxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcblxuICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG5cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZGVsZXRlKG5vZGVUaGlzOiBhbnkgPSBudWxsLCBpc0NsZWFyRGF0YSA9IHRydWUpIHtcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoPy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIGlmIChpc0NsZWFyRGF0YSlcbiAgICAgIHRoaXMuZnJvbS5kYXRhLlJlbW92ZSgnbGluZXMnLCB0aGlzLmRhdGEpO1xuICAgIGlmICh0aGlzLmZyb20gIT0gbm9kZVRoaXMpXG4gICAgICB0aGlzLmZyb20uUmVtb3ZlTGluZSh0aGlzKTtcbiAgICBpZiAodGhpcy50byAhPSBub2RlVGhpcylcbiAgICAgIHRoaXMudG8/LlJlbW92ZUxpbmUodGhpcyk7XG4gICAgdGhpcy5lbFBhdGgucmVtb3ZlKCk7XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlKCk7XG4gIH1cbiAgcHVibGljIFN0YXJ0U2VsZWN0ZWQoZTogYW55KSB7XG4gICAgdGhpcy5mcm9tLnBhcmVudC5zZXRMaW5lQ2hvb3NlKHRoaXMpXG4gIH1cbiAgcHVibGljIHNldE5vZGVUbyhub2RlOiBOb2RlSXRlbSB8IHVuZGVmaW5lZCwgdG9JbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy50byA9IG5vZGU7XG4gICAgdGhpcy50b0luZGV4ID0gdG9JbmRleDtcbiAgfVxuICBwdWJsaWMgQ2xvbmUoKSB7XG4gICAgaWYgKHRoaXMudG8gJiYgdGhpcy50b0luZGV4ICYmIHRoaXMuZnJvbSAhPSB0aGlzLnRvICYmICF0aGlzLmZyb20uY2hlY2tMaW5lRXhpc3RzKHRoaXMuZnJvbUluZGV4LCB0aGlzLnRvLCB0aGlzLnRvSW5kZXgpKSB7XG4gICAgICByZXR1cm4gbmV3IExpbmUodGhpcy5mcm9tLCB0aGlzLmZyb21JbmRleCwgdGhpcy50bywgdGhpcy50b0luZGV4KS5VcGRhdGVVSSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUZsb3csIEV2ZW50RW51bSwgRGF0YUZsb3csIERhdGFWaWV3IH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi4vY29yZS9VdGlsc1wiO1xuZXhwb3J0IGNsYXNzIE5vZGVJdGVtIGV4dGVuZHMgQmFzZUZsb3c8RGVzZ2luZXJWaWV3PiB7XG4gIC8qKlxuICAgKiBHRVQgU0VUIGZvciBEYXRhXG4gICAqL1xuXG4gIHB1YmxpYyBJbmNyZWFzZVZhbHVlKG5hbWU6IHN0cmluZywgbWF4OiBhbnkgPSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLkluY3JlYXNlKG5hbWUsIG1heCk7XG4gIH1cbiAgcHVibGljIERlY3JlYXNlVmFsdWUobmFtZTogc3RyaW5nLCBtaW46IGFueSA9IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuRGVjcmVhc2UobmFtZSwgbWluKTtcbiAgfVxuICBwdWJsaWMgZ2V0RGF0YVZhbHVlKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRhdGEuR2V0KG5hbWUpO1xuICB9XG4gIHB1YmxpYyBzZXREYXRhVmFsdWUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQobmFtZSwgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmdldERhdGFWYWx1ZSgnbmFtZScpO1xuICB9XG4gIHB1YmxpYyBnZXRZKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhVmFsdWUoJ3knKTtcbiAgfVxuICBwdWJsaWMgc2V0WSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0RGF0YVZhbHVlKCd5JywgdmFsdWUpO1xuICB9XG4gIHB1YmxpYyBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhVmFsdWUoJ3gnKTtcbiAgfVxuICBwdWJsaWMgc2V0WCh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0RGF0YVZhbHVlKCd4JywgdmFsdWUpO1xuICB9XG4gIHB1YmxpYyBDaGVja0tleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmdldERhdGFWYWx1ZSgna2V5JykgPT0ga2V5O1xuICB9XG4gIHB1YmxpYyBnZXREYXRhTGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXREYXRhVmFsdWUoJ2xpbmVzJykgPz8gW107XG4gIH1cbiAgcHVibGljIGNoZWNrTGluZUV4aXN0cyhmcm9tSW5kZXg6IG51bWJlciwgdG86IE5vZGVJdGVtLCB0b0luZGV4OiBOdW1iZXIpIHtcbiAgICByZXR1cm4gdGhpcy5hcnJMaW5lLmZpbHRlcigoaXRlbTogTGluZSkgPT4ge1xuICAgICAgaWYgKCFpdGVtLnRlbXAgJiYgaXRlbS50byA9PSB0byAmJiBpdGVtLnRvSW5kZXggPT0gdG9JbmRleCAmJiBpdGVtLmZyb21JbmRleCA9PSBmcm9tSW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIWl0ZW0udGVtcCAmJiBpdGVtLmZyb20gPT0gdG8gJiYgaXRlbS5mcm9tSW5kZXggPT0gdG9JbmRleCAmJiBpdGVtLnRvSW5kZXggPT0gZnJvbUluZGV4KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfSkubGVuZ3RoID4gMDtcbiAgfVxuICBwdWJsaWMgZWxDb250ZW50OiBFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHRlbXA6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KCk7XG4gIHB1YmxpYyBhcnJMaW5lOiBMaW5lW10gPSBbXTtcbiAgcHJpdmF0ZSBvcHRpb246IGFueSA9IHt9O1xuICBwcml2YXRlIGFyckRhdGFWaWV3OiBEYXRhVmlld1tdID0gW107XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwYXJlbnQ6IERlc2dpbmVyVmlldywgcHJpdmF0ZSBrZXlOb2RlOiBhbnksIGRhdGE6IGFueSA9IHt9KSB7XG4gICAgc3VwZXIocGFyZW50KTtcbiAgICB0aGlzLm9wdGlvbiA9IHRoaXMucGFyZW50Lm1haW4uZ2V0Q29udHJvbE5vZGVCeUtleShrZXlOb2RlKTtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLm9wdGlvbj8ucHJvcGVydGllcztcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEuSW5pdERhdGEoeyAuLi5kYXRhLCBuYW1lOiB0aGlzLm9wdGlvbi5uYW1lIH0sIHRoaXMucHJvcGVydGllcyk7XG4gICAgICB0aGlzLnBhcmVudC5kYXRhLkFwcGVuZCgnbm9kZXMnLCB0aGlzLmRhdGEpO1xuICAgIH1cbiAgICB0aGlzLmRhdGEub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtbm9kZScpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9uLmNsYXNzKSB7XG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKHRoaXMub3B0aW9uLmNsYXNzKTtcbiAgICB9XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdub2RlLWlkJywgdGhpcy5HZXRJZCgpKTtcbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbENhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XG4gICAgdGhpcy5yZW5kZXJVSSgpO1xuICB9XG4gIHB1YmxpYyBnZXRPcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uO1xuICB9XG4gIHByaXZhdGUgcmVuZGVyVUkoZGV0YWlsOiBhbnkgPSBudWxsKSB7XG4gICAgaWYgKChkZXRhaWwgJiYgWyd4JywgJ3knXS5pbmNsdWRlcyhkZXRhaWwua2V5KSkpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgJiYgdGhpcy5lbE5vZGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgJiYgIVsnQlVUVE9OJywgJ0EnXS5pbmNsdWRlcyhkb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUpKSByZXR1cm47XG5cbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYGRpc3BsYXk6bm9uZTtgKTtcbiAgICBpZiAodGhpcy5nZXRPcHRpb24oKT8uaGlkZVRpdGxlID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1sZWZ0XCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtdG9wXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm9keVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtYm90dG9tXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXJpZ2h0XCI+PC9kaXY+XG4gICAgYDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtbGVmdFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXRvcFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+JHt0aGlzLm9wdGlvbi5pY29ufSAke3RoaXMuZ2V0TmFtZSgpfTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1ib3R0b21cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtcmlnaHRcIj48L2Rpdj5cbiAgICBgO1xuICAgIH1cblxuICAgIGNvbnN0IGFkZE5vZGVEb3QgPSAobnVtOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLCBzdGFydDogbnVtYmVyLCBxdWVyeTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAobnVtKSB7XG4gICAgICAgIGxldCBub2RlUXVlcnkgPSB0aGlzLmVsTm9kZS5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTtcbiAgICAgICAgaWYgKG5vZGVRdWVyeSkge1xuICAgICAgICAgIG5vZGVRdWVyeS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBub2RlRG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBub2RlRG90LmNsYXNzTGlzdC5hZGQoJ25vZGUtZG90Jyk7XG4gICAgICAgICAgICBub2RlRG90LnNldEF0dHJpYnV0ZSgnbm9kZScsIGAke3N0YXJ0ICsgaX1gKTtcbiAgICAgICAgICAgIG5vZGVRdWVyeS5hcHBlbmRDaGlsZChub2RlRG90KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgYWRkTm9kZURvdCh0aGlzLm9wdGlvbj8uZG90Py5sZWZ0LCAxMDAwLCAnLm5vZGUtbGVmdCcpO1xuICAgIGFkZE5vZGVEb3QodGhpcy5vcHRpb24/LmRvdD8udG9wLCAyMDAwLCAnLm5vZGUtdG9wJyk7XG4gICAgYWRkTm9kZURvdCh0aGlzLm9wdGlvbj8uZG90Py5ib3R0b20sIDMwMDAsICcubm9kZS1ib3R0b20nKTtcbiAgICBhZGROb2RlRG90KHRoaXMub3B0aW9uPy5kb3Q/LnJpZ2h0LCA0MDAwLCAnLm5vZGUtcmlnaHQnKTtcblxuICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLm5vZGUtY29udGVudCAuYm9keScpIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMucGFyZW50Lm1haW4ucmVuZGVySHRtbCh7IG5vZGU6IHRoaXMsIGVsTm9kZTogdGhpcy5lbENvbnRlbnQsIG1haW46IHRoaXMucGFyZW50Lm1haW4gfSk7XG4gICAgdGhpcy5VcGRhdGVVSSgpO1xuICAgIHRoaXMuYXJyRGF0YVZpZXcuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5EZWxldGUoKSk7XG4gICAgaWYgKGlzRnVuY3Rpb24odGhpcy5vcHRpb24uc2NyaXB0KSkge1xuICAgICAgdGhpcy5vcHRpb24uc2NyaXB0KHsgbm9kZTogdGhpcywgZWxOb2RlOiB0aGlzLmVsQ29udGVudCwgbWFpbjogdGhpcy5wYXJlbnQubWFpbiB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxDb250ZW50KVxuICAgICAgdGhpcy5hcnJEYXRhVmlldyA9IERhdGFWaWV3LkJpbmRFbGVtZW50KHRoaXMuZWxDb250ZW50LCB0aGlzLmRhdGEsIHRoaXMucGFyZW50Lm1haW4pO1xuICB9XG4gIHB1YmxpYyB1cGRhdGVQb3NpdGlvbih4OiBhbnksIHk6IGFueSwgaUNoZWNrID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5lbE5vZGUpIHtcbiAgICAgIGxldCB0ZW1weCA9IHg7XG4gICAgICBsZXQgdGVtcHkgPSB5O1xuICAgICAgaWYgKCFpQ2hlY2spIHtcbiAgICAgICAgdGVtcHkgPSAodGhpcy5lbE5vZGUub2Zmc2V0VG9wIC0geSk7XG4gICAgICAgIHRlbXB4ID0gKHRoaXMuZWxOb2RlLm9mZnNldExlZnQgLSB4KTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1weCAhPT0gdGhpcy5nZXRYKCkpIHtcbiAgICAgICAgdGhpcy5zZXRYKHRlbXB4KTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1weSAhPT0gdGhpcy5nZXRZKCkpIHtcbiAgICAgICAgdGhpcy5zZXRZKHRlbXB5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHVibGljIEFjdGl2ZShmbGc6IGFueSA9IHRydWUpIHtcbiAgICBpZiAoZmxnKSB7XG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBSZW1vdmVMaW5lKGxpbmU6IExpbmUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLmFyckxpbmUuaW5kZXhPZihsaW5lKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5hcnJMaW5lLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFyckxpbmU7XG4gIH1cbiAgcHVibGljIEFkZExpbmUobGluZTogTGluZSkge1xuICAgIHRoaXMuYXJyTGluZSA9IFsuLi50aGlzLmFyckxpbmUsIGxpbmVdO1xuICB9XG4gIHB1YmxpYyBnZXRQb3N0aXNpb25Eb3QoaW5kZXg6IG51bWJlciA9IDApIHtcbiAgICBsZXQgZWxEb3Q6IGFueSA9IHRoaXMuZWxOb2RlPy5xdWVyeVNlbGVjdG9yKGAubm9kZS1kb3Rbbm9kZT1cIiR7aW5kZXh9XCJdYCk7XG4gICAgaWYgKGVsRG90KSB7XG4gICAgICBsZXQgeSA9ICh0aGlzLmVsTm9kZS5vZmZzZXRUb3AgKyBlbERvdC5vZmZzZXRUb3AgKyAxMCk7XG4gICAgICBsZXQgeCA9ICh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0ICsgZWxEb3Qub2Zmc2V0TGVmdCArIDEwKTtcbiAgICAgIHJldHVybiB7IHgsIHkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHB1YmxpYyBVcGRhdGVVSSgpIHtcbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYHRvcDogJHt0aGlzLmdldFkoKX1weDsgbGVmdDogJHt0aGlzLmdldFgoKX1weDtgKTtcbiAgICB0aGlzLmFyckxpbmUuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgaXRlbS5VcGRhdGVVSSgpO1xuICAgIH0pXG4gIH1cbiAgcHVibGljIGRlbGV0ZShpc0NsZWFyRGF0YSA9IHRydWUpIHtcbiAgICB0aGlzLmFyckxpbmUuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS5kZWxldGUodGhpcywgaXNDbGVhckRhdGEpKTtcbiAgICBpZiAoaXNDbGVhckRhdGEpXG4gICAgICB0aGlzLmRhdGEuZGVsZXRlKCk7XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmRhdGEucmVtb3ZlTGlzdGVuZXIoRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLlJlbW92ZURhdGFFdmVudCgpO1xuICAgIH1cbiAgICB0aGlzLmVsTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlKCk7XG4gICAgdGhpcy5hcnJMaW5lID0gW107XG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxuICAgICAgdGhpcy5wYXJlbnQuUmVtb3ZlTm9kZSh0aGlzKTtcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHt9KTtcbiAgfVxuICBwdWJsaWMgUmVuZGVyTGluZSgpIHtcbiAgICB0aGlzLmdldERhdGFMaW5lKCkuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcbiAgICAgIGxldCBub2RlRnJvbSA9IHRoaXM7XG4gICAgICBsZXQgbm9kZVRvID0gdGhpcy5wYXJlbnQuR2V0Tm9kZUJ5SWQoaXRlbS5HZXQoJ3RvJykpO1xuICAgICAgbGV0IHRvSW5kZXggPSBpdGVtLkdldCgndG9JbmRleCcpO1xuICAgICAgbGV0IGZyb21JbmRleCA9IGl0ZW0uR2V0KCdmcm9tSW5kZXgnKTtcbiAgICAgIG5ldyBMaW5lKG5vZGVGcm9tLCBmcm9tSW5kZXgsIG5vZGVUbywgdG9JbmRleCwgaXRlbSkuVXBkYXRlVUkoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YUZsb3csIEZsb3dDb3JlLCBJTWFpbiwgRXZlbnRFbnVtLCBQcm9wZXJ0eUVudW0sIFNjb3BlUm9vdCB9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXdfRXZlbnQgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdfRXZlbnRcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBOb2RlSXRlbSB9IGZyb20gXCIuL05vZGVJdGVtXCI7XG5cbmV4cG9ydCBjb25zdCBab29tID0ge1xuICBtYXg6IDEuNixcbiAgbWluOiAwLjYsXG4gIHZhbHVlOiAwLjEsXG4gIGRlZmF1bHQ6IDFcbn1cbmV4cG9ydCBjbGFzcyBEZXNnaW5lclZpZXcgZXh0ZW5kcyBGbG93Q29yZSB7XG5cbiAgLyoqXG4gICAqIEdFVCBTRVQgZm9yIERhdGFcbiAgICovXG4gIHB1YmxpYyBnZXRab29tKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhR3JvdXAoKS5HZXQoJ3pvb20nKTtcbiAgfVxuICBwdWJsaWMgc2V0Wm9vbSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUdyb3VwKCkuU2V0KCd6b29tJywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRZKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhR3JvdXAoKS5HZXQoJ3knKTtcbiAgfVxuICBwdWJsaWMgc2V0WSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUdyb3VwKCkuU2V0KCd5JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhR3JvdXAoKS5HZXQoJ3gnKTtcbiAgfVxuICBwdWJsaWMgc2V0WCh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUdyb3VwKCkuU2V0KCd4JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHByaXZhdGUgZ3JvdXBEYXRhOiBEYXRhRmxvdyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBsYXN0R3JvdXBOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBwcml2YXRlIGdldERhdGFHcm91cCgpOiBEYXRhRmxvdyB7XG4gICAgaWYgKHRoaXMuJGxvY2spIHJldHVybiB0aGlzLmRhdGE7XG4gICAgLy8gY2FjaGUgZ3JvdXBEYXRhXG4gICAgaWYgKHRoaXMubGFzdEdyb3VwTmFtZSA9PT0gdGhpcy5DdXJyZW50R3JvdXAoKSkgcmV0dXJuIHRoaXMuZ3JvdXBEYXRhID8/IHRoaXMuZGF0YTtcbiAgICB0aGlzLmxhc3RHcm91cE5hbWUgPSB0aGlzLkN1cnJlbnRHcm91cCgpO1xuICAgIGxldCBncm91cHMgPSB0aGlzLmRhdGEuR2V0KCdncm91cHMnKTtcbiAgICB0aGlzLmdyb3VwRGF0YSA9IGdyb3Vwcz8uZmlsdGVyKChpdGVtOiBEYXRhRmxvdykgPT4gaXRlbS5HZXQoJ2dyb3VwJykgPT0gdGhpcy5sYXN0R3JvdXBOYW1lKT8uWzBdO1xuICAgIGlmICghdGhpcy5ncm91cERhdGEpIHtcbiAgICAgIHRoaXMuZ3JvdXBEYXRhID0gbmV3IERhdGFGbG93KHRoaXMubWFpbiwge1xuICAgICAgICBrZXk6IFByb3BlcnR5RW51bS5ncm91cENhdmFzLFxuICAgICAgICBncm91cDogdGhpcy5sYXN0R3JvdXBOYW1lXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGF0YS5BcHBlbmQoJ2dyb3VwcycsIHRoaXMuZ3JvdXBEYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgIH1cbiAgICBsZXQgZGF0YUdyb3VwID0gdGhpcy5HZXREYXRhQnlJZCh0aGlzLmxhc3RHcm91cE5hbWUpO1xuICAgIGlmIChkYXRhR3JvdXApIHtcbiAgICAgIGRhdGFHcm91cC5vblNhZmUoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9X25hbWVgLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuY2hhbmdlR3JvdXAoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmdyb3VwRGF0YTtcbiAgfVxuICBwcml2YXRlIGdyb3VwOiBhbnlbXSA9IFtdO1xuICBwdWJsaWMgR2V0R3JvdXBOYW1lKCk6IGFueVtdIHtcbiAgICByZXR1cm4gWy4uLnRoaXMuZ3JvdXAubWFwKChpdGVtKSA9PiAoeyBpZDogaXRlbSwgdGV4dDogdGhpcy5HZXREYXRhQnlJZChpdGVtKT8uR2V0KCduYW1lJykgfSkpLCB7IGlkOiBTY29wZVJvb3QsIHRleHQ6IFNjb3BlUm9vdCB9XTtcbiAgfVxuICBwdWJsaWMgQmFja0dyb3VwKGlkOiBhbnkgPSBudWxsKSB7XG4gICAgbGV0IGluZGV4ID0gMTtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGluZGV4ID0gdGhpcy5ncm91cC5pbmRleE9mKGlkKTtcbiAgICAgIGlmIChpbmRleCA8IDApIGluZGV4ID0gMDtcbiAgICB9XG4gICAgaWYgKGluZGV4KVxuICAgICAgdGhpcy5ncm91cC5zcGxpY2UoMCwgaW5kZXgpO1xuICAgIGVsc2UgdGhpcy5ncm91cCA9IFtdO1xuICAgIHRoaXMuUmVuZGVyVUkoKTtcbiAgICB0aGlzLmNoYW5nZUdyb3VwKCk7XG4gIH1cbiAgcHVibGljIEN1cnJlbnRHcm91cCgpIHtcbiAgICBsZXQgbmFtZSA9IHRoaXMuZ3JvdXA/LlswXTtcbiAgICBpZiAobmFtZSAmJiBuYW1lICE9ICcnKSB7XG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgcmV0dXJuICdyb290JztcbiAgfVxuXG4gIHB1YmxpYyBDdXJyZW50R3JvdXBEYXRhKCkge1xuICAgIHJldHVybiB0aGlzLkdldERhdGFCeUlkKHRoaXMuQ3VycmVudEdyb3VwKCkpID8/IHRoaXMuZGF0YTtcbiAgfVxuICBwdWJsaWMgY2hhbmdlR3JvdXAoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLm1haW4uZGlzcGF0Y2goRXZlbnRFbnVtLmdyb3VwQ2hhbmdlLCB7XG4gICAgICAgIGdyb3VwOiB0aGlzLkdldEdyb3VwTmFtZSgpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKGlkOiBhbnkpIHtcbiAgICB0aGlzLmdyb3VwID0gW2lkLCAuLi50aGlzLmdyb3VwXTtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gICAgdGhpcy5jaGFuZ2VHcm91cCgpOztcbiAgfVxuICBwcml2YXRlIGxpbmVDaG9vc2U6IExpbmUgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBzZXRMaW5lQ2hvb3NlKG5vZGU6IExpbmUgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saW5lQ2hvb3NlKSB0aGlzLmxpbmVDaG9vc2UuQWN0aXZlKGZhbHNlKTtcbiAgICB0aGlzLmxpbmVDaG9vc2UgPSBub2RlO1xuICAgIGlmICh0aGlzLmxpbmVDaG9vc2UpIHtcbiAgICAgIHRoaXMubGluZUNob29zZS5BY3RpdmUoKTtcbiAgICAgIHRoaXMuc2V0Tm9kZUNob29zZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZ2V0TGluZUNob29zZSgpOiBMaW5lIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5saW5lQ2hvb3NlO1xuICB9XG4gIHByaXZhdGUgbm9kZXM6IE5vZGVJdGVtW10gPSBbXTtcbiAgcHJpdmF0ZSBub2RlQ2hvb3NlOiBOb2RlSXRlbSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldE5vZGVDaG9vc2Uobm9kZTogTm9kZUl0ZW0gfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub2RlQ2hvb3NlKSB0aGlzLm5vZGVDaG9vc2UuQWN0aXZlKGZhbHNlKTtcbiAgICB0aGlzLm5vZGVDaG9vc2UgPSBub2RlO1xuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHtcbiAgICAgIHRoaXMubm9kZUNob29zZS5BY3RpdmUoKTtcbiAgICAgIHRoaXMuc2V0TGluZUNob29zZSh1bmRlZmluZWQpO1xuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IHRoaXMubm9kZUNob29zZS5kYXRhIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIHsgZGF0YTogdGhpcy5DdXJyZW50R3JvdXBEYXRhKCkgfSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXROb2RlQ2hvb3NlKCk6IE5vZGVJdGVtIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlQ2hvb3NlO1xuICB9XG4gIHB1YmxpYyBBZGROb2RlSXRlbShkYXRhOiBhbnkpOiBOb2RlSXRlbSB7XG4gICAgcmV0dXJuIHRoaXMuQWRkTm9kZShkYXRhLkdldCgna2V5JyksIGRhdGEpO1xuICB9XG4gIHB1YmxpYyBBZGROb2RlKGtleU5vZGU6IHN0cmluZywgZGF0YTogYW55ID0ge30pOiBOb2RlSXRlbSB7XG4gICAgcmV0dXJuIHRoaXMuSW5zZXJ0Tm9kZShuZXcgTm9kZUl0ZW0odGhpcywga2V5Tm9kZSwgZGF0YSkpO1xuICB9XG4gIHB1YmxpYyBJbnNlcnROb2RlKG5vZGU6IE5vZGVJdGVtKTogTm9kZUl0ZW0ge1xuICAgIHRoaXMubm9kZXMgPSBbLi4udGhpcy5ub2Rlcywgbm9kZV07XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcHVibGljIFJlbW92ZU5vZGUobm9kZTogTm9kZUl0ZW0pIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLm5vZGVzLmluZGV4T2Yobm9kZSk7XG4gICAgdGhpcy5kYXRhLlJlbW92ZSgnbm9kZXMnLCBub2RlKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5ub2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ub2RlcztcbiAgfVxuICBwdWJsaWMgQ2xlYXJOb2RlKCkge1xuICAgIHRoaXMubm9kZXM/LmZvckVhY2goaXRlbSA9PiBpdGVtLmRlbGV0ZShmYWxzZSkpO1xuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgfVxuICBwdWJsaWMgR2V0RGF0YUFsbE5vZGUoKTogYW55W10ge1xuICAgIHJldHVybiAodGhpcy5kYXRhPy5HZXQoJ25vZGVzJykgPz8gW10pO1xuICB9XG4gIHB1YmxpYyBHZXREYXRhTm9kZSgpOiBhbnlbXSB7XG4gICAgcmV0dXJuIHRoaXMuR2V0RGF0YUFsbE5vZGUoKS5maWx0ZXIoKGl0ZW06IERhdGFGbG93KSA9PiBpdGVtLkdldChcImdyb3VwXCIpID09PSB0aGlzLkN1cnJlbnRHcm91cCgpKTtcbiAgfVxuICAvKipcbiAgICogVmFyaWJ1dGVcbiAgKi9cbiAgcHVibGljIGVsQ2FudmFzOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwdWJsaWMgJGxvY2s6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHpvb21fbGFzdF92YWx1ZTogYW55ID0gMTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5lbE5vZGUgPSBlbE5vZGU7XG4gICAgbGV0IHByb3BlcnRpZXM6IGFueSA9IHRoaXMubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5tYWluKTtcbiAgICB0aGlzLmRhdGEuSW5pdERhdGEoe30sIHByb3BlcnRpZXMpO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rlc2dpbmVyLXZpZXcnKVxuICAgIHRoaXMuZWxDYW52YXMuY2xhc3NMaXN0LnJlbW92ZShcImRlc2dpbmVyLWNhbnZhc1wiKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdkZXNnaW5lci12aWV3JylcbiAgICB0aGlzLmVsQ2FudmFzLmNsYXNzTGlzdC5hZGQoXCJkZXNnaW5lci1jYW52YXNcIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbENhbnZhcyk7XG4gICAgdGhpcy5lbE5vZGUudGFiSW5kZXggPSAwO1xuICAgIG5ldyBEZXNnaW5lclZpZXdfRXZlbnQodGhpcyk7XG4gICAgdGhpcy5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5SZW5kZXJVSS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkYXRhOiBhbnkpID0+IHsgbWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCBkYXRhKTsgfSk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgKGl0ZW06IGFueSkgPT4ge1xuICAgICAgdGhpcy5PcGVuKGl0ZW0uZGF0YSk7XG4gICAgfSk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS56b29tLCAoeyB6b29tIH06IGFueSkgPT4ge1xuICAgICAgaWYgKHpvb20gPT0gMCkge1xuICAgICAgICB0aGlzLnpvb21fcmVzZXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoem9vbSA9PSAxKSB7XG4gICAgICAgIHRoaXMuem9vbV9vdXQoKTtcbiAgICAgIH0gZWxzZSBpZiAoem9vbSA9PSAtMSkge1xuICAgICAgICB0aGlzLnpvb21faW4oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuVXBkYXRlVUkoKTtcbiAgICB9KTtcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLnNldEdyb3VwLCAoeyBncm91cElkIH06IGFueSkgPT4ge1xuICAgICAgdGhpcy5CYWNrR3JvdXAoZ3JvdXBJZCk7XG4gICAgfSk7XG4gICAgdGhpcy5jaGFuZ2VHcm91cCgpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZVZpZXcoeDogYW55LCB5OiBhbnksIHpvb206IGFueSkge1xuICAgIHRoaXMuZWxDYW52YXMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3h9cHgsICR7eX1weCkgc2NhbGUoJHt6b29tfSlgO1xuICB9XG4gIHB1YmxpYyBVcGRhdGVVSSgpIHtcbiAgICB0aGlzLnVwZGF0ZVZpZXcodGhpcy5nZXRYKCksIHRoaXMuZ2V0WSgpLCB0aGlzLmdldFpvb20oKSk7XG4gIH1cbiAgcHVibGljIFJlbmRlclVJKGRldGFpbDogYW55ID0ge30pIHtcbiAgICBpZiAoZGV0YWlsLnNlbmRlciAmJiBkZXRhaWwuc2VuZGVyIGluc3RhbmNlb2YgTm9kZUl0ZW0pIHJldHVybjtcbiAgICBpZiAoZGV0YWlsLnNlbmRlciAmJiBkZXRhaWwuc2VuZGVyIGluc3RhbmNlb2YgRGVzZ2luZXJWaWV3KSB7XG4gICAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuQ2xlYXJOb2RlKCk7XG4gICAgdGhpcy5HZXREYXRhTm9kZSgpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgdGhpcy5BZGROb2RlSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgICB0aGlzLkdldEFsbE5vZGUoKS5mb3JFYWNoKChpdGVtOiBOb2RlSXRlbSkgPT4ge1xuICAgICAgaXRlbS5SZW5kZXJMaW5lKCk7XG4gICAgfSlcbiAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gIH1cbiAgcHVibGljIE9wZW4oJGRhdGE6IERhdGFGbG93KSB7XG4gICAgaWYgKCRkYXRhID09IHRoaXMuZGF0YSkge1xuICAgICAgdGhpcy5SZW5kZXJVSSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRhdGE/LmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCAoZGV0YWlsOiBhbnkpID0+IHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIGRldGFpbCkpO1xuICAgIHRoaXMuZGF0YSA9ICRkYXRhO1xuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgKGRldGFpbDogYW55KSA9PiB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCBkZXRhaWwpKTtcbiAgICB0aGlzLiRsb2NrID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0R3JvdXBOYW1lID0gJyc7XG4gICAgdGhpcy5ncm91cERhdGEgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ncm91cCA9IFtdO1xuICAgIHRoaXMuUmVuZGVyVUkoKTtcbiAgICB0aGlzLmNoYW5nZUdyb3VwKCk7XG4gIH1cbiAgcHVibGljIENhbGNYKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxOb2RlPy5jbGllbnRXaWR0aCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHVibGljIENhbGNZKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudEhlaWdodCAvICh0aGlzLmVsTm9kZT8uY2xpZW50SGVpZ2h0ICogdGhpcy5nZXRab29tKCkpKTtcbiAgfVxuICBwdWJsaWMgR2V0QWxsTm9kZSgpOiBOb2RlSXRlbVtdIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlcyB8fCBbXTtcbiAgfVxuICBwdWJsaWMgR2V0Tm9kZUJ5SWQoaWQ6IHN0cmluZyk6IE5vZGVJdGVtIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5HZXRBbGxOb2RlKCkuZmlsdGVyKG5vZGUgPT4gbm9kZS5HZXRJZCgpID09IGlkKT8uWzBdO1xuICB9XG5cbiAgcHVibGljIEdldERhdGFCeUlkKGlkOiBzdHJpbmcpOiBEYXRhRmxvdyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLkdldERhdGFBbGxOb2RlKCkuZmlsdGVyKChpdGVtKSA9PiBpdGVtLkdldCgnaWQnKSA9PT0gaWQpPy5bMF07XG4gIH1cbiAgY2hlY2tPbmx5Tm9kZShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiAodGhpcy5tYWluLmdldENvbnRyb2xCeUtleShrZXkpLm9ubHlOb2RlKSAmJiB0aGlzLm5vZGVzLmZpbHRlcihpdGVtID0+IGl0ZW0uQ2hlY2tLZXkoa2V5KSkubGVuZ3RoID4gMDtcbiAgfVxuICBwdWJsaWMgem9vbV9yZWZyZXNoKGZsZzogYW55ID0gMCkge1xuICAgIGxldCB0ZW1wX3pvb20gPSBmbGcgPT0gMCA/IFpvb20uZGVmYXVsdCA6ICh0aGlzLmdldFpvb20oKSArIFpvb20udmFsdWUgKiBmbGcpO1xuICAgIGlmIChab29tLm1heCA+PSB0ZW1wX3pvb20gJiYgdGVtcF96b29tID49IFpvb20ubWluKSB7XG4gICAgICB0aGlzLnNldFgoKHRoaXMuZ2V0WCgpIC8gdGhpcy56b29tX2xhc3RfdmFsdWUpICogdGVtcF96b29tKTtcbiAgICAgIHRoaXMuc2V0WSgodGhpcy5nZXRZKCkgLyB0aGlzLnpvb21fbGFzdF92YWx1ZSkgKiB0ZW1wX3pvb20pO1xuICAgICAgdGhpcy56b29tX2xhc3RfdmFsdWUgPSB0ZW1wX3pvb207XG4gICAgICB0aGlzLnNldFpvb20odGhpcy56b29tX2xhc3RfdmFsdWUpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgem9vbV9pbigpIHtcbiAgICB0aGlzLnpvb21fcmVmcmVzaCgxKTtcbiAgfVxuICBwdWJsaWMgem9vbV9vdXQoKSB7XG4gICAgdGhpcy56b29tX3JlZnJlc2goLTEpO1xuICB9XG4gIHB1YmxpYyB6b29tX3Jlc2V0KCkge1xuICAgIHRoaXMuem9vbV9yZWZyZXNoKDApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhRmxvdywgRXZlbnRFbnVtLCBJTWFpbiwgU2NvcGVSb290IH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcblxuZXhwb3J0IGNsYXNzIFZhcmlhYmxlVmlldyB7XG4gIHByaXZhdGUgdmFyaWFibGVzOiBEYXRhRmxvd1tdIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXZhcmlhYmxlJyk7XG4gICAgdGhpcy5tYWluLm9uU2FmZShFdmVudEVudW0uY2hhbmdlVmFyaWFibGUsICh7IGRhdGEgfTogYW55KSA9PiB7XG4gICAgICB0aGlzLlJlbmRlcigpO1xuICAgIH0pO1xuICAgIHRoaXMubWFpbi5vblNhZmUoRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCAoKSA9PiB7XG4gICAgICB0aGlzLlJlbmRlcigpO1xuICAgIH0pO1xuICAgIHRoaXMubWFpbi5vblNhZmUoRXZlbnRFbnVtLmdyb3VwQ2hhbmdlLCAoKSA9PiB7XG4gICAgICB0aGlzLlJlbmRlcigpO1xuICAgIH0pXG4gICAgdGhpcy5SZW5kZXIoKTtcbiAgfVxuICBwdWJsaWMgUmVuZGVyKCkge1xuICAgIHRoaXMudmFyaWFibGVzID0gdGhpcy5tYWluLmdldFZhcmlhYmxlKCk7XG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYFxuICAgICAgPHRhYmxlIGJvcmRlcj1cIjFcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInZhcmlhYmxlLW5hbWVcIj5OYW1lPC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInZhcmlhYmxlLXR5cGVcIj5UeXBlPC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInZhcmlhYmxlLXNjb3BlXCI+U2NvcGU8L3RkPlxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidmFyaWFibGUtZGVmYXVsdFwiPkRlZmF1bHQ8L3RkPlxuICAgICAgICAgICAgPHRkIGNsYXNzPVwidmFyaWFibGUtYnV0dG9uXCI+PC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHk+XG4gICAgICAgIDwvdGJvZHk+XG4gICAgICA8L3RhYmxlPlxuICAgIGA7XG4gICAgaWYgKHRoaXMudmFyaWFibGVzKSB7XG4gICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMudmFyaWFibGVzKSB7XG4gICAgICAgIG5ldyBWYXJpYWJsZUl0ZW0oaXRlbSwgdGhpcykuUmVuZGVyU2NvcGUodGhpcy5tYWluLmdldEdyb3VwQ3VycmVudCgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmNsYXNzIFZhcmlhYmxlSXRlbSB7XG4gIHByaXZhdGUgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gIHByaXZhdGUgbmFtZUlucHV0OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIHByaXZhdGUgdHlwZUlucHV0OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICBwcml2YXRlIHNjb3BlSW5wdXQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VsZWN0Jyk7XG4gIHByaXZhdGUgdmFsdWVEZWZhdWx0SW5wdXQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgdmFyaWFibGU6IERhdGFGbG93LCBwcml2YXRlIHBhcmVudDogVmFyaWFibGVWaWV3KSB7XG4gICAgKHRoaXMubmFtZUlucHV0IGFzIGFueSkudmFsdWUgPSB0aGlzLnZhcmlhYmxlLkdldCgnbmFtZScpO1xuICAgICh0aGlzLnZhbHVlRGVmYXVsdElucHV0IGFzIGFueSkudmFsdWUgPSB0aGlzLnZhcmlhYmxlLkdldCgnaW5pdGFsVmFsdWUnKSA/PyAnJztcbiAgICAodGhpcy50eXBlSW5wdXQgYXMgYW55KS52YWx1ZSA9IHRoaXMudmFyaWFibGUuR2V0KCd0eXBlJykgPz8gJyc7XG4gICAgZm9yIChsZXQgaXRlbSBvZiBbJ3RleHQnLCAnbnVtYmVyJywgJ2RhdGUnLCAnb2JqZWN0J10pIHtcbiAgICAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgIG9wdGlvbi50ZXh0ID0gaXRlbTtcbiAgICAgIG9wdGlvbi52YWx1ZSA9IGl0ZW07XG4gICAgICB0aGlzLnR5cGVJbnB1dC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgIH1cbiAgICBsZXQgbmFtZUNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgbmFtZUNvbHVtbi5hcHBlbmRDaGlsZCh0aGlzLm5hbWVJbnB1dCk7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQobmFtZUNvbHVtbik7XG4gICAgdGhpcy5uYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlOiBhbnkpID0+IHtcbiAgICAgIHRoaXMudmFyaWFibGUuU2V0KCduYW1lJywgZS50YXJnZXQudmFsdWUpO1xuICAgIH0pO1xuICAgIHRoaXMubmFtZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlOiBhbnkpID0+IHtcbiAgICAgIHRoaXMudmFyaWFibGUuU2V0KCduYW1lJywgZS50YXJnZXQudmFsdWUpO1xuICAgIH0pO1xuXG4gICAgbGV0IHR5cGVDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHR5cGVDb2x1bW4uYXBwZW5kQ2hpbGQodGhpcy50eXBlSW5wdXQpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHR5cGVDb2x1bW4pO1xuICAgIHRoaXMudHlwZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlOiBhbnkpID0+IHtcbiAgICAgIHRoaXMudmFyaWFibGUuU2V0KCd0eXBlJywgZS50YXJnZXQudmFsdWUpO1xuICAgIH0pO1xuICAgIGxldCBzY29wZUNvbHVtbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gICAgc2NvcGVDb2x1bW4uYXBwZW5kQ2hpbGQodGhpcy5zY29wZUlucHV0KTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChzY29wZUNvbHVtbik7XG5cblxuICAgIGxldCB2YWx1ZURlZmF1bHRDb2x1bW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgIHZhbHVlRGVmYXVsdENvbHVtbi5hcHBlbmRDaGlsZCh0aGlzLnZhbHVlRGVmYXVsdElucHV0KTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh2YWx1ZURlZmF1bHRDb2x1bW4pO1xuICAgIHRoaXMudmFsdWVEZWZhdWx0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGU6IGFueSkgPT4ge1xuICAgICAgdGhpcy52YXJpYWJsZS5TZXQoJ2luaXRhbFZhbHVlJywgZS50YXJnZXQudmFsdWUpO1xuICAgIH0pO1xuICAgIHRoaXMudmFsdWVEZWZhdWx0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlOiBhbnkpID0+IHtcbiAgICAgIHRoaXMudmFyaWFibGUuU2V0KCdpbml0YWxWYWx1ZScsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9KTtcblxuICAgIGxldCBidXR0b25SZW1vdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidXR0b25SZW1vdmUuaW5uZXJIVE1MID0gYC1gO1xuICAgIGJ1dHRvblJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHBhcmVudC5tYWluLnJlbW92ZVZhcmlhYmxlKHZhcmlhYmxlKTtcbiAgICB9KTtcbiAgICBsZXQgYnV0dG9uUmVtb3ZlQ29sdW1uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgICBidXR0b25SZW1vdmVDb2x1bW4uYXBwZW5kQ2hpbGQoYnV0dG9uUmVtb3ZlKTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChidXR0b25SZW1vdmVDb2x1bW4pO1xuXG4gICAgcGFyZW50LmVsTm9kZS5xdWVyeVNlbGVjdG9yKCd0YWJsZSB0Ym9keScpPy5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XG5cbiAgfVxuICBSZW5kZXJTY29wZShncm91cDogYW55ID0gbnVsbCkge1xuICAgIHRoaXMuc2NvcGVJbnB1dC5pbm5lckhUTUwgPSAnJztcbiAgICBpZiAoZ3JvdXApIHtcbiAgICAgIGZvciAobGV0IGl0ZW0gb2YgZ3JvdXApIHtcbiAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udGV4dCA9IGl0ZW0udGV4dDtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcbiAgICAgICAgdGhpcy5zY29wZUlucHV0LnByZXBlbmQob3B0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgKHRoaXMuc2NvcGVJbnB1dCBhcyBhbnkpLnZhbHVlID0gdGhpcy52YXJpYWJsZS5HZXQoJ3Njb3BlJyk7XG4gICAgdGhpcy5zY29wZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlOiBhbnkpID0+IHtcbiAgICAgIHRoaXMudmFyaWFibGUuU2V0KCdzY29wZScsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuXG5leHBvcnQgY2xhc3MgVG9vbGJveFZpZXcge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXRvb2xib3gnKTtcbiAgICB0aGlzLlJlbmRlcigpO1xuICB9XG4gIHB1YmxpYyBSZW5kZXIoKSB7XG4gICAgbGV0IGNvbnRyb2xzID0gdGhpcy5tYWluLmdldENvbnRyb2xBbGwoKTtcbiAgICBsZXQgZ3JvdXA6IGFueSA9IHt9O1xuXG4gICAgT2JqZWN0LmtleXMoY29udHJvbHMpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgbGV0IGdyb3VwTmFtZSA9IGNvbnRyb2xzW2l0ZW1dLmdyb3VwID8/IFwib3RoZXJcIjtcbiAgICAgIGlmIChncm91cFtncm91cE5hbWVdID09PSB1bmRlZmluZWQpIGdyb3VwW2dyb3VwTmFtZV0gPSBbXTtcbiAgICAgIGdyb3VwW2dyb3VwTmFtZV0gPSBbXG4gICAgICAgIC4uLmdyb3VwW2dyb3VwTmFtZV0sXG4gICAgICAgIGNvbnRyb2xzW2l0ZW1dXG4gICAgICBdO1xuICAgIH0pO1xuICAgIE9iamVjdC5rZXlzKGdyb3VwKS5mb3JFYWNoKChpdGVtOiBhbnksIGluZGV4KSA9PiB7XG4gICAgICBsZXQgaXRlbUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaXRlbUJveC5jbGFzc0xpc3QuYWRkKCdub2RlLWJveCcpO1xuICAgICAgaXRlbUJveC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGl0ZW1Cb3guaW5uZXJIVE1MID0gYFxuICAgICAgICA8cCBjbGFzcz1cIm5vZGUtYm94X3RpdGxlXCI+JHtpdGVtfTwvcD5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtYm94X2JvYnlcIj48L2Rpdj5cbiAgICAgIGA7XG4gICAgICBpdGVtQm94LnF1ZXJ5U2VsZWN0b3IoJy5ub2RlLWJveF90aXRsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgaWYgKGl0ZW1Cb3guY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgICAgIGl0ZW1Cb3guY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtQm94LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9yIChsZXQgX2l0ZW0gb2YgZ3JvdXBbaXRlbV0pIHtcbiAgICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ25vZGUtaXRlbScpO1xuICAgICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJywgX2l0ZW0ua2V5KTtcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7X2l0ZW0uaWNvbn0gPHNwYW4+JHtfaXRlbS5uYW1lfTwvc3BhbmA7XG4gICAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuZHJhZ1N0YXJ0LmJpbmQodGhpcykpXG4gICAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCB0aGlzLmRyYWdlbmQuYmluZCh0aGlzKSlcbiAgICAgICAgaXRlbUJveC5xdWVyeVNlbGVjdG9yKCcubm9kZS1ib3hfYm9ieScpPy5hcHBlbmRDaGlsZChub2RlSXRlbSk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChpdGVtQm94KTtcbiAgICB9KTtcbiAgfVxuICBwcml2YXRlIGRyYWdlbmQoZTogYW55KSB7XG4gICAgdGhpcy5tYWluLnNldENvbnRyb2xDaG9vc2UobnVsbCk7XG4gIH1cblxuICBwcml2YXRlIGRyYWdTdGFydChlOiBhbnkpIHtcbiAgICBsZXQga2V5ID0gZS50YXJnZXQuY2xvc2VzdChcIi5ub2RlLWl0ZW1cIikuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnKTtcbiAgICB0aGlzLm1haW4uc2V0Q29udHJvbENob29zZShrZXkpO1xuICAgIGlmIChlLnR5cGUgIT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwibm9kZVwiLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRXZlbnRFbnVtLCBJTWFpbiwgRGF0YUZsb3cgfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuXG5leHBvcnQgY2xhc3MgUHJvamVjdFZpZXcge1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXByb2plY3QnKTtcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLmNoYW5nZVZhcmlhYmxlLCB0aGlzLlJlbmRlci5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCB0aGlzLlJlbmRlci5iaW5kKHRoaXMpKTtcbiAgfVxuICBwdWJsaWMgUmVuZGVyKCkge1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGBgO1xuICAgIGxldCBwcm9qZWN0cyA9IHRoaXMubWFpbi5nZXRQcm9qZWN0QWxsKCk7XG4gICAgcHJvamVjdHMuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcbiAgICAgIGxldCBub2RlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnbm9kZS1pdGVtJyk7XG4gICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XG4gICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGl0ZW0uR2V0KCdpZCcpKTtcbiAgICAgIGl0ZW0ub25TYWZlKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV9uYW1lYCwgKCkgPT4ge1xuICAgICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XG4gICAgICB9KTtcbiAgICAgIGlmICh0aGlzLm1haW4uY2hlY2tQcm9qZWN0T3BlbihpdGVtKSkge1xuICAgICAgICBub2RlSXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB0aGlzLm1haW4uc2V0UHJvamVjdE9wZW4oaXRlbSk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZWxOb2RlPy5hcHBlbmRDaGlsZChub2RlSXRlbSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0lGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBUYWJQcm9qZWN0VmlldyB7XG4gIHByaXZhdGUgJGVsQm9ieTogRWxlbWVudCB8IHVuZGVmaW5lZCB8IG51bGw7XG4gIHByaXZhdGUgJGVsV2FycDogRWxlbWVudCB8IHVuZGVmaW5lZCB8IG51bGw7XG4gIHByaXZhdGUgJGJ0bk5leHQ6IEVsZW1lbnQgfCB1bmRlZmluZWQgfCBudWxsO1xuICBwcml2YXRlICRidG5CYWNrOiBFbGVtZW50IHwgdW5kZWZpbmVkIHwgbnVsbDtcbiAgcHJpdmF0ZSAkYnRuQWRkOiBFbGVtZW50IHwgdW5kZWZpbmVkIHwgbnVsbDtcbiAgcHJpdmF0ZSAkYnRuWm9vbUluOiBFbGVtZW50IHwgdW5kZWZpbmVkIHwgbnVsbDtcbiAgcHJpdmF0ZSAkYnRuWm9vbU91dDogRWxlbWVudCB8IHVuZGVmaW5lZCB8IG51bGw7XG4gIHByaXZhdGUgJGJ0blpvb21SZXNldDogRWxlbWVudCB8IHVuZGVmaW5lZCB8IG51bGw7XG4gIHByaXZhdGUgJGJ0blJ1blByb2plY3Q6IEVsZW1lbnQgfCB1bmRlZmluZWQgfCBudWxsO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXRhYi1wcm9qZWN0Jyk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgdGhpcy5SZW5kZXIuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5SZW5kZXIoKTtcbiAgfVxuICBwdWJsaWMgUmVuZGVyKCkge1xuICAgIGxldCBzY3JvbGxMZWZ0Q2FjaGUgPSB0aGlzLiRlbFdhcnA/LnNjcm9sbExlZnQgPz8gMDtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cInRhYi1wcm9qZWN0X19zZWFyY2hcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidGFiLXByb2plY3RfX2xpc3RcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWItcHJvamVjdF9idXR0b25cIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1iYWNrXCI+PGkgY2xhc3M9XCJmYXMgZmEtYW5nbGUtbGVmdFwiPjwvaT48L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInRhYi1wcm9qZWN0X3dhcnBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1wcm9qZWN0X19ib2R5XCI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGFiLXByb2plY3RfYnV0dG9uXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tbmV4dFwiPjxpIGNsYXNzPVwiZmFzIGZhLWFuZ2xlLXJpZ2h0XCI+PC9pPjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGFiLXByb2plY3RfYnV0dG9uXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tYWRkXCI+PGkgY2xhc3M9XCJmYXMgZmEtcGx1c1wiPjwvaT48L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInRhYi1wcm9qZWN0X2J1dHRvblwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXJ1bi1wcm9qZWN0XCI+PGkgY2xhc3M9XCJmYXMgZmEtcGxheVwiPjwvaT4gUnVuPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWItcHJvamVjdF9idXR0b25cIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi16b29tLWluXCI+PGkgY2xhc3M9XCJmYXMgZmEtc2VhcmNoLXBsdXNcIj48L2k+PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWItcHJvamVjdF9idXR0b25cIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi16b29tLW91dFwiPjxpIGNsYXNzPVwiZmFzIGZhLXNlYXJjaC1taW51c1wiPjwvaT48L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInRhYi1wcm9qZWN0X2J1dHRvblwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXpvb20tcmVzZXRcIj48aSBjbGFzcz1cImZhcyBmYS1yZWRvXCI+PC9pPjwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYDtcbiAgICB0aGlzLiRlbFdhcnAgPSB0aGlzLmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcudGFiLXByb2plY3Rfd2FycCcpO1xuICAgIHRoaXMuJGVsQm9ieSA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy50YWItcHJvamVjdF9fYm9keScpO1xuICAgIHRoaXMuJGJ0bkJhY2sgPSB0aGlzLmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcuYnRuLWJhY2snKTtcbiAgICB0aGlzLiRidG5OZXh0ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bi1uZXh0Jyk7XG4gICAgdGhpcy4kYnRuQWRkID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bi1hZGQnKTtcbiAgICB0aGlzLiRidG5ab29tSW4gPSB0aGlzLmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcuYnRuLXpvb20taW4nKTtcbiAgICB0aGlzLiRidG5ab29tT3V0ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bi16b29tLW91dCcpO1xuICAgIHRoaXMuJGJ0blpvb21SZXNldCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5idG4tem9vbS1yZXNldCcpO1xuICAgIHRoaXMuJGJ0blJ1blByb2plY3QgPSB0aGlzLmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcuYnRuLXJ1bi1wcm9qZWN0Jyk7XG4gICAgY29uc3QgZm5VcGRhdGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy4kZWxXYXJwKSB7XG4gICAgICAgIC8vIGxldCBzY3JvbGxMZWZ0ID0gdGhpcy4kZWxXYXJwLnNjcm9sbExlZnQ7XG4gICAgICAgIC8vIHZhciBtYXhTY3JvbGxMZWZ0ID0gdGhpcy4kZWxXYXJwLnNjcm9sbFdpZHRoIC0gdGhpcy4kZWxXYXJwLmNsaWVudFdpZHRoO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhzY3JvbGxMZWZ0KTtcbiAgICAgICAgLy8gaWYgKHRoaXMuJGJ0bkJhY2sgJiYgc2Nyb2xsTGVmdCA8PSAwKSB7XG4gICAgICAgIC8vICAgdGhpcy4kYnRuQmFjay5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYGRpc3BsYXk6bm9uZTtgKVxuICAgICAgICAvLyB9IGVsc2UgaWYgKHRoaXMuJGJ0bkJhY2sgJiYgc2Nyb2xsTGVmdCA+IDApIHtcbiAgICAgICAgLy8gICB0aGlzLiRidG5CYWNrLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBpZiAodGhpcy4kYnRuTmV4dCAmJiBzY3JvbGxMZWZ0ID49IG1heFNjcm9sbExlZnQpIHtcbiAgICAgICAgLy8gICB0aGlzLiRidG5OZXh0LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgZGlzcGxheTpub25lO2ApXG4gICAgICAgIC8vIH0gZWxzZSBpZiAodGhpcy4kYnRuTmV4dCAmJiBzY3JvbGxMZWZ0IDw9IDApIHtcbiAgICAgICAgLy8gICB0aGlzLiRidG5OZXh0LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgLy8gfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLiRlbFdhcnA/LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZXZlbnQgPT4ge1xuICAgICAgZm5VcGRhdGVTY3JvbGwoKTtcbiAgICB9LCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gICAgZm5VcGRhdGVTY3JvbGwoKTtcbiAgICB0aGlzLiRidG5CYWNrPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLiRlbFdhcnApIHtcbiAgICAgICAgdGhpcy4kZWxXYXJwLnNjcm9sbExlZnQgLT0gMTAwO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuJGJ0bk5leHQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuJGVsV2FycCkge1xuICAgICAgICB0aGlzLiRlbFdhcnAuc2Nyb2xsTGVmdCArPSAxMDA7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy4kYnRuQWRkPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMubWFpbi5uZXdQcm9qZWN0KFwiXCIpO1xuICAgIH0pO1xuICAgIHRoaXMuJGJ0blpvb21Jbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLm1haW4uZGlzcGF0Y2goRXZlbnRFbnVtLnpvb20sIHsgem9vbTogLTEgfSk7XG4gICAgfSk7XG4gICAgdGhpcy4kYnRuWm9vbU91dD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLm1haW4uZGlzcGF0Y2goRXZlbnRFbnVtLnpvb20sIHsgem9vbTogMSB9KTtcbiAgICB9KTtcbiAgICB0aGlzLiRidG5ab29tUmVzZXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS56b29tLCB7IHpvb206IDAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5zdGF0dXNCb3QsIChmbGc6IGFueSkgPT4ge1xuICAgICAgaWYgKHRoaXMuJGJ0blJ1blByb2plY3QpIHtcbiAgICAgICAgaWYgKGZsZykge1xuICAgICAgICAgIHRoaXMuJGJ0blJ1blByb2plY3QuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFzIGZhLXN0b3BcIj48L2k+IFN0b3BgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuJGJ0blJ1blByb2plY3QuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFzIGZhLXBsYXlcIj48L2k+IFJ1bmA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLiRidG5SdW5Qcm9qZWN0Py5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLm1haW4ucnVubmluZygpKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzdG9wJyk7XG4gICAgICAgIHRoaXMubWFpbi5zdG9wUHJvamVjdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ3J1bicpO1xuICAgICAgICB0aGlzLm1haW4ucnVuUHJvamVjdCgpO1xuICAgICAgfVxuICAgIH0pXG4gICAgbGV0IHByb2plY3RzID0gdGhpcy5tYWluLmdldFByb2plY3RBbGwoKTtcbiAgICBsZXQgaXRlbUFjdGl2ZTogYW55ID0gdW5kZWZpbmVkO1xuICAgIGZvciAobGV0IHByb2plY3Qgb2YgcHJvamVjdHMpIHtcbiAgICAgIGxldCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbGV0IHByb2plY3ROYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgbGV0IHByb2plY3RCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGxldCBwcm9qZWN0QnV0dG9uUmVtb3ZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBwcm9qZWN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIHByb2plY3QuR2V0KCdpZCcpKTtcbiAgICAgIHByb2plY3ROYW1lLmlubmVySFRNTCA9IHByb2plY3QuR2V0KCduYW1lJyk7XG4gICAgICBwcm9qZWN0TmFtZS5jbGFzc0xpc3QuYWRkKCdwcm8tbmFtZScpO1xuICAgICAgcHJvamVjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwcm8tYnV0dG9uJyk7XG4gICAgICBwcm9qZWN0QnV0dG9uUmVtb3ZlLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhcyBmYS1taW51c1wiPjwvaT5gO1xuICAgICAgcHJvamVjdEJ1dHRvbi5hcHBlbmRDaGlsZChwcm9qZWN0QnV0dG9uUmVtb3ZlKTtcbiAgICAgIHByb2plY3RJdGVtLmFwcGVuZENoaWxkKHByb2plY3ROYW1lKTtcbiAgICAgIHByb2plY3RJdGVtLmFwcGVuZENoaWxkKHByb2plY3RCdXR0b24pO1xuXG4gICAgICBwcm9qZWN0SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0LWl0ZW0nKTtcbiAgICAgIGlmICh0aGlzLm1haW4uY2hlY2tQcm9qZWN0T3Blbihwcm9qZWN0KSkge1xuICAgICAgICBwcm9qZWN0SXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgaXRlbUFjdGl2ZSA9IHByb2plY3RJdGVtO1xuICAgICAgfVxuICAgICAgcHJvamVjdEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoIXByb2plY3RCdXR0b25SZW1vdmUuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkgJiYgZS50YXJnZXQgIT0gcHJvamVjdEJ1dHRvblJlbW92ZSkge1xuICAgICAgICAgIHRoaXMubWFpbi5zZXRQcm9qZWN0T3Blbihwcm9qZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBwcm9qZWN0QnV0dG9uUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgdGhpcy5tYWluLnJlbW92ZVByb2plY3QocHJvamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuJGVsQm9ieT8uYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuICAgICAgcHJvamVjdC5vblNhZmUoRXZlbnRFbnVtLmRhdGFDaGFuZ2UgKyAnX25hbWUnLCAoKSA9PiB7XG4gICAgICAgIHByb2plY3ROYW1lLmlubmVySFRNTCA9IHByb2plY3QuR2V0KCduYW1lJyk7XG4gICAgICB9KVxuICAgIH1cbiAgICBpZiAodGhpcy4kZWxXYXJwKSB7XG4gICAgICBpZiAoaXRlbUFjdGl2ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy4kZWxXYXJwLnNjcm9sbExlZnQgPSBpdGVtQWN0aXZlLm9mZnNldExlZnQgLSAyMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuJGVsV2FycC5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdENhY2hlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRXZlbnRFbnVtLCBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5cbmV4cG9ydCBjbGFzcyBCcmVhZGNydW1iR3JvdXBWaWV3IHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBlbE5vZGU6IEhUTUxFbGVtZW50LCBwdWJsaWMgbWFpbjogSU1haW4pIHtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1icmVhZGNydW1iLWdyb3VwJyk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5ncm91cENoYW5nZSwgKHsgZ3JvdXAgfTogYW55KSA9PiB7XG4gICAgICB0aGlzLnJlbmRlcihncm91cClcbiAgICB9KTtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnJztcbiAgfVxuICBwdWJsaWMgcmVuZGVyKGdyb3VwOiBhbnkpIHtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICBpZiAoIXRoaXMuZWxOb2RlIHx8ICFncm91cCkgcmV0dXJuO1xuXG5cbiAgICBsZXQgZWxVTCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gICAgbGV0IGlzRmlyc3QgPSB0cnVlO1xuICAgIGdyb3VwLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgaWYgKCFpc0ZpcnN0KSB7XG4gICAgICAgIGxldCBlbExJMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICAgIGVsTEkyLmlubmVySFRNTCA9IFwiPlwiO1xuICAgICAgICBlbFVMLnByZXBlbmQoZWxMSTIpO1xuICAgICAgfVxuICAgICAgbGV0IGVsTEkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgZWxMSS5pbm5lckhUTUwgPSBpdGVtLnRleHQ7XG4gICAgICBlbExJLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5zZXRHcm91cElkKGl0ZW0uaWQpKTtcbiAgICAgIGVsTEkuY2xhc3NMaXN0LmFkZCgnZ3JvdXAtaXRlbScpO1xuICAgICAgZWxVTC5wcmVwZW5kKGVsTEkpO1xuICAgICAgaXNGaXJzdCA9IGZhbHNlO1xuICAgIH0pO1xuICAgIGxldCBlbFdhcnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbFdhcnAuY2xhc3NMaXN0LmFkZCgnZ3JvdXAtd2FycCcpO1xuICAgIGxldCBlbEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbEJvZHkuY2xhc3NMaXN0LmFkZCgnZ3JvdXAtYm9keScpO1xuICAgIGVsV2FycC5hcHBlbmRDaGlsZChlbEJvZHkpO1xuICAgIGVsQm9keS5hcHBlbmRDaGlsZChlbFVMKTtcblxuICAgIGlmIChncm91cC5sZW5ndGggPiAxKSB7XG4gICAgICBsZXQgZWxCdXR0dW5EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGVsQnV0dHVuRGl2LmNsYXNzTGlzdC5hZGQoJ2dyb3VwLWJ1dHRvbicpO1xuICAgICAgZWxCdXR0dW5EaXYuaW5uZXJIVE1MID0gYDxidXR0b24+PGkgY2xhc3M9XCJmYXMgZmEtcmVkb1wiPjwvaT48L2J1dHRvbj5gO1xuICAgICAgZWxCdXR0dW5EaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNldEdyb3VwSWQoZ3JvdXBbMV0uaWQpKTtcbiAgICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKGVsQnV0dHVuRGl2KTtcbiAgICB9XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQoZWxXYXJwKTtcbiAgfVxuICBwcml2YXRlIHNldEdyb3VwSWQoZ3JvdXBJZDogYW55KSB7XG4gICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS5zZXRHcm91cCwgeyBncm91cElkIH0pO1xuICB9XG59XG4iLCJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBEYXRhVmlldyB9IGZyb20gXCIuLi9jb3JlL0RhdGFWaWV3XCI7XG5pbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0lGbG93XCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eVZpZXcge1xuICBwcml2YXRlIGxhc3REYXRhOiBEYXRhRmxvdyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBoaWRlS2V5czogc3RyaW5nW10gPSBbJ2xpbmVzJywgJ25vZGVzJywgJ2dyb3VwcycsICd2YXJpYWJsZScsICd4JywgJ3knLCAnem9vbSddO1xuICBwcml2YXRlIHNvcnRLZXlzOiBzdHJpbmdbXSA9IFsnaWQnLCAna2V5JywgJ25hbWUnLCAnZ3JvdXAnXTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBlbE5vZGU6IEhUTUxFbGVtZW50LCBwdWJsaWMgbWFpbjogSU1haW4pIHtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1wcm9wZXJ0eS12aWV3Jyk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkZXRhaWw6IGFueSkgPT4ge1xuICAgICAgdGhpcy5SZW5kZXIoZGV0YWlsLmRhdGEpO1xuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBSZW5kZXIoZGF0YTogRGF0YUZsb3cpIHtcbiAgICBpZiAodGhpcy5sYXN0RGF0YSA9PSBkYXRhKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubGFzdERhdGEgPSBkYXRhO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICcnO1xuICAgIGxldCBwcm9wZXJ0aWVzOiBhbnkgPSBkYXRhLmdldFByb3BlcnRpZXMoKTtcbiAgICB0aGlzLnNvcnRLZXlzLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAodGhpcy5oaWRlS2V5cy5pbmNsdWRlcyhrZXkpIHx8ICFwcm9wZXJ0aWVzW2tleV0gfHwgcHJvcGVydGllc1trZXldLmhpZGUpIHJldHVybjtcbiAgICAgIGxldCBwcm9wZXJ0eUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS1pdGVtJyk7XG4gICAgICBsZXQgcHJvcGVydHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvcGVydHlMYWJlbC5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS1sYWJlbCcpO1xuICAgICAgcHJvcGVydHlMYWJlbC5pbm5lckhUTUwgPSBwcm9wZXJ0aWVzW2tleV0udGV4dCA/PyBrZXk7XG4gICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvcGVydHlWYWx1ZS5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS12YWx1ZScpO1xuICAgICAgRGF0YVZpZXcuQmluZEVsZW1lbnQocHJvcGVydHlWYWx1ZSwgZGF0YSwgdGhpcy5tYWluLCBrZXkpO1xuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5TGFiZWwpO1xuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5VmFsdWUpO1xuICAgICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQocHJvcGVydHlJdGVtKTtcbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHRoaXMuaGlkZUtleXMuaW5jbHVkZXMoa2V5KSB8fCB0aGlzLnNvcnRLZXlzLmluY2x1ZGVzKGtleSkgfHwgIXByb3BlcnRpZXNba2V5XSB8fCBwcm9wZXJ0aWVzW2tleV0uaGlkZSkgcmV0dXJuO1xuICAgICAgbGV0IHByb3BlcnR5SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvcGVydHlJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb3BlcnR5LWl0ZW0nKTtcbiAgICAgIGxldCBwcm9wZXJ0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwcm9wZXJ0eUxhYmVsLmNsYXNzTGlzdC5hZGQoJ3Byb3BlcnR5LWxhYmVsJyk7XG4gICAgICBwcm9wZXJ0eUxhYmVsLmlubmVySFRNTCA9IHByb3BlcnRpZXNba2V5XS50ZXh0ID8/IGtleTtcbiAgICAgIGxldCBwcm9wZXJ0eVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwcm9wZXJ0eVZhbHVlLmNsYXNzTGlzdC5hZGQoJ3Byb3BlcnR5LXZhbHVlJyk7XG4gICAgICBEYXRhVmlldy5CaW5kRWxlbWVudChwcm9wZXJ0eVZhbHVlLCBkYXRhLCB0aGlzLm1haW4sIGtleSk7XG4gICAgICBwcm9wZXJ0eUl0ZW0uYXBwZW5kQ2hpbGQocHJvcGVydHlMYWJlbCk7XG4gICAgICBwcm9wZXJ0eUl0ZW0uYXBwZW5kQ2hpbGQocHJvcGVydHlWYWx1ZSk7XG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChwcm9wZXJ0eUl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5cbmV4cG9ydCBjbGFzcyBEb2NrQmFzZSB7XG4gIHB1YmxpYyBlbE5vZGU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHByb3RlY3RlZCBlbENvbnRlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQgfCBudWxsO1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnRG9ja0Jhc2UnO1xuICB9XG5cbiAgcHVibGljIEJveEluZm8odGl0bGU6IHN0cmluZywgJGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QucmVtb3ZlKCd2cy1ib3hpbmZvJyk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtYm94aW5mbycpO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwidnMtYm94aW5mb19oZWFkZXJcIj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fdGl0bGVcIj4ke3RpdGxlfTwvc3Bhbj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fYnV0dG9uXCI+PC9zcGFuPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ2cy1ib3hpbmZvX3dhcnBcIj48ZGl2IGNsYXNzPVwidnMtYm94aW5mb19jb250ZW50XCI+PC9kaXY+PC9kaXY+YDtcbiAgICB0aGlzLmVsQ29udGVudCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2NvbnRlbnQnKTtcbiAgICBpZiAoJGNhbGxiYWNrKSB7XG4gICAgICAkY2FsbGJhY2sodGhpcy5lbENvbnRlbnQpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHsgVG9vbGJveFZpZXcgfSBmcm9tIFwiLi4vZGVzZ2luZXIvaW5kZXhcIjtcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIENvbnRyb2xEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1jb250cm9sJyk7XG4gICAgdGhpcy5Cb3hJbmZvKCdDb250cm9sJywgKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBuZXcgVG9vbGJveFZpZXcobm9kZSwgdGhpcy5tYWluKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4sIGdldFRpbWUgfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHsgVmFyaWFibGVWaWV3IH0gZnJvbSBcIi4uL2Rlc2dpbmVyL2luZGV4XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBWYXJpYWJsZURvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXZhcmlhYmxlJyk7XG4gICAgdGhpcy5Cb3hJbmZvKCdWYXJpYWJsZScsIChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgbmV3IFZhcmlhYmxlVmlldyhub2RlLCBtYWluKTtcbiAgICB9KTtcbiAgICBsZXQgJG5vZGVSaWdodDogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLnZzLWJveGluZm9faGVhZGVyIC52cy1ib3hpbmZvX2J1dHRvbicpO1xuICAgIGlmICgkbm9kZVJpZ2h0KSB7XG4gICAgICAkbm9kZVJpZ2h0LmlubmVySFRNTCA9IGBgO1xuICAgICAgbGV0IGJ1dHRvbk5ldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgJG5vZGVSaWdodD8uYXBwZW5kQ2hpbGQoYnV0dG9uTmV3KTtcbiAgICAgIGJ1dHRvbk5ldy5pbm5lckhUTUwgPSBgTmV3IFZhcmlhYmxlYDtcbiAgICAgIGJ1dHRvbk5ldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5tYWluLm5ld1ZhcmlhYmxlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhVmlldywgRGF0YUZsb3csIEV2ZW50RW51bSwgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHsgUHJvcGVydHlWaWV3IH0gZnJvbSBcIi4uL2Rlc2dpbmVyL1Byb3BlcnR5Vmlld1wiO1xuaW1wb3J0IHsgRG9ja0Jhc2UgfSBmcm9tIFwiLi9Eb2NrQmFzZVwiO1xuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1wcm9wZXJ0eScpO1xuICAgIHRoaXMuQm94SW5mbygnUHJvcGVydHknLCAobm9kZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgIG5ldyBQcm9wZXJ0eVZpZXcobm9kZSwgbWFpbik7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEV2ZW50RW51bSwgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4uL2Rlc2dpbmVyL2luZGV4XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3RG9jayBleHRlbmRzIERvY2tCYXNlIHtcbiAgcHJpdmF0ZSB2aWV3OiBEZXNnaW5lclZpZXcgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xuXG4gICAgdGhpcy52aWV3ID0gbmV3IERlc2dpbmVyVmlldyh0aGlzLmVsTm9kZSwgbWFpbik7XG5cbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4sIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IFRhYlByb2plY3RWaWV3IH0gZnJvbSBcIi4uL2Rlc2dpbmVyL2luZGV4XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBUYWJEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcbiAgICBuZXcgVGFiUHJvamVjdFZpZXcodGhpcy5lbE5vZGUsIG1haW4pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJTWFpbiwgZ2V0VGltZSB9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5pbXBvcnQgeyBCcmVhZGNydW1iR3JvdXBWaWV3IH0gZnJvbSBcIi4uL2Rlc2dpbmVyL2luZGV4XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBCcmVhZGNydW1iR3JvdXBEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcbiAgICBuZXcgQnJlYWRjcnVtYkdyb3VwVmlldyh0aGlzLmVsTm9kZSwgbWFpbik7XG4gIH1cbn1cbiIsImltcG9ydCB7IElNYWluLCBEb2NrRW51bSB9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5pbXBvcnQgeyBDb250cm9sRG9jayB9IGZyb20gXCIuL0NvbnRyb2xEb2NrXCI7XG5pbXBvcnQgeyBWYXJpYWJsZURvY2sgfSBmcm9tIFwiLi9WYXJpYWJsZURvY2tcIjtcbmltcG9ydCB7IFByb2plY3REb2NrIH0gZnJvbSBcIi4vUHJvamVjdERvY2tcIjtcbmltcG9ydCB7IFByb3BlcnR5RG9jayB9IGZyb20gXCIuL1Byb3BlcnR5RG9ja1wiO1xuaW1wb3J0IHsgVmlld0RvY2sgfSBmcm9tIFwiLi9WaWV3RG9ja1wiO1xuaW1wb3J0IHsgVGFiRG9jayB9IGZyb20gXCIuL1RhYkRvY2tcIjtcbmltcG9ydCB7IEJyZWFkY3J1bWJHcm91cERvY2sgfSBmcm9tIFwiLi9CcmVhZGNydW1iR3JvdXBEb2NrXCI7XG5cbmV4cG9ydCBjbGFzcyBEb2NrTWFuYWdlciB7XG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBhbnkgPSB7fTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7IH1cbiAgcHVibGljIHJlc2V0KCkge1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyID0ge307XG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLmxlZnQsIENvbnRyb2xEb2NrKTtcbiAgICAvL3RoaXMuYWRkRG9jayhEb2NrRW51bS5sZWZ0LCBQcm9qZWN0RG9jayk7XG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLnJpZ2h0LCBQcm9wZXJ0eURvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS50b3AsIFRhYkRvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5ib3R0b20sIEJyZWFkY3J1bWJHcm91cERvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5ib3R0b20sIFZhcmlhYmxlRG9jayk7XG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLnZpZXcsIFZpZXdEb2NrKTtcblxuICAgIHRoaXMuUmVuZGVyVUkoKTtcbiAgfVxuICBwdWJsaWMgYWRkRG9jaygka2V5OiBzdHJpbmcsICR2aWV3OiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldKVxuICAgICAgdGhpcy4kZG9ja01hbmFnZXJbJGtleV0gPSBbXTtcbiAgICB0aGlzLiRkb2NrTWFuYWdlclska2V5XSA9IFsuLi50aGlzLiRkb2NrTWFuYWdlclska2V5XSwgJHZpZXddO1xuICB9XG5cbiAgcHVibGljIFJlbmRlclVJKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1sZWZ0IHZzLWRvY2tcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy10b3AgdnMtZG9ja1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidnMtdmlldyB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy1ib3R0b20gdnMtZG9ja1wiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidnMtcmlnaHQgdnMtZG9ja1wiPjwvZGl2PlxuICAgIGA7XG4gICAgT2JqZWN0LmtleXModGhpcy4kZG9ja01hbmFnZXIpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBsZXQgcXVlcnlTZWxlY3RvciA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke2tleX1gKTtcbiAgICAgIGlmIChxdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuJGRvY2tNYW5hZ2VyW2tleV0uZm9yRWFjaCgoJGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgIG5ldyAkaXRlbShxdWVyeVNlbGVjdG9yLCB0aGlzLm1haW4pO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgQ29udHJvbCA9IHtcbiAgbm9kZV9iZWdpbjoge1xuICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1wbGF5XCI+PC9pPicsXG4gICAgc29ydDogMCxcbiAgICBuYW1lOiAnQmVnaW4nLFxuICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICBjbGFzczogJycsXG4gICAgaHRtbDogJycsXG4gICAgZG90OiB7XG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMSxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgfSxcbiAgICBvbmx5Tm9kZTogdHJ1ZVxuICB9LFxuICBub2RlX2VuZDoge1xuICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1zdG9wXCI+PC9pPicsXG4gICAgc29ydDogMCxcbiAgICBuYW1lOiAnRW5kJyxcbiAgICBncm91cDogJ2NvbW1vbicsXG4gICAgaHRtbDogJycsXG4gICAgZG90OiB7XG4gICAgICBsZWZ0OiAxLFxuICAgICAgdG9wOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgfSxcbiAgICBvbmx5Tm9kZTogdHJ1ZVxuICB9LFxuICBub2RlX2lmOiB7XG4gICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWVxdWFsc1wiPjwvaT4nLFxuICAgIHNvcnQ6IDAsXG4gICAgbmFtZTogJ0lmJyxcbiAgICBncm91cDogJ2NvbW1vbicsXG4gICAgY2xhc3M6ICd2cy1jb250ZW50LWZsZXgnLFxuICAgIGh0bWw6IGA8ZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuIHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiPlRoZW48L3NwYW4+PHNwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwMVwiPjwvc3Bhbj48L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4gc3R5bGU9XCJ0ZXh0LWFsaWduOnJpZ2h0XCI+VGhlbjwvc3Bhbj48c3Bhbj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDAyXCI+PC9zcGFuPjwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudC1yb3dcIj48c3BhbiBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIj5UaGVuPC9zcGFuPjxzcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDNcIj48L3NwYW4+PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuIHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiPlRoZW48L3NwYW4+PHNwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwNFwiPjwvc3Bhbj48L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4gc3R5bGU9XCJ0ZXh0LWFsaWduOnJpZ2h0XCI+VGhlbjwvc3Bhbj48c3Bhbj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDA1XCI+PC9zcGFuPjwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudC1yb3dcIj48c3BhbiBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIj5UaGVuPC9zcGFuPjxzcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDZcIj48L3NwYW4+PC9zcGFuPjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuIHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiPlRoZW48L3NwYW4+PHNwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwN1wiPjwvc3Bhbj48L3NwYW4+PC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4gc3R5bGU9XCJ0ZXh0LWFsaWduOnJpZ2h0XCI+RWxzZTwvc3Bhbj48c3Bhbj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDA4XCI+PC9zcGFuPjwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgYCxcbiAgICBzY3JpcHQ6IGBgLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICBrZXk6IFwiY29uZGl0aW9uXCIsXG4gICAgICAgIGVkaXQ6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICB9XG4gICAgfSxcbiAgICBkb3Q6IHtcbiAgICAgIGxlZnQ6IDEsXG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICB9LFxuICB9LFxuICBub2RlX2dyb3VwOiB7XG4gICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLW9iamVjdC1ncm91cFwiPjwvaT4nLFxuICAgIHNvcnQ6IDAsXG4gICAgbmFtZTogJ0dyb3VwJyxcbiAgICBncm91cDogJ2NvbW1vbicsXG4gICAgaHRtbDogJzxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBwM1wiPjxidXR0b24gY2xhc3M9XCJidG5Hb0dyb3VwIG5vZGUtZm9ybS1jb250cm9sXCI+R288L2J1dHRvbj48L2Rpdj4nLFxuICAgIHNjcmlwdDogKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSkgPT4ge1xuICAgICAgZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5idG5Hb0dyb3VwJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBub2RlLm9wZW5Hcm91cCgpIH0pO1xuICAgIH0sXG4gICAgcHJvcGVydGllczoge30sXG4gICAgb3V0cHV0OiAyXG4gIH0sXG4gIG5vZGVfb3B0aW9uOiB7XG4gICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLW9iamVjdC1ncm91cFwiPjwvaT4nLFxuICAgIHNvcnQ6IDAsXG4gICAgbmFtZTogJ09wdGlvbicsXG4gICAgZG90OiB7XG4gICAgICB0b3A6IDEsXG4gICAgICByaWdodDogMCxcbiAgICAgIGxlZnQ6IDEsXG4gICAgICBib3R0b206IDAsXG4gICAgfSxcbiAgICBncm91cDogJ2NvbW1vbicsXG4gICAgaHRtbDogYFxuICAgIDxkaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuPkjhu40gdMOqbiA6PC9zcGFuPjxzcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDFcIj48L3NwYW4+PC9zcGFuPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudC1yb3dcIj48c3Bhbj5I4buNIHTDqm4gOjwvc3Bhbj48c3Bhbj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDAyXCI+PC9zcGFuPjwvc3Bhbj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4+SOG7jSB0w6puIDo8L3NwYW4+PHNwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwM1wiPjwvc3Bhbj48L3NwYW4+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuPkjhu40gdMOqbiA6PC9zcGFuPjxzcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDRcIj48L3NwYW4+PC9zcGFuPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudC1yb3dcIj48c3Bhbj5I4buNIHTDqm4gOjwvc3Bhbj48c3Bhbj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDA1XCI+PC9zcGFuPjwvc3Bhbj48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgLFxuICAgIHNjcmlwdDogKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSkgPT4ge1xuICAgICAgZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5idG5Hb0dyb3VwJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBub2RlLm9wZW5Hcm91cCgpIH0pO1xuICAgIH0sXG4gICAgcHJvcGVydGllczoge30sXG4gICAgb3V0cHV0OiAyXG4gIH0sXG4gIG5vZGVfcHJvamVjdDoge1xuICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1vYmplY3QtZ3JvdXBcIj48L2k+JyxcbiAgICBzb3J0OiAwLFxuICAgIG5hbWU6ICdQcm9qZWN0JyxcbiAgICBncm91cDogJ2NvbW1vbicsXG4gICAgaHRtbDogJzxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBwM1wiPjxzZWxlY3QgY2xhc3M9XCJub2RlLWZvcm0tY29udHJvbFwiIG5vZGU6bW9kZWw9XCJwcm9qZWN0XCI+PC9zZWxlY3Q+PC9kaXY+JyxcbiAgICBzY3JpcHQ6ICh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpID0+IHtcblxuICAgIH0sXG4gICAgcHJvcGVydGllczoge1xuICAgICAgcHJvamVjdDoge1xuICAgICAgICBrZXk6IFwicHJvamVjdFwiLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgICBzZWxlY3Q6IHRydWUsXG4gICAgICAgIGRhdGFTZWxlY3Q6ICh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpID0+IHtcbiAgICAgICAgICByZXR1cm4gbWFpbi5nZXRQcm9qZWN0QWxsKCkubWFwKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHZhbHVlOiBpdGVtLkdldCgnaWQnKSxcbiAgICAgICAgICAgICAgdGV4dDogaXRlbS5HZXQoJ25hbWUnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICBzY3JpcHQ6ICh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpID0+IHtcblxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgfVxuICAgIH0sXG4gIH0sXG59XG4iLCJpbXBvcnQgeyBnZXROYW1lVGltZSB9IGZyb20gXCJzcmMvY29yZS9VdGlsc1wiO1xuaW1wb3J0IHsgRGF0YUZsb3csIElNYWluLCBjb21wYXJlU29ydCwgRXZlbnRFbnVtLCBQcm9wZXJ0eUVudW0sIEV2ZW50RmxvdywgZ2V0VGltZSwgU2NvcGVSb290LCBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IE5vZGVJdGVtIH0gZnJvbSBcIi4uL2Rlc2dpbmVyL2luZGV4XCI7XG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xuXG5leHBvcnQgY2xhc3MgU3lzdGVtQmFzZSBpbXBsZW1lbnRzIElNYWluIHtcbiAgcHJpdmF0ZSAkZGF0YTogRGF0YUZsb3cgPSBuZXcgRGF0YUZsb3codGhpcyk7XG4gIHB1YmxpYyB0ZW1wOiBEYXRhRmxvdyA9IG5ldyBEYXRhRmxvdygpO1xuICBwcml2YXRlICRwcm9qZWN0T3BlbjogRGF0YUZsb3cgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgJHByb3BlcnRpZXM6IGFueSA9IHt9O1xuICBwcml2YXRlICRjb250cm9sOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdyA9IG5ldyBFdmVudEZsb3coKTtcbiAgcHJpdmF0ZSAkY29udHJvbENob29zZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgJGNoZWNrT3B0aW9uOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgJGdyb3VwOiBhbnk7XG4gIHByaXZhdGUgJGluZGV4UHJvamVjdDogbnVtYmVyID0gLTE7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAvL3NldCBwcm9qZWN0XG4gICAgdGhpcy4kcHJvcGVydGllc1tQcm9wZXJ0eUVudW0uc29sdXRpb25dID0ge1xuICAgICAgaWQ6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXG4gICAgICB9LFxuICAgICAga2V5OiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IFByb3BlcnR5RW51bS5zb2x1dGlvblxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0TmFtZVRpbWUoJ3NvbHV0aW9uLScpLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHByb2plY3Q6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gYGAsXG4gICAgICB9LFxuICAgICAgcHJvamVjdHM6IHtcbiAgICAgICAgZGVmYXVsdDogW11cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLmxpbmVdID0ge1xuICAgICAga2V5OiB7XG4gICAgICAgIGRlZmF1bHQ6IFByb3BlcnR5RW51bS5saW5lXG4gICAgICB9LFxuICAgICAgZnJvbToge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgZnJvbUluZGV4OiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICB0bzoge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgdG9JbmRleDoge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9XG4gICAgfTtcbiAgICAvL3NldCBwcm9qZWN0XG4gICAgdGhpcy4kcHJvcGVydGllc1tQcm9wZXJ0eUVudW0ubWFpbl0gPSB7XG4gICAgICBpZDoge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZXRUaW1lKClcbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGBGbG93ICR7dGhpcy4kaW5kZXhQcm9qZWN0Kyt9YCxcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBrZXk6IHtcbiAgICAgICAgZGVmYXVsdDogUHJvcGVydHlFbnVtLm1haW5cbiAgICAgIH0sXG4gICAgICB2YXJpYWJsZToge1xuICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgfSxcbiAgICAgIGdyb3Vwczoge1xuICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgfSxcbiAgICAgIG5vZGVzOiB7XG4gICAgICAgIGRlZmF1bHQ6IFtdXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS5ncm91cENhdmFzXSA9IHtcbiAgICAgIGtleToge1xuICAgICAgICBkZWZhdWx0OiBQcm9wZXJ0eUVudW0uZ3JvdXBDYXZhc1xuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICB9LFxuICAgICAgeDoge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgem9vbToge1xuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9LFxuICAgIH1cbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS52YXJpYWJsZV0gPSB7XG4gICAgICBrZXk6IHtcbiAgICAgICAgZGVmYXVsdDogUHJvcGVydHlFbnVtLnZhcmlhYmxlXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZXROYW1lVGltZSgndmFyJylcbiAgICAgIH0sXG4gICAgICB0eXBlOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+ICd0ZXh0J1xuICAgICAgfSxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IFNjb3BlUm9vdFxuICAgICAgfSxcbiAgICAgIGluaXRhbFZhbHVlOiB7XG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICB9LFxuICAgIH1cbiAgICB0aGlzLm9uU2FmZShFdmVudEVudW0uZ3JvdXBDaGFuZ2UsICh7IGdyb3VwIH06IGFueSkgPT4ge1xuICAgICAgdGhpcy4kZ3JvdXAgPSBncm91cDtcbiAgICB9KVxuICB9XG4gIG5ld1NvbHV0aW9uKCRuYW1lOiBzdHJpbmcgPSAnJyk6IHZvaWQge1xuICAgIHRoaXMuJGluZGV4UHJvamVjdCA9IDE7XG4gICAgdGhpcy5vcGVuU29sdXRpb24oeyBuYW1lOiAkbmFtZSB9KTtcbiAgfVxuICBvcGVuU29sdXRpb24oJGRhdGE6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuJGRhdGEuSW5pdERhdGEoJGRhdGEsIHRoaXMuZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0uc29sdXRpb24pKTtcbiAgICB0aGlzLm9wZW5Qcm9qZWN0KHRoaXMuJGRhdGEuR2V0KCdwcm9qZWN0cycpPy5bMF0gPz8ge30pO1xuICB9XG4gIHJlbW92ZVZhcmlhYmxlKHZhcmliYWxlOiBEYXRhRmxvdyk6IHZvaWQge1xuICAgIHRoaXMuJHByb2plY3RPcGVuPy5SZW1vdmUoJ3ZhcmlhYmxlJywgdmFyaWJhbGUpO1xuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZVZhcmlhYmxlLCB7IGRhdGE6IHZhcmliYWxlIH0pO1xuICB9XG4gIGFkZFZhcmlhYmxlKG5hbWU6IGFueSA9IHVuZGVmaW5lZCwgc2NvcGU6IGFueSA9IG51bGwsIGluaXRhbFZhbHVlOiBhbnkgPSBudWxsKTogRGF0YUZsb3cge1xuICAgIGxldCB2YXJpYmFsZSA9IG5ldyBEYXRhRmxvdyh0aGlzLCB7IG5hbWUsIGluaXRhbFZhbHVlLCBrZXk6IFByb3BlcnR5RW51bS52YXJpYWJsZSwgc2NvcGU6IHNjb3BlID8/IHRoaXMuZ2V0R3JvdXBDdXJyZW50KCk/LlswXT8uaWQgfSk7XG4gICAgdGhpcy4kcHJvamVjdE9wZW4/LkFwcGVuZCgndmFyaWFibGUnLCB2YXJpYmFsZSk7XG4gICAgcmV0dXJuIHZhcmliYWxlO1xuICB9XG4gIG5ld1ZhcmlhYmxlKG5hbWU6IGFueSA9IHVuZGVmaW5lZCwgc2NvcGU6IGFueSA9IG51bGwsIGluaXRhbFZhbHVlOiBhbnkgPSBudWxsKTogRGF0YUZsb3cge1xuICAgIGxldCB2YXJpYmFsZSA9IHRoaXMuYWRkVmFyaWFibGUobmFtZSwgc2NvcGUsIGluaXRhbFZhbHVlKTtcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2VWYXJpYWJsZSwgeyBkYXRhOiB2YXJpYmFsZSB9KTtcbiAgICByZXR1cm4gdmFyaWJhbGU7XG4gIH1cbiAgY2hhbmdlVmFyaWFibGVOYW1lKG9sZF9uYW1lOiBhbnksIG5ld19uYW1lOiBhbnksIHNjb3BlOiBhbnkpOiB2b2lkIHtcbiAgICBsZXQgdmFyaWFibGUgPSB0aGlzLiRwcm9qZWN0T3Blbj8uR2V0KCd2YXJpYWJsZScpO1xuICAgIGlmICh2YXJpYWJsZSkge1xuICAgICAgZm9yIChsZXQgaXRlbSBvZiB2YXJpYWJsZSkge1xuICAgICAgICBpZiAoaXRlbS5HZXQoJ25hbWUnKSA9PSBvbGRfbmFtZSAmJiBpdGVtLkdldCgnc2NvcGUnKSA9PSBzY29wZSkge1xuICAgICAgICAgIGl0ZW0uU2V0KCduYW1lJywgbmV3X25hbWUpO1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZVZhcmlhYmxlLCB7IGRhdGE6IGl0ZW0gfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0VmFyaWFibGUoKTogRGF0YUZsb3dbXSB7XG4gICAgbGV0IGFycjogYW55ID0gW107XG4gICAgaWYgKHRoaXMuJHByb2plY3RPcGVuKSB7XG4gICAgICBhcnIgPSB0aGlzLiRwcm9qZWN0T3Blbi5HZXQoXCJ2YXJpYWJsZVwiKTtcbiAgICAgIGlmICghYXJyKSB7XG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgICB0aGlzLiRwcm9qZWN0T3Blbi5TZXQoJ3ZhcmlhYmxlJywgYXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyci5maWx0ZXIoKGl0ZW06IGFueSkgPT4gdGhpcy5nZXRHcm91cEN1cnJlbnQoKS5maW5kSW5kZXgoKF9ncm91cDogYW55KSA9PiBfZ3JvdXAuaWQgPT0gaXRlbS5HZXQoJ3Njb3BlJykpID4gLTEpO1xuICB9XG4gIGdldEdyb3VwQ3VycmVudCgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLiRncm91cCA/PyBbXTtcbiAgfVxuICBleHBvcnRKc29uKCkge1xuICAgIHJldHVybiB0aGlzLiRkYXRhLnRvSnNvbigpO1xuICB9XG4gIHB1YmxpYyBjaGVja0luaXRPcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNoZWNrT3B0aW9uO1xuICB9XG4gIGluaXRPcHRpb24ob3B0aW9uOiBhbnksIGlzRGVmYXVsdDogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICB0aGlzLiRjaGVja09wdGlvbiA9IHRydWU7XG4gICAgLy8gc2V0IGNvbnRyb2xcbiAgICB0aGlzLiRjb250cm9sID0gaXNEZWZhdWx0ID8geyAuLi5vcHRpb24/LmNvbnRyb2wgfHwge30sIC4uLkNvbnRyb2wgfSA6IHsgLi4ub3B0aW9uPy5jb250cm9sIHx8IHt9IH07XG4gICAgbGV0IGNvbnRyb2xUZW1wOiBhbnkgPSB7fTtcbiAgICBPYmplY3Qua2V5cyh0aGlzLiRjb250cm9sKS5tYXAoKGtleSkgPT4gKHsgLi4udGhpcy4kY29udHJvbFtrZXldLCBrZXksIHNvcnQ6ICh0aGlzLiRjb250cm9sW2tleV0uc29ydCA9PT0gdW5kZWZpbmVkID8gOTk5OTkgOiB0aGlzLiRjb250cm9sW2tleV0uc29ydCkgfSkpLnNvcnQoY29tcGFyZVNvcnQpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgY29udHJvbFRlbXBbaXRlbS5rZXldID0ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICBkb3Q6IHtcbiAgICAgICAgICBsZWZ0OiAxLFxuICAgICAgICAgIHRvcDogMSxcbiAgICAgICAgICByaWdodDogMSxcbiAgICAgICAgICBib3R0b206IDEsXG4gICAgICAgICAgLi4uaXRlbT8uZG90XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB0aGlzLiRwcm9wZXJ0aWVzW2Ake2l0ZW0ua2V5fWBdID0ge1xuICAgICAgICAuLi4oaXRlbS5wcm9wZXJ0aWVzIHx8IHt9KSxcbiAgICAgICAgaWQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZXRUaW1lKClcbiAgICAgICAgfSxcbiAgICAgICAga2V5OiB7XG4gICAgICAgICAgZGVmYXVsdDogaXRlbS5rZXlcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgIGRlZmF1bHQ6IGl0ZW0ua2V5LFxuICAgICAgICAgIGVkaXQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHg6IHtcbiAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHk6IHtcbiAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGdyb3VwOiB7XG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfSxcbiAgICAgICAgbGluZXM6IHtcbiAgICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMuJGNvbnRyb2wgPSBjb250cm9sVGVtcDtcbiAgfVxuICByZW5kZXJIdG1sKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSkge1xuICAgIGlmIChpc0Z1bmN0aW9uKG5vZGUuZ2V0T3B0aW9uKCk/Lmh0bWwpKSB7XG4gICAgICBlbE5vZGUuaW5uZXJIVE1MID0gbm9kZS5nZXRPcHRpb24oKT8uaHRtbD8uKHsgZWxOb2RlLCBtYWluLCBub2RlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbE5vZGUuaW5uZXJIVE1MID0gbm9kZS5nZXRPcHRpb24oKT8uaHRtbFxuICAgIH1cbiAgfVxuICBvblNhZmUoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIGRpc3BhdGNoKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IGFueSkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0Q29udHJvbEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udHJvbCA/PyB7fTtcbiAgfVxuICBnZXRQcm9qZWN0QWxsKCk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy4kZGF0YS5HZXQoJ3Byb2plY3RzJykgPz8gW107XG4gIH1cbiAgaW1wb3J0SnNvbihkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLm9wZW5Tb2x1dGlvbihkYXRhKTtcbiAgfVxuICBzZXRQcm9qZWN0T3BlbigkZGF0YTogYW55KTogdm9pZCB7XG4gICAgaWYgKHRoaXMuJHByb2plY3RPcGVuICE9ICRkYXRhKSB7XG4gICAgICB0aGlzLiRwcm9qZWN0T3BlbiA9ICRkYXRhO1xuICAgICAgdGhpcy4kZGF0YS5TZXQoJ3Byb2plY3QnLCB0aGlzLiRwcm9qZWN0T3Blbj8uR2V0KCdpZCcpKVxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XG4gICAgICAgIGRhdGE6ICRkYXRhXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwge1xuICAgICAgICBkYXRhOiAkZGF0YVxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwge1xuICAgICAgICBkYXRhOiAkZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNoZWNrUHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiRwcm9qZWN0T3BlbiA9PSAkZGF0YTtcbiAgfVxuICBuZXdQcm9qZWN0KCk6IHZvaWQge1xuICAgIHRoaXMub3BlblByb2plY3Qoe30pO1xuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLm5ld1Byb2plY3QsIHt9KTtcbiAgfVxuICBvcGVuUHJvamVjdCgkZGF0YTogYW55KTogdm9pZCB7XG4gICAgbGV0ICRwcm9qZWN0OiBhbnkgPSBudWxsO1xuICAgIGlmICgkZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICAkcHJvamVjdCA9IHRoaXMuZ2V0UHJvamVjdEJ5SWQoJGRhdGEuR2V0KCdpZCcpKTtcbiAgICAgIGlmICghJHByb2plY3QpIHtcbiAgICAgICAgJHByb2plY3QgPSAkZGF0YTtcbiAgICAgICAgdGhpcy4kZGF0YS5BcHBlbmQoJ3Byb2plY3RzJywgJHByb2plY3QpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAkcHJvamVjdCA9IG5ldyBEYXRhRmxvdyh0aGlzKTtcbiAgICAgICRwcm9qZWN0LkluaXREYXRhKCRkYXRhLCB0aGlzLmdldFByb3BlcnR5QnlLZXkoUHJvcGVydHlFbnVtLm1haW4pKTtcbiAgICAgIHRoaXMuJGRhdGEuQXBwZW5kKCdwcm9qZWN0cycsICRwcm9qZWN0KTtcbiAgICB9XG4gICAgdGhpcy5zZXRQcm9qZWN0T3BlbigkcHJvamVjdCk7XG4gIH1cbiAgcHVibGljIHJlbW92ZVByb2plY3QoJGRhdGE6IGFueSkge1xuICAgIGxldCBwcm9qZWN0RGF0YSA9ICRkYXRhO1xuICAgIGlmICgkZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICBwcm9qZWN0RGF0YSA9IHRoaXMuZ2V0UHJvamVjdEJ5SWQoJGRhdGEuR2V0KCdpZCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvamVjdERhdGEgPSB0aGlzLmdldFByb2plY3RCeUlkKCRkYXRhLkdldCgnaWQnKSk7XG4gICAgfVxuICAgIHRoaXMuJGRhdGEuUmVtb3ZlKCdwcm9qZWN0cycsIHByb2plY3REYXRhKTtcbiAgICBpZiAodGhpcy5jaGVja1Byb2plY3RPcGVuKHByb2plY3REYXRhKSkge1xuICAgICAgdGhpcy4kcHJvamVjdE9wZW4gPSB0aGlzLiRkYXRhLkdldCgncHJvamVjdHMnKT8uWzBdO1xuICAgICAgaWYgKCF0aGlzLiRwcm9qZWN0T3Blbikge1xuICAgICAgICB0aGlzLm5ld1Byb2plY3QoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcbiAgICAgIGRhdGE6IHRoaXMuJHByb2plY3RPcGVuXG4gICAgfSk7XG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7XG4gICAgICBkYXRhOiB0aGlzLiRwcm9qZWN0T3BlblxuICAgIH0pO1xuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCB7XG4gICAgICBkYXRhOiB0aGlzLiRwcm9qZWN0T3BlblxuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBnZXRQcm9qZWN0QnlJZCgkaWQ6IGFueSkge1xuICAgIHJldHVybiB0aGlzLiRkYXRhLkdldCgncHJvamVjdHMnKS5maWx0ZXIoKGl0ZW06IERhdGFGbG93KSA9PiBpdGVtLkdldCgnaWQnKSA9PT0gJGlkKT8uWzBdO1xuICB9XG4gIHNldENvbnRyb2xDaG9vc2Uoa2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy4kY29udHJvbENob29zZSA9IGtleTtcbiAgfVxuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLiRjb250cm9sQ2hvb3NlO1xuICB9XG4gIGdldENvbnRyb2xCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLiRjb250cm9sW2tleV0gfHwge307XG4gIH1cbiAgZ2V0Q29udHJvbE5vZGVCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLmdldENvbnRyb2xCeUtleShrZXkpLFxuICAgICAgcHJvcGVydGllczogdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KGAke2tleX1gKVxuICAgIH1cbiAgfVxuICBnZXRQcm9wZXJ0eUJ5S2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuJHByb3BlcnRpZXNba2V5XTtcbiAgfVxuICBwcml2YXRlICRydW5uaW5nID0gZmFsc2U7XG4gIHJ1bm5pbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuJHJ1bm5pbmc7XG4gIH1cbiAgc2V0UnVubmluZyhmbGc6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuJHJ1bm5pbmcgPSBmbGc7XG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc3RhdHVzQm90LCBmbGcpO1xuICB9XG4gIGNhbGxiYWNrUnVuUHJvamVjdChjYWxsYmFja1J1bjogYW55KSB7XG4gICAgdGhpcy5vbihFdmVudEVudW0ucnVuUHJvamVjdCwgKHsgZGF0YSB9OiBhbnkpID0+IHtcbiAgICAgIGNhbGxiYWNrUnVuPy4oZGF0YSk7XG4gICAgfSk7XG4gIH1cbiAgY2FsbGJhY2tTdG9wUHJvamVjdChjYWxsYmFja1J1bjogYW55KSB7XG4gICAgdGhpcy5vbihFdmVudEVudW0uc3RvcFByb2plY3QsICgpID0+IHtcbiAgICAgIGNhbGxiYWNrUnVuKCk7XG4gICAgfSk7XG4gIH1cbiAgcnVuUHJvamVjdCgpOiB2b2lkIHtcbiAgICB0aGlzLnNldFJ1bm5pbmcodHJ1ZSk7XG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0ucnVuUHJvamVjdCwgeyBkYXRhOiB0aGlzLmV4cG9ydEpzb24oKSB9KTtcbiAgfVxuICBzdG9wUHJvamVjdCgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zdG9wUHJvamVjdCwge30pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOb2RlSXRlbSB9IGZyb20gXCIuLi9kZXNnaW5lci9pbmRleFwiO1xuaW1wb3J0IHsgU3lzdGVtQmFzZSB9IGZyb20gXCIuL1N5c3RlbUJhc2VcIjtcbmV4cG9ydCBjbGFzcyBTeXN0ZW1WdWUgZXh0ZW5kcyBTeXN0ZW1CYXNlIHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVuZGVyOiBhbnkpIHtcbiAgICBzdXBlcigpO1xuICB9XG4gIHJlbmRlckh0bWwoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KSB7XG4gICAgaWYgKHBhcnNlSW50KHRoaXMucmVuZGVyLnZlcnNpb24pID09PSAzKSB7XG4gICAgICAvL1Z1ZSAzXG4gICAgICBsZXQgd3JhcHBlciA9IHRoaXMucmVuZGVyLmgobm9kZS5nZXRPcHRpb24oKT8uaHRtbCwgeyAuLi4obm9kZS5nZXRPcHRpb24oKT8ucHJvcHMgPz8ge30pLCBub2RlIH0sIChub2RlLmdldE9wdGlvbigpPy5vcHRpb25zID8/IHt9KSk7XG4gICAgICB3cmFwcGVyLmFwcENvbnRleHQgPSBlbE5vZGU7XG4gICAgICB0aGlzLnJlbmRlci5yZW5kZXIod3JhcHBlciwgZWxOb2RlKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBWdWUgMlxuICAgICAgbGV0IHdyYXBwZXIgPSBuZXcgdGhpcy5yZW5kZXIoe1xuICAgICAgICBwYXJlbnQ6IGVsTm9kZSxcbiAgICAgICAgcmVuZGVyOiAoaDogYW55KSA9PiBoKG5vZGUuZ2V0T3B0aW9uKCk/Lmh0bWwsIHsgcHJvcHM6IHsgLi4uKG5vZGUuZ2V0T3B0aW9uKCk/LnByb3BzID8/IHt9KSwgbm9kZSB9IH0pLFxuICAgICAgICAuLi4obm9kZS5nZXRPcHRpb24oKT8ub3B0aW9ucyA/PyB7fSlcbiAgICAgIH0pLiRtb3VudCgpXG4gICAgICAvL1xuICAgICAgZWxOb2RlLmFwcGVuZENoaWxkKHdyYXBwZXIuJGVsKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFGbG93LCBFdmVudEVudW0sIElNYWluIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IGRvd25sb2FkT2JqZWN0QXNKc29uLCBnZXRUaW1lLCByZWFkRmlsZUxvY2FsIH0gZnJvbSBcIi4uL2NvcmUvVXRpbHNcIjtcbmltcG9ydCB7IFByb2plY3RWaWV3IH0gZnJvbSBcIi4uL2Rlc2dpbmVyL1Byb2plY3RWaWV3XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0RG9jayBleHRlbmRzIERvY2tCYXNlIHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtcHJvamVjdCcpO1xuICAgIHRoaXMuQm94SW5mbygnUHJvamVjdCcsIChlbENvbnRlbnQ6IGFueSkgPT4ge1xuICAgICAgbmV3IFByb2plY3RWaWV3KGVsQ29udGVudCwgbWFpbik7XG4gICAgfSk7XG4gICAgbGV0ICRub2RlUmlnaHQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2hlYWRlciAudnMtYm94aW5mb19idXR0b24nKTtcbiAgICBpZiAoJG5vZGVSaWdodCkge1xuICAgICAgJG5vZGVSaWdodC5pbm5lckhUTUwgPSBgYDtcbiAgICAgIGxldCBidXR0b25OZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbk5ldy5pbm5lckhUTUwgPSBgTmV3YDtcbiAgICAgIGJ1dHRvbk5ldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubWFpbi5uZXdQcm9qZWN0KCcnKSk7XG4gICAgICAkbm9kZVJpZ2h0Py5hcHBlbmRDaGlsZChidXR0b25OZXcpO1xuXG4gICAgICBsZXQgYnV0dG9uRXhwb3J0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b25FeHBvcnQuaW5uZXJIVE1MID0gYEV4cG9ydGA7XG4gICAgICBidXR0b25FeHBvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBkb3dubG9hZE9iamVjdEFzSnNvbih0aGlzLm1haW4uZXhwb3J0SnNvbigpLCBgdnMtc29sdXRpb24tJHtnZXRUaW1lKCl9YCkpO1xuICAgICAgJG5vZGVSaWdodD8uYXBwZW5kQ2hpbGQoYnV0dG9uRXhwb3J0KTtcblxuICAgICAgbGV0IGJ1dHRvbkltcG9ydCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uSW1wb3J0LmlubmVySFRNTCA9IGBJbXBvcnRgO1xuICAgICAgYnV0dG9uSW1wb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICByZWFkRmlsZUxvY2FsKChyczogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKHJzKSB7XG4gICAgICAgICAgICB0aGlzLm1haW4uaW1wb3J0SnNvbihKU09OLnBhcnNlKHJzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgJG5vZGVSaWdodD8uYXBwZW5kQ2hpbGQoYnV0dG9uSW1wb3J0KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFZpc3VhbEZsb3cgfSBmcm9tIFwiLi9WaXN1YWxGbG93XCI7XG5pbXBvcnQgKiBhcyBTeXN0ZW1CYXNlIGZyb20gXCIuL3N5c3RlbXMvaW5kZXhcIjtcbmltcG9ydCAqIGFzIENvcmUgZnJvbSAnLi9jb3JlL2luZGV4JztcbmltcG9ydCAqIGFzIERlc2dpbmVyIGZyb20gXCIuL2Rlc2dpbmVyL2luZGV4XCI7XG5pbXBvcnQgKiBhcyBEb2NrIGZyb20gJy4vZG9jay9pbmRleCc7XG5leHBvcnQgZGVmYXVsdCB7XG4gIFZpc3VhbEZsb3csXG4gIC4uLlN5c3RlbUJhc2UsXG4gIC4uLkNvcmUsXG4gIC4uLkRvY2ssXG4gIC4uLkRlc2dpbmVyXG59O1xuXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gJy4vY29yZS9pbmRleCc7XG5pbXBvcnQgeyBEb2NrTWFuYWdlciB9IGZyb20gJy4vZG9jay9Eb2NrTWFuYWdlcic7XG5pbXBvcnQgeyBTeXN0ZW1CYXNlIH0gZnJvbSAnLi9zeXN0ZW1zL1N5c3RlbUJhc2UnO1xuZXhwb3J0IGNsYXNzIFZpc3VhbEZsb3cge1xuICBwcml2YXRlIG1haW46IElNYWluIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlICRkb2NrTWFuYWdlcjogRG9ja01hbmFnZXI7XG4gIHB1YmxpYyBnZXREb2NrTWFuYWdlcigpOiBEb2NrTWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMuJGRvY2tNYW5hZ2VyO1xuICB9XG4gIHB1YmxpYyBzZXRPcHRpb24oZGF0YTogYW55LCBpc0RlZmF1bHQ6IGJvb2xlYW4gPSB0cnVlKSB7XG4gICAgdGhpcy5tYWluPy5pbml0T3B0aW9uKGRhdGEsIGlzRGVmYXVsdCk7XG4gICAgdGhpcy4kZG9ja01hbmFnZXIucmVzZXQoKTtcbiAgfVxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50LCBtYWluOiBJTWFpbiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xuICAgIHRoaXMubWFpbiA9IG1haW4gPz8gbmV3IFN5c3RlbUJhc2UoKTtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd2cy1jb250YWluZXInKTtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2cy1jb250YWluZXInKTtcbiAgICB0aGlzLiRkb2NrTWFuYWdlciA9IG5ldyBEb2NrTWFuYWdlcih0aGlzLmNvbnRhaW5lciwgdGhpcy5tYWluKTtcbiAgICB0aGlzLiRkb2NrTWFuYWdlci5yZXNldCgpO1xuICB9XG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5tYWluPy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5tYWluPy5vbihldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLm1haW4/LnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XG4gICAgdGhpcy5tYWluPy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgcHVibGljIGdldE1haW4oKTogSU1haW4gfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLm1haW47XG4gIH1cbiAgbmV3U29sdXRpb24oJG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZ2V0TWFpbigpPy5uZXdTb2x1dGlvbigkbmFtZSk7XG4gIH1cbiAgb3BlblNvbHV0aW9uKCRkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmdldE1haW4oKT8ub3BlblNvbHV0aW9uKCRkYXRhKTtcbiAgfVxuICBuZXdQcm9qZWN0KCRuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmdldE1haW4oKT8ubmV3UHJvamVjdCgkbmFtZSk7XG4gIH1cbiAgb3BlblByb2plY3QoJG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZ2V0TWFpbigpPy5vcGVuUHJvamVjdCgkbmFtZSk7XG4gIH1cbiAgZ2V0UHJvamVjdEFsbCgpOiBhbnlbXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWFpbigpPy5nZXRQcm9qZWN0QWxsKCk7XG4gIH1cbiAgc2V0UHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuZ2V0TWFpbigpPy5zZXRQcm9qZWN0T3BlbigkZGF0YSk7XG4gIH1cbiAgaW1wb3J0SnNvbihkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmdldE1haW4oKT8uaW1wb3J0SnNvbihkYXRhKTtcbiAgfVxuICBleHBvcnRKc29uKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWFpbigpPy5leHBvcnRKc29uKCk7XG4gIH1cbiAgY2FsbGJhY2tSdW5Qcm9qZWN0KGNhbGxiYWNrUnVuOiBhbnkpIHtcbiAgICB0aGlzLmdldE1haW4oKT8uY2FsbGJhY2tSdW5Qcm9qZWN0KGNhbGxiYWNrUnVuKTtcbiAgfVxuICBjYWxsYmFja1N0b3BQcm9qZWN0KGNhbGxiYWNrUnVuOiBhbnkpIHtcbiAgICB0aGlzLmdldE1haW4oKT8uY2FsbGJhY2tTdG9wUHJvamVjdChjYWxsYmFja1J1bik7XG4gIH1cbiAgc2V0UnVubmluZyhmbGc6IGFueSl7XG4gICAgdGhpcy5nZXRNYWluKCk/LnNldFJ1bm5pbmcoZmxnKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIkV2ZW50RW51bSIsImluaXQiLCJkYXRhQ2hhbmdlIiwic2hvd1Byb3BlcnR5Iiwib3BlblByb2plY3QiLCJuZXdQcm9qZWN0IiwiY2hhbmdlVmFyaWFibGUiLCJjaGFuZ2UiLCJkaXNwb3NlIiwiZ3JvdXBDaGFuZ2UiLCJzZXRHcm91cCIsInpvb20iLCJydW5Qcm9qZWN0Iiwic3RvcFByb2plY3QiLCJzdGF0dXNCb3QiLCJEb2NrRW51bSIsImxlZnQiLCJ0b3AiLCJ2aWV3IiwiYm90dG9tIiwicmlnaHQiLCJQcm9wZXJ0eUVudW0iLCJtYWluIiwic29sdXRpb24iLCJsaW5lIiwidmFyaWFibGUiLCJncm91cENhdmFzIiwiU2NvcGVSb290IiwiRXZlbnRGbG93IiwiZXZlbnRzIiwiY29uc3RydWN0b3IiLCJvblNhZmUiLCJldmVudCIsImNhbGxiYWNrIiwidGhpcyIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJjb25zb2xlIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsaXN0ZW5lcnMiLCJwdXNoIiwibGlzdGVuZXJJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkaXNwYXRjaCIsImRldGFpbHMiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJnZXREYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJnZXROYW1lVGltZSIsIm5hbWUiLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImNvbXBhcmVTb3J0IiwiYSIsImIiLCJzb3J0IiwiaXNGdW5jdGlvbiIsImZuIiwiRnVuY3Rpb24iLCJEYXRhRmxvdyIsInByb3BlcnR5IiwiZGF0YSIsInByb3BlcnRpZXMiLCJnZXRQcm9wZXJ0aWVzIiwibG9hZCIsIkluaXREYXRhIiwiZXZlbnREYXRhQ2hhbmdlIiwia2V5Iiwia2V5Q2hpbGQiLCJ2YWx1ZUNoaWxkIiwic2VuZGVyQ2hpbGQiLCJpbmRleCIsInZhbHVlIiwic2VuZGVyIiwiUmVtb3ZlRXZlbnREYXRhIiwiaXRlbSIsIk9uRXZlbnREYXRhIiwiQmluZEV2ZW50IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiU2V0IiwiaXNEaXNwYXRjaCIsIlNldERhdGEiLCJpc0NsZWFyRGF0YSIsIiRkYXRhIiwiT2JqZWN0Iiwia2V5cyIsIkdldCIsIkluY3JlYXNlIiwibWF4IiwiRGVjcmVhc2UiLCJtaW4iLCJBcHBlbmQiLCJSZW1vdmUiLCJnZXRQcm9wZXJ0eUJ5S2V5IiwiZnVuY1NldFZhbHVlIiwidmFsdWVTZXQiLCJtYXAiLCJzdWIiLCJmaWVsZCIsInN0YXJ0c1dpdGgiLCJkZWZhdWx0IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSnNvbiIsInJzIiwic2V0UlMiLCJ2YWx1ZVJTIiwiZGVsZXRlIiwiRmxvd0NvcmUiLCJHZXRJZCIsIlNldElkIiwiaWQiLCJlbE5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJDaGVja0VsZW1lbnRDaGlsZCIsImVsIiwiY29udGFpbnMiLCJTZXREYXRhRmxvdyIsIlJlbW92ZURhdGFFdmVudCIsInNldFRpbWVvdXQiLCJ0eXBlIiwiQmFzZUZsb3ciLCJwYXJlbnQiLCJzdXBlciIsIlRhZ1ZpZXciLCJEYXRhVmlldyIsImtleU5hbWUiLCJlbFN1Z2dlc3Rpb25zIiwiZWxTdWdnZXN0aW9uc0NvbnRlbnQiLCJub2RlRWRpdG9yIiwiZ2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwiZWRpdCIsInNlbGVjdCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwic2hvd1N1Z2dlc3Rpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ0YXJnZXQiLCJzZXRWYXIiLCJpbm5lclRleHQiLCJiaW5kRGF0YSIsInNlbGVjdGlvblN0YXJ0IiwidmFyIiwic2V0Tm9kZVZhbHVlIiwidHh0Iiwic3RhcnRJbmRleCIsImxhc3RJbmRleE9mIiwiZm9jdXMiLCJiaW5kRXZlbnQiLCJjaGVja1Nob3dTdWdnZXN0aW9ucyIsImFyciIsImdldFZhcmlhYmxlIiwic3ViVHh0IiwiZWxMaXN0IiwiZmxnIiwibG9nIiwiZWxJdGVtIiwiaW5uZXJIVE1MIiwic3VnZ2VzdGlvbkluZGV4Iiwic2V0U3VnZ2VzdGlvbkluZGV4IiwicmVtb3ZlQXR0cmlidXRlIiwiZWxGb2N1cyIsInJlZ2V4VmFsaWRhdGUiLCJ0ZW1wIiwicXVlcnlTZWxlY3RvckFsbCIsIml0ZW1JbmRleCIsInJlbW92ZSIsInZhbGlkYXRlIiwiUmVnRXhwIiwiYmluZElucHV0IiwiYmluZCIsImNoYXJDb2RlIiwid2hpY2giLCJrZXlDb2RlIiwibmFtZVZhciIsInF1ZXJ5U2VsZWN0b3IiLCJwcmV2ZW50RGVmYXVsdCIsInJldHVyblZhbHVlIiwiY2FuY2VsQnViYmxlIiwidGVzdCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwic3RvcFByb3BhZ2F0aW9uIiwiZGF0YVNlbGVjdCIsInNlbGVjdE5vbmUiLCJvcHRpb24iLCJ0ZXh0Iiwic2NyaXB0IiwiaW5jbHVkZXMiLCJ0YWdOYW1lIiwiRGVsZXRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN0YXRpYyIsImNoaWxkRWxlbWVudENvdW50IiwiZnJvbSIsIk1vdmVUeXBlIiwicyIsImhleERpZ2l0cyIsImkiLCJzdWJzdHIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJqb2luIiwibWVzc2FnZSIsIm9wdGlvbmFsUGFyYW1zIiwiTGluZSIsImZyb21JbmRleCIsInRvIiwidG9JbmRleCIsImNyZWF0ZUVsZW1lbnROUyIsImVsUGF0aCIsImN1cnZhdHVyZSIsIlN0YXJ0U2VsZWN0ZWQiLCJzZXRBdHRyaWJ1dGVOUyIsImVsQ2FudmFzIiwiQWRkTGluZSIsInVwZGF0ZVRvIiwidG9feCIsInRvX3kiLCJ4IiwiZnJvbV94IiwieSIsImZyb21feSIsImdldFBvc3Rpc2lvbkRvdCIsImxpbmVDdXJ2ZSIsImNyZWF0ZUN1cnZhdHVyZSIsIlVwZGF0ZVVJIiwiQWN0aXZlIiwic3RhcnRfcG9zX3giLCJzdGFydF9wb3NfeSIsImVuZF9wb3NfeCIsImVuZF9wb3NfeSIsImN1cnZhdHVyZV92YWx1ZSIsImxpbmVfeCIsImxpbmVfeSIsImh4MSIsImFicyIsImh4MiIsIm5vZGVUaGlzIiwiUmVtb3ZlTGluZSIsInNldExpbmVDaG9vc2UiLCJzZXROb2RlVG8iLCJub2RlIiwiQ2xvbmUiLCJjaGVja0xpbmVFeGlzdHMiLCJEZXNnaW5lclZpZXdfRXZlbnQiLCJ0aW1lRmFzdENsaWNrIiwidGFnSW5nb3JlIiwibW92ZVR5cGUiLCJOb25lIiwiZmxnRHJhcCIsImZsZ01vdmUiLCJhdl94IiwiYXZfeSIsInBvc194IiwicG9zX3kiLCJtb3VzZV94IiwibW91c2VfeSIsInRlbXBMaW5lIiwiRW5kTW92ZSIsIk1vdmUiLCJTdGFydE1vdmUiLCJjb250ZXh0bWVudSIsIm5vZGVfZHJvcEVuZCIsIm5vZGVfZHJhZ292ZXIiLCJ6b29tX2VudGVyIiwia2V5ZG93biIsImV2IiwiJGxvY2siLCJrZXlOb2RlIiwiZ2V0Q29udHJvbENob29zZSIsImRhdGFUcmFuc2ZlciIsImVfcG9zX3giLCJlX3Bvc195IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiQ2FsY1giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJDYWxjWSIsImNoZWNrT25seU5vZGUiLCJBZGROb2RlIiwiZ3JvdXAiLCJDdXJyZW50R3JvdXAiLCJ1cGRhdGVQb3NpdGlvbiIsImN0cmxLZXkiLCJkZWx0YVkiLCJ6b29tX291dCIsInpvb21faW4iLCJ0b0xvd2VyQ2FzZSIsIkNhbnZhcyIsIm5vZGVDaG9vc2UiLCJnZXROb2RlQ2hvb3NlIiwiTm9kZSIsInNldE5vZGVDaG9vc2UiLCJnZXRYIiwiZ2V0WSIsInNldFgiLCJzZXRZIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm5vZGVFbCIsImNsb3Nlc3QiLCJub2RlSWQiLCJub2RlVG8iLCJHZXROb2RlQnlJZCIsIm1ldGFLZXkiLCJnZXRMaW5lQ2hvb3NlIiwiTm9kZUl0ZW0iLCJJbmNyZWFzZVZhbHVlIiwiRGVjcmVhc2VWYWx1ZSIsImdldERhdGFWYWx1ZSIsInNldERhdGFWYWx1ZSIsImdldE5hbWUiLCJDaGVja0tleSIsImdldERhdGFMaW5lIiwiYXJyTGluZSIsImZpbHRlciIsImVsQ29udGVudCIsImFyckRhdGFWaWV3IiwiZ2V0Q29udHJvbE5vZGVCeUtleSIsInJlbmRlclVJIiwiY2xhc3MiLCJnZXRPcHRpb24iLCJkZXRhaWwiLCJhY3RpdmVFbGVtZW50IiwiaGlkZVRpdGxlIiwiaWNvbiIsImFkZE5vZGVEb3QiLCJudW0iLCJzdGFydCIsInF1ZXJ5Iiwibm9kZVF1ZXJ5Iiwibm9kZURvdCIsImRvdCIsInJlbmRlckh0bWwiLCJCaW5kRWxlbWVudCIsImlDaGVjayIsInRlbXB4IiwidGVtcHkiLCJlbERvdCIsIlJlbW92ZU5vZGUiLCJSZW5kZXJMaW5lIiwiWm9vbSIsIkRlc2dpbmVyVmlldyIsImdldFpvb20iLCJnZXREYXRhR3JvdXAiLCJzZXRab29tIiwiZ3JvdXBEYXRhIiwibGFzdEdyb3VwTmFtZSIsImdyb3VwcyIsImRhdGFHcm91cCIsIkdldERhdGFCeUlkIiwiY2hhbmdlR3JvdXAiLCJHZXRHcm91cE5hbWUiLCJCYWNrR3JvdXAiLCJSZW5kZXJVSSIsIkN1cnJlbnRHcm91cERhdGEiLCJvcGVuR3JvdXAiLCJsaW5lQ2hvb3NlIiwibm9kZXMiLCJBZGROb2RlSXRlbSIsIkluc2VydE5vZGUiLCJDbGVhck5vZGUiLCJHZXREYXRhQWxsTm9kZSIsIkdldERhdGFOb2RlIiwiem9vbV9sYXN0X3ZhbHVlIiwidGFiSW5kZXgiLCJPcGVuIiwiem9vbV9yZXNldCIsImdyb3VwSWQiLCJ1cGRhdGVWaWV3Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJHZXRBbGxOb2RlIiwibnVtYmVyIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRDb250cm9sQnlLZXkiLCJ6b29tX3JlZnJlc2giLCJ0ZW1wX3pvb20iLCJWYXJpYWJsZVZpZXciLCJ2YXJpYWJsZXMiLCJSZW5kZXIiLCJWYXJpYWJsZUl0ZW0iLCJSZW5kZXJTY29wZSIsImdldEdyb3VwQ3VycmVudCIsIm5hbWVJbnB1dCIsInR5cGVJbnB1dCIsInNjb3BlSW5wdXQiLCJ2YWx1ZURlZmF1bHRJbnB1dCIsIm5hbWVDb2x1bW4iLCJ0eXBlQ29sdW1uIiwic2NvcGVDb2x1bW4iLCJ2YWx1ZURlZmF1bHRDb2x1bW4iLCJidXR0b25SZW1vdmUiLCJyZW1vdmVWYXJpYWJsZSIsImJ1dHRvblJlbW92ZUNvbHVtbiIsInByZXBlbmQiLCJUb29sYm94VmlldyIsImNvbnRyb2xzIiwiZ2V0Q29udHJvbEFsbCIsImdyb3VwTmFtZSIsIml0ZW1Cb3giLCJfaXRlbSIsIm5vZGVJdGVtIiwiZHJhZ1N0YXJ0IiwiZHJhZ2VuZCIsInNldENvbnRyb2xDaG9vc2UiLCJzZXREYXRhIiwiUHJvamVjdFZpZXciLCJnZXRQcm9qZWN0QWxsIiwiY2hlY2tQcm9qZWN0T3BlbiIsInNldFByb2plY3RPcGVuIiwiVGFiUHJvamVjdFZpZXciLCIkZWxCb2J5IiwiJGVsV2FycCIsIiRidG5OZXh0IiwiJGJ0bkJhY2siLCIkYnRuQWRkIiwiJGJ0blpvb21JbiIsIiRidG5ab29tT3V0IiwiJGJ0blpvb21SZXNldCIsIiRidG5SdW5Qcm9qZWN0Iiwic2Nyb2xsTGVmdENhY2hlIiwic2Nyb2xsTGVmdCIsImZuVXBkYXRlU2Nyb2xsIiwicGFzc2l2ZSIsInJ1bm5pbmciLCJpdGVtQWN0aXZlIiwicHJvamVjdHMiLCJwcm9qZWN0IiwicHJvamVjdEl0ZW0iLCJwcm9qZWN0TmFtZSIsInByb2plY3RCdXR0b24iLCJwcm9qZWN0QnV0dG9uUmVtb3ZlIiwicmVtb3ZlUHJvamVjdCIsIkJyZWFkY3J1bWJHcm91cFZpZXciLCJyZW5kZXIiLCJlbFVMIiwiaXNGaXJzdCIsImVsTEkyIiwiZWxMSSIsInNldEdyb3VwSWQiLCJlbFdhcnAiLCJlbEJvZHkiLCJlbEJ1dHR1bkRpdiIsIlByb3BlcnR5VmlldyIsImxhc3REYXRhIiwiaGlkZUtleXMiLCJzb3J0S2V5cyIsImhpZGUiLCJwcm9wZXJ0eUl0ZW0iLCJwcm9wZXJ0eUxhYmVsIiwicHJvcGVydHlWYWx1ZSIsIkRvY2tCYXNlIiwiY29udGFpbmVyIiwiQm94SW5mbyIsInRpdGxlIiwiJGNhbGxiYWNrIiwiQ29udHJvbERvY2siLCJWYXJpYWJsZURvY2siLCIkbm9kZVJpZ2h0IiwiYnV0dG9uTmV3IiwibmV3VmFyaWFibGUiLCJQcm9wZXJ0eURvY2siLCJWaWV3RG9jayIsIlRhYkRvY2siLCJCcmVhZGNydW1iR3JvdXBEb2NrIiwiRG9ja01hbmFnZXIiLCIkZG9ja01hbmFnZXIiLCJyZXNldCIsImFkZERvY2siLCIka2V5IiwiJHZpZXciLCIkaXRlbSIsIkNvbnRyb2wiLCJub2RlX2JlZ2luIiwiaHRtbCIsIm9ubHlOb2RlIiwibm9kZV9lbmQiLCJub2RlX2lmIiwiY29uZGl0aW9uIiwibm9kZV9ncm91cCIsIm91dHB1dCIsIm5vZGVfb3B0aW9uIiwibm9kZV9wcm9qZWN0IiwiU3lzdGVtQmFzZSIsIiRwcm9qZWN0T3BlbiIsIiRwcm9wZXJ0aWVzIiwiJGNvbnRyb2wiLCIkY29udHJvbENob29zZSIsIiRjaGVja09wdGlvbiIsIiRncm91cCIsIiRpbmRleFByb2plY3QiLCJzY29wZSIsImluaXRhbFZhbHVlIiwibmV3U29sdXRpb24iLCIkbmFtZSIsIm9wZW5Tb2x1dGlvbiIsInZhcmliYWxlIiwiYWRkVmFyaWFibGUiLCJjaGFuZ2VWYXJpYWJsZU5hbWUiLCJvbGRfbmFtZSIsIm5ld19uYW1lIiwiZmluZEluZGV4IiwiX2dyb3VwIiwiZXhwb3J0SnNvbiIsImNoZWNrSW5pdE9wdGlvbiIsImluaXRPcHRpb24iLCJpc0RlZmF1bHQiLCJjb250cm9sIiwiY29udHJvbFRlbXAiLCJsaW5lcyIsImltcG9ydEpzb24iLCIkcHJvamVjdCIsImdldFByb2plY3RCeUlkIiwicHJvamVjdERhdGEiLCIkaWQiLCIkcnVubmluZyIsInNldFJ1bm5pbmciLCJjYWxsYmFja1J1blByb2plY3QiLCJjYWxsYmFja1J1biIsImNhbGxiYWNrU3RvcFByb2plY3QiLCJwYXJzZUludCIsInZlcnNpb24iLCJ3cmFwcGVyIiwiaCIsInByb3BzIiwib3B0aW9ucyIsImFwcENvbnRleHQiLCIkbW91bnQiLCIkZWwiLCJidXR0b25FeHBvcnQiLCJkb3dubG9hZE9iamVjdEFzSnNvbiIsImV4cG9ydE9iaiIsImV4cG9ydE5hbWUiLCJkYXRhU3RyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZG93bmxvYWRBbmNob3JOb2RlIiwiYm9keSIsImNsaWNrIiwiYnV0dG9uSW1wb3J0IiwiaW5wdXRFbCIsInBhcnNlIiwiZnIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0IiwiZmlsZXMiLCJyZWFkQXNUZXh0IiwiVmlzdWFsRmxvdyIsImdldERvY2tNYW5hZ2VyIiwic2V0T3B0aW9uIiwiZ2V0TWFpbiIsIkNvcmUiLCJEb2NrIiwiRGVzZ2luZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozt1Q0FBTyxNQUFNQSxFQUFZLENBQ3ZCQyxLQUFNLE9BQ05DLFdBQVksYUFDWkMsYUFBYyxlQUNkQyxZQUFhLGNBQ2JDLFdBQVksYUFDWkMsZUFBZ0IsaUJBQ2hCQyxPQUFRLFNBQ1JDLFFBQVMsVUFDVEMsWUFBYSxjQUNiQyxTQUFVLFdBQ1ZDLEtBQU0sT0FDTkMsV0FBWSxhQUNaQyxZQUFhLGNBQ2JDLFVBQVcsYUFHQUMsRUFBVyxDQUN0QkMsS0FBTSxVQUNOQyxJQUFLLFNBQ0xDLEtBQU0sVUFDTkMsT0FBUSxZQUNSQyxNQUFPLFlBR0lDLEVBQWUsQ0FDMUJDLEtBQU0sZUFDTkMsU0FBVSxnQkFDVkMsS0FBTSxZQUNOQyxTQUFVLGdCQUNWQyxXQUFZLG1CQUdEQyxFQUFZLGFDL0JaQyxFQUNIQyxPQUFjLEdBQ3RCQyxlQUVPQyxPQUFPQyxFQUFlQyxHQUMzQkMsS0FBS0MsZUFBZUgsRUFBT0MsR0FDM0JDLEtBQUtFLEdBQUdKLEVBQU9DLEdBR1ZHLEdBQUdKLEVBQWVDLEdBRXZCLE1BQXdCLG1CQUFiQSxHQUNUSSxRQUFRQyxNQUFNLHNFQUFzRUwsSUFDN0UsR0FHWSxpQkFBVkQsR0FDVEssUUFBUUMsTUFBTSw2REFBNkROLElBQ3BFLFNBR2tCTyxJQUF2QkwsS0FBS0wsT0FBT0csS0FDZEUsS0FBS0wsT0FBT0csR0FBUyxDQUNuQlEsVUFBVyxVQUdmTixLQUFLTCxPQUFPRyxH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
