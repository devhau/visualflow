/**
   * @license
   * author: Nguyen Van Hau(nguyenvanhaudev@gmail.com)
   * visualflow.js v0.0.1
   * Released under the MIT license.
   */
var visualflow=function(){"use strict";const t="dataChange",e="showProperty",s="openProject",i="newProject",n="change",o="dispose",a="vs-left",r="vs-top",d="vs-view",h="vs-bottom",l="vs-right",c="main_project",p="main_solution",u="main_line",v=(t,e)=>t.sort<e.sort?-1:t.sort>e.sort?1:0;class m{main;elNode=document.createElement("div");elContent;constructor(t,e){this.main=e,t.appendChild(this.elNode),this.elNode.innerHTML="DockBase"}BoxInfo(t,e){this.elNode.classList.remove("vs-boxinfo"),this.elNode.classList.add("vs-boxinfo"),this.elNode.innerHTML=`<div class="vs-boxinfo_header"><span class="vs-boxinfo_title">${t}</span><span class="vs-boxinfo_button"></span></div>\n    <div class="vs-boxinfo_content"></div>`,this.elContent=this.elNode.querySelector(".vs-boxinfo_content"),e&&e(this.elContent)}}class f extends m{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-control"),this.BoxInfo("Control",(t=>{let e=this.main.getControlAll();Object.keys(e).forEach((s=>{let i=document.createElement("div");i.classList.add("node-item"),i.setAttribute("draggable","true"),i.setAttribute("data-node",s),i.innerHTML=`${e[s].icon} <span>${e[s].name}</span`,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),t.appendChild(i)}))}))}dragend(t){this.main.setControlChoose(null)}dragStart(t){let e=t.target.closest(".node-item").getAttribute("data-node");this.main.setControlChoose(e),"touchstart"!==t.type&&t.dataTransfer.setData("node",e)}}class y extends m{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-project"),this.BoxInfo("Project",this.renderUI.bind(this)),this.main.on(n,this.renderUI.bind(this)),this.main.on(s,(t=>{this.elContent?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elContent&&t?.data?.Get("id")&&this.elContent.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")}))}renderUI(){let i=this.elNode.querySelector(".vs-boxinfo_header .vs-boxinfo_button");if(this.elContent){if(this.elContent.innerHTML="",i){i.innerHTML="";let t=document.createElement("button");i?.appendChild(t),t.innerHTML="New",t.addEventListener("click",(()=>this.main.newProject("")))}this.main.getProjectAll().forEach((i=>{let n=document.createElement("div");n.classList.add("node-item"),n.innerHTML=`${i.Get("name")}`,n.setAttribute("data-project-id",i.Get("id")),i.removeListener(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),i.on(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),this.main.CheckProjectOpen(i)&&n.classList.add("active"),n.addEventListener("click",(()=>{this.main.dispatch(s,{data:i}),this.main.dispatch(e,{data:i})})),this.elContent?.appendChild(n)}))}}}var L;!function(t){t[t.Label=0]="Label",t[t.Text=1]="Text",t[t.Inline=2]="Inline"}(L||(L={}));class g{data;key;type;isEdit=!1;elInput=null;elLabel=null;elNode=document.createElement("div");constructor(e,s,i=null,n=L.Label,a=!1){this.data=e,this.key=s,this.type=n,this.data=e,this.data.onSafe(`${t}_${s}`,this.changeData.bind(this)),this.data.onSafe(o,this.dispose.bind(this)),this.isEdit=n===L.Text,this.elNode.classList.add("node-editor"),a&&i?(i.parentElement?.insertBefore(this.elNode,i),i.parentElement?.removeChild(i),i?.remove()):i&&i.appendChild(this.elNode),this.render()}render(){let t=this.data.Get(this.key);if(this.isEdit){if(this.elLabel&&(this.elLabel.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.remove(),this.elLabel=null),this.elInput)return void(this.elInput.value=t);this.elInput=document.createElement("input"),this.elInput.classList.add("node-form-control"),this.elInput.addEventListener("keydown",this.inputData.bind(this)),this.elInput.value=t,this.elInput.setAttribute("node:model",this.key),this.elNode.appendChild(this.elInput)}else{if(this.elInput&&(this.elInput.removeEventListener("keyup",this.inputData.bind(this)),this.elInput.remove(),this.elInput=null),this.elLabel)return void(this.elLabel.innerHTML=t);this.elLabel=document.createElement("span"),this.type==L.Inline&&this.elLabel.addEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.setAttribute("node:model",this.key),this.elLabel.innerHTML=t,this.elNode.appendChild(this.elLabel)}}switchModeEdit(){this.isEdit=!0,this.render()}inputData(t){setTimeout((()=>{this.data.Set(this.key,t.target.value,this)}))}changeData({key:t,value:e,sender:s}){this.render()}dispose(){this.elInput?.removeEventListener("keydown",this.inputData.bind(this)),this.elLabel?.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.data.removeListener(`${t}_${this.key}`,this.changeData.bind(this)),this.data.removeListener(o,this.dispose.bind(this))}}class C extends m{main;lastData;labelKeys=["id","key","group"];dataJson=document.createElement("textarea");constructor(t,s){super(t,s),this.main=s,this.elNode.classList.add("vs-property"),this.BoxInfo("Property",(t=>{s.on(e,(e=>{this.renderUI(t,e.data)}))}))}renderUI(e,s){if(this.lastData==s)return;this.lastData=s,e.innerHTML="";let i=s.getProperties();Object.keys(i).forEach((t=>{let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=t;let o=document.createElement("div");o.classList.add("property-value"),this.labelKeys.includes(t)?new g(s,t,o,L.Label):new g(s,t,o,L.Text),i.appendChild(n),i.appendChild(o),e.appendChild(i)})),e.appendChild(this.dataJson),this.dataJson.value=s.toString(),this.dataJson.classList.add("node-form-control"),s.on(t,(()=>this.dataJson.value=s.toString()))}}class N extends m{main;constructor(t,e){super(t,e),this.main=e,this.elNode.innerHTML="",this.elNode.classList.add("vs-tab"),this.main.on(s,(t=>{this.elNode?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elNode&&t?.data?.Get("id")&&this.elNode.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")})),this.main.on(i,this.render.bind(this))}render(){this.elNode.innerHTML="",this.main.getProjectAll().forEach((i=>{let n=document.createElement("div");n.classList.add("node-item"),n.innerHTML=`${i.Get("name")}`,n.setAttribute("data-project-id",i.Get("id")),i.removeListener(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),i.on(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),this.main.CheckProjectOpen(i)&&n.classList.add("active"),n.addEventListener("click",(()=>{this.main.dispatch(s,{data:i}),this.main.dispatch(e,{data:i})})),this.elNode?.appendChild(n)}))}}class b{events={};constructor(){}onSafe(t,e){this.removeListener(t,e),this.on(t,e)}on(t,e){return"function"!=typeof e?(console.error("The listener callback must be a function, the given type is "+typeof e),!1):"string"!=typeof t?(console.error("The event name must be a string, the given type is "+typeof t),!1):(void 0===this.events[t]&&(this.events[t]={listeners:[]}),void this.events[t].listeners.push(e))}removeListener(t,e){if(!this.events[t])return!1;const s=this.events[t].listeners,i=s.indexOf(e);i>-1&&s.splice(i,1)}dispatch(t,e){if(void 0===this.events[t])return!1;this.events[t].listeners.forEach((t=>{t(e)}))}}class k{property;data={};properties=null;events;getProperties(){return this.properties}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}constructor(t,e){this.property=t,this.events=new b,e&&this.load(e)}InitData(t=null,e=-1){-1!==e&&(this.properties=e),this.load(t)}eventDataChange(e,s,i,n,o){o?(this.dispatch(`${t}_${e}_${o}_${s}`,{key:e,keyChild:s,value:i,sender:n,index:o}),this.dispatch(`${t}_${e}_${o}`,{key:e,keyChild:s,value:i,sender:n,index:o})):this.dispatch(`${t}_${e}_${s}`,{key:e,keyChild:s,value:i,sender:n}),this.dispatch(`${t}_${e}`,{key:e,keyChild:s,value:i,sender:n})}RemoveEventData(e,s,i){e&&e.removeListener(`${t}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}OnEventData(e,s,i){e&&e.on(`${t}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}BindEvent(t,e){t&&(t instanceof k&&this.OnEventData(t,e),Array.isArray(t)&&t.length>0&&t[0]instanceof k&&t.forEach(((t,s)=>this.OnEventData(t,e,s))))}Set(e,s,i=null,o=!0){this.data[e]!=s&&(this.data[e]&&(this.data[e]instanceof k&&this.RemoveEventData(this.data[e],e),Array.isArray(this.data[e])&&this.data[e].length>0&&this.data[e][0]instanceof k&&this.data[e].forEach(((t,s)=>this.RemoveEventData(t,e,s)))),this.BindEvent(s,e)),this.data[e]=s,o&&(this.dispatch(`${t}_${e}`,{key:e,value:s,sender:i}),this.dispatch(t,{key:e,value:s,sender:i}),this.dispatch(n,{key:e,value:s,sender:i}))}SetData(t,e=null,s=!1){if(s&&(this.data={}),t instanceof k){let s=t;if(!this.property&&s.property&&(this.property=s.property),this.properties)for(let t of Object.keys(this.properties))this.Set(t,s.Get(t),e,!1);else for(let t of Object.keys(s.getProperties()))this.Set(t,s.Get(t),e,!1)}else Object.keys(t).forEach((s=>{this.Set(s,t[s],e,!1)}));this.dispatch(n,{data:t})}Get(t){return this.data[t]}Append(t,e){this.data[t]||(this.data[t]=[]),this.data[t]=[...this.data[t],e],this.BindEvent(e,t)}Remove(t,e){this.data[t].indexOf(e);var s=this.data[t].indexOf(e);s>-1&&(this.RemoveEventData(this.data[t][s],t),this.data[t].splice(s,1))}load(t){if(this.data={},this.properties||(this.properties=this.property?.getPropertyByKey(t.key)),this.properties)for(let e of Object.keys(this.properties))this.data[e]=t?.[e]??("function"==typeof this.properties[e]?.default?this.properties[e]?.default():this.properties[e]?.default)??"",this.data[e]instanceof k||!this.data[e].key||(this.data[e]=new k(this.property,this.data[e])),!Array.isArray(this.data[e])||!this.property||this.data[e][0]instanceof k||(this.data[e]=this.data[e].map((t=>t instanceof k||!t.key?t:new k(this.property,t)))),this.BindEvent(this.data[e],e)}toString(){return JSON.stringify(this.toJson())}toJson(){let t={};for(let e of Object.keys(this.properties))t[e]=this.Get(e),t[e]instanceof k&&(t[e]=t[e].toJson()),Array.isArray(t[e])&&t[e].length>0&&t[e][0]instanceof k&&(t[e]=t[e].map((t=>t.toJson())));return t}delete(){this.events=new b,this.data={}}}class E{GetId(){return this.data.Get("id")}SetId(t){return this.data.Set("id",t)}properties={};data=new k;elNode=document.createElement("div");CheckElementChild(t){return this.elNode==t||this.elNode.contains(t)}events;SetData(t,e=null){this.data.SetData(t,e)}SetDataFlow(t){this.data.SetData(t,this,!0),this.dispatch("bind_data_event",{data:t,sender:this}),this.dispatch(n,{data:t,sender:this})}onSafe(t,e){return this.events.onSafe(t,e),this}on(t,e){return this.events.on(t,e),this}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}BindDataEvent(){this.data.on(t,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t,{type:"data",key:e,value:s,sender:i})}))})),this.data.on(n,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(n,{type:"data",key:t,value:e,sender:s})}))}))}RemoveDataEvent(){this.data.removeListener(t,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t,{type:"data",key:e,value:s,sender:i})}))})),this.data.removeListener(n,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(n,{type:"data",key:t,value:e,sender:s})}))}))}constructor(){this.events=new b,this.BindDataEvent()}}class $ extends E{parent;constructor(t){super(),this.parent=t}}const I=()=>(new Date).getTime();class _{from;fromIndex;to;toIndex;elNode=document.createElementNS("http://www.w3.org/2000/svg","svg");elPath=document.createElementNS("http://www.w3.org/2000/svg","path");data=new k;curvature=.5;constructor(t,e=0,s,i=0,n=null){this.from=t,this.fromIndex=e,this.to=s,this.toIndex=i,this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elNode.classList.add("connection"),this.elNode.appendChild(this.elPath),this.from.parent.elCanvas.appendChild(this.elNode),this.from.AddLine(this),this.to?.AddLine(this),n?this.data=n:(this.data.InitData({from:this.from.GetId(),fromIndex:this.fromIndex,to:this.to?.GetId(),toIndex:this.toIndex},{...this.from.parent.main.getPropertyByKey(u)||{}}),this.from.data.Append("lines",this.data))}updateTo(t,e){if(!this.from||null==this.from.elNode)return;let{x:s,y:i}=this.from.getPostisionDot(this.fromIndex);var n=this.createCurvature(s,i,t,e,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",n)}UpdateUI(){if(this.to&&this.to.elNode){let{x:t,y:e}=this.to.getPostisionDot(this.toIndex);this.updateTo(t,e)}return this}Active(t=!0){t?this.elPath.classList.add("active"):this.elPath.classList.remove("active")}createCurvature(t,e,s,i,n,o){let a=t,r=e,d=s,h=i,l=n;switch(o){case"open":if(t>=s)var c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"close":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*l;else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"other":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;default:return" M "+a+" "+r+" C "+(c=a+Math.abs(d-a)*l)+" "+r+" "+(p=d-Math.abs(d-a)*l)+" "+h+" "+d+"  "+h}}delete(t=null,e=!0){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),e&&this.from.data.Remove("lines",this.data),this.from!=t&&this.from.RemoveLine(this),this.to!=t&&this.to?.RemoveLine(this),this.elPath.remove(),this.elNode.remove()}StartSelected(t){this.from.parent.setLineChoose(this)}setNodeTo(t,e){this.to=t,this.toIndex=e}Clone(){if(this.to&&this.toIndex)return new _(this.from,this.fromIndex,this.to,this.toIndex).UpdateUI()}}var x;!function(t){t[t.None=0]="None",t[t.Node=1]="Node",t[t.Canvas=2]="Canvas",t[t.Line=3]="Line"}(x||(x={}));class G{parent;timeFastClick=0;tagIngore=["input","button","a","textarea"];moveType=x.None;flgDrap=!1;flgMove=!1;av_x=0;av_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;tempLine;constructor(t){this.parent=t,this.parent.elNode.addEventListener("mouseup",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mouseleave",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mousemove",this.Move.bind(this)),this.parent.elNode.addEventListener("mousedown",this.StartMove.bind(this)),this.parent.elNode.addEventListener("touchend",this.EndMove.bind(this)),this.parent.elNode.addEventListener("touchmove",this.Move.bind(this)),this.parent.elNode.addEventListener("touchstart",this.StartMove.bind(this)),this.parent.elNode.addEventListener("contextmenu",this.contextmenu.bind(this)),this.parent.elNode.addEventListener("drop",this.node_dropEnd.bind(this)),this.parent.elNode.addEventListener("dragover",this.node_dragover.bind(this)),this.parent.elNode.addEventListener("wheel",this.zoom_enter.bind(this)),this.parent.elNode.addEventListener("keydown",this.keydown.bind(this))}contextmenu(t){t.preventDefault()}node_dragover(t){t.preventDefault()}node_dropEnd(t){if(t.preventDefault(),this.parent.$lock)return;let e=this.parent.main.getControlChoose();if(e||"touchend"===t.type||(e=t.dataTransfer.getData("node")),!e)return;let s=0,i=0;"touchmove"===t.type?(s=t.touches[0].clientX,i=t.touches[0].clientY):(s=t.clientX,i=t.clientY);let n=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-s),o=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-i);this.parent.checkOnlyNode(e)||this.parent.AddNode(e,{group:this.parent.CurrentGroup()}).updatePosition(n,o)}zoom_enter(t){this.parent.$lock||t.ctrlKey&&(t.preventDefault(),t.deltaY>0?this.parent.zoom_out():this.parent.zoom_in())}StartMove(t){if(this.parent.$lock)return;if(this.tagIngore.includes(t.target.tagName.toLowerCase()))return;if(this.timeFastClick=I(),t.target.classList.contains("main-path"))return;"touchstart"===t.type?(this.pos_x=t.touches[0].clientX,this.pos_y=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_y=t.clientY),this.moveType=x.Canvas;let e=this.parent.getNodeChoose();if(e&&e.CheckElementChild(t.target)?this.moveType=x.Node:this.parent.setNodeChoose(void 0),e&&this.moveType==x.Node&&t.target.classList.contains("node-dot")){this.moveType=x.Line;let s=t.target.getAttribute("node");this.tempLine=new _(e,s)}this.moveType==x.Canvas&&(this.av_x=this.parent.getX(),this.av_y=this.parent.getY()),this.flgDrap=!0,this.flgMove=!1}Move(t){if(this.parent.$lock)return;if(!this.flgDrap)return;this.flgMove=!0;let e=0,s=0;switch("touchmove"===t.type?(e=t.touches[0].clientX,s=t.touches[0].clientY):(e=t.clientX,s=t.clientY),this.moveType){case x.Canvas:{let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i);break}case x.Node:{let t=this.parent.CalcX(this.pos_x-e),i=this.parent.CalcY(this.pos_y-s);this.pos_x=e,this.pos_y=s,this.parent.getNodeChoose()?.updatePosition(t,i);break}case x.Line:if(this.tempLine){let i=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-e),n=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-s);this.tempLine.updateTo(this.parent.elCanvas.offsetLeft-i,this.parent.elCanvas.offsetTop-n);let o=t.target.closest("[node-id]"),a=o?.getAttribute("node-id"),r=a?this.parent.GetNodeById(a):void 0;if(r&&t.target.classList.contains("node-dot")){let e=t.target.getAttribute("node");this.tempLine.setNodeTo(r,e)}else{let t=o?.querySelector(".node-dot")?.[0]?.getAttribute("node");this.tempLine.setNodeTo(r,t)}}}"touchmove"===t.type&&(this.mouse_x=e,this.mouse_y=s)}EndMove(t){if(this.parent.$lock)return;if(!this.flgDrap)return;if(I()-this.timeFastClick<100||!this.flgMove)return this.moveType=x.None,this.flgDrap=!1,void(this.flgMove=!1);let e=0,s=0;if("touchend"===t.type?(e=this.mouse_x,s=this.mouse_y):(e=t.clientX,s=t.clientY),this.moveType===x.Canvas){let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i),this.av_x=0,this.av_y=0}this.tempLine&&(this.tempLine.Clone(),this.tempLine.delete(),this.tempLine=void 0),this.pos_x=e,this.pos_y=s,this.moveType=x.None,this.flgDrap=!1,this.flgMove=!1}keydown(t){this.parent.$lock||(("Delete"===t.key||"Backspace"===t.key&&t.metaKey)&&(t.preventDefault(),this.parent.getNodeChoose()?.delete(),this.parent.getLineChoose()?.delete()),"F2"===t.key&&t.preventDefault())}}class M{parent;elNode;elPathGroup=document.createElement("div");constructor(t){this.parent=t,this.elNode=t.elToolbar,this.renderUI(),this.renderPathGroup()}renderPathGroup(){this.elPathGroup.innerHTML="";let t=this.parent.GetGroupName(),e=t.length-1;if(e<0)return;let s=document.createElement("span");s.innerHTML="Root",this.elPathGroup.appendChild(s);for(let s=e;s>=0;s--){let e=document.createElement("span");e.innerHTML=`>>${t[s]}`,this.elPathGroup.appendChild(e)}}renderUI(){if(!this.elNode)return;this.elNode.innerHTML="";let t=document.createElement("button");t.addEventListener("click",(()=>this.parent.BackGroup())),t.innerHTML="Back";let e=document.createElement("button");e.addEventListener("click",(()=>this.parent.zoom_in())),e.innerHTML="Zoom+";let s=document.createElement("button");s.addEventListener("click",(()=>this.parent.zoom_out())),s.innerHTML="Zoom-",this.elNode.appendChild(this.elPathGroup),this.elNode.appendChild(t),this.elNode.appendChild(e),this.elNode.appendChild(s)}}const D=eval;class w extends ${keyNode;getName(){return this.data.Get("name")}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}CheckKey(t){return this.data.Get("key")==t}getDataLine(){return this.data.Get("lines")??[]}elContent;arrLine=[];option={};constructor(e,s,i={}){super(e),this.keyNode=s,this.option=this.parent.main.getControlNodeByKey(s),this.properties=this.option?.properties,i instanceof k?this.data=i:(this.data.InitData(i,this.properties),this.parent.data.Append("nodes",this.data)),this.data.on(t,this.renderUI.bind(this)),this.elNode.classList.add("vs-node"),this.option.class&&this.elNode.classList.add(this.option.class),this.parent.elCanvas.appendChild(this.elNode),this.elNode.setAttribute("node-id",this.GetId()),this.elNode.addEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.addEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.renderUI()}renderUI(){this.elNode.setAttribute("style","display:none;"),this.elNode.innerHTML=`\n      <div class="node-left">\n        <div class="node-dot" node="4000"></div>\n      </div>\n      <div class="node-container">\n        <div class="node-top">\n          <div class="node-dot" node="1000"></div>\n        </div>\n        <div class="node-content">\n        <div class="title">${this.option.icon} ${this.getName()}</div>\n        <div class="body">${this.option.html}</div>\n        </div>\n        <div class="node-bottom">\n          <div class="node-dot" node="2000"></div>\n        </div>\n      </div>\n      <div class="node-right">\n        <div class="node-dot"  node="3000"></div>\n      </div>\n    `,this.elContent=this.elNode.querySelector(".node-content .body"),this.UpdateUI(),D(`(node,view)=>{${this.option.script}}`)(this,this.parent)}openGroup(){this.CheckKey("node_group")&&this.parent.openGroup(this.GetId())}updatePosition(t,e,s=!1){if(this.elNode){let i=t,n=e;s||(n=this.elNode.offsetTop-e,i=this.elNode.offsetLeft-t),i!==this.getX()&&this.setX(i),n!==this.getY()&&this.setY(n)}}Active(t=!0){t?this.elNode.classList.add("active"):this.elNode.classList.remove("active")}RemoveLine(t){var e=this.arrLine.indexOf(t);return e>-1&&this.arrLine.splice(e,1),this.arrLine}AddLine(t){this.arrLine=[...this.arrLine,t]}getPostisionDot(t=0){let e=this.elNode?.querySelector(`.node-dot[node="${t}"]`);if(e){let t=this.elNode.offsetTop+e.offsetTop+10;return{x:this.elNode.offsetLeft+e.offsetLeft+10,y:t}}return{}}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((t=>{t.UpdateUI()}))}delete(e=!0){this.arrLine.forEach((t=>t.delete(this,e))),e?this.data.delete():(this.data.removeListener(t,this.renderUI.bind(this)),this.RemoveDataEvent()),this.elNode.removeEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.removeEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.elNode.remove(),this.arrLine=[],e&&this.parent.RemoveNode(this),this.dispatch(n,{})}RenderLine(){this.getDataLine().forEach((t=>{let e=this.parent.GetNodeById(t.Get("to")),s=t.Get("toIndex"),i=t.Get("fromIndex");new _(this,i,e,s,t).UpdateUI()}))}}const T=1.6,S=.6,P=.1,A=1;class B extends E{main;getZoom(){return+this.data.Get("zoom")}setZoom(t){return this.data.Set("zoom",t,this)}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}group=[];GetGroupName(){return this.group.map((t=>this.GetDataById(t)?.Get("name")))}BackGroup(){this.group.splice(0,1),this.toolbar.renderPathGroup(),this.RenderUI()}CurrentGroup(){return this.group?.[0]??"root"}openGroup(t){this.group=[t,...this.group],this.toolbar.renderPathGroup(),this.RenderUI()}lineChoose;setLineChoose(t){this.lineChoose&&this.lineChoose.Active(!1),this.lineChoose=t,this.lineChoose&&(this.lineChoose.Active(),this.setNodeChoose(void 0))}getLineChoose(){return this.lineChoose}nodes=[];nodeChoose;setNodeChoose(t){this.nodeChoose&&this.nodeChoose.Active(!1),this.nodeChoose=t,this.nodeChoose?(this.nodeChoose.Active(),this.setLineChoose(void 0),this.dispatch(e,{data:this.nodeChoose.data})):this.dispatch(e,{data:this.data})}getNodeChoose(){return this.nodeChoose}AddNodeItem(t){return this.AddNode(t.Get("key"),t)}AddNode(t,e={}){return this.InsertNode(new w(this,t,e))}InsertNode(t){return this.nodes=[...this.nodes,t],t}RemoveNode(t){var e=this.nodes.indexOf(t);return this.data.Remove("nodes",t),e>-1&&this.nodes.splice(e,1),this.nodes}ClearNode(){this.nodes?.forEach((t=>t.delete(!1))),this.nodes=[]}GetDataAllNode(){return this.data.Get("nodes")??[]}GetDataNode(){return this.GetDataAllNode().filter((t=>t.Get("group")===this.CurrentGroup()))}elCanvas=document.createElement("div");elToolbar=document.createElement("div");toolbar;$lock=!0;zoom_last_value=1;constructor(e,s){super(),this.main=s,this.elNode=e;let i=this.main.getPropertyByKey(c);this.data.InitData({},i),this.elNode.innerHTML="",this.elNode.classList.remove("desginer-view"),this.elCanvas.classList.remove("desginer-canvas"),this.elNode.classList.add("desginer-view"),this.elCanvas.classList.add("desginer-canvas"),this.elToolbar.classList.add("desginer-toolbar"),this.elNode.appendChild(this.elCanvas),this.elNode.appendChild(this.elToolbar),this.elNode.tabIndex=0,this.RenderUI(),this.on(t,this.RenderUI.bind(this)),new G(this),this.toolbar=new M(this)}updateView(t,e,s){this.elCanvas.style.transform=`translate(${t}px, ${e}px) scale(${s})`}UpdateUI(){this.updateView(this.getX(),this.getY(),this.getZoom())}RenderUI(t={}){t.sender&&t.sender instanceof w||(t.sender&&t.sender instanceof B||(this.ClearNode(),this.GetDataNode().forEach((t=>{this.AddNodeItem(t)})),this.GetAllNode().forEach((t=>{t.RenderLine()}))),this.UpdateUI())}Open(t){this.data=t,this.$lock=!1,this.group=[],this.toolbar.renderPathGroup(),this.BindDataEvent(),this.RenderUI()}CalcX(t){return t*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(t){return t*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}GetAllNode(){return this.nodes||[]}GetNodeById(t){return this.GetAllNode().filter((e=>e.GetId()==t))?.[0]}GetDataById(t){return this.GetDataAllNode().filter((e=>e.Get("id")===t))?.[0]}checkOnlyNode(t){return this.main.getControlByKey(t).onlyNode&&this.nodes.filter((e=>e.CheckKey(t))).length>0}zoom_refresh(t=0){let e=0==t?A:this.getZoom()+P*t;T>=e&&e>=S&&(this.setX(this.getX()/this.zoom_last_value*e),this.setY(this.getY()/this.zoom_last_value*e),this.zoom_last_value=e,this.setZoom(this.zoom_last_value))}zoom_in(){this.zoom_refresh(1)}zoom_out(){this.zoom_refresh(-1)}zoom_reset(){this.zoom_refresh(0)}}class j extends m{main;view;constructor(t,i){super(t,i),this.main=i,this.view=new B(this.elNode,i),this.view.on(e,(t=>{i.dispatch(e,t)})),this.main.on(s,(t=>{this.view?.Open(t.data),this.main.SetProjectOpen(t.data)}))}}class U{container;main;$dockManager={};constructor(t,e){this.container=t,this.main=e}reset(){this.$dockManager={},this.addDock(a,f),this.addDock(a,y),this.addDock(l,C),this.addDock(d,j),this.addDock(r,N),this.addDock(h,m),this.RenderUI()}addDock(t,e){this.$dockManager[t]||(this.$dockManager[t]=[]),this.$dockManager[t]=[...this.$dockManager[t],e]}RenderUI(){this.container.innerHTML='\n      <div class="vs-left vs-dock"></div>\n      <div class="vs-content">\n        <div class="vs-top vs-dock"></div>\n        <div class="vs-view vs-dock"></div>\n        <div class="vs-bottom vs-dock"></div>\n      </div>\n      <div class="vs-right vs-dock"></div>\n    ',Object.keys(this.$dockManager).forEach((t=>{let e=this.container.querySelector(`.${t}`);e&&this.$dockManager[t].forEach((t=>{new t(e,this.main)}))}))}}return class{container;$data=new k(this);$projectOpen;$properties={};$control={};$controlDefault={node_begin:{icon:'<i class="fas fa-play"></i>',sort:0,name:"Begin",class:"node-test",html:"",output:1,input:0,onlyNode:!0},node_end:{icon:'<i class="fas fa-stop"></i>',sort:0,name:"End",html:"",output:0,onlyNode:!0},node_if:{icon:'<i class="fas fa-equals"></i>',sort:0,name:"If",html:'<div>condition:<br/><input node:model="condition"/></div>',script:"",properties:{condition:{key:"condition",default:""}},output:2},node_group:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Group",html:'<div class="text-center p3"><button class="btnGoGroup">Go</button></div>',script:"node.elNode.querySelector('.btnGoGroup')?.addEventListener('click', () => {node.openGroup()});",properties:{condition:{key:"condition",default:""}},output:2}};$controlChoose=null;$dockManager;events;getDockManager(){return this.$dockManager}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}getControlAll(){return this.$control??{}}constructor(t,e=null){this.container=t,this.events=new b,this.$properties[p]={id:{default:()=>I()},key:{default:p},name:{default:()=>`solution-${I()}`},projects:{default:[]}},this.$properties[u]={key:{default:u},from:{default:0},fromIndex:{default:0},to:{default:0},toIndex:{default:0}},this.$properties[c]={...e?.properties||{},id:{default:()=>I()},name:{default:()=>`app-${I()}`},key:{default:c},x:{default:0},y:{default:0},zoom:{default:1},nodes:{default:[]}},this.$control={...e?.control||{},...this.$controlDefault};let s={};Object.keys(this.$control).map((t=>({...this.$control[t],key:t,sort:void 0===this.$control[t].sort?99999:this.$control[t].sort}))).sort(v).forEach((t=>{s[t.key]=t,this.$properties[`node_${t.key}`]={...t.properties||{},id:{default:()=>I()},key:{default:t.key},name:{default:t.key},x:{default:0},y:{default:0},group:{default:""},lines:{default:[]}}})),this.$control=s,this.container.classList.remove("vs-container"),this.container.classList.add("vs-container"),this.$dockManager=new U(this.container,this),this.$dockManager.reset(),this.$data.InitData({},this.getPropertyByKey(p))}getProjectAll(){return this.$data.Get("projects")??[]}open(t){this.$data.InitData(t,this.getPropertyByKey(p))}SetProjectOpen(t){this.$projectOpen=t}CheckProjectOpen(t){return this.$projectOpen==t}newProject(){this.openProject({}),this.dispatch(i,{})}openProject(t){if(t instanceof k){let e=this.getProjectById(t.Get("id"));e||(e=t,this.$data.Append("projects",e)),this.dispatch(s,e)}else{let i=new k(this);i.InitData(t,this.getPropertyByKey(c)),this.$data.Append("projects",i),this.dispatch(s,{data:i}),this.dispatch(e,{data:i}),this.dispatch(n,{data:i})}}getProjectById(t){return this.$data.Get("projects").filter((e=>e.Get("id")===t))?.[0]}setControlChoose(t){this.$controlChoose=t}getControlChoose(){return this.$controlChoose}getControlByKey(t){return this.$control[t]||{}}getControlNodeByKey(t){return{...this.getControlByKey(t),properties:this.getPropertyByKey(`node_${t}`)}}getPropertyByKey(t){return this.$properties[t]}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL0NvbnN0YW50LnRzIiwiLi4vc3JjL2RvY2svRG9ja0Jhc2UudHMiLCIuLi9zcmMvZG9jay9Db250cm9sRG9jay50cyIsIi4uL3NyYy9kb2NrL1Byb2plY3REb2NrLnRzIiwiLi4vc3JjL2NvcmUvRWRpdG9yLnRzIiwiLi4vc3JjL2RvY2svUHJvcGVydHlEb2NrLnRzIiwiLi4vc3JjL2RvY2svVGFiRG9jay50cyIsIi4uL3NyYy9jb3JlL0V2ZW50Rmxvdy50cyIsIi4uL3NyYy9jb3JlL0RhdGFGbG93LnRzIiwiLi4vc3JjL2NvcmUvQmFzZUZsb3cudHMiLCIuLi9zcmMvY29yZS9VdGlscy50cyIsIi4uL3NyYy9kZXNnaW5lci9MaW5lLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlld19FdmVudC50cyIsIi4uL3NyYy9kZXNnaW5lci9EZXNnaW5lclZpZXdfVG9vbGJhci50cyIsIi4uL3NyYy9kZXNnaW5lci9Ob2RlLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlldy50cyIsIi4uL3NyYy9kb2NrL1ZpZXdEb2NrLnRzIiwiLi4vc3JjL2RvY2svRG9ja01hbmFnZXIudHMiLCIuLi9zcmMvVmlzdWFsRmxvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRXZlbnRFbnVtID0ge1xyXG4gIGluaXQ6IFwiaW5pdFwiLFxyXG4gIGRhdGFDaGFuZ2U6IFwiZGF0YUNoYW5nZVwiLFxyXG4gIHNob3dQcm9wZXJ0eTogXCJzaG93UHJvcGVydHlcIixcclxuICBvcGVuUHJvamVjdDogXCJvcGVuUHJvamVjdFwiLFxyXG4gIG5ld1Byb2plY3Q6IFwibmV3UHJvamVjdFwiLFxyXG4gIGNoYW5nZTogXCJjaGFuZ2VcIixcclxuICBkaXNwb3NlOiBcImRpc3Bvc2VcIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRG9ja0VudW0gPSB7XHJcbiAgbGVmdDogXCJ2cy1sZWZ0XCIsXHJcbiAgdG9wOiBcInZzLXRvcFwiLFxyXG4gIHZpZXc6IFwidnMtdmlld1wiLFxyXG4gIGJvdHRvbTogXCJ2cy1ib3R0b21cIixcclxuICByaWdodDogXCJ2cy1yaWdodFwiLFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUHJvcGVydHlFbnVtID0ge1xyXG4gIG1haW46IFwibWFpbl9wcm9qZWN0XCIsXHJcbiAgc29sdXRpb246ICdtYWluX3NvbHV0aW9uJyxcclxuICBsaW5lOiAnbWFpbl9saW5lJyxcclxuICB2YXJpYWJsZTogJ21haW5fdmFyaWFibGUnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGFyZVNvcnQgPSAoYTogYW55LCBiOiBhbnkpID0+IHtcclxuICBpZiAoYS5zb3J0IDwgYi5zb3J0KSB7XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfVxyXG4gIGlmIChhLnNvcnQgPiBiLnNvcnQpIHtcclxuICAgIHJldHVybiAxO1xyXG4gIH1cclxuICByZXR1cm4gMDtcclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRG9ja0Jhc2Uge1xyXG4gIHB1YmxpYyBlbE5vZGU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgcHJvdGVjdGVkIGVsQ29udGVudDogRWxlbWVudCB8IHVuZGVmaW5lZCB8IG51bGw7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcclxuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICdEb2NrQmFzZSc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgQm94SW5mbyh0aXRsZTogc3RyaW5nLCAkY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgndnMtYm94aW5mbycpO1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtYm94aW5mbycpO1xyXG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ2cy1ib3hpbmZvX2hlYWRlclwiPjxzcGFuIGNsYXNzPVwidnMtYm94aW5mb190aXRsZVwiPiR7dGl0bGV9PC9zcGFuPjxzcGFuIGNsYXNzPVwidnMtYm94aW5mb19idXR0b25cIj48L3NwYW4+PC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwidnMtYm94aW5mb19jb250ZW50XCI+PC9kaXY+YDtcclxuICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLnZzLWJveGluZm9fY29udGVudCcpO1xyXG4gICAgaWYgKCRjYWxsYmFjaykge1xyXG4gICAgICAkY2FsbGJhY2sodGhpcy5lbENvbnRlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sRG9jayBleHRlbmRzIERvY2tCYXNlIHtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XHJcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtY29udHJvbCcpO1xyXG4gICAgdGhpcy5Cb3hJbmZvKCdDb250cm9sJywgKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgIGxldCBjb250cm9scyA9IHRoaXMubWFpbi5nZXRDb250cm9sQWxsKCk7XHJcbiAgICAgIE9iamVjdC5rZXlzKGNvbnRyb2xzKS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICBsZXQgbm9kZUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBub2RlSXRlbS5jbGFzc0xpc3QuYWRkKCdub2RlLWl0ZW0nKTtcclxuICAgICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcbiAgICAgICAgbm9kZUl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnLCBpdGVtKTtcclxuICAgICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtjb250cm9sc1tpdGVtXS5pY29ufSA8c3Bhbj4ke2NvbnRyb2xzW2l0ZW1dLm5hbWV9PC9zcGFuYDtcclxuICAgICAgICBub2RlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdTdGFydC5iaW5kKHRoaXMpKVxyXG4gICAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCB0aGlzLmRyYWdlbmQuYmluZCh0aGlzKSlcclxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKG5vZGVJdGVtKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcHJpdmF0ZSBkcmFnZW5kKGU6IGFueSkge1xyXG4gICAgdGhpcy5tYWluLnNldENvbnRyb2xDaG9vc2UobnVsbCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRyYWdTdGFydChlOiBhbnkpIHtcclxuICAgIGxldCBrZXkgPSBlLnRhcmdldC5jbG9zZXN0KFwiLm5vZGUtaXRlbVwiKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZScpO1xyXG4gICAgdGhpcy5tYWluLnNldENvbnRyb2xDaG9vc2Uoa2V5KTtcclxuICAgIGlmIChlLnR5cGUgIT09IFwidG91Y2hzdGFydFwiKSB7XHJcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJub2RlXCIsIGtleSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcclxuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcclxuaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi4vY29yZS9EYXRhRmxvd1wiO1xyXG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdERvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXByb2plY3QnKTtcclxuICAgIHRoaXMuQm94SW5mbygnUHJvamVjdCcsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLmNoYW5nZSwgdGhpcy5yZW5kZXJVSS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMubWFpbi5vbihFdmVudEVudW0ub3BlblByb2plY3QsIChkZXRhaWw6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLmVsQ29udGVudD8ucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpLmZvckVhY2goKF9ub2RlKSA9PiB7XHJcbiAgICAgICAgX25vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodGhpcy5lbENvbnRlbnQgJiYgZGV0YWlsPy5kYXRhPy5HZXQoJ2lkJykpIHtcclxuICAgICAgICB0aGlzLmVsQ29udGVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPVwiJHtkZXRhaWw/LmRhdGE/LkdldCgnaWQnKX1cIl1gKT8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIHByaXZhdGUgcmVuZGVyVUkoKSB7XHJcbiAgICBsZXQgJG5vZGVSaWdodDogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLnZzLWJveGluZm9faGVhZGVyIC52cy1ib3hpbmZvX2J1dHRvbicpO1xyXG4gICAgaWYgKCF0aGlzLmVsQ29udGVudCkgcmV0dXJuO1xyXG4gICAgdGhpcy5lbENvbnRlbnQuaW5uZXJIVE1MID0gYGA7XHJcbiAgICBpZiAoJG5vZGVSaWdodCkge1xyXG4gICAgICAkbm9kZVJpZ2h0LmlubmVySFRNTCA9IGBgO1xyXG4gICAgICBsZXQgYnV0dG9uTmV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICRub2RlUmlnaHQ/LmFwcGVuZENoaWxkKGJ1dHRvbk5ldyk7XHJcbiAgICAgIGJ1dHRvbk5ldy5pbm5lckhUTUwgPSBgTmV3YDtcclxuICAgICAgYnV0dG9uTmV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5tYWluLm5ld1Byb2plY3QoJycpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcHJvamVjdHMgPSB0aGlzLm1haW4uZ2V0UHJvamVjdEFsbCgpO1xyXG4gICAgcHJvamVjdHMuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcclxuICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ25vZGUtaXRlbScpO1xyXG4gICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XHJcbiAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJywgaXRlbS5HZXQoJ2lkJykpO1xyXG4gICAgICBpdGVtLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV9uYW1lYCwgKCkgPT4ge1xyXG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcclxuICAgICAgfSk7XHJcbiAgICAgIGl0ZW0ub24oYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9X25hbWVgLCAoKSA9PiB7XHJcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMubWFpbi5DaGVja1Byb2plY3RPcGVuKGl0ZW0pKSB7XHJcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhOiBpdGVtIH0pO1xyXG4gICAgICAgIHRoaXMubWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IGl0ZW0gfSk7XHJcblxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5lbENvbnRlbnQ/LmFwcGVuZENoaWxkKG5vZGVJdGVtKTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZUZsb3csIEZsb3dDb3JlIH0gZnJvbSBcIi4vQmFzZUZsb3dcIlxyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IExPRyB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbmV4cG9ydCBlbnVtIEVkaXRvclR5cGUge1xyXG4gIExhYmVsLFxyXG4gIFRleHQsXHJcbiAgSW5saW5lXHJcbn1cclxuZXhwb3J0IGNsYXNzIEVkaXRvciB7XHJcbiAgcHJpdmF0ZSBpc0VkaXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIGVsSW5wdXQ6IEhUTUxEYXRhRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgZWxMYWJlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIGVsTm9kZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGRhdGE6IERhdGFGbG93LCBwcml2YXRlIGtleTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCwgcHJpdmF0ZSB0eXBlOiBFZGl0b3JUeXBlID0gRWRpdG9yVHlwZS5MYWJlbCwgY2hhZ25lOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5kYXRhLm9uU2FmZShgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwgdGhpcy5jaGFuZ2VEYXRhLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5kYXRhLm9uU2FmZShFdmVudEVudW0uZGlzcG9zZSwgdGhpcy5kaXNwb3NlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5pc0VkaXQgPSB0eXBlID09PSBFZGl0b3JUeXBlLlRleHQ7XHJcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdub2RlLWVkaXRvcicpO1xyXG4gICAgaWYgKGNoYWduZSAmJiBlbCkge1xyXG4gICAgICBlbC5wYXJlbnRFbGVtZW50Py5pbnNlcnRCZWZvcmUodGhpcy5lbE5vZGUsIGVsKTtcclxuICAgICAgZWwucGFyZW50RWxlbWVudD8ucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgICBlbD8ucmVtb3ZlKCk7XHJcbiAgICB9IGVsc2UgaWYgKGVsKSB7XHJcbiAgICAgIGVsLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcclxuICAgIH1cclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YS5HZXQodGhpcy5rZXkpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzRWRpdCkge1xyXG4gICAgICBpZiAodGhpcy5lbExhYmVsKSB7XHJcbiAgICAgICAgdGhpcy5lbExhYmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5zd2l0Y2hNb2RlRWRpdC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmVsTGFiZWwucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5lbExhYmVsID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5lbElucHV0KSB7XHJcbiAgICAgICAgdGhpcy5lbElucHV0LnZhbHVlID0gZGF0YTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5lbElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgdGhpcy5lbElucHV0LmNsYXNzTGlzdC5hZGQoJ25vZGUtZm9ybS1jb250cm9sJyk7XHJcbiAgICAgIHRoaXMuZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XHJcbiAgICAgIHRoaXMuZWxJbnB1dC52YWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMuZWxJbnB1dC5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleSk7XHJcbiAgICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxJbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5lbElucHV0KSB7XHJcbiAgICAgICAgdGhpcy5lbElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5lbElucHV0LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuZWxJbnB1dCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZWxMYWJlbCkge1xyXG4gICAgICAgIHRoaXMuZWxMYWJlbC5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUgPT0gRWRpdG9yVHlwZS5JbmxpbmUpIHtcclxuICAgICAgICB0aGlzLmVsTGFiZWwuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLnN3aXRjaE1vZGVFZGl0LmJpbmQodGhpcykpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZWxMYWJlbC5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleSk7XHJcbiAgICAgIHRoaXMuZWxMYWJlbC5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsTGFiZWwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgc3dpdGNoTW9kZUVkaXQoKSB7XHJcbiAgICB0aGlzLmlzRWRpdCA9IHRydWU7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuICBwdWJsaWMgaW5wdXREYXRhKGU6IGFueSkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZGF0YS5TZXQodGhpcy5rZXksIGUudGFyZ2V0LnZhbHVlLCB0aGlzKTtcclxuICAgIH0pXHJcbiAgfVxyXG4gIHB1YmxpYyBjaGFuZ2VEYXRhKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkge1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcbiAgcHVibGljIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLmVsSW5wdXQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmlucHV0RGF0YS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuZWxMYWJlbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLnN3aXRjaE1vZGVFZGl0LmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke3RoaXMua2V5fWAsIHRoaXMuY2hhbmdlRGF0YS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uZGlzcG9zZSwgdGhpcy5kaXNwb3NlLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IEVkaXRvciwgRWRpdG9yVHlwZSB9IGZyb20gXCIuLi9jb3JlL0VkaXRvclwiO1xyXG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvcGVydHlEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xyXG4gIHByaXZhdGUgbGFzdERhdGE6IERhdGFGbG93IHwgdW5kZWZpbmVkO1xyXG4gIHByaXZhdGUgbGFiZWxLZXlzOiBzdHJpbmdbXSA9IFsnaWQnLCAna2V5JywgJ2dyb3VwJ107XHJcbiAgcHJpdmF0ZSBkYXRhSnNvbjogSFRNTFRleHRBcmVhRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcclxuXHJcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1wcm9wZXJ0eScpO1xyXG4gICAgdGhpcy5Cb3hJbmZvKCdQcm9wZXJ0eScsIChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICBtYWluLm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkZXRhaWw6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVuZGVyVUkobm9kZSwgZGV0YWlsLmRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgcmVuZGVyVUkobm9kZTogSFRNTEVsZW1lbnQsIGRhdGE6IERhdGFGbG93KSB7XHJcbiAgICBpZiAodGhpcy5sYXN0RGF0YSA9PSBkYXRhKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMubGFzdERhdGEgPSBkYXRhO1xyXG4gICAgbm9kZS5pbm5lckhUTUwgPSAnJztcclxuICAgIGxldCBwcm9wZXJ0aWVzOiBhbnkgPSBkYXRhLmdldFByb3BlcnRpZXMoKVxyXG4gICAgT2JqZWN0LmtleXMocHJvcGVydGllcykuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgbGV0IHByb3BlcnR5SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwcm9wZXJ0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvcGVydHktaXRlbScpO1xyXG4gICAgICBsZXQgcHJvcGVydHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwcm9wZXJ0eUxhYmVsLmNsYXNzTGlzdC5hZGQoJ3Byb3BlcnR5LWxhYmVsJyk7XHJcbiAgICAgIHByb3BlcnR5TGFiZWwuaW5uZXJIVE1MID0ga2V5O1xyXG4gICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwcm9wZXJ0eVZhbHVlLmNsYXNzTGlzdC5hZGQoJ3Byb3BlcnR5LXZhbHVlJyk7XHJcbiAgICAgIGlmICh0aGlzLmxhYmVsS2V5cy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgbmV3IEVkaXRvcihkYXRhLCBrZXksIHByb3BlcnR5VmFsdWUsIEVkaXRvclR5cGUuTGFiZWwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ldyBFZGl0b3IoZGF0YSwga2V5LCBwcm9wZXJ0eVZhbHVlLCBFZGl0b3JUeXBlLlRleHQpO1xyXG4gICAgICB9XHJcbiAgICAgIHByb3BlcnR5SXRlbS5hcHBlbmRDaGlsZChwcm9wZXJ0eUxhYmVsKTtcclxuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5VmFsdWUpO1xyXG4gICAgICBub2RlLmFwcGVuZENoaWxkKHByb3BlcnR5SXRlbSk7XHJcbiAgICB9KTtcclxuICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kYXRhSnNvbik7XHJcbiAgICB0aGlzLmRhdGFKc29uLnZhbHVlID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgdGhpcy5kYXRhSnNvbi5jbGFzc0xpc3QuYWRkKCdub2RlLWZvcm0tY29udHJvbCcpO1xyXG4gICAgZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgKCkgPT4gdGhpcy5kYXRhSnNvbi52YWx1ZSA9IGRhdGEudG9TdHJpbmcoKSlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XHJcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgYDtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXRhYicpO1xyXG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgKGRldGFpbDogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMuZWxOb2RlPy5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aXZlJykuZm9yRWFjaCgoX25vZGUpID0+IHtcclxuICAgICAgICBfbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh0aGlzLmVsTm9kZSAmJiBkZXRhaWw/LmRhdGE/LkdldCgnaWQnKSkge1xyXG4gICAgICAgIHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke2RldGFpbD8uZGF0YT8uR2V0KCdpZCcpfVwiXWApPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm5ld1Byb2plY3QsIHRoaXMucmVuZGVyLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYGA7XHJcbiAgICBsZXQgcHJvamVjdHMgPSB0aGlzLm1haW4uZ2V0UHJvamVjdEFsbCgpO1xyXG4gICAgcHJvamVjdHMuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcclxuICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ25vZGUtaXRlbScpO1xyXG4gICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XHJcbiAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJywgaXRlbS5HZXQoJ2lkJykpO1xyXG4gICAgICBpdGVtLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV9uYW1lYCwgKCkgPT4ge1xyXG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcclxuICAgICAgfSk7XHJcbiAgICAgIGl0ZW0ub24oYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9X25hbWVgLCAoKSA9PiB7XHJcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMubWFpbi5DaGVja1Byb2plY3RPcGVuKGl0ZW0pKSB7XHJcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhOiBpdGVtIH0pO1xyXG4gICAgICAgIHRoaXMubWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IGl0ZW0gfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmVsTm9kZT8uYXBwZW5kQ2hpbGQobm9kZUl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBFdmVudEZsb3cge1xyXG4gIHByaXZhdGUgZXZlbnRzOiBhbnkgPSB7fTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7IH1cclxuICBwdWJsaWMgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgIHRoaXMub24oZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgLyogRXZlbnRzICovXHJcbiAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBUaGUgbGlzdGVuZXIgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLCB0aGUgZ2l2ZW4gdHlwZSBpcyAke3R5cGVvZiBjYWxsYmFja31gKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGV2ZW50IGlzIG5vdCBhIHN0cmluZ1xyXG4gICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGV2ZW50IG5hbWUgbXVzdCBiZSBhIHN0cmluZywgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgZXZlbnR9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHtcclxuICAgICAgICBsaXN0ZW5lcnM6IFtdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXHJcblxyXG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudF0pIHJldHVybiBmYWxzZVxyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnNcclxuICAgIGNvbnN0IGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaylcclxuICAgIGNvbnN0IGhhc0xpc3RlbmVyID0gbGlzdGVuZXJJbmRleCA+IC0xXHJcbiAgICBpZiAoaGFzTGlzdGVuZXIpIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4ge1xyXG4gICAgICBsaXN0ZW5lcihkZXRhaWxzKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJUHJvcGVydHkgfSBmcm9tIFwiLi9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tIFwiLi9FdmVudEZsb3dcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhRmxvdyB7XHJcbiAgcHJpdmF0ZSBkYXRhOiBhbnkgPSB7fTtcclxuICBwcml2YXRlIHByb3BlcnRpZXM6IGFueSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcclxuICBwdWJsaWMgZ2V0UHJvcGVydGllcygpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllcztcclxuICB9XHJcbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuXHJcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHByb3BlcnR5OiBJUHJvcGVydHkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGRhdGE6IGFueSA9IHVuZGVmaW5lZCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICB0aGlzLmxvYWQoZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBJbml0RGF0YShkYXRhOiBhbnkgPSBudWxsLCBwcm9wZXJ0aWVzOiBhbnkgPSAtMSkge1xyXG4gICAgaWYgKHByb3BlcnRpZXMgIT09IC0xKSB7XHJcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvYWQoZGF0YSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZXZlbnREYXRhQ2hhbmdlKGtleTogc3RyaW5nLCBrZXlDaGlsZDogc3RyaW5nLCB2YWx1ZUNoaWxkOiBhbnksIHNlbmRlckNoaWxkOiBhbnksIGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgIGlmIChpbmRleCkge1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtpbmRleH1fJHtrZXlDaGlsZH1gLCB7XHJcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtpbmRleH1gLCB7XHJcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7a2V5Q2hpbGR9YCwge1xyXG4gICAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBSZW1vdmVFdmVudERhdGEoaXRlbTogRGF0YUZsb3csIGtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuICAgIGl0ZW0ucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9YCwgKHsga2V5OiBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQgfTogYW55KSA9PiB0aGlzLmV2ZW50RGF0YUNoYW5nZShrZXksIGtleUNoaWxkLCB2YWx1ZUNoaWxkLCBzZW5kZXJDaGlsZCwgaW5kZXgpKTtcclxuICB9XHJcbiAgcHVibGljIE9uRXZlbnREYXRhKGl0ZW06IERhdGFGbG93LCBrZXk6IHN0cmluZywgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgaWYgKCFpdGVtKSByZXR1cm47XHJcbiAgICBpdGVtLm9uKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfWAsICh7IGtleToga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkIH06IGFueSkgPT4gdGhpcy5ldmVudERhdGFDaGFuZ2Uoa2V5LCBrZXlDaGlsZCwgdmFsdWVDaGlsZCwgc2VuZGVyQ2hpbGQsIGluZGV4KSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgQmluZEV2ZW50KHZhbHVlOiBhbnksIGtleTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XHJcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICB0aGlzLk9uRXZlbnREYXRhKHZhbHVlIGFzIERhdGFGbG93LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmICh2YWx1ZSBhcyBbXSkubGVuZ3RoID4gMCAmJiB2YWx1ZVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XHJcbiAgICAgICh2YWx1ZSBhcyBEYXRhRmxvd1tdKS5mb3JFYWNoKChpdGVtOiBEYXRhRmxvdywgaW5kZXg6IG51bWJlcikgPT4gdGhpcy5PbkV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBTZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCwgaXNEaXNwYXRjaDogYm9vbGVhbiA9IHRydWUpIHtcclxuICAgIGlmICh0aGlzLmRhdGFba2V5XSAhPSB2YWx1ZSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRhW2tleV0pIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgICAgdGhpcy5SZW1vdmVFdmVudERhdGEoKHRoaXMuZGF0YVtrZXldIGFzIERhdGFGbG93KSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmICh0aGlzLmRhdGFba2V5XSBhcyBbXSkubGVuZ3RoID4gMCAmJiB0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XHJcbiAgICAgICAgICAodGhpcy5kYXRhW2tleV0gYXMgRGF0YUZsb3dbXSkuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3csIGluZGV4OiBudW1iZXIpID0+IHRoaXMuUmVtb3ZlRXZlbnREYXRhKGl0ZW0sIGtleSwgaW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5CaW5kRXZlbnQodmFsdWUsIGtleSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgaWYgKGlzRGlzcGF0Y2gpIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgcHVibGljIFNldERhdGEoZGF0YTogYW55LCBzZW5kZXI6IGFueSA9IG51bGwsIGlzQ2xlYXJEYXRhID0gZmFsc2UpIHtcclxuXHJcbiAgICBpZiAoaXNDbGVhckRhdGEpIHRoaXMuZGF0YSA9IHt9O1xyXG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICBsZXQgJGRhdGE6IERhdGFGbG93ID0gZGF0YSBhcyBEYXRhRmxvdztcclxuICAgICAgaWYgKCF0aGlzLnByb3BlcnR5ICYmICRkYXRhLnByb3BlcnR5KSB0aGlzLnByb3BlcnR5ID0gJGRhdGEucHJvcGVydHk7XHJcbiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcclxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgdGhpcy5TZXQoa2V5LCAkZGF0YS5HZXQoa2V5KSwgc2VuZGVyLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cygkZGF0YS5nZXRQcm9wZXJ0aWVzKCkpKSB7XHJcbiAgICAgICAgICB0aGlzLlNldChrZXksICRkYXRhLkdldChrZXkpLCBzZW5kZXIsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgdGhpcy5TZXQoa2V5LCBkYXRhW2tleV0sIHNlbmRlciwgZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcclxuICAgICAgZGF0YVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBHZXQoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFba2V5XTtcclxuICB9XHJcbiAgcHVibGljIEFwcGVuZChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgaWYgKCF0aGlzLmRhdGFba2V5XSkgdGhpcy5kYXRhW2tleV0gPSBbXTtcclxuICAgIHRoaXMuZGF0YVtrZXldID0gWy4uLnRoaXMuZGF0YVtrZXldLCB2YWx1ZV07XHJcbiAgICB0aGlzLkJpbmRFdmVudCh2YWx1ZSwga2V5KTtcclxuICB9XHJcbiAgcHVibGljIFJlbW92ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGFba2V5XS5pbmRleE9mKHZhbHVlKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKHRoaXMuZGF0YVtrZXldW2luZGV4XSwga2V5KTtcclxuICAgICAgdGhpcy5kYXRhW2tleV0uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIGxvYWQoZGF0YTogYW55KSB7XHJcbiAgICB0aGlzLmRhdGEgPSB7fTtcclxuICAgIGlmICghdGhpcy5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMucHJvcGVydHk/LmdldFByb3BlcnR5QnlLZXkoZGF0YS5rZXkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucHJvcGVydGllcykge1xyXG4gICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgIHRoaXMuZGF0YVtrZXldID0gKGRhdGE/LltrZXldID8/ICgodHlwZW9mIHRoaXMucHJvcGVydGllc1trZXldPy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnByb3BlcnRpZXNba2V5XT8uZGVmYXVsdCgpIDogdGhpcy5wcm9wZXJ0aWVzW2tleV0/LmRlZmF1bHQpID8/IFwiXCIpKTtcclxuICAgICAgICBpZiAoISh0aGlzLmRhdGFba2V5XSBpbnN0YW5jZW9mIERhdGFGbG93KSAmJiB0aGlzLmRhdGFba2V5XS5rZXkpIHtcclxuICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gbmV3IERhdGFGbG93KHRoaXMucHJvcGVydHksIHRoaXMuZGF0YVtrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmIHRoaXMucHJvcGVydHkgJiYgISh0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSkge1xyXG4gICAgICAgICAgdGhpcy5kYXRhW2tleV0gPSB0aGlzLmRhdGFba2V5XS5tYXAoKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgRGF0YUZsb3cpICYmIGl0ZW0ua2V5KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhRmxvdyh0aGlzLnByb3BlcnR5LCBpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuQmluZEV2ZW50KHRoaXMuZGF0YVtrZXldLCBrZXkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSnNvbigpKTtcclxuICB9XHJcbiAgcHVibGljIHRvSnNvbigpIHtcclxuICAgIGxldCByczogYW55ID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICByc1trZXldID0gdGhpcy5HZXQoa2V5KTtcclxuICAgICAgaWYgKHJzW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLnRvSnNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJzW2tleV0pICYmIChyc1trZXldIGFzIFtdKS5sZW5ndGggPiAwICYmIHJzW2tleV1bMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLm1hcCgoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0udG9Kc29uKCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcnM7XHJcbiAgfVxyXG4gIHB1YmxpYyBkZWxldGUoKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcclxuICAgIHRoaXMuZGF0YSA9IHt9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gXCIuL0V2ZW50Rmxvd1wiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJvcGVydHkge1xyXG4gIGdldFByb3BlcnR5QnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJQ29udHJvbE5vZGUgZXh0ZW5kcyBJUHJvcGVydHkge1xyXG4gIGdldENvbnRyb2xOb2RlQnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnQge1xyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpOiB2b2lkO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1haW4gZXh0ZW5kcyBJQ29udHJvbE5vZGUsIElFdmVudCB7XHJcbiAgbmV3UHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBvcGVuUHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBnZXRQcm9qZWN0QWxsKCk6IGFueVtdO1xyXG4gIFNldFByb2plY3RPcGVuKCRkYXRhOiBhbnkpOiB2b2lkO1xyXG4gIENoZWNrUHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IGJvb2xlYW47XHJcbiAgb3BlbigkZGF0YTogYW55KTogdm9pZDtcclxuICBnZXRDb250cm9sQWxsKCk6IGFueVtdO1xyXG4gIHNldENvbnRyb2xDaG9vc2Uoa2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZDtcclxuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGw7XHJcbiAgZ2V0Q29udHJvbEJ5S2V5KGtleTogc3RyaW5nKTogYW55O1xyXG59XHJcbmV4cG9ydCBjbGFzcyBGbG93Q29yZSBpbXBsZW1lbnRzIElFdmVudCB7XHJcbiAgcHVibGljIEdldElkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2lkJyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBTZXRJZChpZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgnaWQnLCBpZCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcclxuICBwdWJsaWMgZGF0YTogRGF0YUZsb3cgPSBuZXcgRGF0YUZsb3coKTtcclxuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICBwdWJsaWMgQ2hlY2tFbGVtZW50Q2hpbGQoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbE5vZGUgPT0gZWwgfHwgdGhpcy5lbE5vZGUuY29udGFpbnMoZWwpO1xyXG4gIH1cclxuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xyXG4gIHB1YmxpYyBTZXREYXRhKGRhdGE6IGFueSwgc2VuZGVyOiBhbnkgPSBudWxsKSB7XHJcbiAgICB0aGlzLmRhdGEuU2V0RGF0YShkYXRhLCBzZW5kZXIpO1xyXG4gIH1cclxuICBwdWJsaWMgU2V0RGF0YUZsb3coZGF0YTogRGF0YUZsb3cpIHtcclxuICAgIHRoaXMuZGF0YS5TZXREYXRhKGRhdGEsIHRoaXMsIHRydWUpO1xyXG5cclxuICAgIHRoaXMuZGlzcGF0Y2goYGJpbmRfZGF0YV9ldmVudGAsIHsgZGF0YSwgc2VuZGVyOiB0aGlzIH0pO1xyXG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7IGRhdGEsIHNlbmRlcjogdGhpcyB9KTtcclxuICB9XHJcbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XHJcbiAgfVxyXG4gIEJpbmREYXRhRXZlbnQoKSB7XHJcbiAgICB0aGlzLmRhdGEub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uY2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFJlbW92ZURhdGFFdmVudCgpIHtcclxuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uZGF0YUNoYW5nZSwgKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5jaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICB0aGlzLkJpbmREYXRhRXZlbnQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCYXNlRmxvdzxUUGFyZW50IGV4dGVuZHMgRmxvd0NvcmU+IGV4dGVuZHMgRmxvd0NvcmUge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgcGFyZW50OiBUUGFyZW50KSB7XHJcbiAgICBzdXBlcigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgTE9HID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4gY29uc29sZS5sb2cobWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMpO1xyXG5leHBvcnQgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IChuZXcgRGF0ZSgpKTtcclxuZXhwb3J0IGNvbnN0IGdldFRpbWUgPSAoKSA9PiBnZXREYXRlKCkuZ2V0VGltZSgpO1xyXG5leHBvcnQgY29uc3QgZ2V0VXVpZCA9ICgpID0+IHtcclxuICAvLyBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxyXG4gIGxldCBzOiBhbnkgPSBbXTtcclxuICBsZXQgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XHJcbiAgICBzW2ldID0gaGV4RGlnaXRzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwKSwgMSk7XHJcbiAgfVxyXG4gIHNbMTRdID0gXCI0XCI7ICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcclxuICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7ICAvLyBiaXRzIDYtNyBvZiB0aGUgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCB0byAwMVxyXG4gIHNbOF0gPSBzWzEzXSA9IHNbMThdID0gc1syM10gPSBcIi1cIjtcclxuXHJcbiAgbGV0IHV1aWQgPSBzLmpvaW4oXCJcIik7XHJcbiAgcmV0dXJuIHV1aWQ7XHJcbn1cclxuIiwiaW1wb3J0IHsgUHJvcGVydHlFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi9Ob2RlXCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIHtcbiAgcHVibGljIGVsTm9kZTogU1ZHRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBcInN2Z1wiKTtcbiAgcHVibGljIGVsUGF0aDogU1ZHUGF0aEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJwYXRoXCIpO1xuICBwcml2YXRlIGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KCk7XG4gIHByaXZhdGUgY3VydmF0dXJlOiBudW1iZXIgPSAwLjU7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZnJvbTogTm9kZSwgcHVibGljIGZyb21JbmRleDogbnVtYmVyID0gMCwgcHVibGljIHRvOiBOb2RlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBwdWJsaWMgdG9JbmRleDogbnVtYmVyID0gMCwgZGF0YTogYW55ID0gbnVsbCkge1xuICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoXCJtYWluLXBhdGhcIik7XG4gICAgdGhpcy5lbFBhdGguYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnJyk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZChcImNvbm5lY3Rpb25cIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGgpO1xuICAgIHRoaXMuZnJvbS5wYXJlbnQuZWxDYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuXG4gICAgdGhpcy5mcm9tLkFkZExpbmUodGhpcyk7XG4gICAgdGhpcy50bz8uQWRkTGluZSh0aGlzKTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kYXRhLkluaXREYXRhKFxuICAgICAge1xuICAgICAgICBmcm9tOiB0aGlzLmZyb20uR2V0SWQoKSxcbiAgICAgICAgZnJvbUluZGV4OiB0aGlzLmZyb21JbmRleCxcbiAgICAgICAgdG86IHRoaXMudG8/LkdldElkKCksXG4gICAgICAgIHRvSW5kZXg6IHRoaXMudG9JbmRleFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLi4uIHRoaXMuZnJvbS5wYXJlbnQubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5saW5lKSB8fCB7fVxuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5mcm9tLmRhdGEuQXBwZW5kKCdsaW5lcycsIHRoaXMuZGF0YSk7XG4gIH1cbiAgcHVibGljIHVwZGF0ZVRvKHRvX3g6IG51bWJlciwgdG9feTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLmZyb20gfHwgdGhpcy5mcm9tLmVsTm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgbGV0IHsgeDogZnJvbV94LCB5OiBmcm9tX3kgfTogYW55ID0gdGhpcy5mcm9tLmdldFBvc3Rpc2lvbkRvdCh0aGlzLmZyb21JbmRleCk7XG4gICAgdmFyIGxpbmVDdXJ2ZSA9IHRoaXMuY3JlYXRlQ3VydmF0dXJlKGZyb21feCwgZnJvbV95LCB0b194LCB0b195LCB0aGlzLmN1cnZhdHVyZSwgJ29wZW5jbG9zZScpO1xuICAgIHRoaXMuZWxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgbGluZUN1cnZlKTtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKTogTGluZSB7XG4gICAgLy9Qb3N0aW9uIG91dHB1dFxuICAgIGlmICh0aGlzLnRvICYmIHRoaXMudG8uZWxOb2RlKSB7XG4gICAgICBsZXQgeyB4OiB0b194LCB5OiB0b195IH06IGFueSA9IHRoaXMudG8uZ2V0UG9zdGlzaW9uRG90KHRoaXMudG9JbmRleCk7XG4gICAgICB0aGlzLnVwZGF0ZVRvKHRvX3gsIHRvX3kpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgQWN0aXZlKGZsZzogYW55ID0gdHJ1ZSkge1xuICAgIGlmIChmbGcpIHtcbiAgICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBjcmVhdGVDdXJ2YXR1cmUoc3RhcnRfcG9zX3g6IG51bWJlciwgc3RhcnRfcG9zX3k6IG51bWJlciwgZW5kX3Bvc194OiBudW1iZXIsIGVuZF9wb3NfeTogbnVtYmVyLCBjdXJ2YXR1cmVfdmFsdWU6IG51bWJlciwgdHlwZTogc3RyaW5nKSB7XG4gICAgbGV0IGxpbmVfeCA9IHN0YXJ0X3Bvc194O1xuICAgIGxldCBsaW5lX3kgPSBzdGFydF9wb3NfeTtcbiAgICBsZXQgeCA9IGVuZF9wb3NfeDtcbiAgICBsZXQgeSA9IGVuZF9wb3NfeTtcbiAgICBsZXQgY3VydmF0dXJlID0gY3VydmF0dXJlX3ZhbHVlO1xuICAgIC8vdHlwZSBvcGVuY2xvc2Ugb3BlbiBjbG9zZSBvdGhlclxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnb3Blbic6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ290aGVyJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuXG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcbiAgICB9XG4gIH1cbiAgcHVibGljIGRlbGV0ZShub2RlVGhpczogYW55ID0gbnVsbCwgaXNDbGVhckRhdGEgPSB0cnVlKSB7XG4gICAgdGhpcy5lbFBhdGg/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICBpZiAoaXNDbGVhckRhdGEpXG4gICAgICB0aGlzLmZyb20uZGF0YS5SZW1vdmUoJ2xpbmVzJywgdGhpcy5kYXRhKTtcbiAgICBpZiAodGhpcy5mcm9tICE9IG5vZGVUaGlzKVxuICAgICAgdGhpcy5mcm9tLlJlbW92ZUxpbmUodGhpcyk7XG4gICAgaWYgKHRoaXMudG8gIT0gbm9kZVRoaXMpXG4gICAgICB0aGlzLnRvPy5SZW1vdmVMaW5lKHRoaXMpO1xuICAgIHRoaXMuZWxQYXRoLnJlbW92ZSgpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZSgpO1xuICB9XG4gIHB1YmxpYyBTdGFydFNlbGVjdGVkKGU6IGFueSkge1xuICAgIHRoaXMuZnJvbS5wYXJlbnQuc2V0TGluZUNob29zZSh0aGlzKVxuICB9XG4gIHB1YmxpYyBzZXROb2RlVG8obm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgdG9JbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy50byA9IG5vZGU7XG4gICAgdGhpcy50b0luZGV4ID0gdG9JbmRleDtcbiAgfVxuICBwdWJsaWMgQ2xvbmUoKSB7XG4gICAgaWYgKHRoaXMudG8gJiYgdGhpcy50b0luZGV4KSB7XG4gICAgICByZXR1cm4gbmV3IExpbmUodGhpcy5mcm9tLCB0aGlzLmZyb21JbmRleCwgdGhpcy50bywgdGhpcy50b0luZGV4KS5VcGRhdGVVSSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0VGltZSB9IGZyb20gXCIuLi9jb3JlL1V0aWxzXCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xuXG5leHBvcnQgZW51bSBNb3ZlVHlwZSB7XG4gIE5vbmUgPSAwLFxuICBOb2RlID0gMSxcbiAgQ2FudmFzID0gMixcbiAgTGluZSA9IDMsXG59XG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3X0V2ZW50IHtcblxuICBwcml2YXRlIHRpbWVGYXN0Q2xpY2s6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgdGFnSW5nb3JlID0gWydpbnB1dCcsICdidXR0b24nLCAnYScsICd0ZXh0YXJlYSddO1xuXG4gIHByaXZhdGUgbW92ZVR5cGU6IE1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgcHJpdmF0ZSBmbGdEcmFwOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgZmxnTW92ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgYXZfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBhdl95OiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgcG9zX3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgcG9zX3k6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtb3VzZV95OiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgdGVtcExpbmU6IExpbmUgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudDogRGVzZ2luZXJWaWV3KSB7XG4gICAgLyogTW91c2UgYW5kIFRvdWNoIEFjdGlvbnMgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLlN0YXJ0TW92ZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XG4gICAgLyogQ29udGV4dCBNZW51ICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5jb250ZXh0bWVudS5iaW5kKHRoaXMpKTtcblxuICAgIC8qIERyb3AgRHJhcCAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5ub2RlX2Ryb3BFbmQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5ub2RlX2RyYWdvdmVyLmJpbmQodGhpcykpO1xuICAgIC8qIFpvb20gTW91c2UgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLnpvb21fZW50ZXIuYmluZCh0aGlzKSk7XG4gICAgLyogRGVsZXRlICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd24uYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcml2YXRlIGNvbnRleHRtZW51KGV2OiBhbnkpIHsgZXYucHJldmVudERlZmF1bHQoKTsgfVxuICBwcml2YXRlIG5vZGVfZHJhZ292ZXIoZXY6IGFueSkgeyBldi5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gIHByaXZhdGUgbm9kZV9kcm9wRW5kKGV2OiBhbnkpIHtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGxldCBrZXlOb2RlOiBhbnkgPSB0aGlzLnBhcmVudC5tYWluLmdldENvbnRyb2xDaG9vc2UoKTtcbiAgICBpZiAoIWtleU5vZGUgJiYgZXYudHlwZSAhPT0gXCJ0b3VjaGVuZFwiKSB7XG4gICAgICBrZXlOb2RlID0gZXYuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJub2RlXCIpO1xuICAgIH1cbiAgICBpZiAoIWtleU5vZGUpIHJldHVybjtcbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChldi50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICBlX3Bvc194ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGV2LmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYuY2xpZW50WTtcbiAgICB9XG4gICAgbGV0IHggPSB0aGlzLnBhcmVudC5DYWxjWCh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54IC0gZV9wb3NfeCk7XG4gICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XG5cbiAgICBpZiAodGhpcy5wYXJlbnQuY2hlY2tPbmx5Tm9kZShrZXlOb2RlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9kZUl0ZW0gPSB0aGlzLnBhcmVudC5BZGROb2RlKGtleU5vZGUsIHtcbiAgICAgIGdyb3VwOiB0aGlzLnBhcmVudC5DdXJyZW50R3JvdXAoKVxuICAgIH0pO1xuICAgIG5vZGVJdGVtLnVwZGF0ZVBvc2l0aW9uKHgsIHkpO1xuICB9XG4gIHB1YmxpYyB6b29tX2VudGVyKGV2ZW50OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoZXZlbnQuY3RybEtleSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgaWYgKGV2ZW50LmRlbHRhWSA+IDApIHtcbiAgICAgICAgLy8gWm9vbSBPdXRcbiAgICAgICAgdGhpcy5wYXJlbnQuem9vbV9vdXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFpvb20gSW5cbiAgICAgICAgdGhpcy5wYXJlbnQuem9vbV9pbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcml2YXRlIFN0YXJ0TW92ZShldjogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKHRoaXMudGFnSW5nb3JlLmluY2x1ZGVzKGV2LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGltZUZhc3RDbGljayA9IGdldFRpbWUoKTtcbiAgICBpZiAoZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1wYXRoJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICB0aGlzLnBvc194ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wb3NfeCA9IGV2LmNsaWVudFg7XG4gICAgICB0aGlzLnBvc195ID0gZXYuY2xpZW50WTtcbiAgICB9XG4gICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLkNhbnZhcztcbiAgICBsZXQgbm9kZUNob29zZSA9IHRoaXMucGFyZW50LmdldE5vZGVDaG9vc2UoKTtcbiAgICBpZiAobm9kZUNob29zZSAmJiBub2RlQ2hvb3NlLkNoZWNrRWxlbWVudENoaWxkKGV2LnRhcmdldCkpIHtcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGlmIChub2RlQ2hvb3NlICYmIHRoaXMubW92ZVR5cGUgPT0gTW92ZVR5cGUuTm9kZSAmJiBldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibm9kZS1kb3RcIikpIHtcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5MaW5lO1xuICAgICAgbGV0IGZyb21JbmRleCA9IGV2LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ25vZGUnKTtcbiAgICAgIHRoaXMudGVtcExpbmUgPSBuZXcgTGluZShub2RlQ2hvb3NlLCBmcm9tSW5kZXgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PSBNb3ZlVHlwZS5DYW52YXMpIHtcbiAgICAgIHRoaXMuYXZfeCA9IHRoaXMucGFyZW50LmdldFgoKTtcbiAgICAgIHRoaXMuYXZfeSA9IHRoaXMucGFyZW50LmdldFkoKTtcbiAgICB9XG4gICAgdGhpcy5mbGdEcmFwID0gdHJ1ZTtcbiAgICB0aGlzLmZsZ01vdmUgPSBmYWxzZTtcbiAgfVxuICBwdWJsaWMgTW92ZShldjogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLmZsZ0RyYXApIHJldHVybjtcbiAgICB0aGlzLmZsZ01vdmUgPSB0cnVlO1xuICAgIGxldCBlX3Bvc194ID0gMDtcbiAgICBsZXQgZV9wb3NfeSA9IDA7XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIGVfcG9zX3ggPSBldi50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0gZWxzZSB7XG4gICAgICBlX3Bvc194ID0gZXYuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi5jbGllbnRZO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMubW92ZVR5cGUpIHtcbiAgICAgIGNhc2UgTW92ZVR5cGUuQ2FudmFzOlxuICAgICAgICB7XG4gICAgICAgICAgbGV0IHggPSB0aGlzLmF2X3ggKyB0aGlzLnBhcmVudC5DYWxjWCgtKHRoaXMucG9zX3ggLSBlX3Bvc194KSlcbiAgICAgICAgICBsZXQgeSA9IHRoaXMuYXZfeSArIHRoaXMucGFyZW50LkNhbGNZKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKVxuICAgICAgICAgIHRoaXMucGFyZW50LnNldFgoeCk7XG4gICAgICAgICAgdGhpcy5wYXJlbnQuc2V0WSh5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBNb3ZlVHlwZS5Ob2RlOlxuICAgICAgICB7XG4gICAgICAgICAgbGV0IHggPSB0aGlzLnBhcmVudC5DYWxjWCh0aGlzLnBvc194IC0gZV9wb3NfeCk7XG4gICAgICAgICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBvc195IC0gZV9wb3NfeSk7XG4gICAgICAgICAgdGhpcy5wb3NfeCA9IGVfcG9zX3g7XG4gICAgICAgICAgdGhpcy5wb3NfeSA9IGVfcG9zX3k7XG4gICAgICAgICAgdGhpcy5wYXJlbnQuZ2V0Tm9kZUNob29zZSgpPy51cGRhdGVQb3NpdGlvbih4LCB5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBNb3ZlVHlwZS5MaW5lOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKHRoaXMudGVtcExpbmUpIHtcbiAgICAgICAgICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCAtIGVfcG9zX3gpO1xuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnVwZGF0ZVRvKHRoaXMucGFyZW50LmVsQ2FudmFzLm9mZnNldExlZnQgLSB4LCB0aGlzLnBhcmVudC5lbENhbnZhcy5vZmZzZXRUb3AgLSB5KTtcbiAgICAgICAgICAgIGxldCBub2RlRWwgPSBldi50YXJnZXQuY2xvc2VzdCgnW25vZGUtaWRdJyk7XG4gICAgICAgICAgICBsZXQgbm9kZUlkID0gbm9kZUVsPy5nZXRBdHRyaWJ1dGUoJ25vZGUtaWQnKTtcbiAgICAgICAgICAgIGxldCBub2RlVG8gPSBub2RlSWQgPyB0aGlzLnBhcmVudC5HZXROb2RlQnlJZChub2RlSWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKG5vZGVUbyAmJiBldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibm9kZS1kb3RcIikpIHtcbiAgICAgICAgICAgICAgbGV0IHRvSW5kZXggPSBldi50YXJnZXQuZ2V0QXR0cmlidXRlKCdub2RlJyk7XG4gICAgICAgICAgICAgIHRoaXMudGVtcExpbmUuc2V0Tm9kZVRvKG5vZGVUbywgdG9JbmRleCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgdG9JbmRleCA9IG5vZGVFbD8ucXVlcnlTZWxlY3RvcignLm5vZGUtZG90Jyk/LlswXT8uZ2V0QXR0cmlidXRlKCdub2RlJyk7XG4gICAgICAgICAgICAgIHRoaXMudGVtcExpbmUuc2V0Tm9kZVRvKG5vZGVUbywgdG9JbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIHRoaXMubW91c2VfeCA9IGVfcG9zX3g7XG4gICAgICB0aGlzLm1vdXNlX3kgPSBlX3Bvc195O1xuICAgIH1cbiAgfVxuICBwcml2YXRlIEVuZE1vdmUoZXY6IGFueSkge1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGlmICghdGhpcy5mbGdEcmFwKSByZXR1cm47XG4gICAgLy9maXggRmFzdCBDbGlja1xuICAgIGlmICgoKGdldFRpbWUoKSAtIHRoaXMudGltZUZhc3RDbGljaykgPCAxMDApIHx8ICF0aGlzLmZsZ01vdmUpIHtcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xuICAgICAgdGhpcy5mbGdEcmFwID0gZmFsc2U7XG4gICAgICB0aGlzLmZsZ01vdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChldi50eXBlID09PSBcInRvdWNoZW5kXCIpIHtcbiAgICAgIGVfcG9zX3ggPSB0aGlzLm1vdXNlX3g7XG4gICAgICBlX3Bvc195ID0gdGhpcy5tb3VzZV95O1xuICAgIH0gZWxzZSB7XG4gICAgICBlX3Bvc194ID0gZXYuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi5jbGllbnRZO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PT0gTW92ZVR5cGUuQ2FudmFzKSB7XG4gICAgICBsZXQgeCA9IHRoaXMuYXZfeCArIHRoaXMucGFyZW50LkNhbGNYKC0odGhpcy5wb3NfeCAtIGVfcG9zX3gpKVxuICAgICAgbGV0IHkgPSB0aGlzLmF2X3kgKyB0aGlzLnBhcmVudC5DYWxjWSgtKHRoaXMucG9zX3kgLSBlX3Bvc195KSlcbiAgICAgIHRoaXMucGFyZW50LnNldFgoeCk7XG4gICAgICB0aGlzLnBhcmVudC5zZXRZKHkpO1xuICAgICAgdGhpcy5hdl94ID0gMDtcbiAgICAgIHRoaXMuYXZfeSA9IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlbXBMaW5lKSB7XG4gICAgICB0aGlzLnRlbXBMaW5lLkNsb25lKCk7XG4gICAgICB0aGlzLnRlbXBMaW5lLmRlbGV0ZSgpO1xuICAgICAgdGhpcy50ZW1wTGluZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdGhpcy5wb3NfeCA9IGVfcG9zX3g7XG4gICAgdGhpcy5wb3NfeSA9IGVfcG9zX3k7XG4gICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gICAgdGhpcy5mbGdEcmFwID0gZmFsc2U7XG4gICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gIH1cbiAgcHJpdmF0ZSBrZXlkb3duKGV2OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoZXYua2V5ID09PSAnRGVsZXRlJyB8fCAoZXYua2V5ID09PSAnQmFja3NwYWNlJyAmJiBldi5tZXRhS2V5KSkge1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKVxuXG4gICAgICB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk/LmRlbGV0ZSgpO1xuICAgICAgdGhpcy5wYXJlbnQuZ2V0TGluZUNob29zZSgpPy5kZWxldGUoKTtcbiAgICB9XG4gICAgaWYgKGV2LmtleSA9PT0gJ0YyJykge1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3X1Rvb2xiYXIge1xyXG4gIHByaXZhdGUgZWxOb2RlOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcclxuICBwcml2YXRlIGVsUGF0aEdyb3VwOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudDogRGVzZ2luZXJWaWV3KSB7XHJcbiAgICB0aGlzLmVsTm9kZSA9IHBhcmVudC5lbFRvb2xiYXI7XHJcbiAgICB0aGlzLnJlbmRlclVJKCk7XHJcbiAgICB0aGlzLnJlbmRlclBhdGhHcm91cCgpO1xyXG4gIH1cclxuICBwdWJsaWMgcmVuZGVyUGF0aEdyb3VwKCkge1xyXG4gICAgdGhpcy5lbFBhdGhHcm91cC5pbm5lckhUTUwgPSBgYDtcclxuICAgIGxldCBncm91cHMgPSB0aGlzLnBhcmVudC5HZXRHcm91cE5hbWUoKTtcclxuICAgIGxldCBsZW4gPSBncm91cHMubGVuZ3RoIC0gMTtcclxuICAgIGlmIChsZW4gPCAwKSByZXR1cm47XHJcbiAgICBsZXQgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgIHRleHQuaW5uZXJIVE1MID0gYFJvb3RgO1xyXG4gICAgdGhpcy5lbFBhdGhHcm91cC5hcHBlbmRDaGlsZCh0ZXh0KTtcclxuICAgIGZvciAobGV0IGluZGV4ID0gbGVuOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XHJcbiAgICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xyXG4gICAgICB0ZXh0LmlubmVySFRNTCA9IGA+PiR7Z3JvdXBzW2luZGV4XX1gO1xyXG4gICAgICB0aGlzLmVsUGF0aEdyb3VwLmFwcGVuZENoaWxkKHRleHQpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgcmVuZGVyVUkoKSB7XHJcbiAgICBpZiAoIXRoaXMuZWxOb2RlKSByZXR1cm47XHJcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgYDtcclxuICAgIGxldCBidG5CYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidG5CYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5wYXJlbnQuQmFja0dyb3VwKCkpO1xyXG4gICAgYnRuQmFjay5pbm5lckhUTUwgPSBgQmFja2A7XHJcbiAgICBsZXQgYnRuWm9vbUluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBidG5ab29tSW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnBhcmVudC56b29tX2luKCkpO1xyXG4gICAgYnRuWm9vbUluLmlubmVySFRNTCA9IGBab29tK2A7XHJcbiAgICBsZXQgYnRuWm9vbU91dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnRuWm9vbU91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMucGFyZW50Lnpvb21fb3V0KCkpO1xyXG4gICAgYnRuWm9vbU91dC5pbm5lckhUTUwgPSBgWm9vbS1gO1xyXG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGhHcm91cCk7XHJcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChidG5CYWNrKTtcclxuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKGJ0blpvb21Jbik7XHJcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChidG5ab29tT3V0KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZUZsb3cgfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcblxuY29uc3QgZ2V2YWwgPSBldmFsO1xuZXhwb3J0IGNsYXNzIE5vZGUgZXh0ZW5kcyBCYXNlRmxvdzxEZXNnaW5lclZpZXc+IHtcbiAgLyoqXG4gICAqIEdFVCBTRVQgZm9yIERhdGFcbiAgICovXG4gIHB1YmxpYyBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuR2V0KCduYW1lJyk7XG4gIH1cbiAgcHVibGljIGdldFkoKSB7XG4gICAgcmV0dXJuICt0aGlzLmRhdGEuR2V0KCd5Jyk7XG4gIH1cbiAgcHVibGljIHNldFkodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCd5JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneCcpO1xuICB9XG4gIHB1YmxpYyBzZXRYKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneCcsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwdWJsaWMgQ2hlY2tLZXkoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgna2V5JykgPT0ga2V5O1xuICB9XG4gIHB1YmxpYyBnZXREYXRhTGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgnbGluZXMnKSA/PyBbXTtcbiAgfVxuICBwdWJsaWMgZWxDb250ZW50OiBFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgcHVibGljIGFyckxpbmU6IExpbmVbXSA9IFtdO1xuICBwcml2YXRlIG9wdGlvbjogYW55ID0ge307XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKHBhcmVudDogRGVzZ2luZXJWaWV3LCBwcml2YXRlIGtleU5vZGU6IGFueSwgZGF0YTogYW55ID0ge30pIHtcbiAgICBzdXBlcihwYXJlbnQpO1xuICAgIHRoaXMub3B0aW9uID0gdGhpcy5wYXJlbnQubWFpbi5nZXRDb250cm9sTm9kZUJ5S2V5KGtleU5vZGUpO1xuICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMub3B0aW9uPy5wcm9wZXJ0aWVzO1xuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YS5Jbml0RGF0YShkYXRhLCB0aGlzLnByb3BlcnRpZXMpO1xuICAgICAgdGhpcy5wYXJlbnQuZGF0YS5BcHBlbmQoJ25vZGVzJywgdGhpcy5kYXRhKTtcbiAgICB9XG4gICAgdGhpcy5kYXRhLm9uKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLW5vZGUnKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbi5jbGFzcykge1xuICAgICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCh0aGlzLm9wdGlvbi5jbGFzcyk7XG4gICAgfVxuICAgIHRoaXMucGFyZW50LmVsQ2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ25vZGUtaWQnLCB0aGlzLkdldElkKCkpO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcbiAgICB0aGlzLnJlbmRlclVJKCk7XG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJVSSgpIHtcbiAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYGRpc3BsYXk6bm9uZTtgKTtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1sZWZ0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI0MDAwXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS10b3BcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiMTAwMFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGl0bGVcIj4ke3RoaXMub3B0aW9uLmljb259ICR7dGhpcy5nZXROYW1lKCl9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCI+JHt0aGlzLm9wdGlvbi5odG1sfTwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtYm90dG9tXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjIwMDBcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXJpZ2h0XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWRvdFwiICBub2RlPVwiMzAwMFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgICB0aGlzLmVsQ29udGVudCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5ub2RlLWNvbnRlbnQgLmJvZHknKTtcbiAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgZ2V2YWwoYChub2RlLHZpZXcpPT57JHt0aGlzLm9wdGlvbi5zY3JpcHR9fWApKHRoaXMsIHRoaXMucGFyZW50KTtcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKCkge1xuICAgIGlmICh0aGlzLkNoZWNrS2V5KCdub2RlX2dyb3VwJykpIHtcbiAgICAgIHRoaXMucGFyZW50Lm9wZW5Hcm91cCh0aGlzLkdldElkKCkpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgdXBkYXRlUG9zaXRpb24oeDogYW55LCB5OiBhbnksIGlDaGVjayA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuZWxOb2RlKSB7XG4gICAgICBsZXQgdGVtcHggPSB4O1xuICAgICAgbGV0IHRlbXB5ID0geTtcbiAgICAgIGlmICghaUNoZWNrKSB7XG4gICAgICAgIHRlbXB5ID0gKHRoaXMuZWxOb2RlLm9mZnNldFRvcCAtIHkpO1xuICAgICAgICB0ZW1weCA9ICh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0IC0geCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHggIT09IHRoaXMuZ2V0WCgpKSB7XG4gICAgICAgIHRoaXMuc2V0WCh0ZW1weCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHkgIT09IHRoaXMuZ2V0WSgpKSB7XG4gICAgICAgIHRoaXMuc2V0WSh0ZW1weSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHB1YmxpYyBBY3RpdmUoZmxnOiBhbnkgPSB0cnVlKSB7XG4gICAgaWYgKGZsZykge1xuICAgICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgUmVtb3ZlTGluZShsaW5lOiBMaW5lKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5hcnJMaW5lLmluZGV4T2YobGluZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuYXJyTGluZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcnJMaW5lO1xuICB9XG4gIHB1YmxpYyBBZGRMaW5lKGxpbmU6IExpbmUpIHtcbiAgICB0aGlzLmFyckxpbmUgPSBbLi4udGhpcy5hcnJMaW5lLCBsaW5lXTtcbiAgfVxuICBwdWJsaWMgZ2V0UG9zdGlzaW9uRG90KGluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgbGV0IGVsRG90OiBhbnkgPSB0aGlzLmVsTm9kZT8ucXVlcnlTZWxlY3RvcihgLm5vZGUtZG90W25vZGU9XCIke2luZGV4fVwiXWApO1xuICAgIGlmIChlbERvdCkge1xuICAgICAgbGV0IHkgPSAodGhpcy5lbE5vZGUub2Zmc2V0VG9wICsgZWxEb3Qub2Zmc2V0VG9wICsgMTApO1xuICAgICAgbGV0IHggPSAodGhpcy5lbE5vZGUub2Zmc2V0TGVmdCArIGVsRG90Lm9mZnNldExlZnQgKyAxMCk7XG4gICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGB0b3A6ICR7dGhpcy5nZXRZKCl9cHg7IGxlZnQ6ICR7dGhpcy5nZXRYKCl9cHg7YCk7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uVXBkYXRlVUkoKTtcbiAgICB9KVxuICB9XG4gIHB1YmxpYyBkZWxldGUoaXNDbGVhckRhdGEgPSB0cnVlKSB7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uZGVsZXRlKHRoaXMsIGlzQ2xlYXJEYXRhKSk7XG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxuICAgICAgdGhpcy5kYXRhLmRlbGV0ZSgpO1xuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5SZW1vdmVEYXRhRXZlbnQoKTtcbiAgICB9XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZSgpO1xuICAgIHRoaXMuYXJyTGluZSA9IFtdO1xuICAgIGlmIChpc0NsZWFyRGF0YSlcbiAgICAgIHRoaXMucGFyZW50LlJlbW92ZU5vZGUodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7fSk7XG4gIH1cbiAgcHVibGljIFJlbmRlckxpbmUoKSB7XG4gICAgdGhpcy5nZXREYXRhTGluZSgpLmZvckVhY2goKGl0ZW06IERhdGFGbG93KSA9PiB7XG4gICAgICBsZXQgbm9kZUZyb20gPSB0aGlzO1xuICAgICAgbGV0IG5vZGVUbyA9IHRoaXMucGFyZW50LkdldE5vZGVCeUlkKGl0ZW0uR2V0KCd0bycpKTtcbiAgICAgIGxldCB0b0luZGV4ID0gaXRlbS5HZXQoJ3RvSW5kZXgnKTtcbiAgICAgIGxldCBmcm9tSW5kZXggPSBpdGVtLkdldCgnZnJvbUluZGV4Jyk7XG4gICAgICBuZXcgTGluZShub2RlRnJvbSwgZnJvbUluZGV4LCBub2RlVG8sIHRvSW5kZXgsIGl0ZW0pLlVwZGF0ZVVJKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZsb3dDb3JlLCBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XG5pbXBvcnQgeyBFdmVudEVudW0sIFByb3BlcnR5RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXdfRXZlbnQgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdfRXZlbnRcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlld19Ub29sYmFyIH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3X1Rvb2xiYXJcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xuXG5leHBvcnQgY29uc3QgWm9vbSA9IHtcbiAgbWF4OiAxLjYsXG4gIG1pbjogMC42LFxuICB2YWx1ZTogMC4xLFxuICBkZWZhdWx0OiAxXG59XG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3IGV4dGVuZHMgRmxvd0NvcmUge1xuXG4gIC8qKlxuICAgKiBHRVQgU0VUIGZvciBEYXRhXG4gICAqL1xuICBwdWJsaWMgZ2V0Wm9vbSgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3pvb20nKTtcbiAgfVxuICBwdWJsaWMgc2V0Wm9vbSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3pvb20nLCB2YWx1ZSwgdGhpcyk7XG4gIH1cbiAgcHVibGljIGdldFkoKSB7XG4gICAgcmV0dXJuICt0aGlzLmRhdGEuR2V0KCd5Jyk7XG4gIH1cbiAgcHVibGljIHNldFkodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCd5JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneCcpO1xuICB9XG4gIHB1YmxpYyBzZXRYKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneCcsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwcml2YXRlIGdyb3VwOiBhbnlbXSA9IFtdO1xuICBwdWJsaWMgR2V0R3JvdXBOYW1lKCk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cC5tYXAoKGl0ZW0pID0+IHRoaXMuR2V0RGF0YUJ5SWQoaXRlbSk/LkdldCgnbmFtZScpKTtcbiAgfVxuICBwdWJsaWMgQmFja0dyb3VwKCkge1xuICAgIHRoaXMuZ3JvdXAuc3BsaWNlKDAsIDEpO1xuICAgIHRoaXMudG9vbGJhci5yZW5kZXJQYXRoR3JvdXAoKTtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gIH1cbiAgcHVibGljIEN1cnJlbnRHcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cD8uWzBdID8/ICdyb290JztcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKGlkOiBhbnkpIHtcbiAgICB0aGlzLmdyb3VwID0gW2lkLCAuLi50aGlzLmdyb3VwXTtcbiAgICB0aGlzLnRvb2xiYXIucmVuZGVyUGF0aEdyb3VwKCk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHByaXZhdGUgbGluZUNob29zZTogTGluZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldExpbmVDaG9vc2Uobm9kZTogTGluZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpbmVDaG9vc2UpIHRoaXMubGluZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubGluZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubGluZUNob29zZSkge1xuICAgICAgdGhpcy5saW5lQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXROb2RlQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRMaW5lQ2hvb3NlKCk6IExpbmUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmxpbmVDaG9vc2U7XG4gIH1cbiAgcHJpdmF0ZSBub2RlczogTm9kZVtdID0gW107XG4gIHByaXZhdGUgbm9kZUNob29zZTogTm9kZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldE5vZGVDaG9vc2Uobm9kZTogTm9kZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHRoaXMubm9kZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubm9kZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubm9kZUNob29zZSkge1xuICAgICAgdGhpcy5ub2RlQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXRMaW5lQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIHsgZGF0YTogdGhpcy5ub2RlQ2hvb3NlLmRhdGEgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiB0aGlzLmRhdGEgfSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXROb2RlQ2hvb3NlKCk6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLm5vZGVDaG9vc2U7XG4gIH1cbiAgcHVibGljIEFkZE5vZGVJdGVtKGRhdGE6IGFueSk6IE5vZGUge1xuICAgIHJldHVybiB0aGlzLkFkZE5vZGUoZGF0YS5HZXQoJ2tleScpLCBkYXRhKTtcbiAgfVxuICBwdWJsaWMgQWRkTm9kZShrZXlOb2RlOiBzdHJpbmcsIGRhdGE6IGFueSA9IHt9KTogTm9kZSB7XG4gICAgcmV0dXJuIHRoaXMuSW5zZXJ0Tm9kZShuZXcgTm9kZSh0aGlzLCBrZXlOb2RlLCBkYXRhKSk7XG4gIH1cbiAgcHVibGljIEluc2VydE5vZGUobm9kZTogTm9kZSk6IE5vZGUge1xuICAgIHRoaXMubm9kZXMgPSBbLi4udGhpcy5ub2Rlcywgbm9kZV07XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcHVibGljIFJlbW92ZU5vZGUobm9kZTogTm9kZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMubm9kZXMuaW5kZXhPZihub2RlKTtcbiAgICB0aGlzLmRhdGEuUmVtb3ZlKCdub2RlcycsIG5vZGUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG4gIHB1YmxpYyBDbGVhck5vZGUoKSB7XG4gICAgdGhpcy5ub2Rlcz8uZm9yRWFjaChpdGVtID0+IGl0ZW0uZGVsZXRlKGZhbHNlKSk7XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuICB9XG4gIHB1YmxpYyBHZXREYXRhQWxsTm9kZSgpOiBhbnlbXSB7XG4gICAgcmV0dXJuICh0aGlzLmRhdGEuR2V0KCdub2RlcycpID8/IFtdKTtcbiAgfVxuICBwdWJsaWMgR2V0RGF0YU5vZGUoKTogYW55W10ge1xuICAgIHJldHVybiB0aGlzLkdldERhdGFBbGxOb2RlKCkuZmlsdGVyKChpdGVtOiBEYXRhRmxvdykgPT4gaXRlbS5HZXQoXCJncm91cFwiKSA9PT0gdGhpcy5DdXJyZW50R3JvdXAoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFZhcmlidXRlXG4gICovXG4gIHB1YmxpYyBlbENhbnZhczogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHVibGljIGVsVG9vbGJhcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHVibGljIHRvb2xiYXI6IERlc2dpbmVyVmlld19Ub29sYmFyO1xuICBwdWJsaWMgJGxvY2s6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHpvb21fbGFzdF92YWx1ZTogYW55ID0gMTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5lbE5vZGUgPSBlbE5vZGU7XG4gICAgbGV0IHByb3BlcnRpZXM6IGFueSA9IHRoaXMubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5tYWluKTtcbiAgICB0aGlzLmRhdGEuSW5pdERhdGEoe30sIHByb3BlcnRpZXMpO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rlc2dpbmVyLXZpZXcnKVxuICAgIHRoaXMuZWxDYW52YXMuY2xhc3NMaXN0LnJlbW92ZShcImRlc2dpbmVyLWNhbnZhc1wiKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdkZXNnaW5lci12aWV3JylcbiAgICB0aGlzLmVsQ2FudmFzLmNsYXNzTGlzdC5hZGQoXCJkZXNnaW5lci1jYW52YXNcIik7XG4gICAgdGhpcy5lbFRvb2xiYXIuY2xhc3NMaXN0LmFkZChcImRlc2dpbmVyLXRvb2xiYXJcIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbENhbnZhcyk7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFRvb2xiYXIpO1xuICAgIHRoaXMuZWxOb2RlLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gICAgdGhpcy5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5SZW5kZXJVSS5iaW5kKHRoaXMpKTtcbiAgICBuZXcgRGVzZ2luZXJWaWV3X0V2ZW50KHRoaXMpO1xuICAgIHRoaXMudG9vbGJhciA9IG5ldyBEZXNnaW5lclZpZXdfVG9vbGJhcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVWaWV3KHg6IGFueSwgeTogYW55LCB6b29tOiBhbnkpIHtcbiAgICB0aGlzLmVsQ2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt4fXB4LCAke3l9cHgpIHNjYWxlKCR7em9vbX0pYDtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy51cGRhdGVWaWV3KHRoaXMuZ2V0WCgpLCB0aGlzLmdldFkoKSwgdGhpcy5nZXRab29tKCkpO1xuICB9XG4gIHB1YmxpYyBSZW5kZXJVSShkZXRhaWw6IGFueSA9IHt9KSB7XG4gICAgaWYgKGRldGFpbC5zZW5kZXIgJiYgZGV0YWlsLnNlbmRlciBpbnN0YW5jZW9mIE5vZGUpIHJldHVybjtcbiAgICBpZiAoZGV0YWlsLnNlbmRlciAmJiBkZXRhaWwuc2VuZGVyIGluc3RhbmNlb2YgRGVzZ2luZXJWaWV3KSB7XG4gICAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuQ2xlYXJOb2RlKCk7XG4gICAgdGhpcy5HZXREYXRhTm9kZSgpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgdGhpcy5BZGROb2RlSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgICB0aGlzLkdldEFsbE5vZGUoKS5mb3JFYWNoKChpdGVtOiBOb2RlKSA9PiB7XG4gICAgICBpdGVtLlJlbmRlckxpbmUoKTtcbiAgICB9KVxuICAgIHRoaXMuVXBkYXRlVUkoKTtcbiAgfVxuICBwdWJsaWMgT3BlbigkZGF0YTogRGF0YUZsb3cpIHtcbiAgICB0aGlzLmRhdGEgPSAkZGF0YTtcbiAgICB0aGlzLiRsb2NrID0gZmFsc2U7XG4gICAgdGhpcy5ncm91cCA9IFtdO1xuICAgIHRoaXMudG9vbGJhci5yZW5kZXJQYXRoR3JvdXAoKTtcbiAgICB0aGlzLkJpbmREYXRhRXZlbnQoKTtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gIH1cbiAgcHVibGljIENhbGNYKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxOb2RlPy5jbGllbnRXaWR0aCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHVibGljIENhbGNZKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudEhlaWdodCAvICh0aGlzLmVsTm9kZT8uY2xpZW50SGVpZ2h0ICogdGhpcy5nZXRab29tKCkpKTtcbiAgfVxuICBwdWJsaWMgR2V0QWxsTm9kZSgpOiBOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzIHx8IFtdO1xuICB9XG4gIHB1YmxpYyBHZXROb2RlQnlJZChpZDogc3RyaW5nKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuR2V0QWxsTm9kZSgpLmZpbHRlcihub2RlID0+IG5vZGUuR2V0SWQoKSA9PSBpZCk/LlswXTtcbiAgfVxuXG4gIHB1YmxpYyBHZXREYXRhQnlJZChpZDogc3RyaW5nKTogRGF0YUZsb3cgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5HZXREYXRhQWxsTm9kZSgpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5HZXQoJ2lkJykgPT09IGlkKT8uWzBdO1xuICB9XG4gIGNoZWNrT25seU5vZGUoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKHRoaXMubWFpbi5nZXRDb250cm9sQnlLZXkoa2V5KS5vbmx5Tm9kZSkgJiYgdGhpcy5ub2Rlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLkNoZWNrS2V5KGtleSkpLmxlbmd0aCA+IDA7XG4gIH1cbiAgcHVibGljIHpvb21fcmVmcmVzaChmbGc6IGFueSA9IDApIHtcbiAgICBsZXQgdGVtcF96b29tID0gZmxnID09IDAgPyBab29tLmRlZmF1bHQgOiAodGhpcy5nZXRab29tKCkgKyBab29tLnZhbHVlICogZmxnKTtcbiAgICBpZiAoWm9vbS5tYXggPj0gdGVtcF96b29tICYmIHRlbXBfem9vbSA+PSBab29tLm1pbikge1xuICAgICAgdGhpcy5zZXRYKCh0aGlzLmdldFgoKSAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRlbXBfem9vbSk7XG4gICAgICB0aGlzLnNldFkoKHRoaXMuZ2V0WSgpIC8gdGhpcy56b29tX2xhc3RfdmFsdWUpICogdGVtcF96b29tKTtcbiAgICAgIHRoaXMuem9vbV9sYXN0X3ZhbHVlID0gdGVtcF96b29tO1xuICAgICAgdGhpcy5zZXRab29tKHRoaXMuem9vbV9sYXN0X3ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHpvb21faW4oKSB7XG4gICAgdGhpcy56b29tX3JlZnJlc2goMSk7XG4gIH1cbiAgcHVibGljIHpvb21fb3V0KCkge1xuICAgIHRoaXMuem9vbV9yZWZyZXNoKC0xKTtcbiAgfVxuICBwdWJsaWMgem9vbV9yZXNldCgpIHtcbiAgICB0aGlzLnpvb21fcmVmcmVzaCgwKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi4vZGVzZ2luZXIvRGVzZ2luZXJWaWV3XCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3RG9jayBleHRlbmRzIERvY2tCYXNlIHtcclxuICBwcml2YXRlIHZpZXc6IERlc2dpbmVyVmlldyB8IHVuZGVmaW5lZDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XHJcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xyXG5cclxuICAgIHRoaXMudmlldyA9IG5ldyBEZXNnaW5lclZpZXcodGhpcy5lbE5vZGUsIG1haW4pO1xyXG4gICAgdGhpcy52aWV3Lm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkYXRhOiBhbnkpID0+IHsgbWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCBkYXRhKTsgfSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCAoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMudmlldz8uT3BlbihpdGVtLmRhdGEpO1xyXG4gICAgICB0aGlzLm1haW4uU2V0UHJvamVjdE9wZW4oaXRlbS5kYXRhKTtcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcclxuaW1wb3J0IHsgRG9ja0VudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBDb250cm9sRG9jayB9IGZyb20gXCIuL0NvbnRyb2xEb2NrXCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuaW1wb3J0IHsgUHJvamVjdERvY2sgfSBmcm9tIFwiLi9Qcm9qZWN0RG9ja1wiO1xyXG5pbXBvcnQgeyBQcm9wZXJ0eURvY2sgfSBmcm9tIFwiLi9Qcm9wZXJ0eURvY2tcIjtcclxuaW1wb3J0IHsgVGFiRG9jayB9IGZyb20gXCIuL1RhYkRvY2tcIjtcclxuaW1wb3J0IHsgVmlld0RvY2sgfSBmcm9tIFwiLi9WaWV3RG9ja1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERvY2tNYW5hZ2VyIHtcclxuICBwcml2YXRlICRkb2NrTWFuYWdlcjogYW55ID0ge307XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7IH1cclxuICBwdWJsaWMgcmVzZXQoKSB7XHJcbiAgICB0aGlzLiRkb2NrTWFuYWdlciA9IHt9O1xyXG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLmxlZnQsIENvbnRyb2xEb2NrKTtcclxuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5sZWZ0LCBQcm9qZWN0RG9jayk7XHJcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0ucmlnaHQsIFByb3BlcnR5RG9jayk7XHJcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0udmlldywgVmlld0RvY2spO1xyXG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLnRvcCwgVGFiRG9jayk7XHJcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0uYm90dG9tLCBEb2NrQmFzZSk7XHJcbiAgICB0aGlzLlJlbmRlclVJKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBhZGREb2NrKCRrZXk6IHN0cmluZywgJHZpZXc6IGFueSkge1xyXG4gICAgaWYgKCF0aGlzLiRkb2NrTWFuYWdlclska2V5XSlcclxuICAgICAgdGhpcy4kZG9ja01hbmFnZXJbJGtleV0gPSBbXTtcclxuICAgIHRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldID0gWy4uLnRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldLCAkdmlld107XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgUmVuZGVyVUkoKSB7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1sZWZ0IHZzLWRvY2tcIj48L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cInZzLWNvbnRlbnRcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidnMtdG9wIHZzLWRvY2tcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidnMtdmlldyB2cy1kb2NrXCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInZzLWJvdHRvbSB2cy1kb2NrXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidnMtcmlnaHQgdnMtZG9ja1wiPjwvZGl2PlxyXG4gICAgYDtcclxuICAgIE9iamVjdC5rZXlzKHRoaXMuJGRvY2tNYW5hZ2VyKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICBsZXQgcXVlcnlTZWxlY3RvciA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke2tleX1gKTtcclxuICAgICAgaWYgKHF1ZXJ5U2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLiRkb2NrTWFuYWdlcltrZXldLmZvckVhY2goKCRpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgIG5ldyAkaXRlbShxdWVyeVNlbGVjdG9yLCB0aGlzLm1haW4pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gJy4vY29yZS9CYXNlRmxvdyc7XHJcbmltcG9ydCB7IERvY2tNYW5hZ2VyIH0gZnJvbSAnLi9kb2NrL0RvY2tNYW5hZ2VyJztcclxuaW1wb3J0IHsgRXZlbnRGbG93IH0gZnJvbSAnLi9jb3JlL0V2ZW50Rmxvdyc7XHJcbmltcG9ydCB7IGNvbXBhcmVTb3J0LCBFdmVudEVudW0sIFByb3BlcnR5RW51bSB9IGZyb20gJy4vY29yZS9Db25zdGFudCc7XHJcbmltcG9ydCB7IGdldFRpbWUsIGdldFV1aWQgfSBmcm9tICcuL2NvcmUvVXRpbHMnO1xyXG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gJy4vY29yZS9EYXRhRmxvdyc7XHJcbmV4cG9ydCBjbGFzcyBWaXN1YWxGbG93IGltcGxlbWVudHMgSU1haW4ge1xyXG4gIHByaXZhdGUgJGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KHRoaXMpO1xyXG4gIHByaXZhdGUgJHByb2plY3RPcGVuOiBhbnk7XHJcbiAgcHJpdmF0ZSAkcHJvcGVydGllczogYW55ID0ge307XHJcbiAgcHJpdmF0ZSAkY29udHJvbDogYW55ID0ge307XHJcbiAgcHJpdmF0ZSAkY29udHJvbERlZmF1bHQ6IGFueSA9IHtcclxuICAgIG5vZGVfYmVnaW46IHtcclxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXBsYXlcIj48L2k+JyxcclxuICAgICAgc29ydDogMCxcclxuICAgICAgbmFtZTogJ0JlZ2luJyxcclxuICAgICAgY2xhc3M6ICdub2RlLXRlc3QnLFxyXG4gICAgICBodG1sOiAnJyxcclxuICAgICAgb3V0cHV0OiAxLFxyXG4gICAgICBpbnB1dDogMCxcclxuICAgICAgb25seU5vZGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBub2RlX2VuZDoge1xyXG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtc3RvcFwiPjwvaT4nLFxyXG4gICAgICBzb3J0OiAwLFxyXG4gICAgICBuYW1lOiAnRW5kJyxcclxuICAgICAgaHRtbDogJycsXHJcbiAgICAgIG91dHB1dDogMCxcclxuICAgICAgb25seU5vZGU6IHRydWVcclxuICAgIH0sXHJcbiAgICBub2RlX2lmOiB7XHJcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1lcXVhbHNcIj48L2k+JyxcclxuICAgICAgc29ydDogMCxcclxuICAgICAgbmFtZTogJ0lmJyxcclxuICAgICAgaHRtbDogJzxkaXY+Y29uZGl0aW9uOjxici8+PGlucHV0IG5vZGU6bW9kZWw9XCJjb25kaXRpb25cIi8+PC9kaXY+JyxcclxuICAgICAgc2NyaXB0OiBgYCxcclxuICAgICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGNvbmRpdGlvbjoge1xyXG4gICAgICAgICAga2V5OiBcImNvbmRpdGlvblwiLFxyXG4gICAgICAgICAgZGVmYXVsdDogJydcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG91dHB1dDogMlxyXG4gICAgfSxcclxuICAgIG5vZGVfZ3JvdXA6IHtcclxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLW9iamVjdC1ncm91cFwiPjwvaT4nLFxyXG4gICAgICBzb3J0OiAwLFxyXG4gICAgICBuYW1lOiAnR3JvdXAnLFxyXG4gICAgICBodG1sOiAnPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHAzXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bkdvR3JvdXBcIj5HbzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgIHNjcmlwdDogYG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5idG5Hb0dyb3VwJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge25vZGUub3Blbkdyb3VwKCl9KTtgLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgY29uZGl0aW9uOiB7XHJcbiAgICAgICAgICBrZXk6IFwiY29uZGl0aW9uXCIsXHJcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgb3V0cHV0OiAyXHJcbiAgICB9LFxyXG4gIH1cclxuICBwcml2YXRlICRjb250cm9sQ2hvb3NlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlICRkb2NrTWFuYWdlcjogRG9ja01hbmFnZXI7XHJcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcclxuICBwdWJsaWMgZ2V0RG9ja01hbmFnZXIoKTogRG9ja01hbmFnZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuJGRvY2tNYW5hZ2VyO1xyXG4gIH1cclxuICBvblNhZmUoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMub25TYWZlKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIGRpc3BhdGNoKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xyXG4gIH1cclxuICBnZXRDb250cm9sQWxsKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2wgPz8ge307XHJcbiAgfVxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG9wdGlvbjogYW55ID0gbnVsbCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICAvL3NldCBwcm9qZWN0XHJcbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS5zb2x1dGlvbl0gPSB7XHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXHJcbiAgICAgIH0sXHJcbiAgICAgIGtleToge1xyXG4gICAgICAgIGRlZmF1bHQ6IFByb3BlcnR5RW51bS5zb2x1dGlvblxyXG4gICAgICB9LFxyXG4gICAgICBuYW1lOiB7XHJcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gYHNvbHV0aW9uLSR7Z2V0VGltZSgpfWBcclxuICAgICAgfSxcclxuICAgICAgcHJvamVjdHM6IHtcclxuICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhpcy4kcHJvcGVydGllc1tQcm9wZXJ0eUVudW0ubGluZV0gPSB7XHJcbiAgICAgIGtleToge1xyXG4gICAgICAgIGRlZmF1bHQ6IFByb3BlcnR5RW51bS5saW5lXHJcbiAgICAgIH0sXHJcbiAgICAgIGZyb206IHtcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICAgIH0sXHJcbiAgICAgIGZyb21JbmRleDoge1xyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgfSxcclxuICAgICAgdG86IHtcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICAgIH0sXHJcbiAgICAgIHRvSW5kZXg6IHtcclxuICAgICAgICBkZWZhdWx0OiAwXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAvL3NldCBwcm9qZWN0XHJcbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS5tYWluXSA9IHtcclxuICAgICAgLi4uKG9wdGlvbj8ucHJvcGVydGllcyB8fCB7fSksXHJcbiAgICAgIGlkOiB7XHJcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXHJcbiAgICAgIH0sXHJcbiAgICAgIG5hbWU6IHtcclxuICAgICAgICBkZWZhdWx0OiAoKSA9PiBgYXBwLSR7Z2V0VGltZSgpfWBcclxuICAgICAgfSxcclxuICAgICAga2V5OiB7XHJcbiAgICAgICAgZGVmYXVsdDogUHJvcGVydHlFbnVtLm1haW5cclxuICAgICAgfSxcclxuICAgICAgeDoge1xyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgfSxcclxuICAgICAgeToge1xyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgfSxcclxuICAgICAgem9vbToge1xyXG4gICAgICAgIGRlZmF1bHQ6IDFcclxuICAgICAgfSxcclxuICAgICAgbm9kZXM6IHtcclxuICAgICAgICBkZWZhdWx0OiBbXVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gc2V0IGNvbnRyb2xcclxuICAgIHRoaXMuJGNvbnRyb2wgPSB7IC4uLm9wdGlvbj8uY29udHJvbCB8fCB7fSwgLi4udGhpcy4kY29udHJvbERlZmF1bHQgfTtcclxuICAgIGxldCBjb250cm9sVGVtcDogYW55ID0ge307XHJcbiAgICBPYmplY3Qua2V5cyh0aGlzLiRjb250cm9sKS5tYXAoKGtleSkgPT4gKHsgLi4udGhpcy4kY29udHJvbFtrZXldLCBrZXksIHNvcnQ6ICh0aGlzLiRjb250cm9sW2tleV0uc29ydCA9PT0gdW5kZWZpbmVkID8gOTk5OTkgOiB0aGlzLiRjb250cm9sW2tleV0uc29ydCkgfSkpLnNvcnQoY29tcGFyZVNvcnQpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICBjb250cm9sVGVtcFtpdGVtLmtleV0gPSBpdGVtO1xyXG4gICAgICB0aGlzLiRwcm9wZXJ0aWVzW2Bub2RlXyR7aXRlbS5rZXl9YF0gPSB7XHJcbiAgICAgICAgLi4uKGl0ZW0ucHJvcGVydGllcyB8fCB7fSksXHJcbiAgICAgICAgaWQ6IHtcclxuICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IGdldFRpbWUoKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAga2V5OiB7XHJcbiAgICAgICAgICBkZWZhdWx0OiBpdGVtLmtleVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbmFtZToge1xyXG4gICAgICAgICAgZGVmYXVsdDogaXRlbS5rZXlcclxuICAgICAgICB9LFxyXG4gICAgICAgIHg6IHtcclxuICAgICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIHk6IHtcclxuICAgICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdyb3VwOiB7XHJcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGluZXM6IHtcclxuICAgICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLiRjb250cm9sID0gY29udHJvbFRlbXA7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd2cy1jb250YWluZXInKTtcclxuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3ZzLWNvbnRhaW5lcicpO1xyXG4gICAgdGhpcy4kZG9ja01hbmFnZXIgPSBuZXcgRG9ja01hbmFnZXIodGhpcy5jb250YWluZXIsIHRoaXMpO1xyXG4gICAgdGhpcy4kZG9ja01hbmFnZXIucmVzZXQoKTtcclxuICAgIHRoaXMuJGRhdGEuSW5pdERhdGEoe30sIHRoaXMuZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0uc29sdXRpb24pKTtcclxuXHJcbiAgfVxyXG4gIGdldFByb2plY3RBbGwoKTogYW55W10ge1xyXG4gICAgcmV0dXJuIHRoaXMuJGRhdGEuR2V0KCdwcm9qZWN0cycpID8/IFtdO1xyXG4gIH1cclxuICBvcGVuKCRkYXRhOiBhbnkpOiB2b2lkIHtcclxuICAgIHRoaXMuJGRhdGEuSW5pdERhdGEoJGRhdGEsIHRoaXMuZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0uc29sdXRpb24pKTtcclxuICB9XHJcbiAgU2V0UHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy4kcHJvamVjdE9wZW4gPSAkZGF0YTtcclxuICB9XHJcbiAgQ2hlY2tQcm9qZWN0T3BlbigkZGF0YTogYW55KTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy4kcHJvamVjdE9wZW4gPT0gJGRhdGE7XHJcbiAgfVxyXG4gIG5ld1Byb2plY3QoKTogdm9pZCB7XHJcbiAgICB0aGlzLm9wZW5Qcm9qZWN0KHt9KTtcclxuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLm5ld1Byb2plY3QsIHt9KTtcclxuICB9XHJcbiAgb3BlblByb2plY3QoJGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgaWYgKCRkYXRhIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcclxuICAgICAgbGV0ICRwcm9qZWN0OiBhbnkgPSB0aGlzLmdldFByb2plY3RCeUlkKCRkYXRhLkdldCgnaWQnKSk7XHJcbiAgICAgIGlmICghJHByb2plY3QpIHtcclxuICAgICAgICAkcHJvamVjdCA9ICRkYXRhO1xyXG4gICAgICAgIHRoaXMuJGRhdGEuQXBwZW5kKCdwcm9qZWN0cycsICRwcm9qZWN0KTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgJHByb2plY3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGRhdGEgPSBuZXcgRGF0YUZsb3codGhpcyk7XHJcbiAgICAgIGRhdGEuSW5pdERhdGEoJGRhdGEsIHRoaXMuZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0ubWFpbikpO1xyXG4gICAgICB0aGlzLiRkYXRhLkFwcGVuZCgncHJvamVjdHMnLCBkYXRhKTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0ub3BlblByb2plY3QsIHsgZGF0YSB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGEgfSk7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwgeyBkYXRhIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgZ2V0UHJvamVjdEJ5SWQoJGlkOiBhbnkpIHtcclxuICAgIHJldHVybiB0aGlzLiRkYXRhLkdldCgncHJvamVjdHMnKS5maWx0ZXIoKGl0ZW06IERhdGFGbG93KSA9PiBpdGVtLkdldCgnaWQnKSA9PT0gJGlkKT8uWzBdO1xyXG4gIH1cclxuICBzZXRDb250cm9sQ2hvb3NlKGtleTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gICAgdGhpcy4kY29udHJvbENob29zZSA9IGtleTtcclxuICB9XHJcbiAgZ2V0Q29udHJvbENob29zZSgpOiBzdHJpbmcgfCBudWxsIHtcclxuICAgIHJldHVybiB0aGlzLiRjb250cm9sQ2hvb3NlO1xyXG4gIH1cclxuICBnZXRDb250cm9sQnlLZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLiRjb250cm9sW2tleV0gfHwge307XHJcbiAgfVxyXG4gIGdldENvbnRyb2xOb2RlQnlLZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnRoaXMuZ2V0Q29udHJvbEJ5S2V5KGtleSksXHJcbiAgICAgIHByb3BlcnRpZXM6IHRoaXMuZ2V0UHJvcGVydHlCeUtleShgbm9kZV8ke2tleX1gKVxyXG4gICAgfVxyXG4gIH1cclxuICBnZXRQcm9wZXJ0eUJ5S2V5KGtleTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kcHJvcGVydGllc1trZXldO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiRXZlbnRFbnVtIiwiRG9ja0VudW0iLCJQcm9wZXJ0eUVudW0iLCJjb21wYXJlU29ydCIsImEiLCJiIiwic29ydCIsIkRvY2tCYXNlIiwibWFpbiIsImVsTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImVsQ29udGVudCIsImNvbnN0cnVjdG9yIiwiY29udGFpbmVyIiwidGhpcyIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiQm94SW5mbyIsInRpdGxlIiwiJGNhbGxiYWNrIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicXVlcnlTZWxlY3RvciIsIkNvbnRyb2xEb2NrIiwic3VwZXIiLCJub2RlIiwiY29udHJvbHMiLCJnZXRDb250cm9sQWxsIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpdGVtIiwibm9kZUl0ZW0iLCJzZXRBdHRyaWJ1dGUiLCJpY29uIiwibmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkcmFnU3RhcnQiLCJiaW5kIiwiZHJhZ2VuZCIsImUiLCJzZXRDb250cm9sQ2hvb3NlIiwia2V5IiwidGFyZ2V0IiwiY2xvc2VzdCIsImdldEF0dHJpYnV0ZSIsInR5cGUiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwiUHJvamVjdERvY2siLCJyZW5kZXJVSSIsIm9uIiwiZGV0YWlsIiwicXVlcnlTZWxlY3RvckFsbCIsIl9ub2RlIiwiZGF0YSIsIkdldCIsIiRub2RlUmlnaHQiLCJidXR0b25OZXciLCJuZXdQcm9qZWN0IiwiZ2V0UHJvamVjdEFsbCIsInJlbW92ZUxpc3RlbmVyIiwiQ2hlY2tQcm9qZWN0T3BlbiIsImRpc3BhdGNoIiwiRWRpdG9yVHlwZSIsIkVkaXRvciIsImlzRWRpdCIsImVsSW5wdXQiLCJlbExhYmVsIiwiZWwiLCJMYWJlbCIsImNoYWduZSIsIm9uU2FmZSIsImNoYW5nZURhdGEiLCJkaXNwb3NlIiwiVGV4dCIsInBhcmVudEVsZW1lbnQiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsInJlbmRlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzd2l0Y2hNb2RlRWRpdCIsInZhbHVlIiwiaW5wdXREYXRhIiwiSW5saW5lIiwic2V0VGltZW91dCIsIlNldCIsInNlbmRlciIsIlByb3BlcnR5RG9jayIsImxhc3REYXRhIiwibGFiZWxLZXlzIiwiZGF0YUpzb24iLCJwcm9wZXJ0aWVzIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnR5SXRlbSIsInByb3BlcnR5TGFiZWwiLCJwcm9wZXJ0eVZhbHVlIiwiaW5jbHVkZXMiLCJ0b1N0cmluZyIsIlRhYkRvY2siLCJFdmVudEZsb3ciLCJldmVudHMiLCJldmVudCIsImNhbGxiYWNrIiwiY29uc29sZSIsImVycm9yIiwidW5kZWZpbmVkIiwibGlzdGVuZXJzIiwicHVzaCIsImxpc3RlbmVySW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZGV0YWlscyIsImxpc3RlbmVyIiwiRGF0YUZsb3ciLCJwcm9wZXJ0eSIsImxvYWQiLCJJbml0RGF0YSIsImV2ZW50RGF0YUNoYW5nZSIsImtleUNoaWxkIiwidmFsdWVDaGlsZCIsInNlbmRlckNoaWxkIiwiaW5kZXgiLCJSZW1vdmVFdmVudERhdGEiLCJPbkV2ZW50RGF0YSIsIkJpbmRFdmVudCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImlzRGlzcGF0Y2giLCJTZXREYXRhIiwiaXNDbGVhckRhdGEiLCIkZGF0YSIsIkFwcGVuZCIsIlJlbW92ZSIsImdldFByb3BlcnR5QnlLZXkiLCJkZWZhdWx0IiwibWFwIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSnNvbiIsInJzIiwiZGVsZXRlIiwiRmxvd0NvcmUiLCJHZXRJZCIsIlNldElkIiwiaWQiLCJDaGVja0VsZW1lbnRDaGlsZCIsImNvbnRhaW5zIiwiU2V0RGF0YUZsb3ciLCJCaW5kRGF0YUV2ZW50IiwiUmVtb3ZlRGF0YUV2ZW50IiwiQmFzZUZsb3ciLCJwYXJlbnQiLCJnZXRUaW1lIiwiRGF0ZSIsIkxpbmUiLCJmcm9tIiwiZnJvbUluZGV4IiwidG8iLCJ0b0luZGV4IiwiY3JlYXRlRWxlbWVudE5TIiwiZWxQYXRoIiwiY3VydmF0dXJlIiwiU3RhcnRTZWxlY3RlZCIsInNldEF0dHJpYnV0ZU5TIiwiZWxDYW52YXMiLCJBZGRMaW5lIiwidXBkYXRlVG8iLCJ0b194IiwidG9feSIsIngiLCJmcm9tX3giLCJ5IiwiZnJvbV95IiwiZ2V0UG9zdGlzaW9uRG90IiwibGluZUN1cnZlIiwiY3JlYXRlQ3VydmF0dXJlIiwiVXBkYXRlVUkiLCJBY3RpdmUiLCJmbGciLCJzdGFydF9wb3NfeCIsInN0YXJ0X3Bvc195IiwiZW5kX3Bvc194IiwiZW5kX3Bvc195IiwiY3VydmF0dXJlX3ZhbHVlIiwibGluZV94IiwibGluZV95IiwiaHgxIiwiTWF0aCIsImFicyIsImh4MiIsIm5vZGVUaGlzIiwiUmVtb3ZlTGluZSIsInNldExpbmVDaG9vc2UiLCJzZXROb2RlVG8iLCJDbG9uZSIsIk1vdmVUeXBlIiwiRGVzZ2luZXJWaWV3X0V2ZW50IiwidGltZUZhc3RDbGljayIsInRhZ0luZ29yZSIsIm1vdmVUeXBlIiwiTm9uZSIsImZsZ0RyYXAiLCJmbGdNb3ZlIiwiYXZfeCIsImF2X3kiLCJwb3NfeCIsInBvc195IiwibW91c2VfeCIsIm1vdXNlX3kiLCJ0ZW1wTGluZSIsIkVuZE1vdmUiLCJNb3ZlIiwiU3RhcnRNb3ZlIiwiY29udGV4dG1lbnUiLCJub2RlX2Ryb3BFbmQiLCJub2RlX2RyYWdvdmVyIiwiem9vbV9lbnRlciIsImtleWRvd24iLCJldiIsInByZXZlbnREZWZhdWx0IiwiJGxvY2siLCJrZXlOb2RlIiwiZ2V0Q29udHJvbENob29zZSIsImdldERhdGEiLCJlX3Bvc194IiwiZV9wb3NfeSIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIkNhbGNYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiQ2FsY1kiLCJjaGVja09ubHlOb2RlIiwiQWRkTm9kZSIsImdyb3VwIiwiQ3VycmVudEdyb3VwIiwidXBkYXRlUG9zaXRpb24iLCJjdHJsS2V5IiwiZGVsdGFZIiwiem9vbV9vdXQiLCJ6b29tX2luIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiQ2FudmFzIiwibm9kZUNob29zZSIsImdldE5vZGVDaG9vc2UiLCJOb2RlIiwic2V0Tm9kZUNob29zZSIsImdldFgiLCJnZXRZIiwic2V0WCIsInNldFkiLCJvZmZzZXRMZWZ0Iiwib2Zmc2V0VG9wIiwibm9kZUVsIiwibm9kZUlkIiwibm9kZVRvIiwiR2V0Tm9kZUJ5SWQiLCJtZXRhS2V5IiwiZ2V0TGluZUNob29zZSIsIkRlc2dpbmVyVmlld19Ub29sYmFyIiwiZWxQYXRoR3JvdXAiLCJlbFRvb2xiYXIiLCJyZW5kZXJQYXRoR3JvdXAiLCJncm91cHMiLCJHZXRHcm91cE5hbWUiLCJsZW4iLCJ0ZXh0IiwiYnRuQmFjayIsIkJhY2tHcm91cCIsImJ0blpvb21JbiIsImJ0blpvb21PdXQiLCJnZXZhbCIsImV2YWwiLCJnZXROYW1lIiwiQ2hlY2tLZXkiLCJnZXREYXRhTGluZSIsImFyckxpbmUiLCJvcHRpb24iLCJnZXRDb250cm9sTm9kZUJ5S2V5IiwiY2xhc3MiLCJodG1sIiwic2NyaXB0Iiwib3Blbkdyb3VwIiwiaUNoZWNrIiwidGVtcHgiLCJ0ZW1weSIsImxpbmUiLCJlbERvdCIsIlJlbW92ZU5vZGUiLCJSZW5kZXJMaW5lIiwiWm9vbSIsIkRlc2dpbmVyVmlldyIsImdldFpvb20iLCJzZXRab29tIiwiR2V0RGF0YUJ5SWQiLCJ0b29sYmFyIiwiUmVuZGVyVUkiLCJsaW5lQ2hvb3NlIiwibm9kZXMiLCJBZGROb2RlSXRlbSIsIkluc2VydE5vZGUiLCJDbGVhck5vZGUiLCJHZXREYXRhQWxsTm9kZSIsIkdldERhdGFOb2RlIiwiZmlsdGVyIiwiem9vbV9sYXN0X3ZhbHVlIiwidGFiSW5kZXgiLCJ1cGRhdGVWaWV3Iiwiem9vbSIsInN0eWxlIiwidHJhbnNmb3JtIiwiR2V0QWxsTm9kZSIsIk9wZW4iLCJudW1iZXIiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImdldENvbnRyb2xCeUtleSIsInpvb21fcmVmcmVzaCIsInRlbXBfem9vbSIsInpvb21fcmVzZXQiLCJWaWV3RG9jayIsInZpZXciLCJTZXRQcm9qZWN0T3BlbiIsIkRvY2tNYW5hZ2VyIiwiJGRvY2tNYW5hZ2VyIiwicmVzZXQiLCJhZGREb2NrIiwiJGtleSIsIiR2aWV3IiwiJGl0ZW0iLCIkcHJvamVjdE9wZW4iLCIkcHJvcGVydGllcyIsIiRjb250cm9sIiwiJGNvbnRyb2xEZWZhdWx0Iiwibm9kZV9iZWdpbiIsIm91dHB1dCIsImlucHV0Iiwib25seU5vZGUiLCJub2RlX2VuZCIsIm5vZGVfaWYiLCJjb25kaXRpb24iLCJub2RlX2dyb3VwIiwiJGNvbnRyb2xDaG9vc2UiLCJnZXREb2NrTWFuYWdlciIsInByb2plY3RzIiwiY29udHJvbCIsImNvbnRyb2xUZW1wIiwibGluZXMiLCJvcGVuIiwib3BlblByb2plY3QiLCIkcHJvamVjdCIsImdldFByb2plY3RCeUlkIiwiJGlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7dUNBQU8sTUFBTUEsRUFFQyxhQUZEQSxFQUdHLGVBSEhBLEVBSUUsY0FKRkEsRUFLQyxhQUxEQSxFQU1ILFNBTkdBLEVBT0YsVUFHRUMsRUFDTCxVQURLQSxFQUVOLFNBRk1BLEVBR0wsVUFIS0EsRUFJSCxZQUpHQSxFQUtKLFdBR0lDLEVBQ0wsZUFES0EsRUFFRCxnQkFGQ0EsRUFHTCxZQUlLQyxFQUFjLENBQUNDLEVBQVFDLElBQzlCRCxFQUFFRSxLQUFPRCxFQUFFQyxNQUNMLEVBRU5GLEVBQUVFLEtBQU9ELEVBQUVDLEtBQ04s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
