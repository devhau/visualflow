/**
   * @license
   * author: [object Object]
   * visualflow.js v0.0.1
   * Released under the MIT license.
   */
var visualflow=function(){"use strict";const t="dataChange",e="showProperty",s="openProject",i="newProject",n="change",o="dispose",a="vs-left",r="vs-view",d="vs-bottom",h="vs-right",l="main_project",c="main_solution",p="main_line",u=(t,e)=>t.sort<e.sort?-1:t.sort>e.sort?1:0;class v{main;elNode=document.createElement("div");elContent;constructor(t,e){this.main=e,t.appendChild(this.elNode),this.elNode.innerHTML="DockBase"}BoxInfo(t,e){this.elNode.classList.remove("vs-boxinfo"),this.elNode.classList.add("vs-boxinfo"),this.elNode.innerHTML=`<div class="vs-boxinfo_header"><span class="vs-boxinfo_title">${t}</span><span class="vs-boxinfo_button"></span></div>\n    <div class="vs-boxinfo_content"></div>`,this.elContent=this.elNode.querySelector(".vs-boxinfo_content"),e&&e(this.elContent)}}class m extends v{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-control"),this.BoxInfo("Control",(t=>{let e=this.main.getControlAll();Object.keys(e).forEach((s=>{let i=document.createElement("div");i.classList.add("node-item"),i.setAttribute("draggable","true"),i.setAttribute("data-node",s),i.innerHTML=`${e[s].icon} <span>${e[s].name}</span`,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),t.appendChild(i)}))}))}dragend(t){this.main.setControlChoose(null)}dragStart(t){let e=t.target.closest(".node-item").getAttribute("data-node");this.main.setControlChoose(e),"touchstart"!==t.type&&t.dataTransfer.setData("node",e)}}class f extends v{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-project"),this.BoxInfo("Project",this.renderUI.bind(this)),this.main.on(n,this.renderUI.bind(this)),this.main.on(s,(t=>{this.elContent?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elContent&&t?.data?.Get("id")&&this.elContent.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")}))}renderUI(){let i=this.elNode.querySelector(".vs-boxinfo_header .vs-boxinfo_button");if(this.elContent){if(this.elContent.innerHTML="",i){i.innerHTML="";let t=document.createElement("button");i?.appendChild(t),t.innerHTML="New",t.addEventListener("click",(()=>this.main.newProject("")))}this.main.getProjectAll().forEach((i=>{let n=document.createElement("div");n.classList.add("node-item"),n.innerHTML=`${i.Get("name")}`,n.setAttribute("data-project-id",i.Get("id")),i.removeListener(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),i.on(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),this.main.CheckProjectOpen(i)&&n.classList.add("active"),n.addEventListener("click",(()=>{this.main.dispatch(s,{data:i}),this.main.dispatch(e,{data:i})})),this.elContent?.appendChild(n)}))}}}var y;!function(t){t[t.Label=0]="Label",t[t.Text=1]="Text",t[t.Inline=2]="Inline"}(y||(y={}));const g=["SPAN","DIV","P","TEXTAREA"];class L{data;el;keyName="";constructor(t,e=null){this.data=t,this.el=e,this.keyName=e?.getAttribute("node:model"),this.bindData()}bindData(){this.keyName&&this.el&&(this.data.on(`${t}_${this.keyName}`,this.bindInput.bind(this)),this.el.addEventListener("change",this.bindEvent.bind(this)),this.el.addEventListener("keydown",this.bindEvent.bind(this)))}unBindData(){this.keyName&&this.el&&(this.data.removeListener(`${t}_${this.keyName}`,this.bindInput.bind(this)),this.el.removeEventListener("change",this.bindEvent.bind(this)),this.el.removeEventListener("keydown",this.bindEvent.bind(this)))}bindInput({value:t,sender:e}){e!==this&&this.el&&e.el!==this.el&&(console.log(this.el.tagName),console.log(e),g.includes(this.el.tagName)?this.el.innerText=`${t}`:this.el.value=t)}bindEvent(){this.keyName&&this.el&&(console.log(this.keyName),this.data.Set(this.keyName,this.el.value,this))}static BindView(t,e){return e?Array.from(e.querySelectorAll("[node\\:model]")).map((e=>new L(t,e))):[]}}class b{data;key;type;isEdit=!1;elInput=null;elLabel=null;elNode=document.createElement("div");constructor(e,s,i=null,n=y.Label,a=!1){this.data=e,this.key=s,this.type=n,this.data=e,this.data.onSafe(`${t}_${s}`,this.changeData.bind(this)),this.data.onSafe(o,this.dispose.bind(this)),this.isEdit=n===y.Text,this.elNode.classList.add("node-editor"),a&&i?(i.parentElement?.insertBefore(this.elNode,i),i.parentElement?.removeChild(i),i?.remove()):i&&i.appendChild(this.elNode),this.render()}render(){let t=this.data.Get(this.key);if(this.isEdit){if(this.elLabel&&(this.elLabel.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.remove(),this.elLabel=null),this.elInput)return void(this.elInput.value=t);this.elInput=document.createElement("input"),this.elInput.classList.add("node-form-control"),this.elInput.addEventListener("keydown",this.inputData.bind(this)),this.elInput.value=t,this.elInput.setAttribute("node:model",this.key),this.elNode.appendChild(this.elInput)}else{if(this.elInput&&(this.elInput.removeEventListener("keyup",this.inputData.bind(this)),this.elInput.remove(),this.elInput=null),this.elLabel)return void(this.elLabel.innerHTML=t);this.elLabel=document.createElement("span"),this.type==y.Inline&&this.elLabel.addEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.setAttribute("node:model",this.key),this.elLabel.innerHTML=t,this.elNode.appendChild(this.elLabel)}}switchModeEdit(){this.isEdit=!0,this.render()}inputData(t){setTimeout((()=>{this.data.Set(this.key,t.target.value,this)}))}changeData({key:t,value:e,sender:s}){this.render()}dispose(){this.elInput?.removeEventListener("keydown",this.inputData.bind(this)),this.elLabel?.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.data.removeListener(`${t}_${this.key}`,this.changeData.bind(this)),this.data.removeListener(o,this.dispose.bind(this))}}class C extends v{main;lastData;labelKeys=["id","key","group"];dataJson=document.createElement("textarea");constructor(t,s){super(t,s),this.main=s,this.elNode.classList.add("vs-property"),this.BoxInfo("Property",(t=>{s.on(e,(e=>{this.renderUI(t,e.data)}))}))}renderUI(e,s){if(this.lastData==s)return;this.lastData=s,e.innerHTML="";let i=s.getProperties();Object.keys(i).forEach((t=>{let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=t;let o=document.createElement("div");o.classList.add("property-value"),this.labelKeys.includes(t)?new b(s,t,o,y.Label):new b(s,t,o,y.Text),i.appendChild(n),i.appendChild(o),e.appendChild(i)})),e.appendChild(this.dataJson),this.dataJson.value=s.toString(),this.dataJson.classList.add("node-form-control"),s.on(t,(()=>this.dataJson.value=s.toString()))}}class N{events={};constructor(){}onSafe(t,e){this.removeListener(t,e),this.on(t,e)}on(t,e){return"function"!=typeof e?(console.error("The listener callback must be a function, the given type is "+typeof e),!1):"string"!=typeof t?(console.error("The event name must be a string, the given type is "+typeof t),!1):(void 0===this.events[t]&&(this.events[t]={listeners:[]}),void this.events[t].listeners.push(e))}removeListener(t,e){if(!this.events[t])return!1;const s=this.events[t].listeners,i=s.indexOf(e);i>-1&&s.splice(i,1)}dispatch(t,e){if(void 0===this.events[t])return!1;this.events[t].listeners.forEach((t=>{t(e)}))}}class k{property;data={};properties=null;events;getProperties(){return this.properties}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}constructor(t,e){this.property=t,this.events=new N,e&&this.load(e)}InitData(t=null,e=-1){-1!==e&&(this.properties=e),this.load(t)}eventDataChange(e,s,i,n,o){o?(this.dispatch(`${t}_${e}_${o}_${s}`,{key:e,keyChild:s,value:i,sender:n,index:o}),this.dispatch(`${t}_${e}_${o}`,{key:e,keyChild:s,value:i,sender:n,index:o})):this.dispatch(`${t}_${e}_${s}`,{key:e,keyChild:s,value:i,sender:n}),this.dispatch(`${t}_${e}`,{key:e,keyChild:s,value:i,sender:n})}RemoveEventData(e,s,i){e&&e.removeListener(`${t}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}OnEventData(e,s,i){e&&e.on(`${t}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}BindEvent(t,e){t&&(t instanceof k&&this.OnEventData(t,e),Array.isArray(t)&&t.length>0&&t[0]instanceof k&&t.forEach(((t,s)=>this.OnEventData(t,e,s))))}Set(e,s,i=null,o=!0){this.data[e]!=s&&(this.data[e]&&(this.data[e]instanceof k&&this.RemoveEventData(this.data[e],e),Array.isArray(this.data[e])&&this.data[e].length>0&&this.data[e][0]instanceof k&&this.data[e].forEach(((t,s)=>this.RemoveEventData(t,e,s)))),this.BindEvent(s,e)),this.data[e]=s,o&&(this.dispatch(`${t}_${e}`,{key:e,value:s,sender:i}),this.dispatch(t,{key:e,value:s,sender:i}),this.dispatch(n,{key:e,value:s,sender:i}))}SetData(t,e=null,s=!1){if(s&&(this.data={}),t instanceof k){let s=t;if(!this.property&&s.property&&(this.property=s.property),this.properties)for(let t of Object.keys(this.properties))this.Set(t,s.Get(t),e,!1);else for(let t of Object.keys(s.getProperties()))this.Set(t,s.Get(t),e,!1)}else Object.keys(t).forEach((s=>{this.Set(s,t[s],e,!1)}));this.dispatch(n,{data:t})}Get(t){return this.data[t]}Append(t,e){this.data[t]||(this.data[t]=[]),this.data[t]=[...this.data[t],e],this.BindEvent(e,t)}Remove(t,e){this.data[t].indexOf(e);var s=this.data[t].indexOf(e);s>-1&&(this.RemoveEventData(this.data[t][s],t),this.data[t].splice(s,1))}load(t){if(this.data={},this.properties||(this.properties=this.property?.getPropertyByKey(t.key)),this.properties)for(let e of Object.keys(this.properties))this.data[e]=t?.[e]??("function"==typeof this.properties[e]?.default?this.properties[e]?.default():this.properties[e]?.default)??"",this.data[e]instanceof k||!this.data[e].key||(this.data[e]=new k(this.property,this.data[e])),!Array.isArray(this.data[e])||!this.property||this.data[e][0]instanceof k||(this.data[e]=this.data[e].map((t=>t instanceof k||!t.key?t:new k(this.property,t)))),this.BindEvent(this.data[e],e)}toString(){return JSON.stringify(this.toJson())}toJson(){let t={};for(let e of Object.keys(this.properties))t[e]=this.Get(e),t[e]instanceof k&&(t[e]=t[e].toJson()),Array.isArray(t[e])&&t[e].length>0&&t[e][0]instanceof k&&(t[e]=t[e].map((t=>t.toJson())));return t}delete(){this.events=new N,this.data={}}}class E{GetId(){return this.data.Get("id")}SetId(t){return this.data.Set("id",t)}properties={};data=new k;elNode=document.createElement("div");CheckElementChild(t){return this.elNode==t||this.elNode.contains(t)}events;SetData(t,e=null){this.data.SetData(t,e)}SetDataFlow(t){this.data.SetData(t,this,!0),this.dispatch("bind_data_event",{data:t,sender:this}),this.dispatch(n,{data:t,sender:this})}onSafe(t,e){return this.events.onSafe(t,e),this}on(t,e){return this.events.on(t,e),this}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}BindDataEvent(){this.data.on(t,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t,{type:"data",key:e,value:s,sender:i})}))})),this.data.on(n,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(n,{type:"data",key:t,value:e,sender:s})}))}))}RemoveDataEvent(){this.data.removeListener(t,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t,{type:"data",key:e,value:s,sender:i})}))})),this.data.removeListener(n,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(n,{type:"data",key:t,value:e,sender:s})}))}))}constructor(){this.events=new N,this.BindDataEvent()}}class $ extends E{parent;constructor(t){super(),this.parent=t}}const I=()=>(new Date).getTime();class _{from;fromIndex;to;toIndex;elNode=document.createElementNS("http://www.w3.org/2000/svg","svg");elPath=document.createElementNS("http://www.w3.org/2000/svg","path");data=new k;curvature=.5;constructor(t,e=0,s,i=0,n=null){this.from=t,this.fromIndex=e,this.to=s,this.toIndex=i,this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elNode.classList.add("connection"),this.elNode.appendChild(this.elPath),this.from.parent.elCanvas.appendChild(this.elNode),this.from.AddLine(this),this.to?.AddLine(this),n?this.data=n:(this.data.InitData({from:this.from.GetId(),fromIndex:this.fromIndex,to:this.to?.GetId(),toIndex:this.toIndex},{...this.from.parent.main.getPropertyByKey(p)||{}}),this.from.data.Append("lines",this.data))}updateTo(t,e){if(!this.from||null==this.from.elNode)return;let{x:s,y:i}=this.from.getPostisionDot(this.fromIndex);var n=this.createCurvature(s,i,t,e,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",n)}UpdateUI(){if(this.to&&this.to.elNode){let{x:t,y:e}=this.to.getPostisionDot(this.toIndex);this.updateTo(t,e)}return this}Active(t=!0){t?this.elPath.classList.add("active"):this.elPath.classList.remove("active")}createCurvature(t,e,s,i,n,o){let a=t,r=e,d=s,h=i,l=n;switch(o){case"open":if(t>=s)var c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"close":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*l;else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"other":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;default:return" M "+a+" "+r+" C "+(c=a+Math.abs(d-a)*l)+" "+r+" "+(p=d-Math.abs(d-a)*l)+" "+h+" "+d+"  "+h}}delete(t=null,e=!0){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),e&&this.from.data.Remove("lines",this.data),this.from!=t&&this.from.RemoveLine(this),this.to!=t&&this.to?.RemoveLine(this),this.elPath.remove(),this.elNode.remove()}StartSelected(t){this.from.parent.setLineChoose(this)}setNodeTo(t,e){this.to=t,this.toIndex=e}Clone(){if(this.to&&this.toIndex&&this.from!=this.to)return new _(this.from,this.fromIndex,this.to,this.toIndex).UpdateUI()}}var x;!function(t){t[t.None=0]="None",t[t.Node=1]="Node",t[t.Canvas=2]="Canvas",t[t.Line=3]="Line"}(x||(x={}));class G{parent;timeFastClick=0;tagIngore=["input","button","a","textarea"];moveType=x.None;flgDrap=!1;flgMove=!1;av_x=0;av_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;tempLine;constructor(t){this.parent=t,this.parent.elNode.addEventListener("mouseup",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mouseleave",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mousemove",this.Move.bind(this)),this.parent.elNode.addEventListener("mousedown",this.StartMove.bind(this)),this.parent.elNode.addEventListener("touchend",this.EndMove.bind(this)),this.parent.elNode.addEventListener("touchmove",this.Move.bind(this)),this.parent.elNode.addEventListener("touchstart",this.StartMove.bind(this)),this.parent.elNode.addEventListener("contextmenu",this.contextmenu.bind(this)),this.parent.elNode.addEventListener("drop",this.node_dropEnd.bind(this)),this.parent.elNode.addEventListener("dragover",this.node_dragover.bind(this)),this.parent.elNode.addEventListener("wheel",this.zoom_enter.bind(this)),this.parent.elNode.addEventListener("keydown",this.keydown.bind(this))}contextmenu(t){t.preventDefault()}node_dragover(t){t.preventDefault()}node_dropEnd(t){if(t.preventDefault(),this.parent.$lock)return;let e=this.parent.main.getControlChoose();if(e||"touchend"===t.type||(e=t.dataTransfer.getData("node")),!e)return;let s=0,i=0;"touchmove"===t.type?(s=t.touches[0].clientX,i=t.touches[0].clientY):(s=t.clientX,i=t.clientY);let n=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-s),o=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-i);this.parent.checkOnlyNode(e)||this.parent.AddNode(e,{group:this.parent.CurrentGroup()}).updatePosition(n,o)}zoom_enter(t){this.parent.$lock||t.ctrlKey&&(t.preventDefault(),t.deltaY>0?this.parent.zoom_out():this.parent.zoom_in())}StartMove(t){if(this.parent.$lock)return;if(this.tagIngore.includes(t.target.tagName.toLowerCase()))return;if(this.timeFastClick=I(),t.target.classList.contains("main-path"))return;"touchstart"===t.type?(this.pos_x=t.touches[0].clientX,this.pos_y=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_y=t.clientY),this.moveType=x.Canvas;let e=this.parent.getNodeChoose();if(e&&e.CheckElementChild(t.target)?this.moveType=x.Node:this.parent.setNodeChoose(void 0),e&&this.moveType==x.Node&&t.target.classList.contains("node-dot")){this.moveType=x.Line;let s=t.target.getAttribute("node");this.tempLine=new _(e,s)}this.moveType==x.Canvas&&(this.av_x=this.parent.getX(),this.av_y=this.parent.getY()),this.flgDrap=!0,this.flgMove=!1}Move(t){if(this.parent.$lock)return;if(!this.flgDrap)return;this.flgMove=!0;let e=0,s=0;switch("touchmove"===t.type?(e=t.touches[0].clientX,s=t.touches[0].clientY):(e=t.clientX,s=t.clientY),this.moveType){case x.Canvas:{let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i);break}case x.Node:{let t=this.parent.CalcX(this.pos_x-e),i=this.parent.CalcY(this.pos_y-s);this.pos_x=e,this.pos_y=s,this.parent.getNodeChoose()?.updatePosition(t,i);break}case x.Line:if(this.tempLine){let i=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-e),n=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-s);this.tempLine.updateTo(this.parent.elCanvas.offsetLeft-i,this.parent.elCanvas.offsetTop-n);let o=t.target.closest("[node-id]"),a=o?.getAttribute("node-id"),r=a?this.parent.GetNodeById(a):void 0;if(r&&t.target.classList.contains("node-dot")){let e=t.target.getAttribute("node");this.tempLine.setNodeTo(r,e)}else{let t=o?.querySelector(".node-dot")?.[0]?.getAttribute("node");this.tempLine.setNodeTo(r,t)}}}"touchmove"===t.type&&(this.mouse_x=e,this.mouse_y=s)}EndMove(t){if(this.parent.$lock)return;if(!this.flgDrap)return;if(I()-this.timeFastClick<100||!this.flgMove)return this.moveType=x.None,this.flgDrap=!1,void(this.flgMove=!1);let e=0,s=0;if("touchend"===t.type?(e=this.mouse_x,s=this.mouse_y):(e=t.clientX,s=t.clientY),this.moveType===x.Canvas){let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i),this.av_x=0,this.av_y=0}this.tempLine&&(this.tempLine.Clone(),this.tempLine.delete(),this.tempLine=void 0),this.pos_x=e,this.pos_y=s,this.moveType=x.None,this.flgDrap=!1,this.flgMove=!1}keydown(t){this.parent.$lock||(("Delete"===t.key||"Backspace"===t.key&&t.metaKey)&&(t.preventDefault(),this.parent.getNodeChoose()?.delete(),this.parent.getLineChoose()?.delete()),"F2"===t.key&&t.preventDefault())}}class D{parent;elNode;elPathGroup=document.createElement("div");btnBack=document.createElement("button");constructor(t){this.parent=t,this.elNode=t.elToolbar,this.elPathGroup.classList.add("toolbar-group"),this.renderUI(),this.renderPathGroup()}renderPathGroup(){this.btnBack.setAttribute("style","display:none;"),this.elPathGroup.innerHTML="";let t=this.parent.GetGroupName(),e=t.length-1;if(e<0)return;let s=document.createElement("span");s.innerHTML="Root",this.elPathGroup.appendChild(s),this.btnBack.removeAttribute("style");for(let s=e;s>=0;s--){let e=document.createElement("span");e.innerHTML=`>>${t[s]}`,this.elPathGroup.appendChild(e)}}renderUI(){if(!this.elNode)return;this.elNode.innerHTML="",this.btnBack.addEventListener("click",(()=>this.parent.BackGroup())),this.btnBack.innerHTML="Back";let t=document.createElement("button");t.addEventListener("click",(()=>this.parent.zoom_in())),t.innerHTML="+";let e=document.createElement("button");e.addEventListener("click",(()=>this.parent.zoom_out())),e.innerHTML="-";let s=document.createElement("button");s.addEventListener("click",(()=>this.parent.zoom_reset())),s.innerHTML="*";let i=document.createElement("div");i.classList.add("toolbar-button"),i.appendChild(this.btnBack),i.appendChild(t),i.appendChild(e),i.appendChild(s),this.elNode.appendChild(this.elPathGroup),this.elNode.appendChild(i)}}const M=eval;class w extends ${keyNode;getName(){return this.data.Get("name")}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}CheckKey(t){return this.data.Get("key")==t}getDataLine(){return this.data.Get("lines")??[]}elContent;arrLine=[];option={};arrDataView=[];constructor(e,s,i={}){super(e),this.keyNode=s,this.option=this.parent.main.getControlNodeByKey(s),this.properties=this.option?.properties,i instanceof k?this.data=i:(this.data.InitData(i,this.properties),this.parent.data.Append("nodes",this.data)),this.data.on(t,this.renderUI.bind(this)),this.elNode.classList.add("vs-node"),this.option.class&&this.elNode.classList.add(this.option.class),this.parent.elCanvas.appendChild(this.elNode),this.elNode.setAttribute("node-id",this.GetId()),this.elNode.addEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.addEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.renderUI()}renderUI(){this.elNode.contains(document.activeElement)||(this.elNode.setAttribute("style","display:none;"),this.elNode.innerHTML=`\n      <div class="node-left">\n        <div class="node-dot" node="4000"></div>\n      </div>\n      <div class="node-container">\n        <div class="node-top">\n          <div class="node-dot" node="1000"></div>\n        </div>\n        <div class="node-content">\n        <div class="title">${this.option.icon} ${this.getName()}</div>\n        <div class="body">${this.option.html}</div>\n        </div>\n        <div class="node-bottom">\n          <div class="node-dot" node="2000"></div>\n        </div>\n      </div>\n      <div class="node-right">\n        <div class="node-dot"  node="3000"></div>\n      </div>\n    `,this.elContent=this.elNode.querySelector(".node-content .body"),this.UpdateUI(),M(`(node,view)=>{${this.option.script}}`)(this,this.parent),this.arrDataView.forEach((t=>t.unBindData())),this.elContent&&(this.arrDataView=L.BindView(this.data,this.elContent)))}openGroup(){this.CheckKey("node_group")&&this.parent.openGroup(this.GetId())}updatePosition(t,e,s=!1){if(this.elNode){let i=t,n=e;s||(n=this.elNode.offsetTop-e,i=this.elNode.offsetLeft-t),i!==this.getX()&&this.setX(i),n!==this.getY()&&this.setY(n)}}Active(t=!0){t?this.elNode.classList.add("active"):this.elNode.classList.remove("active")}RemoveLine(t){var e=this.arrLine.indexOf(t);return e>-1&&this.arrLine.splice(e,1),this.arrLine}AddLine(t){this.arrLine=[...this.arrLine,t]}getPostisionDot(t=0){let e=this.elNode?.querySelector(`.node-dot[node="${t}"]`);if(e){let t=this.elNode.offsetTop+e.offsetTop+10;return{x:this.elNode.offsetLeft+e.offsetLeft+10,y:t}}return{}}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((t=>{t.UpdateUI()}))}delete(e=!0){this.arrLine.forEach((t=>t.delete(this,e))),e?this.data.delete():(this.data.removeListener(t,this.renderUI.bind(this)),this.RemoveDataEvent()),this.elNode.removeEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.removeEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.elNode.remove(),this.arrLine=[],e&&this.parent.RemoveNode(this),this.dispatch(n,{})}RenderLine(){this.getDataLine().forEach((t=>{let e=this.parent.GetNodeById(t.Get("to")),s=t.Get("toIndex"),i=t.Get("fromIndex");new _(this,i,e,s,t).UpdateUI()}))}}const P=1.6,S=.6,T=.1,A=1;class j extends E{main;getZoom(){return+this.data.Get("zoom")}setZoom(t){return this.data.Set("zoom",t,this)}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}group=[];GetGroupName(){return this.group.map((t=>this.GetDataById(t)?.Get("name")))}BackGroup(){this.group.splice(0,1),this.toolbar.renderPathGroup(),this.RenderUI()}CurrentGroup(){return this.group?.[0]??"root"}openGroup(t){this.group=[t,...this.group],this.toolbar.renderPathGroup(),this.RenderUI()}lineChoose;setLineChoose(t){this.lineChoose&&this.lineChoose.Active(!1),this.lineChoose=t,this.lineChoose&&(this.lineChoose.Active(),this.setNodeChoose(void 0))}getLineChoose(){return this.lineChoose}nodes=[];nodeChoose;setNodeChoose(t){this.nodeChoose&&this.nodeChoose.Active(!1),this.nodeChoose=t,this.nodeChoose?(this.nodeChoose.Active(),this.setLineChoose(void 0),this.dispatch(e,{data:this.nodeChoose.data})):this.dispatch(e,{data:this.data})}getNodeChoose(){return this.nodeChoose}AddNodeItem(t){return this.AddNode(t.Get("key"),t)}AddNode(t,e={}){return this.InsertNode(new w(this,t,e))}InsertNode(t){return this.nodes=[...this.nodes,t],t}RemoveNode(t){var e=this.nodes.indexOf(t);return this.data.Remove("nodes",t),e>-1&&this.nodes.splice(e,1),this.nodes}ClearNode(){this.nodes?.forEach((t=>t.delete(!1))),this.nodes=[]}GetDataAllNode(){return this.data.Get("nodes")??[]}GetDataNode(){return this.GetDataAllNode().filter((t=>t.Get("group")===this.CurrentGroup()))}elCanvas=document.createElement("div");elToolbar=document.createElement("div");toolbar;$lock=!0;zoom_last_value=1;constructor(e,s){super(),this.main=s,this.elNode=e;let i=this.main.getPropertyByKey(l);this.data.InitData({},i),this.elNode.innerHTML="",this.elNode.classList.remove("desginer-view"),this.elCanvas.classList.remove("desginer-canvas"),this.elNode.classList.add("desginer-view"),this.elCanvas.classList.add("desginer-canvas"),this.elToolbar.classList.add("desginer-toolbar"),this.elNode.appendChild(this.elCanvas),this.elNode.appendChild(this.elToolbar),this.elNode.tabIndex=0,this.RenderUI(),this.on(t,this.RenderUI.bind(this)),new G(this),this.toolbar=new D(this)}updateView(t,e,s){this.elCanvas.style.transform=`translate(${t}px, ${e}px) scale(${s})`}UpdateUI(){this.updateView(this.getX(),this.getY(),this.getZoom())}RenderUI(t={}){t.sender&&t.sender instanceof w||(t.sender&&t.sender instanceof j||(this.ClearNode(),this.GetDataNode().forEach((t=>{this.AddNodeItem(t)})),this.GetAllNode().forEach((t=>{t.RenderLine()}))),this.UpdateUI())}Open(t){this.data=t,this.$lock=!1,this.group=[],this.toolbar.renderPathGroup(),this.BindDataEvent(),this.RenderUI()}CalcX(t){return t*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(t){return t*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}GetAllNode(){return this.nodes||[]}GetNodeById(t){return this.GetAllNode().filter((e=>e.GetId()==t))?.[0]}GetDataById(t){return this.GetDataAllNode().filter((e=>e.Get("id")===t))?.[0]}checkOnlyNode(t){return this.main.getControlByKey(t).onlyNode&&this.nodes.filter((e=>e.CheckKey(t))).length>0}zoom_refresh(t=0){let e=0==t?A:this.getZoom()+T*t;P>=e&&e>=S&&(this.setX(this.getX()/this.zoom_last_value*e),this.setY(this.getY()/this.zoom_last_value*e),this.zoom_last_value=e,this.setZoom(this.zoom_last_value))}zoom_in(){this.zoom_refresh(1)}zoom_out(){this.zoom_refresh(-1)}zoom_reset(){this.zoom_refresh(0)}}class B extends v{main;view;constructor(t,i){super(t,i),this.main=i,this.view=new j(this.elNode,i),this.view.on(e,(t=>{i.dispatch(e,t)})),this.main.on(s,(t=>{this.view?.Open(t.data),this.main.SetProjectOpen(t.data)}))}}class U{container;main;$dockManager={};constructor(t,e){this.container=t,this.main=e}reset(){this.$dockManager={},this.addDock(a,m),this.addDock(a,f),this.addDock(h,C),this.addDock(r,B),this.addDock(d,v),this.RenderUI()}addDock(t,e){this.$dockManager[t]||(this.$dockManager[t]=[]),this.$dockManager[t]=[...this.$dockManager[t],e]}RenderUI(){this.container.innerHTML='\n      <div class="vs-left vs-dock"></div>\n      <div class="vs-content">\n        <div class="vs-top vs-dock"></div>\n        <div class="vs-view vs-dock"></div>\n        <div class="vs-bottom vs-dock"></div>\n      </div>\n      <div class="vs-right vs-dock"></div>\n    ',Object.keys(this.$dockManager).forEach((t=>{let e=this.container.querySelector(`.${t}`);e&&this.$dockManager[t].forEach((t=>{new t(e,this.main)}))}))}}return class{container;$data=new k(this);$projectOpen;$properties={};$control={};$controlDefault={node_begin:{icon:'<i class="fas fa-play"></i>',sort:0,name:"Begin",class:"node-test",html:"",output:1,input:0,onlyNode:!0},node_end:{icon:'<i class="fas fa-stop"></i>',sort:0,name:"End",html:"",output:0,onlyNode:!0},node_if:{icon:'<i class="fas fa-equals"></i>',sort:0,name:"If",html:'<div>condition:<br/><input node:model="condition"/></div>',script:"",properties:{condition:{key:"condition",default:""}},output:2},node_group:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Group",html:'<div class="text-center p3"><button class="btnGoGroup node-form-control">Go</button></div>',script:"node.elNode.querySelector('.btnGoGroup')?.addEventListener('click', () => {node.openGroup()});",properties:{condition:{key:"condition",default:""}},output:2},node_project:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Project",html:'<div class="text-center p3"><select class="listProject node-form-control" node:model="project"></select></div>',script:"\n      const reloadProject = ()=>{\n        node.elNode.querySelector('.listProject').innerHtml='';\n        let option = document.createElement('option');\n        option.text='none';\n        option.value='';\n        node.elNode.querySelector('.listProject').appendChild(option);\n        node.parent.main.getProjectAll().forEach((item)=>{\n          let option = document.createElement('option');\n          option.text=item.Get('name');\n          option.value=item.Get('id');\n          node.elNode.querySelector('.listProject').appendChild(option);\n        });\n        node.elNode.querySelector('.listProject').value= node.data.Get('project')\n      }\n      reloadProject();\n\n     ;",properties:{project:{key:"project",default:""}},output:2}};$controlChoose=null;$dockManager;events;getDockManager(){return this.$dockManager}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}getControlAll(){return this.$control??{}}constructor(t,e=null){this.container=t,this.events=new N,this.$properties[c]={id:{default:()=>I()},key:{default:c},name:{default:()=>`solution-${I()}`},projects:{default:[]}},this.$properties[p]={key:{default:p},from:{default:0},fromIndex:{default:0},to:{default:0},toIndex:{default:0}},this.$properties[l]={...e?.properties||{},id:{default:()=>I()},name:{default:()=>`app-${I()}`},key:{default:l},x:{default:0},y:{default:0},zoom:{default:1},nodes:{default:[]}},this.$control={...e?.control||{},...this.$controlDefault};let s={};Object.keys(this.$control).map((t=>({...this.$control[t],key:t,sort:void 0===this.$control[t].sort?99999:this.$control[t].sort}))).sort(u).forEach((t=>{s[t.key]=t,this.$properties[`node_${t.key}`]={...t.properties||{},id:{default:()=>I()},key:{default:t.key},name:{default:t.key},x:{default:0},y:{default:0},group:{default:""},lines:{default:[]}}})),this.$control=s,this.container.classList.remove("vs-container"),this.container.classList.add("vs-container"),this.$dockManager=new U(this.container,this),this.$dockManager.reset(),this.$data.InitData({},this.getPropertyByKey(c))}getProjectAll(){return this.$data.Get("projects")??[]}open(t){this.$data.InitData(t,this.getPropertyByKey(c))}SetProjectOpen(t){this.$projectOpen=t}CheckProjectOpen(t){return this.$projectOpen==t}newProject(){this.openProject({}),this.dispatch(i,{})}openProject(t){if(t instanceof k){let e=this.getProjectById(t.Get("id"));e||(e=t,this.$data.Append("projects",e)),this.dispatch(s,e)}else{let i=new k(this);i.InitData(t,this.getPropertyByKey(l)),this.$data.Append("projects",i),this.dispatch(s,{data:i}),this.dispatch(e,{data:i}),this.dispatch(n,{data:i})}}getProjectById(t){return this.$data.Get("projects").filter((e=>e.Get("id")===t))?.[0]}setControlChoose(t){this.$controlChoose=t}getControlChoose(){return this.$controlChoose}getControlByKey(t){return this.$control[t]||{}}getControlNodeByKey(t){return{...this.getControlByKey(t),properties:this.getPropertyByKey(`node_${t}`)}}getPropertyByKey(t){return this.$properties[t]}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL0NvbnN0YW50LnRzIiwiLi4vc3JjL2RvY2svRG9ja0Jhc2UudHMiLCIuLi9zcmMvZG9jay9Db250cm9sRG9jay50cyIsIi4uL3NyYy9kb2NrL1Byb2plY3REb2NrLnRzIiwiLi4vc3JjL2NvcmUvRWRpdG9yLnRzIiwiLi4vc3JjL2RvY2svUHJvcGVydHlEb2NrLnRzIiwiLi4vc3JjL2NvcmUvRXZlbnRGbG93LnRzIiwiLi4vc3JjL2NvcmUvRGF0YUZsb3cudHMiLCIuLi9zcmMvY29yZS9CYXNlRmxvdy50cyIsIi4uL3NyYy9jb3JlL1V0aWxzLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0xpbmUudHMiLCIuLi9zcmMvZGVzZ2luZXIvRGVzZ2luZXJWaWV3X0V2ZW50LnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlld19Ub29sYmFyLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL05vZGUudHMiLCIuLi9zcmMvZGVzZ2luZXIvRGVzZ2luZXJWaWV3LnRzIiwiLi4vc3JjL2RvY2svVmlld0RvY2sudHMiLCIuLi9zcmMvZG9jay9Eb2NrTWFuYWdlci50cyIsIi4uL3NyYy9WaXN1YWxGbG93LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFdmVudEVudW0gPSB7XG4gIGluaXQ6IFwiaW5pdFwiLFxuICBkYXRhQ2hhbmdlOiBcImRhdGFDaGFuZ2VcIixcbiAgc2hvd1Byb3BlcnR5OiBcInNob3dQcm9wZXJ0eVwiLFxuICBvcGVuUHJvamVjdDogXCJvcGVuUHJvamVjdFwiLFxuICBuZXdQcm9qZWN0OiBcIm5ld1Byb2plY3RcIixcbiAgY2hhbmdlOiBcImNoYW5nZVwiLFxuICBkaXNwb3NlOiBcImRpc3Bvc2VcIlxufVxuXG5leHBvcnQgY29uc3QgRG9ja0VudW0gPSB7XG4gIGxlZnQ6IFwidnMtbGVmdFwiLFxuICB0b3A6IFwidnMtdG9wXCIsXG4gIHZpZXc6IFwidnMtdmlld1wiLFxuICBib3R0b206IFwidnMtYm90dG9tXCIsXG4gIHJpZ2h0OiBcInZzLXJpZ2h0XCIsXG59XG5cbmV4cG9ydCBjb25zdCBQcm9wZXJ0eUVudW0gPSB7XG4gIG1haW46IFwibWFpbl9wcm9qZWN0XCIsXG4gIHNvbHV0aW9uOiAnbWFpbl9zb2x1dGlvbicsXG4gIGxpbmU6ICdtYWluX2xpbmUnLFxuICB2YXJpYWJsZTogJ21haW5fdmFyaWFibGUnLFxuICBncm91cENhdmFzOiBcIm1haW5fZ3JvdXBDYXZhc1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IGNvbXBhcmVTb3J0ID0gKGE6IGFueSwgYjogYW55KSA9PiB7XG4gIGlmIChhLnNvcnQgPCBiLnNvcnQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKGEuc29ydCA+IGIuc29ydCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERvY2tCYXNlIHtcclxuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHByb3RlY3RlZCBlbENvbnRlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQgfCBudWxsO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XHJcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnRG9ja0Jhc2UnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIEJveEluZm8odGl0bGU6IHN0cmluZywgJGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ZzLWJveGluZm8nKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLWJveGluZm8nKTtcclxuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwidnMtYm94aW5mb19oZWFkZXJcIj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fdGl0bGVcIj4ke3RpdGxlfTwvc3Bhbj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fYnV0dG9uXCI+PC9zcGFuPjwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInZzLWJveGluZm9fY29udGVudFwiPjwvZGl2PmA7XHJcbiAgICB0aGlzLmVsQ29udGVudCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2NvbnRlbnQnKTtcclxuICAgIGlmICgkY2FsbGJhY2spIHtcclxuICAgICAgJGNhbGxiYWNrKHRoaXMuZWxDb250ZW50KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbERvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLWNvbnRyb2wnKTtcclxuICAgIHRoaXMuQm94SW5mbygnQ29udHJvbCcsIChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICBsZXQgY29udHJvbHMgPSB0aGlzLm1haW4uZ2V0Q29udHJvbEFsbCgpO1xyXG4gICAgICBPYmplY3Qua2V5cyhjb250cm9scykuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnbm9kZS1pdGVtJyk7XHJcbiAgICAgICAgbm9kZUl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xyXG4gICAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJywgaXRlbSk7XHJcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7Y29udHJvbHNbaXRlbV0uaWNvbn0gPHNwYW4+JHtjb250cm9sc1tpdGVtXS5uYW1lfTwvc3BhbmA7XHJcbiAgICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5kcmFnU3RhcnQuYmluZCh0aGlzKSlcclxuICAgICAgICBub2RlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5kcmFnZW5kLmJpbmQodGhpcykpXHJcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChub2RlSXRlbSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZHJhZ2VuZChlOiBhbnkpIHtcclxuICAgIHRoaXMubWFpbi5zZXRDb250cm9sQ2hvb3NlKG51bGwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkcmFnU3RhcnQoZTogYW55KSB7XHJcbiAgICBsZXQga2V5ID0gZS50YXJnZXQuY2xvc2VzdChcIi5ub2RlLWl0ZW1cIikuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnKTtcclxuICAgIHRoaXMubWFpbi5zZXRDb250cm9sQ2hvb3NlKGtleSk7XHJcbiAgICBpZiAoZS50eXBlICE9PSBcInRvdWNoc3RhcnRcIikge1xyXG4gICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwibm9kZVwiLCBrZXkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcclxuaW1wb3J0IHsgRG9ja0Jhc2UgfSBmcm9tIFwiLi9Eb2NrQmFzZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2plY3REb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XHJcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1wcm9qZWN0Jyk7XHJcbiAgICB0aGlzLkJveEluZm8oJ1Byb2plY3QnLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5jaGFuZ2UsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCAoZGV0YWlsOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5lbENvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUnKS5mb3JFYWNoKChfbm9kZSkgPT4ge1xyXG4gICAgICAgIF9ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMuZWxDb250ZW50ICYmIGRldGFpbD8uZGF0YT8uR2V0KCdpZCcpKSB7XHJcbiAgICAgICAgdGhpcy5lbENvbnRlbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD1cIiR7ZGV0YWlsPy5kYXRhPy5HZXQoJ2lkJyl9XCJdYCk/LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuICBwcml2YXRlIHJlbmRlclVJKCkge1xyXG4gICAgbGV0ICRub2RlUmlnaHQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2hlYWRlciAudnMtYm94aW5mb19idXR0b24nKTtcclxuICAgIGlmICghdGhpcy5lbENvbnRlbnQpIHJldHVybjtcclxuICAgIHRoaXMuZWxDb250ZW50LmlubmVySFRNTCA9IGBgO1xyXG4gICAgaWYgKCRub2RlUmlnaHQpIHtcclxuICAgICAgJG5vZGVSaWdodC5pbm5lckhUTUwgPSBgYDtcclxuICAgICAgbGV0IGJ1dHRvbk5ldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAkbm9kZVJpZ2h0Py5hcHBlbmRDaGlsZChidXR0b25OZXcpO1xyXG4gICAgICBidXR0b25OZXcuaW5uZXJIVE1MID0gYE5ld2A7XHJcbiAgICAgIGJ1dHRvbk5ldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubWFpbi5uZXdQcm9qZWN0KCcnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByb2plY3RzID0gdGhpcy5tYWluLmdldFByb2plY3RBbGwoKTtcclxuICAgIHByb2plY3RzLmZvckVhY2goKGl0ZW06IERhdGFGbG93KSA9PiB7XHJcbiAgICAgIGxldCBub2RlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBub2RlSXRlbS5jbGFzc0xpc3QuYWRkKCdub2RlLWl0ZW0nKTtcclxuICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xyXG4gICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGl0ZW0uR2V0KCdpZCcpKTtcclxuICAgICAgaXRlbS5yZW1vdmVMaXN0ZW5lcihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fbmFtZWAsICgpID0+IHtcclxuICAgICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpdGVtLm9uKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV9uYW1lYCwgKCkgPT4ge1xyXG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh0aGlzLm1haW4uQ2hlY2tQcm9qZWN0T3BlbihpdGVtKSkge1xyXG4gICAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWFpbi5kaXNwYXRjaChFdmVudEVudW0ub3BlblByb2plY3QsIHsgZGF0YTogaXRlbSB9KTtcclxuICAgICAgICB0aGlzLm1haW4uZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiBpdGVtIH0pO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZWxDb250ZW50Py5hcHBlbmRDaGlsZChub2RlSXRlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VGbG93LCBGbG93Q29yZSB9IGZyb20gXCIuL0Jhc2VGbG93XCJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XG5leHBvcnQgZW51bSBFZGl0b3JUeXBlIHtcbiAgTGFiZWwsXG4gIFRleHQsXG4gIElubGluZVxufVxuZXhwb3J0IGNvbnN0IFRhZ1ZpZXcgPSBbJ1NQQU4nLCAnRElWJywgJ1AnLCAnVEVYVEFSRUEnXTtcbmV4cG9ydCBjbGFzcyBEYXRhVmlldyB7XG4gIHByaXZhdGUga2V5TmFtZTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCA9IFwiXCI7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZGF0YTogRGF0YUZsb3csIHByaXZhdGUgZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGwpIHtcbiAgICB0aGlzLmtleU5hbWUgPSBlbD8uZ2V0QXR0cmlidXRlKCdub2RlOm1vZGVsJyk7XG4gICAgdGhpcy5iaW5kRGF0YSgpO1xuICB9XG4gIHByaXZhdGUgYmluZERhdGEoKSB7XG4gICAgaWYgKHRoaXMua2V5TmFtZSAmJiB0aGlzLmVsKSB7XG4gICAgICB0aGlzLmRhdGEub24oYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7dGhpcy5rZXlOYW1lfWAsIHRoaXMuYmluZElucHV0LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmJpbmRFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgdW5CaW5kRGF0YSgpIHtcbiAgICBpZiAodGhpcy5rZXlOYW1lICYmIHRoaXMuZWwpIHtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHt0aGlzLmtleU5hbWV9YCwgdGhpcy5iaW5kSW5wdXQuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5iaW5kRXZlbnQuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYmluZElucHV0KHsgdmFsdWUsIHNlbmRlciB9OiBhbnkpIHtcblxuICAgIGlmIChzZW5kZXIgIT09IHRoaXMgJiYgdGhpcy5lbCAmJiBzZW5kZXIuZWwgIT09IHRoaXMuZWwpIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWwudGFnTmFtZSk7XG4gICAgICBjb25zb2xlLmxvZyhzZW5kZXIpO1xuICAgICAgaWYgKFRhZ1ZpZXcuaW5jbHVkZXModGhpcy5lbC50YWdOYW1lKSkge1xuICAgICAgICB0aGlzLmVsLmlubmVyVGV4dCA9IGAke3ZhbHVlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAodGhpcy5lbCBhcyBhbnkpLnZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYmluZEV2ZW50KCkge1xuICAgIGlmICh0aGlzLmtleU5hbWUgJiYgdGhpcy5lbCkge1xuICAgICAgY29uc29sZS5sb2codGhpcy5rZXlOYW1lKTtcbiAgICAgIHRoaXMuZGF0YS5TZXQodGhpcy5rZXlOYW1lLCAodGhpcy5lbCBhcyBhbnkpLnZhbHVlLCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHN0YXRpYyBCaW5kVmlldyhkYXRhOiBEYXRhRmxvdywgcm9vdDogRWxlbWVudCkge1xuICAgIGlmIChyb290KSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShyb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tub2RlXFxcXDptb2RlbF0nKSkubWFwKChlbCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IERhdGFWaWV3KGRhdGEsIGVsIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBFZGl0b3Ige1xuICBwcml2YXRlIGlzRWRpdDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGVsSW5wdXQ6IEhUTUxEYXRhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGVsTGFiZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGRhdGE6IERhdGFGbG93LCBwcml2YXRlIGtleTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCwgcHJpdmF0ZSB0eXBlOiBFZGl0b3JUeXBlID0gRWRpdG9yVHlwZS5MYWJlbCwgY2hhZ25lOiBib29sZWFuID0gZmFsc2UpIHtcblxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5kYXRhLm9uU2FmZShgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwgdGhpcy5jaGFuZ2VEYXRhLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZGF0YS5vblNhZmUoRXZlbnRFbnVtLmRpc3Bvc2UsIHRoaXMuZGlzcG9zZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmlzRWRpdCA9IHR5cGUgPT09IEVkaXRvclR5cGUuVGV4dDtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdub2RlLWVkaXRvcicpO1xuICAgIGlmIChjaGFnbmUgJiYgZWwpIHtcbiAgICAgIGVsLnBhcmVudEVsZW1lbnQ/Lmluc2VydEJlZm9yZSh0aGlzLmVsTm9kZSwgZWwpO1xuICAgICAgZWwucGFyZW50RWxlbWVudD8ucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgZWw/LnJlbW92ZSgpO1xuICAgIH0gZWxzZSBpZiAoZWwpIHtcbiAgICAgIGVsLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuICBwdWJsaWMgcmVuZGVyKCkge1xuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhLkdldCh0aGlzLmtleSk7XG5cbiAgICBpZiAodGhpcy5pc0VkaXQpIHtcbiAgICAgIGlmICh0aGlzLmVsTGFiZWwpIHtcbiAgICAgICAgdGhpcy5lbExhYmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5zd2l0Y2hNb2RlRWRpdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5lbExhYmVsLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmVsTGFiZWwgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZWxJbnB1dCkge1xuICAgICAgICB0aGlzLmVsSW5wdXQudmFsdWUgPSBkYXRhO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmVsSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgdGhpcy5lbElucHV0LmNsYXNzTGlzdC5hZGQoJ25vZGUtZm9ybS1jb250cm9sJyk7XG4gICAgICB0aGlzLmVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaW5wdXREYXRhLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbElucHV0LnZhbHVlID0gZGF0YTtcbiAgICAgIHRoaXMuZWxJbnB1dC5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleSk7XG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsSW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5lbElucHV0KSB7XG4gICAgICAgIHRoaXMuZWxJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaW5wdXREYXRhLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmVsSW5wdXQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuZWxJbnB1dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lbExhYmVsKSB7XG4gICAgICAgIHRoaXMuZWxMYWJlbC5pbm5lckhUTUwgPSBkYXRhO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmVsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBpZiAodGhpcy50eXBlID09IEVkaXRvclR5cGUuSW5saW5lKSB7XG4gICAgICAgIHRoaXMuZWxMYWJlbC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuc3dpdGNoTW9kZUVkaXQuYmluZCh0aGlzKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsTGFiZWwuc2V0QXR0cmlidXRlKCdub2RlOm1vZGVsJywgdGhpcy5rZXkpO1xuICAgICAgdGhpcy5lbExhYmVsLmlubmVySFRNTCA9IGRhdGE7XG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsTGFiZWwpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgc3dpdGNoTW9kZUVkaXQoKSB7XG4gICAgdGhpcy5pc0VkaXQgPSB0cnVlO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbiAgcHVibGljIGlucHV0RGF0YShlOiBhbnkpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGF0YS5TZXQodGhpcy5rZXksIGUudGFyZ2V0LnZhbHVlLCB0aGlzKTtcbiAgICB9KVxuICB9XG4gIHB1YmxpYyBjaGFuZ2VEYXRhKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbiAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5lbElucHV0Py5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbExhYmVsPy5yZW1vdmVFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuc3dpdGNoTW9kZUVkaXQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke3RoaXMua2V5fWAsIHRoaXMuY2hhbmdlRGF0YS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRhdGEucmVtb3ZlTGlzdGVuZXIoRXZlbnRFbnVtLmRpc3Bvc2UsIHRoaXMuZGlzcG9zZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcclxuaW1wb3J0IHsgRWRpdG9yLCBFZGl0b3JUeXBlIH0gZnJvbSBcIi4uL2NvcmUvRWRpdG9yXCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eURvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XHJcbiAgcHJpdmF0ZSBsYXN0RGF0YTogRGF0YUZsb3cgfCB1bmRlZmluZWQ7XHJcbiAgcHJpdmF0ZSBsYWJlbEtleXM6IHN0cmluZ1tdID0gWydpZCcsICdrZXknLCAnZ3JvdXAnXTtcclxuICBwcml2YXRlIGRhdGFKc29uOiBIVE1MVGV4dEFyZWFFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XHJcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xyXG5cclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXByb3BlcnR5Jyk7XHJcbiAgICB0aGlzLkJveEluZm8oJ1Byb3BlcnR5JywgKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgIG1haW4ub24oRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgKGRldGFpbDogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJVSShub2RlLCBkZXRhaWwuZGF0YSk7XHJcbiAgICAgIH0pXHJcbiAgICB9KTtcclxuICB9XHJcbiAgcHJpdmF0ZSByZW5kZXJVSShub2RlOiBIVE1MRWxlbWVudCwgZGF0YTogRGF0YUZsb3cpIHtcclxuICAgIGlmICh0aGlzLmxhc3REYXRhID09IGRhdGEpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5sYXN0RGF0YSA9IGRhdGE7XHJcbiAgICBub2RlLmlubmVySFRNTCA9ICcnO1xyXG4gICAgbGV0IHByb3BlcnRpZXM6IGFueSA9IGRhdGEuZ2V0UHJvcGVydGllcygpXHJcbiAgICBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgICBsZXQgcHJvcGVydHlJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHByb3BlcnR5SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS1pdGVtJyk7XHJcbiAgICAgIGxldCBwcm9wZXJ0eUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHByb3BlcnR5TGFiZWwuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktbGFiZWwnKTtcclxuICAgICAgcHJvcGVydHlMYWJlbC5pbm5lckhUTUwgPSBrZXk7XHJcbiAgICAgIGxldCBwcm9wZXJ0eVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIHByb3BlcnR5VmFsdWUuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktdmFsdWUnKTtcclxuICAgICAgaWYgKHRoaXMubGFiZWxLZXlzLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICBuZXcgRWRpdG9yKGRhdGEsIGtleSwgcHJvcGVydHlWYWx1ZSwgRWRpdG9yVHlwZS5MYWJlbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV3IEVkaXRvcihkYXRhLCBrZXksIHByb3BlcnR5VmFsdWUsIEVkaXRvclR5cGUuVGV4dCk7XHJcbiAgICAgIH1cclxuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5TGFiZWwpO1xyXG4gICAgICBwcm9wZXJ0eUl0ZW0uYXBwZW5kQ2hpbGQocHJvcGVydHlWYWx1ZSk7XHJcbiAgICAgIG5vZGUuYXBwZW5kQ2hpbGQocHJvcGVydHlJdGVtKTtcclxuICAgIH0pO1xyXG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRhdGFKc29uKTtcclxuICAgIHRoaXMuZGF0YUpzb24udmFsdWUgPSBkYXRhLnRvU3RyaW5nKCk7XHJcbiAgICB0aGlzLmRhdGFKc29uLmNsYXNzTGlzdC5hZGQoJ25vZGUtZm9ybS1jb250cm9sJyk7XHJcbiAgICBkYXRhLm9uKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCAoKSA9PiB0aGlzLmRhdGFKc29uLnZhbHVlID0gZGF0YS50b1N0cmluZygpKVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRXZlbnRGbG93IHtcclxuICBwcml2YXRlIGV2ZW50czogYW55ID0ge307XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XHJcbiAgcHVibGljIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICB0aGlzLm9uKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIC8qIEV2ZW50cyAqL1xyXG4gIHB1YmxpYyBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cclxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGxpc3RlbmVyIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbiwgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgY2FsbGJhY2t9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBpcyBub3QgYSBzdHJpbmdcclxuICAgIGlmICh0eXBlb2YgZXZlbnQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBldmVudCBuYW1lIG11c3QgYmUgYSBzdHJpbmcsIHRoZSBnaXZlbiB0eXBlIGlzICR7dHlwZW9mIGV2ZW50fWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBpZiB0aGlzIGV2ZW50IG5vdCBleGlzdHNcclxuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSB7XHJcbiAgICAgICAgbGlzdGVuZXJzOiBbXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG5cclxuICAgIGlmICghdGhpcy5ldmVudHNbZXZlbnRdKSByZXR1cm4gZmFsc2VcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzXHJcbiAgICBjb25zdCBsaXN0ZW5lckluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spXHJcbiAgICBjb25zdCBoYXNMaXN0ZW5lciA9IGxpc3RlbmVySW5kZXggPiAtMVxyXG4gICAgaWYgKGhhc0xpc3RlbmVyKSBsaXN0ZW5lcnMuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGlzIGV2ZW50IG5vdCBleGlzdHNcclxuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IHtcclxuICAgICAgbGlzdGVuZXIoZGV0YWlscyk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSVByb3BlcnR5IH0gZnJvbSBcIi4vQmFzZUZsb3dcIjtcclxuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4vQ29uc3RhbnRcIjtcclxuaW1wb3J0IHsgRXZlbnRGbG93IH0gZnJvbSBcIi4vRXZlbnRGbG93XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRGF0YUZsb3cge1xyXG4gIHByaXZhdGUgZGF0YTogYW55ID0ge307XHJcbiAgcHJpdmF0ZSBwcm9wZXJ0aWVzOiBhbnkgPSBudWxsO1xyXG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudEZsb3c7XHJcbiAgcHVibGljIGdldFByb3BlcnRpZXMoKTogYW55IHtcclxuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXM7XHJcbiAgfVxyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XHJcblxyXG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xyXG4gIH1cclxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBwcm9wZXJ0eTogSVByb3BlcnR5IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBkYXRhOiBhbnkgPSB1bmRlZmluZWQpIHtcclxuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RmxvdygpO1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgdGhpcy5sb2FkKGRhdGEpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgSW5pdERhdGEoZGF0YTogYW55ID0gbnVsbCwgcHJvcGVydGllczogYW55ID0gLTEpIHtcclxuICAgIGlmIChwcm9wZXJ0aWVzICE9PSAtMSkge1xyXG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xyXG4gICAgfVxyXG4gICAgdGhpcy5sb2FkKGRhdGEpO1xyXG4gIH1cclxuICBwcml2YXRlIGV2ZW50RGF0YUNoYW5nZShrZXk6IHN0cmluZywga2V5Q2hpbGQ6IHN0cmluZywgdmFsdWVDaGlsZDogYW55LCBzZW5kZXJDaGlsZDogYW55LCBpbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7aW5kZXh9XyR7a2V5Q2hpbGR9YCwge1xyXG4gICAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkLCBpbmRleFxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7aW5kZXh9YCwge1xyXG4gICAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkLCBpbmRleFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fV8ke2tleUNoaWxkfWAsIHtcclxuICAgICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fWAsIHtcclxuICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGRcclxuICAgIH0pO1xyXG4gIH1cclxuICBwdWJsaWMgUmVtb3ZlRXZlbnREYXRhKGl0ZW06IERhdGFGbG93LCBrZXk6IHN0cmluZywgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgaWYgKCFpdGVtKSByZXR1cm47XHJcbiAgICBpdGVtLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfWAsICh7IGtleToga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkIH06IGFueSkgPT4gdGhpcy5ldmVudERhdGFDaGFuZ2Uoa2V5LCBrZXlDaGlsZCwgdmFsdWVDaGlsZCwgc2VuZGVyQ2hpbGQsIGluZGV4KSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBPbkV2ZW50RGF0YShpdGVtOiBEYXRhRmxvdywga2V5OiBzdHJpbmcsIGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgIGlmICghaXRlbSkgcmV0dXJuO1xyXG4gICAgaXRlbS5vbihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1gLCAoeyBrZXk6IGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZCB9OiBhbnkpID0+IHRoaXMuZXZlbnREYXRhQ2hhbmdlKGtleSwga2V5Q2hpbGQsIHZhbHVlQ2hpbGQsIHNlbmRlckNoaWxkLCBpbmRleCkpO1xyXG4gIH1cclxuICBwcml2YXRlIEJpbmRFdmVudCh2YWx1ZTogYW55LCBrZXk6IHN0cmluZykge1xyXG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xyXG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcclxuICAgICAgdGhpcy5PbkV2ZW50RGF0YSh2YWx1ZSBhcyBEYXRhRmxvdywga2V5KTtcclxuICAgIH1cclxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAodmFsdWUgYXMgW10pLmxlbmd0aCA+IDAgJiYgdmFsdWVbMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAodmFsdWUgYXMgRGF0YUZsb3dbXSkuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3csIGluZGV4OiBudW1iZXIpID0+IHRoaXMuT25FdmVudERhdGEoaXRlbSwga2V5LCBpbmRleCkpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgU2V0KGtleTogc3RyaW5nLCB2YWx1ZTogYW55LCBzZW5kZXI6IGFueSA9IG51bGwsIGlzRGlzcGF0Y2g6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICBpZiAodGhpcy5kYXRhW2tleV0gIT0gdmFsdWUpIHtcclxuICAgICAgaWYgKHRoaXMuZGF0YVtrZXldKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YVtrZXldIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcclxuICAgICAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKCh0aGlzLmRhdGFba2V5XSBhcyBEYXRhRmxvdyksIGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZGF0YVtrZXldKSAmJiAodGhpcy5kYXRhW2tleV0gYXMgW10pLmxlbmd0aCA+IDAgJiYgdGhpcy5kYXRhW2tleV1bMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgICAgKHRoaXMuZGF0YVtrZXldIGFzIERhdGFGbG93W10pLmZvckVhY2goKGl0ZW06IERhdGFGbG93LCBpbmRleDogbnVtYmVyKSA9PiB0aGlzLlJlbW92ZUV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuQmluZEV2ZW50KHZhbHVlLCBrZXkpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhW2tleV0gPSB2YWx1ZTtcclxuICAgIGlmIChpc0Rpc3BhdGNoKSB7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fWAsIHtcclxuICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHtcclxuICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge1xyXG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG4gIHB1YmxpYyBTZXREYXRhKGRhdGE6IGFueSwgc2VuZGVyOiBhbnkgPSBudWxsLCBpc0NsZWFyRGF0YSA9IGZhbHNlKSB7XHJcblxyXG4gICAgaWYgKGlzQ2xlYXJEYXRhKSB0aGlzLmRhdGEgPSB7fTtcclxuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcclxuICAgICAgbGV0ICRkYXRhOiBEYXRhRmxvdyA9IGRhdGEgYXMgRGF0YUZsb3c7XHJcbiAgICAgIGlmICghdGhpcy5wcm9wZXJ0eSAmJiAkZGF0YS5wcm9wZXJ0eSkgdGhpcy5wcm9wZXJ0eSA9ICRkYXRhLnByb3BlcnR5O1xyXG4gICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMucHJvcGVydGllcykpIHtcclxuICAgICAgICAgIHRoaXMuU2V0KGtleSwgJGRhdGEuR2V0KGtleSksIHNlbmRlciwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoJGRhdGEuZ2V0UHJvcGVydGllcygpKSkge1xyXG4gICAgICAgICAgdGhpcy5TZXQoa2V5LCAkZGF0YS5HZXQoa2V5KSwgc2VuZGVyLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIHRoaXMuU2V0KGtleSwgZGF0YVtrZXldLCBzZW5kZXIsIGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgIGRhdGFcclxuICAgIH0pO1xyXG4gIH1cclxuICBwdWJsaWMgR2V0KGtleTogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhW2tleV07XHJcbiAgfVxyXG4gIHB1YmxpYyBBcHBlbmQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcclxuICAgIGlmICghdGhpcy5kYXRhW2tleV0pIHRoaXMuZGF0YVtrZXldID0gW107XHJcbiAgICB0aGlzLmRhdGFba2V5XSA9IFsuLi50aGlzLmRhdGFba2V5XSwgdmFsdWVdO1xyXG4gICAgdGhpcy5CaW5kRXZlbnQodmFsdWUsIGtleSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBSZW1vdmUoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcclxuICAgIHRoaXMuZGF0YVtrZXldLmluZGV4T2YodmFsdWUpO1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLlJlbW92ZUV2ZW50RGF0YSh0aGlzLmRhdGFba2V5XVtpbmRleF0sIGtleSk7XHJcbiAgICAgIHRoaXMuZGF0YVtrZXldLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBsb2FkKGRhdGE6IGFueSkge1xyXG4gICAgdGhpcy5kYXRhID0ge307XHJcbiAgICBpZiAoIXRoaXMucHJvcGVydGllcykge1xyXG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLnByb3BlcnR5Py5nZXRQcm9wZXJ0eUJ5S2V5KGRhdGEua2V5KTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcclxuICAgICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMucHJvcGVydGllcykpIHtcclxuICAgICAgICB0aGlzLmRhdGFba2V5XSA9IChkYXRhPy5ba2V5XSA/PyAoKHR5cGVvZiB0aGlzLnByb3BlcnRpZXNba2V5XT8uZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiID8gdGhpcy5wcm9wZXJ0aWVzW2tleV0/LmRlZmF1bHQoKSA6IHRoaXMucHJvcGVydGllc1trZXldPy5kZWZhdWx0KSA/PyBcIlwiKSk7XHJcbiAgICAgICAgaWYgKCEodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykgJiYgdGhpcy5kYXRhW2tleV0ua2V5KSB7XHJcbiAgICAgICAgICB0aGlzLmRhdGFba2V5XSA9IG5ldyBEYXRhRmxvdyh0aGlzLnByb3BlcnR5LCB0aGlzLmRhdGFba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZGF0YVtrZXldKSAmJiB0aGlzLnByb3BlcnR5ICYmICEodGhpcy5kYXRhW2tleV1bMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykpIHtcclxuICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gdGhpcy5kYXRhW2tleV0ubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIERhdGFGbG93KSAmJiBpdGVtLmtleSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0YUZsb3codGhpcy5wcm9wZXJ0eSwgaXRlbSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLkJpbmRFdmVudCh0aGlzLmRhdGFba2V5XSwga2V5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgdG9TdHJpbmcoKSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGhpcy50b0pzb24oKSk7XHJcbiAgfVxyXG4gIHB1YmxpYyB0b0pzb24oKSB7XHJcbiAgICBsZXQgcnM6IGFueSA9IHt9O1xyXG4gICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMucHJvcGVydGllcykpIHtcclxuICAgICAgcnNba2V5XSA9IHRoaXMuR2V0KGtleSk7XHJcbiAgICAgIGlmIChyc1trZXldIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcclxuICAgICAgICByc1trZXldID0gcnNba2V5XS50b0pzb24oKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyc1trZXldKSAmJiAocnNba2V5XSBhcyBbXSkubGVuZ3RoID4gMCAmJiByc1trZXldWzBdIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcclxuICAgICAgICByc1trZXldID0gcnNba2V5XS5tYXAoKGl0ZW06IERhdGFGbG93KSA9PiBpdGVtLnRvSnNvbigpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJzO1xyXG4gIH1cclxuICBwdWJsaWMgZGVsZXRlKCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICB0aGlzLmRhdGEgPSB7fTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi9EYXRhRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tIFwiLi9FdmVudEZsb3dcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVByb3BlcnR5IHtcclxuICBnZXRQcm9wZXJ0eUJ5S2V5KGtleTogc3RyaW5nKTogYW55O1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbnRyb2xOb2RlIGV4dGVuZHMgSVByb3BlcnR5IHtcclxuICBnZXRDb250cm9sTm9kZUJ5S2V5KGtleTogc3RyaW5nKTogYW55O1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSUV2ZW50IHtcclxuICBvblNhZmUoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSk6IHZvaWQ7XHJcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSk6IHZvaWQ7XHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSk6IHZvaWQ7XHJcbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KTogdm9pZDtcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIElNYWluIGV4dGVuZHMgSUNvbnRyb2xOb2RlLCBJRXZlbnQge1xyXG4gIG5ld1Byb2plY3QoJG5hbWU6IHN0cmluZyk6IHZvaWQ7XHJcbiAgb3BlblByb2plY3QoJG5hbWU6IHN0cmluZyk6IHZvaWQ7XHJcbiAgZ2V0UHJvamVjdEFsbCgpOiBhbnlbXTtcclxuICBTZXRQcm9qZWN0T3BlbigkZGF0YTogYW55KTogdm9pZDtcclxuICBDaGVja1Byb2plY3RPcGVuKCRkYXRhOiBhbnkpOiBib29sZWFuO1xyXG4gIG9wZW4oJGRhdGE6IGFueSk6IHZvaWQ7XHJcbiAgZ2V0Q29udHJvbEFsbCgpOiBhbnlbXTtcclxuICBzZXRDb250cm9sQ2hvb3NlKGtleTogc3RyaW5nIHwgbnVsbCk6IHZvaWQ7XHJcbiAgZ2V0Q29udHJvbENob29zZSgpOiBzdHJpbmcgfCBudWxsO1xyXG4gIGdldENvbnRyb2xCeUtleShrZXk6IHN0cmluZyk6IGFueTtcclxufVxyXG5leHBvcnQgY2xhc3MgRmxvd0NvcmUgaW1wbGVtZW50cyBJRXZlbnQge1xyXG4gIHB1YmxpYyBHZXRJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGEuR2V0KCdpZCcpO1xyXG4gIH1cclxuICBwdWJsaWMgU2V0SWQoaWQ6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ2lkJywgaWQpO1xyXG4gIH1cclxuICBwdWJsaWMgcHJvcGVydGllczogYW55ID0ge307XHJcbiAgcHVibGljIGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KCk7XHJcbiAgcHVibGljIGVsTm9kZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgcHVibGljIENoZWNrRWxlbWVudENoaWxkKGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZWxOb2RlID09IGVsIHx8IHRoaXMuZWxOb2RlLmNvbnRhaW5zKGVsKTtcclxuICB9XHJcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcclxuICBwdWJsaWMgU2V0RGF0YShkYXRhOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCkge1xyXG4gICAgdGhpcy5kYXRhLlNldERhdGEoZGF0YSwgc2VuZGVyKTtcclxuICB9XHJcbiAgcHVibGljIFNldERhdGFGbG93KGRhdGE6IERhdGFGbG93KSB7XHJcbiAgICB0aGlzLmRhdGEuU2V0RGF0YShkYXRhLCB0aGlzLCB0cnVlKTtcclxuXHJcbiAgICB0aGlzLmRpc3BhdGNoKGBiaW5kX2RhdGFfZXZlbnRgLCB7IGRhdGEsIHNlbmRlcjogdGhpcyB9KTtcclxuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwgeyBkYXRhLCBzZW5kZXI6IHRoaXMgfSk7XHJcbiAgfVxyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG4gIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIGRpc3BhdGNoKGV2ZW50OiBzdHJpbmcsIGRldGFpbHM6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xyXG4gIH1cclxuICBCaW5kRGF0YUV2ZW50KCkge1xyXG4gICAgdGhpcy5kYXRhLm9uKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fWAsIHtcclxuICAgICAgICAgIHR5cGU6ICdkYXRhJyxcclxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHtcclxuICAgICAgICAgIHR5cGU6ICdkYXRhJyxcclxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pXHJcbiAgICB0aGlzLmRhdGEub24oRXZlbnRFbnVtLmNoYW5nZSwgKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcclxuICAgICAgICAgIHR5cGU6ICdkYXRhJyxcclxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBSZW1vdmVEYXRhRXZlbnQoKSB7XHJcbiAgICB0aGlzLmRhdGEucmVtb3ZlTGlzdGVuZXIoRXZlbnRFbnVtLmRhdGFDaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uY2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RmxvdygpO1xyXG4gICAgdGhpcy5CaW5kRGF0YUV2ZW50KCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQmFzZUZsb3c8VFBhcmVudCBleHRlbmRzIEZsb3dDb3JlPiBleHRlbmRzIEZsb3dDb3JlIHtcclxuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIHBhcmVudDogVFBhcmVudCkge1xyXG4gICAgc3VwZXIoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IExPRyA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IGNvbnNvbGUubG9nKG1lc3NhZ2UsIG9wdGlvbmFsUGFyYW1zKTtcclxuZXhwb3J0IGNvbnN0IGdldERhdGUgPSAoKSA9PiAobmV3IERhdGUoKSk7XHJcbmV4cG9ydCBjb25zdCBnZXRUaW1lID0gKCkgPT4gZ2V0RGF0ZSgpLmdldFRpbWUoKTtcclxuZXhwb3J0IGNvbnN0IGdldFV1aWQgPSAoKSA9PiB7XHJcbiAgLy8gaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDEyMi50eHRcclxuICBsZXQgczogYW55ID0gW107XHJcbiAgbGV0IGhleERpZ2l0cyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzY7IGkrKykge1xyXG4gICAgc1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xyXG4gIH1cclxuICBzWzE0XSA9IFwiNFwiOyAgLy8gYml0cyAxMi0xNSBvZiB0aGUgdGltZV9oaV9hbmRfdmVyc2lvbiBmaWVsZCB0byAwMDEwXHJcbiAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpOyAgLy8gYml0cyA2LTcgb2YgdGhlIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgdG8gMDFcclxuICBzWzhdID0gc1sxM10gPSBzWzE4XSA9IHNbMjNdID0gXCItXCI7XHJcblxyXG4gIGxldCB1dWlkID0gcy5qb2luKFwiXCIpO1xyXG4gIHJldHVybiB1dWlkO1xyXG59XHJcbiIsImltcG9ydCB7IFByb3BlcnR5RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xuXG5leHBvcnQgY2xhc3MgTGluZSB7XG4gIHB1YmxpYyBlbE5vZGU6IFNWR0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJzdmdcIik7XG4gIHB1YmxpYyBlbFBhdGg6IFNWR1BhdGhFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIFwicGF0aFwiKTtcbiAgcHJpdmF0ZSBkYXRhOiBEYXRhRmxvdyA9IG5ldyBEYXRhRmxvdygpO1xuICBwcml2YXRlIGN1cnZhdHVyZTogbnVtYmVyID0gMC41O1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGZyb206IE5vZGUsIHB1YmxpYyBmcm9tSW5kZXg6IG51bWJlciA9IDAsIHB1YmxpYyB0bzogTm9kZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgcHVibGljIHRvSW5kZXg6IG51bWJlciA9IDAsIGRhdGE6IGFueSA9IG51bGwpIHtcbiAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QuYWRkKFwibWFpbi1wYXRoXCIpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsUGF0aC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgJycpO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoXCJjb25uZWN0aW9uXCIpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxQYXRoKTtcbiAgICB0aGlzLmZyb20ucGFyZW50LmVsQ2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcblxuICAgIHRoaXMuZnJvbS5BZGRMaW5lKHRoaXMpO1xuICAgIHRoaXMudG8/LkFkZExpbmUodGhpcyk7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuZGF0YS5Jbml0RGF0YShcbiAgICAgIHtcbiAgICAgICAgZnJvbTogdGhpcy5mcm9tLkdldElkKCksXG4gICAgICAgIGZyb21JbmRleDogdGhpcy5mcm9tSW5kZXgsXG4gICAgICAgIHRvOiB0aGlzLnRvPy5HZXRJZCgpLFxuICAgICAgICB0b0luZGV4OiB0aGlzLnRvSW5kZXhcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIC4uLiB0aGlzLmZyb20ucGFyZW50Lm1haW4uZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0ubGluZSkgfHwge31cbiAgICAgIH1cbiAgICApO1xuICAgIHRoaXMuZnJvbS5kYXRhLkFwcGVuZCgnbGluZXMnLCB0aGlzLmRhdGEpO1xuICB9XG4gIHB1YmxpYyB1cGRhdGVUbyh0b194OiBudW1iZXIsIHRvX3k6IG51bWJlcikge1xuICAgIGlmICghdGhpcy5mcm9tIHx8IHRoaXMuZnJvbS5lbE5vZGUgPT0gbnVsbCkgcmV0dXJuO1xuICAgIGxldCB7IHg6IGZyb21feCwgeTogZnJvbV95IH06IGFueSA9IHRoaXMuZnJvbS5nZXRQb3N0aXNpb25Eb3QodGhpcy5mcm9tSW5kZXgpO1xuICAgIHZhciBsaW5lQ3VydmUgPSB0aGlzLmNyZWF0ZUN1cnZhdHVyZShmcm9tX3gsIGZyb21feSwgdG9feCwgdG9feSwgdGhpcy5jdXJ2YXR1cmUsICdvcGVuY2xvc2UnKTtcbiAgICB0aGlzLmVsUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIGxpbmVDdXJ2ZSk7XG4gIH1cbiAgcHVibGljIFVwZGF0ZVVJKCk6IExpbmUge1xuICAgIC8vUG9zdGlvbiBvdXRwdXRcbiAgICBpZiAodGhpcy50byAmJiB0aGlzLnRvLmVsTm9kZSkge1xuICAgICAgbGV0IHsgeDogdG9feCwgeTogdG9feSB9OiBhbnkgPSB0aGlzLnRvLmdldFBvc3Rpc2lvbkRvdCh0aGlzLnRvSW5kZXgpO1xuICAgICAgdGhpcy51cGRhdGVUbyh0b194LCB0b195KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcHVibGljIEFjdGl2ZShmbGc6IGFueSA9IHRydWUpIHtcbiAgICBpZiAoZmxnKSB7XG4gICAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbFBhdGguY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgY3JlYXRlQ3VydmF0dXJlKHN0YXJ0X3Bvc194OiBudW1iZXIsIHN0YXJ0X3Bvc195OiBudW1iZXIsIGVuZF9wb3NfeDogbnVtYmVyLCBlbmRfcG9zX3k6IG51bWJlciwgY3VydmF0dXJlX3ZhbHVlOiBudW1iZXIsIHR5cGU6IHN0cmluZykge1xuICAgIGxldCBsaW5lX3ggPSBzdGFydF9wb3NfeDtcbiAgICBsZXQgbGluZV95ID0gc3RhcnRfcG9zX3k7XG4gICAgbGV0IHggPSBlbmRfcG9zX3g7XG4gICAgbGV0IHkgPSBlbmRfcG9zX3k7XG4gICAgbGV0IGN1cnZhdHVyZSA9IGN1cnZhdHVyZV92YWx1ZTtcbiAgICAvL3R5cGUgb3BlbmNsb3NlIG9wZW4gY2xvc2Ugb3RoZXJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ29wZW4nOlxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcblxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogKGN1cnZhdHVyZSAqIC0xKTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvdGhlcic6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuXG4gICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcbiAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcblxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBkZWxldGUobm9kZVRoaXM6IGFueSA9IG51bGwsIGlzQ2xlYXJEYXRhID0gdHJ1ZSkge1xuICAgIHRoaXMuZWxQYXRoPy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFBhdGg/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxuICAgICAgdGhpcy5mcm9tLmRhdGEuUmVtb3ZlKCdsaW5lcycsIHRoaXMuZGF0YSk7XG4gICAgaWYgKHRoaXMuZnJvbSAhPSBub2RlVGhpcylcbiAgICAgIHRoaXMuZnJvbS5SZW1vdmVMaW5lKHRoaXMpO1xuICAgIGlmICh0aGlzLnRvICE9IG5vZGVUaGlzKVxuICAgICAgdGhpcy50bz8uUmVtb3ZlTGluZSh0aGlzKTtcbiAgICB0aGlzLmVsUGF0aC5yZW1vdmUoKTtcbiAgICB0aGlzLmVsTm9kZS5yZW1vdmUoKTtcbiAgfVxuICBwdWJsaWMgU3RhcnRTZWxlY3RlZChlOiBhbnkpIHtcbiAgICB0aGlzLmZyb20ucGFyZW50LnNldExpbmVDaG9vc2UodGhpcylcbiAgfVxuICBwdWJsaWMgc2V0Tm9kZVRvKG5vZGU6IE5vZGUgfCB1bmRlZmluZWQsIHRvSW5kZXg6IG51bWJlcikge1xuICAgIHRoaXMudG8gPSBub2RlO1xuICAgIHRoaXMudG9JbmRleCA9IHRvSW5kZXg7XG4gIH1cbiAgcHVibGljIENsb25lKCkge1xuICAgIGlmICh0aGlzLnRvICYmIHRoaXMudG9JbmRleCAmJiB0aGlzLmZyb20gIT0gdGhpcy50bykge1xuICAgICAgcmV0dXJuIG5ldyBMaW5lKHRoaXMuZnJvbSwgdGhpcy5mcm9tSW5kZXgsIHRoaXMudG8sIHRoaXMudG9JbmRleCkuVXBkYXRlVUkoKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGdldFRpbWUgfSBmcm9tIFwiLi4vY29yZS9VdGlsc1wiO1xuaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3XCI7XG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vTGluZVwiO1xuaW1wb3J0IHsgTm9kZSB9IGZyb20gXCIuL05vZGVcIjtcblxuZXhwb3J0IGVudW0gTW92ZVR5cGUge1xuICBOb25lID0gMCxcbiAgTm9kZSA9IDEsXG4gIENhbnZhcyA9IDIsXG4gIExpbmUgPSAzLFxufVxuZXhwb3J0IGNsYXNzIERlc2dpbmVyVmlld19FdmVudCB7XG5cbiAgcHJpdmF0ZSB0aW1lRmFzdENsaWNrOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHRhZ0luZ29yZSA9IFsnaW5wdXQnLCAnYnV0dG9uJywgJ2EnLCAndGV4dGFyZWEnXTtcblxuICBwcml2YXRlIG1vdmVUeXBlOiBNb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gIHByaXZhdGUgZmxnRHJhcDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGZsZ01vdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwcml2YXRlIGF2X3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgYXZfeTogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHBvc194OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc195OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1vdXNlX3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VfeTogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHRlbXBMaW5lOiBMaW5lIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IERlc2dpbmVyVmlldykge1xuICAgIC8qIE1vdXNlIGFuZCBUb3VjaCBBY3Rpb25zICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRNb3ZlLmJpbmQodGhpcykpO1xuICAgIC8qIENvbnRleHQgTWVudSAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuY29udGV4dG1lbnUuYmluZCh0aGlzKSk7XG5cbiAgICAvKiBEcm9wIERyYXAgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMubm9kZV9kcm9wRW5kLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMubm9kZV9kcmFnb3Zlci5iaW5kKHRoaXMpKTtcbiAgICAvKiBab29tIE1vdXNlICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy56b29tX2VudGVyLmJpbmQodGhpcykpO1xuICAgIC8qIERlbGV0ZSAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb250ZXh0bWVudShldjogYW55KSB7IGV2LnByZXZlbnREZWZhdWx0KCk7IH1cbiAgcHJpdmF0ZSBub2RlX2RyYWdvdmVyKGV2OiBhbnkpIHsgZXYucHJldmVudERlZmF1bHQoKTsgfVxuICBwcml2YXRlIG5vZGVfZHJvcEVuZChldjogYW55KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBsZXQga2V5Tm9kZTogYW55ID0gdGhpcy5wYXJlbnQubWFpbi5nZXRDb250cm9sQ2hvb3NlKCk7XG4gICAgaWYgKCFrZXlOb2RlICYmIGV2LnR5cGUgIT09IFwidG91Y2hlbmRcIikge1xuICAgICAga2V5Tm9kZSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibm9kZVwiKTtcbiAgICB9XG4gICAgaWYgKCFrZXlOb2RlKSByZXR1cm47XG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCAtIGVfcG9zX3gpO1xuICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSAtIGVfcG9zX3kpO1xuXG4gICAgaWYgKHRoaXMucGFyZW50LmNoZWNrT25seU5vZGUoa2V5Tm9kZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5vZGVJdGVtID0gdGhpcy5wYXJlbnQuQWRkTm9kZShrZXlOb2RlLCB7XG4gICAgICBncm91cDogdGhpcy5wYXJlbnQuQ3VycmVudEdyb3VwKClcbiAgICB9KTtcbiAgICBub2RlSXRlbS51cGRhdGVQb3NpdGlvbih4LCB5KTtcbiAgfVxuICBwdWJsaWMgem9vbV9lbnRlcihldmVudDogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIGlmIChldmVudC5kZWx0YVkgPiAwKSB7XG4gICAgICAgIC8vIFpvb20gT3V0XG4gICAgICAgIHRoaXMucGFyZW50Lnpvb21fb3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBab29tIEluXG4gICAgICAgIHRoaXMucGFyZW50Lnpvb21faW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBTdGFydE1vdmUoZXY6IGFueSkge1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGlmICh0aGlzLnRhZ0luZ29yZS5pbmNsdWRlcyhldi50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnRpbWVGYXN0Q2xpY2sgPSBnZXRUaW1lKCk7XG4gICAgaWYgKGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcGF0aCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldi50eXBlID09PSBcInRvdWNoc3RhcnRcIikge1xuICAgICAgdGhpcy5wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMucG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5DYW52YXM7XG4gICAgbGV0IG5vZGVDaG9vc2UgPSB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk7XG4gICAgaWYgKG5vZGVDaG9vc2UgJiYgbm9kZUNob29zZS5DaGVja0VsZW1lbnRDaGlsZChldi50YXJnZXQpKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICBpZiAobm9kZUNob29zZSAmJiB0aGlzLm1vdmVUeXBlID09IE1vdmVUeXBlLk5vZGUgJiYgZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm5vZGUtZG90XCIpKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTGluZTtcbiAgICAgIGxldCBmcm9tSW5kZXggPSBldi50YXJnZXQuZ2V0QXR0cmlidXRlKCdub2RlJyk7XG4gICAgICB0aGlzLnRlbXBMaW5lID0gbmV3IExpbmUobm9kZUNob29zZSwgZnJvbUluZGV4KTtcbiAgICB9XG4gICAgaWYgKHRoaXMubW92ZVR5cGUgPT0gTW92ZVR5cGUuQ2FudmFzKSB7XG4gICAgICB0aGlzLmF2X3ggPSB0aGlzLnBhcmVudC5nZXRYKCk7XG4gICAgICB0aGlzLmF2X3kgPSB0aGlzLnBhcmVudC5nZXRZKCk7XG4gICAgfVxuICAgIHRoaXMuZmxnRHJhcCA9IHRydWU7XG4gICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gIH1cbiAgcHVibGljIE1vdmUoZXY6IGFueSkge1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGlmICghdGhpcy5mbGdEcmFwKSByZXR1cm47XG4gICAgdGhpcy5mbGdNb3ZlID0gdHJ1ZTtcbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChldi50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICBlX3Bvc194ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGV2LmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYuY2xpZW50WTtcbiAgICB9XG4gICAgc3dpdGNoICh0aGlzLm1vdmVUeXBlKSB7XG4gICAgICBjYXNlIE1vdmVUeXBlLkNhbnZhczpcbiAgICAgICAge1xuICAgICAgICAgIGxldCB4ID0gdGhpcy5hdl94ICsgdGhpcy5wYXJlbnQuQ2FsY1goLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpXG4gICAgICAgICAgbGV0IHkgPSB0aGlzLmF2X3kgKyB0aGlzLnBhcmVudC5DYWxjWSgtKHRoaXMucG9zX3kgLSBlX3Bvc195KSlcbiAgICAgICAgICB0aGlzLnBhcmVudC5zZXRYKHgpO1xuICAgICAgICAgIHRoaXMucGFyZW50LnNldFkoeSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgTW92ZVR5cGUuTm9kZTpcbiAgICAgICAge1xuICAgICAgICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wb3NfeCAtIGVfcG9zX3gpO1xuICAgICAgICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wb3NfeSAtIGVfcG9zX3kpO1xuICAgICAgICAgIHRoaXMucG9zX3ggPSBlX3Bvc194O1xuICAgICAgICAgIHRoaXMucG9zX3kgPSBlX3Bvc195O1xuICAgICAgICAgIHRoaXMucGFyZW50LmdldE5vZGVDaG9vc2UoKT8udXBkYXRlUG9zaXRpb24oeCwgeSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgTW92ZVR5cGUuTGluZTpcbiAgICAgICAge1xuICAgICAgICAgIGlmICh0aGlzLnRlbXBMaW5lKSB7XG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMucGFyZW50LkNhbGNYKHRoaXMucGFyZW50LmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggLSBlX3Bvc194KTtcbiAgICAgICAgICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSAtIGVfcG9zX3kpO1xuICAgICAgICAgICAgdGhpcy50ZW1wTGluZS51cGRhdGVUbyh0aGlzLnBhcmVudC5lbENhbnZhcy5vZmZzZXRMZWZ0IC0geCwgdGhpcy5wYXJlbnQuZWxDYW52YXMub2Zmc2V0VG9wIC0geSk7XG4gICAgICAgICAgICBsZXQgbm9kZUVsID0gZXYudGFyZ2V0LmNsb3Nlc3QoJ1tub2RlLWlkXScpO1xuICAgICAgICAgICAgbGV0IG5vZGVJZCA9IG5vZGVFbD8uZ2V0QXR0cmlidXRlKCdub2RlLWlkJyk7XG4gICAgICAgICAgICBsZXQgbm9kZVRvID0gbm9kZUlkID8gdGhpcy5wYXJlbnQuR2V0Tm9kZUJ5SWQobm9kZUlkKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChub2RlVG8gJiYgZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm5vZGUtZG90XCIpKSB7XG4gICAgICAgICAgICAgIGxldCB0b0luZGV4ID0gZXYudGFyZ2V0LmdldEF0dHJpYnV0ZSgnbm9kZScpO1xuICAgICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnNldE5vZGVUbyhub2RlVG8sIHRvSW5kZXgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbGV0IHRvSW5kZXggPSBub2RlRWw/LnF1ZXJ5U2VsZWN0b3IoJy5ub2RlLWRvdCcpPy5bMF0/LmdldEF0dHJpYnV0ZSgnbm9kZScpO1xuICAgICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnNldE5vZGVUbyhub2RlVG8sIHRvSW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChldi50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICB0aGlzLm1vdXNlX3ggPSBlX3Bvc194O1xuICAgICAgdGhpcy5tb3VzZV95ID0gZV9wb3NfeTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBFbmRNb3ZlKGV2OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoIXRoaXMuZmxnRHJhcCkgcmV0dXJuO1xuICAgIC8vZml4IEZhc3QgQ2xpY2tcbiAgICBpZiAoKChnZXRUaW1lKCkgLSB0aGlzLnRpbWVGYXN0Q2xpY2spIDwgMTAwKSB8fCAhdGhpcy5mbGdNb3ZlKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaGVuZFwiKSB7XG4gICAgICBlX3Bvc194ID0gdGhpcy5tb3VzZV94O1xuICAgICAgZV9wb3NfeSA9IHRoaXMubW91c2VfeTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGV2LmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYuY2xpZW50WTtcbiAgICB9XG4gICAgaWYgKHRoaXMubW92ZVR5cGUgPT09IE1vdmVUeXBlLkNhbnZhcykge1xuICAgICAgbGV0IHggPSB0aGlzLmF2X3ggKyB0aGlzLnBhcmVudC5DYWxjWCgtKHRoaXMucG9zX3ggLSBlX3Bvc194KSlcbiAgICAgIGxldCB5ID0gdGhpcy5hdl95ICsgdGhpcy5wYXJlbnQuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXG4gICAgICB0aGlzLnBhcmVudC5zZXRYKHgpO1xuICAgICAgdGhpcy5wYXJlbnQuc2V0WSh5KTtcbiAgICAgIHRoaXMuYXZfeCA9IDA7XG4gICAgICB0aGlzLmF2X3kgPSAwO1xuICAgIH1cbiAgICBpZiAodGhpcy50ZW1wTGluZSkge1xuICAgICAgdGhpcy50ZW1wTGluZS5DbG9uZSgpO1xuICAgICAgdGhpcy50ZW1wTGluZS5kZWxldGUoKTtcbiAgICAgIHRoaXMudGVtcExpbmUgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRoaXMucG9zX3ggPSBlX3Bvc194O1xuICAgIHRoaXMucG9zX3kgPSBlX3Bvc195O1xuICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xuICAgIHRoaXMuZmxnRHJhcCA9IGZhbHNlO1xuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICB9XG4gIHByaXZhdGUga2V5ZG93bihldjogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKGV2LmtleSA9PT0gJ0RlbGV0ZScgfHwgKGV2LmtleSA9PT0gJ0JhY2tzcGFjZScgJiYgZXYubWV0YUtleSkpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcblxuICAgICAgdGhpcy5wYXJlbnQuZ2V0Tm9kZUNob29zZSgpPy5kZWxldGUoKTtcbiAgICAgIHRoaXMucGFyZW50LmdldExpbmVDaG9vc2UoKT8uZGVsZXRlKCk7XG4gICAgfVxuICAgIGlmIChldi5rZXkgPT09ICdGMicpIHtcbiAgICAgIGV2LnByZXZlbnREZWZhdWx0KClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld1wiO1xuXG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3X1Rvb2xiYXIge1xuICBwcml2YXRlIGVsTm9kZTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgZWxQYXRoR3JvdXA6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHByaXZhdGUgYnRuQmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IERlc2dpbmVyVmlldykge1xuICAgIHRoaXMuZWxOb2RlID0gcGFyZW50LmVsVG9vbGJhcjtcbiAgICB0aGlzLmVsUGF0aEdyb3VwLmNsYXNzTGlzdC5hZGQoJ3Rvb2xiYXItZ3JvdXAnKTtcbiAgICB0aGlzLnJlbmRlclVJKCk7XG4gICAgdGhpcy5yZW5kZXJQYXRoR3JvdXAoKTtcbiAgfVxuICBwdWJsaWMgcmVuZGVyUGF0aEdyb3VwKCkge1xuICAgIHRoaXMuYnRuQmFjay5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYGRpc3BsYXk6bm9uZTtgKTtcbiAgICB0aGlzLmVsUGF0aEdyb3VwLmlubmVySFRNTCA9IGBgO1xuICAgIGxldCBncm91cHMgPSB0aGlzLnBhcmVudC5HZXRHcm91cE5hbWUoKTtcbiAgICBsZXQgbGVuID0gZ3JvdXBzLmxlbmd0aCAtIDE7XG4gICAgaWYgKGxlbiA8IDApIHJldHVybjtcbiAgICBsZXQgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICB0ZXh0LmlubmVySFRNTCA9IGBSb290YDtcbiAgICB0aGlzLmVsUGF0aEdyb3VwLmFwcGVuZENoaWxkKHRleHQpO1xuICAgIHRoaXMuYnRuQmFjay5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgZm9yIChsZXQgaW5kZXggPSBsZW47IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGV4dC5pbm5lckhUTUwgPSBgPj4ke2dyb3Vwc1tpbmRleF19YDtcbiAgICAgIHRoaXMuZWxQYXRoR3JvdXAuYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyByZW5kZXJVSSgpIHtcbiAgICBpZiAoIXRoaXMuZWxOb2RlKSByZXR1cm47XG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYGA7XG4gICAgdGhpcy5idG5CYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5wYXJlbnQuQmFja0dyb3VwKCkpO1xuICAgIHRoaXMuYnRuQmFjay5pbm5lckhUTUwgPSBgQmFja2A7XG4gICAgbGV0IGJ0blpvb21JbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGJ0blpvb21Jbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMucGFyZW50Lnpvb21faW4oKSk7XG4gICAgYnRuWm9vbUluLmlubmVySFRNTCA9IGArYDtcbiAgICBsZXQgYnRuWm9vbU91dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGJ0blpvb21PdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnBhcmVudC56b29tX291dCgpKTtcbiAgICBidG5ab29tT3V0LmlubmVySFRNTCA9IGAtYDtcbiAgICBsZXQgYnRuWm9vbVJlc2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuWm9vbVJlc2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5wYXJlbnQuem9vbV9yZXNldCgpKTtcbiAgICBidG5ab29tUmVzZXQuaW5uZXJIVE1MID0gYCpgO1xuICAgIGxldCBidXR0b25Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGJ1dHRvbkdyb3VwLmNsYXNzTGlzdC5hZGQoJ3Rvb2xiYXItYnV0dG9uJylcbiAgICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZCh0aGlzLmJ0bkJhY2spO1xuICAgIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGJ0blpvb21Jbik7XG4gICAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnRuWm9vbU91dCk7XG4gICAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnRuWm9vbVJlc2V0KTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsUGF0aEdyb3VwKTtcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChidXR0b25Hcm91cCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJhc2VGbG93IH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdcIjtcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBEYXRhVmlldyB9IGZyb20gXCIuLi9jb3JlL0VkaXRvclwiO1xuXG5jb25zdCBnZXZhbCA9IGV2YWw7XG5leHBvcnQgY2xhc3MgTm9kZSBleHRlbmRzIEJhc2VGbG93PERlc2dpbmVyVmlldz4ge1xuICAvKipcbiAgICogR0VUIFNFVCBmb3IgRGF0YVxuICAgKi9cbiAgcHVibGljIGdldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ25hbWUnKTtcbiAgfVxuICBwdWJsaWMgZ2V0WSgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3knKTtcbiAgfVxuICBwdWJsaWMgc2V0WSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3knLCB2YWx1ZSwgdGhpcyk7XG4gIH1cbiAgcHVibGljIGdldFgoKSB7XG4gICAgcmV0dXJuICt0aGlzLmRhdGEuR2V0KCd4Jyk7XG4gIH1cbiAgcHVibGljIHNldFgodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCd4JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBDaGVja0tleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRhdGEuR2V0KCdrZXknKSA9PSBrZXk7XG4gIH1cbiAgcHVibGljIGdldERhdGFMaW5lKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuR2V0KCdsaW5lcycpID8/IFtdO1xuICB9XG4gIHB1YmxpYyBlbENvbnRlbnQ6IEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgYXJyTGluZTogTGluZVtdID0gW107XG4gIHByaXZhdGUgb3B0aW9uOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSBhcnJEYXRhVmlldzogRGF0YVZpZXdbXSA9IFtdO1xuICBwdWJsaWMgY29uc3RydWN0b3IocGFyZW50OiBEZXNnaW5lclZpZXcsIHByaXZhdGUga2V5Tm9kZTogYW55LCBkYXRhOiBhbnkgPSB7fSkge1xuICAgIHN1cGVyKHBhcmVudCk7XG4gICAgdGhpcy5vcHRpb24gPSB0aGlzLnBhcmVudC5tYWluLmdldENvbnRyb2xOb2RlQnlLZXkoa2V5Tm9kZSk7XG4gICAgdGhpcy5wcm9wZXJ0aWVzID0gdGhpcy5vcHRpb24/LnByb3BlcnRpZXM7XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLkluaXREYXRhKGRhdGEsIHRoaXMucHJvcGVydGllcyk7XG4gICAgICB0aGlzLnBhcmVudC5kYXRhLkFwcGVuZCgnbm9kZXMnLCB0aGlzLmRhdGEpO1xuICAgIH1cbiAgICB0aGlzLmRhdGEub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtbm9kZScpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9uLmNsYXNzKSB7XG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKHRoaXMub3B0aW9uLmNsYXNzKTtcbiAgICB9XG4gICAgdGhpcy5wYXJlbnQuZWxDYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnbm9kZS1pZCcsIHRoaXMuR2V0SWQoKSk7XG4gICAgdGhpcy5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMucmVuZGVyVUkoKTtcbiAgfVxuICBwcml2YXRlIHJlbmRlclVJKCkge1xuICAgIGlmICh0aGlzLmVsTm9kZS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkgcmV0dXJuO1xuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgZGlzcGxheTpub25lO2ApO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWxlZnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjQwMDBcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXRvcFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCIxMDAwXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7dGhpcy5vcHRpb24uaWNvbn0gJHt0aGlzLmdldE5hbWUoKX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJvZHlcIj4ke3RoaXMub3B0aW9uLmh0bWx9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1ib3R0b21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiMjAwMFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtcmlnaHRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgIG5vZGU9XCIzMDAwXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLm5vZGUtY29udGVudCAuYm9keScpO1xuICAgIHRoaXMuVXBkYXRlVUkoKTtcbiAgICBnZXZhbChgKG5vZGUsdmlldyk9Pnske3RoaXMub3B0aW9uLnNjcmlwdH19YCkodGhpcywgdGhpcy5wYXJlbnQpO1xuICAgIHRoaXMuYXJyRGF0YVZpZXcuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS51bkJpbmREYXRhKCkpO1xuICAgIGlmICh0aGlzLmVsQ29udGVudClcbiAgICAgIHRoaXMuYXJyRGF0YVZpZXcgPSBEYXRhVmlldy5CaW5kVmlldyh0aGlzLmRhdGEsIHRoaXMuZWxDb250ZW50KTtcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKCkge1xuICAgIGlmICh0aGlzLkNoZWNrS2V5KCdub2RlX2dyb3VwJykpIHtcbiAgICAgIHRoaXMucGFyZW50Lm9wZW5Hcm91cCh0aGlzLkdldElkKCkpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgdXBkYXRlUG9zaXRpb24oeDogYW55LCB5OiBhbnksIGlDaGVjayA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuZWxOb2RlKSB7XG4gICAgICBsZXQgdGVtcHggPSB4O1xuICAgICAgbGV0IHRlbXB5ID0geTtcbiAgICAgIGlmICghaUNoZWNrKSB7XG4gICAgICAgIHRlbXB5ID0gKHRoaXMuZWxOb2RlLm9mZnNldFRvcCAtIHkpO1xuICAgICAgICB0ZW1weCA9ICh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0IC0geCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHggIT09IHRoaXMuZ2V0WCgpKSB7XG4gICAgICAgIHRoaXMuc2V0WCh0ZW1weCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHkgIT09IHRoaXMuZ2V0WSgpKSB7XG4gICAgICAgIHRoaXMuc2V0WSh0ZW1weSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHB1YmxpYyBBY3RpdmUoZmxnOiBhbnkgPSB0cnVlKSB7XG4gICAgaWYgKGZsZykge1xuICAgICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgUmVtb3ZlTGluZShsaW5lOiBMaW5lKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5hcnJMaW5lLmluZGV4T2YobGluZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuYXJyTGluZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcnJMaW5lO1xuICB9XG4gIHB1YmxpYyBBZGRMaW5lKGxpbmU6IExpbmUpIHtcbiAgICB0aGlzLmFyckxpbmUgPSBbLi4udGhpcy5hcnJMaW5lLCBsaW5lXTtcbiAgfVxuICBwdWJsaWMgZ2V0UG9zdGlzaW9uRG90KGluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgbGV0IGVsRG90OiBhbnkgPSB0aGlzLmVsTm9kZT8ucXVlcnlTZWxlY3RvcihgLm5vZGUtZG90W25vZGU9XCIke2luZGV4fVwiXWApO1xuICAgIGlmIChlbERvdCkge1xuICAgICAgbGV0IHkgPSAodGhpcy5lbE5vZGUub2Zmc2V0VG9wICsgZWxEb3Qub2Zmc2V0VG9wICsgMTApO1xuICAgICAgbGV0IHggPSAodGhpcy5lbE5vZGUub2Zmc2V0TGVmdCArIGVsRG90Lm9mZnNldExlZnQgKyAxMCk7XG4gICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGB0b3A6ICR7dGhpcy5nZXRZKCl9cHg7IGxlZnQ6ICR7dGhpcy5nZXRYKCl9cHg7YCk7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uVXBkYXRlVUkoKTtcbiAgICB9KVxuICB9XG4gIHB1YmxpYyBkZWxldGUoaXNDbGVhckRhdGEgPSB0cnVlKSB7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uZGVsZXRlKHRoaXMsIGlzQ2xlYXJEYXRhKSk7XG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxuICAgICAgdGhpcy5kYXRhLmRlbGV0ZSgpO1xuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5SZW1vdmVEYXRhRXZlbnQoKTtcbiAgICB9XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZSgpO1xuICAgIHRoaXMuYXJyTGluZSA9IFtdO1xuICAgIGlmIChpc0NsZWFyRGF0YSlcbiAgICAgIHRoaXMucGFyZW50LlJlbW92ZU5vZGUodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7fSk7XG4gIH1cbiAgcHVibGljIFJlbmRlckxpbmUoKSB7XG4gICAgdGhpcy5nZXREYXRhTGluZSgpLmZvckVhY2goKGl0ZW06IERhdGFGbG93KSA9PiB7XG4gICAgICBsZXQgbm9kZUZyb20gPSB0aGlzO1xuICAgICAgbGV0IG5vZGVUbyA9IHRoaXMucGFyZW50LkdldE5vZGVCeUlkKGl0ZW0uR2V0KCd0bycpKTtcbiAgICAgIGxldCB0b0luZGV4ID0gaXRlbS5HZXQoJ3RvSW5kZXgnKTtcbiAgICAgIGxldCBmcm9tSW5kZXggPSBpdGVtLkdldCgnZnJvbUluZGV4Jyk7XG4gICAgICBuZXcgTGluZShub2RlRnJvbSwgZnJvbUluZGV4LCBub2RlVG8sIHRvSW5kZXgsIGl0ZW0pLlVwZGF0ZVVJKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZsb3dDb3JlLCBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XG5pbXBvcnQgeyBFdmVudEVudW0sIFByb3BlcnR5RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXdfRXZlbnQgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdfRXZlbnRcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlld19Ub29sYmFyIH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3X1Rvb2xiYXJcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xuXG5leHBvcnQgY29uc3QgWm9vbSA9IHtcbiAgbWF4OiAxLjYsXG4gIG1pbjogMC42LFxuICB2YWx1ZTogMC4xLFxuICBkZWZhdWx0OiAxXG59XG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3IGV4dGVuZHMgRmxvd0NvcmUge1xuXG4gIC8qKlxuICAgKiBHRVQgU0VUIGZvciBEYXRhXG4gICAqL1xuICBwdWJsaWMgZ2V0Wm9vbSgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3pvb20nKTtcbiAgfVxuICBwdWJsaWMgc2V0Wm9vbSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3pvb20nLCB2YWx1ZSwgdGhpcyk7XG4gIH1cbiAgcHVibGljIGdldFkoKSB7XG4gICAgcmV0dXJuICt0aGlzLmRhdGEuR2V0KCd5Jyk7XG4gIH1cbiAgcHVibGljIHNldFkodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCd5JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneCcpO1xuICB9XG4gIHB1YmxpYyBzZXRYKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneCcsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwcml2YXRlIGdyb3VwOiBhbnlbXSA9IFtdO1xuICBwdWJsaWMgR2V0R3JvdXBOYW1lKCk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cC5tYXAoKGl0ZW0pID0+IHRoaXMuR2V0RGF0YUJ5SWQoaXRlbSk/LkdldCgnbmFtZScpKTtcbiAgfVxuICBwdWJsaWMgQmFja0dyb3VwKCkge1xuICAgIHRoaXMuZ3JvdXAuc3BsaWNlKDAsIDEpO1xuICAgIHRoaXMudG9vbGJhci5yZW5kZXJQYXRoR3JvdXAoKTtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gIH1cbiAgcHVibGljIEN1cnJlbnRHcm91cCgpIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cD8uWzBdID8/ICdyb290JztcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKGlkOiBhbnkpIHtcbiAgICB0aGlzLmdyb3VwID0gW2lkLCAuLi50aGlzLmdyb3VwXTtcbiAgICB0aGlzLnRvb2xiYXIucmVuZGVyUGF0aEdyb3VwKCk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHByaXZhdGUgbGluZUNob29zZTogTGluZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldExpbmVDaG9vc2Uobm9kZTogTGluZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpbmVDaG9vc2UpIHRoaXMubGluZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubGluZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubGluZUNob29zZSkge1xuICAgICAgdGhpcy5saW5lQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXROb2RlQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRMaW5lQ2hvb3NlKCk6IExpbmUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmxpbmVDaG9vc2U7XG4gIH1cbiAgcHJpdmF0ZSBub2RlczogTm9kZVtdID0gW107XG4gIHByaXZhdGUgbm9kZUNob29zZTogTm9kZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldE5vZGVDaG9vc2Uobm9kZTogTm9kZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHRoaXMubm9kZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubm9kZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubm9kZUNob29zZSkge1xuICAgICAgdGhpcy5ub2RlQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXRMaW5lQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIHsgZGF0YTogdGhpcy5ub2RlQ2hvb3NlLmRhdGEgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiB0aGlzLmRhdGEgfSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXROb2RlQ2hvb3NlKCk6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLm5vZGVDaG9vc2U7XG4gIH1cbiAgcHVibGljIEFkZE5vZGVJdGVtKGRhdGE6IGFueSk6IE5vZGUge1xuICAgIHJldHVybiB0aGlzLkFkZE5vZGUoZGF0YS5HZXQoJ2tleScpLCBkYXRhKTtcbiAgfVxuICBwdWJsaWMgQWRkTm9kZShrZXlOb2RlOiBzdHJpbmcsIGRhdGE6IGFueSA9IHt9KTogTm9kZSB7XG4gICAgcmV0dXJuIHRoaXMuSW5zZXJ0Tm9kZShuZXcgTm9kZSh0aGlzLCBrZXlOb2RlLCBkYXRhKSk7XG4gIH1cbiAgcHVibGljIEluc2VydE5vZGUobm9kZTogTm9kZSk6IE5vZGUge1xuICAgIHRoaXMubm9kZXMgPSBbLi4udGhpcy5ub2Rlcywgbm9kZV07XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcHVibGljIFJlbW92ZU5vZGUobm9kZTogTm9kZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMubm9kZXMuaW5kZXhPZihub2RlKTtcbiAgICB0aGlzLmRhdGEuUmVtb3ZlKCdub2RlcycsIG5vZGUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG4gIHB1YmxpYyBDbGVhck5vZGUoKSB7XG4gICAgdGhpcy5ub2Rlcz8uZm9yRWFjaChpdGVtID0+IGl0ZW0uZGVsZXRlKGZhbHNlKSk7XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuICB9XG4gIHB1YmxpYyBHZXREYXRhQWxsTm9kZSgpOiBhbnlbXSB7XG4gICAgcmV0dXJuICh0aGlzLmRhdGEuR2V0KCdub2RlcycpID8/IFtdKTtcbiAgfVxuICBwdWJsaWMgR2V0RGF0YU5vZGUoKTogYW55W10ge1xuICAgIHJldHVybiB0aGlzLkdldERhdGFBbGxOb2RlKCkuZmlsdGVyKChpdGVtOiBEYXRhRmxvdykgPT4gaXRlbS5HZXQoXCJncm91cFwiKSA9PT0gdGhpcy5DdXJyZW50R3JvdXAoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFZhcmlidXRlXG4gICovXG4gIHB1YmxpYyBlbENhbnZhczogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHVibGljIGVsVG9vbGJhcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHVibGljIHRvb2xiYXI6IERlc2dpbmVyVmlld19Ub29sYmFyO1xuICBwdWJsaWMgJGxvY2s6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHpvb21fbGFzdF92YWx1ZTogYW55ID0gMTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5lbE5vZGUgPSBlbE5vZGU7XG4gICAgbGV0IHByb3BlcnRpZXM6IGFueSA9IHRoaXMubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5tYWluKTtcbiAgICB0aGlzLmRhdGEuSW5pdERhdGEoe30sIHByb3BlcnRpZXMpO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rlc2dpbmVyLXZpZXcnKVxuICAgIHRoaXMuZWxDYW52YXMuY2xhc3NMaXN0LnJlbW92ZShcImRlc2dpbmVyLWNhbnZhc1wiKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdkZXNnaW5lci12aWV3JylcbiAgICB0aGlzLmVsQ2FudmFzLmNsYXNzTGlzdC5hZGQoXCJkZXNnaW5lci1jYW52YXNcIik7XG4gICAgdGhpcy5lbFRvb2xiYXIuY2xhc3NMaXN0LmFkZChcImRlc2dpbmVyLXRvb2xiYXJcIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbENhbnZhcyk7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFRvb2xiYXIpO1xuICAgIHRoaXMuZWxOb2RlLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gICAgdGhpcy5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5SZW5kZXJVSS5iaW5kKHRoaXMpKTtcbiAgICBuZXcgRGVzZ2luZXJWaWV3X0V2ZW50KHRoaXMpO1xuICAgIHRoaXMudG9vbGJhciA9IG5ldyBEZXNnaW5lclZpZXdfVG9vbGJhcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVWaWV3KHg6IGFueSwgeTogYW55LCB6b29tOiBhbnkpIHtcbiAgICB0aGlzLmVsQ2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt4fXB4LCAke3l9cHgpIHNjYWxlKCR7em9vbX0pYDtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy51cGRhdGVWaWV3KHRoaXMuZ2V0WCgpLCB0aGlzLmdldFkoKSwgdGhpcy5nZXRab29tKCkpO1xuICB9XG4gIHB1YmxpYyBSZW5kZXJVSShkZXRhaWw6IGFueSA9IHt9KSB7XG4gICAgaWYgKGRldGFpbC5zZW5kZXIgJiYgZGV0YWlsLnNlbmRlciBpbnN0YW5jZW9mIE5vZGUpIHJldHVybjtcbiAgICBpZiAoZGV0YWlsLnNlbmRlciAmJiBkZXRhaWwuc2VuZGVyIGluc3RhbmNlb2YgRGVzZ2luZXJWaWV3KSB7XG4gICAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuQ2xlYXJOb2RlKCk7XG4gICAgdGhpcy5HZXREYXRhTm9kZSgpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgdGhpcy5BZGROb2RlSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgICB0aGlzLkdldEFsbE5vZGUoKS5mb3JFYWNoKChpdGVtOiBOb2RlKSA9PiB7XG4gICAgICBpdGVtLlJlbmRlckxpbmUoKTtcbiAgICB9KVxuICAgIHRoaXMuVXBkYXRlVUkoKTtcbiAgfVxuICBwdWJsaWMgT3BlbigkZGF0YTogRGF0YUZsb3cpIHtcbiAgICB0aGlzLmRhdGEgPSAkZGF0YTtcbiAgICB0aGlzLiRsb2NrID0gZmFsc2U7XG4gICAgdGhpcy5ncm91cCA9IFtdO1xuICAgIHRoaXMudG9vbGJhci5yZW5kZXJQYXRoR3JvdXAoKTtcbiAgICB0aGlzLkJpbmREYXRhRXZlbnQoKTtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gIH1cbiAgcHVibGljIENhbGNYKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxOb2RlPy5jbGllbnRXaWR0aCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHVibGljIENhbGNZKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudEhlaWdodCAvICh0aGlzLmVsTm9kZT8uY2xpZW50SGVpZ2h0ICogdGhpcy5nZXRab29tKCkpKTtcbiAgfVxuICBwdWJsaWMgR2V0QWxsTm9kZSgpOiBOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzIHx8IFtdO1xuICB9XG4gIHB1YmxpYyBHZXROb2RlQnlJZChpZDogc3RyaW5nKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuR2V0QWxsTm9kZSgpLmZpbHRlcihub2RlID0+IG5vZGUuR2V0SWQoKSA9PSBpZCk/LlswXTtcbiAgfVxuXG4gIHB1YmxpYyBHZXREYXRhQnlJZChpZDogc3RyaW5nKTogRGF0YUZsb3cgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5HZXREYXRhQWxsTm9kZSgpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5HZXQoJ2lkJykgPT09IGlkKT8uWzBdO1xuICB9XG4gIGNoZWNrT25seU5vZGUoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKHRoaXMubWFpbi5nZXRDb250cm9sQnlLZXkoa2V5KS5vbmx5Tm9kZSkgJiYgdGhpcy5ub2Rlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLkNoZWNrS2V5KGtleSkpLmxlbmd0aCA+IDA7XG4gIH1cbiAgcHVibGljIHpvb21fcmVmcmVzaChmbGc6IGFueSA9IDApIHtcbiAgICBsZXQgdGVtcF96b29tID0gZmxnID09IDAgPyBab29tLmRlZmF1bHQgOiAodGhpcy5nZXRab29tKCkgKyBab29tLnZhbHVlICogZmxnKTtcbiAgICBpZiAoWm9vbS5tYXggPj0gdGVtcF96b29tICYmIHRlbXBfem9vbSA+PSBab29tLm1pbikge1xuICAgICAgdGhpcy5zZXRYKCh0aGlzLmdldFgoKSAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRlbXBfem9vbSk7XG4gICAgICB0aGlzLnNldFkoKHRoaXMuZ2V0WSgpIC8gdGhpcy56b29tX2xhc3RfdmFsdWUpICogdGVtcF96b29tKTtcbiAgICAgIHRoaXMuem9vbV9sYXN0X3ZhbHVlID0gdGVtcF96b29tO1xuICAgICAgdGhpcy5zZXRab29tKHRoaXMuem9vbV9sYXN0X3ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHpvb21faW4oKSB7XG4gICAgdGhpcy56b29tX3JlZnJlc2goMSk7XG4gIH1cbiAgcHVibGljIHpvb21fb3V0KCkge1xuICAgIHRoaXMuem9vbV9yZWZyZXNoKC0xKTtcbiAgfVxuICBwdWJsaWMgem9vbV9yZXNldCgpIHtcbiAgICB0aGlzLnpvb21fcmVmcmVzaCgwKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi4vZGVzZ2luZXIvRGVzZ2luZXJWaWV3XCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3RG9jayBleHRlbmRzIERvY2tCYXNlIHtcclxuICBwcml2YXRlIHZpZXc6IERlc2dpbmVyVmlldyB8IHVuZGVmaW5lZDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XHJcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xyXG5cclxuICAgIHRoaXMudmlldyA9IG5ldyBEZXNnaW5lclZpZXcodGhpcy5lbE5vZGUsIG1haW4pO1xyXG4gICAgdGhpcy52aWV3Lm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkYXRhOiBhbnkpID0+IHsgbWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCBkYXRhKTsgfSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCAoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMudmlldz8uT3BlbihpdGVtLmRhdGEpO1xyXG4gICAgICB0aGlzLm1haW4uU2V0UHJvamVjdE9wZW4oaXRlbS5kYXRhKTtcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcbmltcG9ydCB7IERvY2tFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IENvbnRyb2xEb2NrIH0gZnJvbSBcIi4vQ29udHJvbERvY2tcIjtcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcbmltcG9ydCB7IFByb2plY3REb2NrIH0gZnJvbSBcIi4vUHJvamVjdERvY2tcIjtcbmltcG9ydCB7IFByb3BlcnR5RG9jayB9IGZyb20gXCIuL1Byb3BlcnR5RG9ja1wiO1xuaW1wb3J0IHsgVGFiRG9jayB9IGZyb20gXCIuL1RhYkRvY2tcIjtcbmltcG9ydCB7IFZpZXdEb2NrIH0gZnJvbSBcIi4vVmlld0RvY2tcIjtcblxuZXhwb3J0IGNsYXNzIERvY2tNYW5hZ2VyIHtcbiAgcHJpdmF0ZSAkZG9ja01hbmFnZXI6IGFueSA9IHt9O1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHsgfVxuICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgdGhpcy4kZG9ja01hbmFnZXIgPSB7fTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0ubGVmdCwgQ29udHJvbERvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5sZWZ0LCBQcm9qZWN0RG9jayk7XG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLnJpZ2h0LCBQcm9wZXJ0eURvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS52aWV3LCBWaWV3RG9jayk7XG4gIC8vICB0aGlzLmFkZERvY2soRG9ja0VudW0udG9wLCBUYWJEb2NrKTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0uYm90dG9tLCBEb2NrQmFzZSk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHB1YmxpYyBhZGREb2NrKCRrZXk6IHN0cmluZywgJHZpZXc6IGFueSkge1xuICAgIGlmICghdGhpcy4kZG9ja01hbmFnZXJbJGtleV0pXG4gICAgICB0aGlzLiRkb2NrTWFuYWdlclska2V5XSA9IFtdO1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldID0gWy4uLnRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldLCAkdmlld107XG4gIH1cblxuICBwdWJsaWMgUmVuZGVyVUkoKSB7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInZzLWxlZnQgdnMtZG9ja1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInZzLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZzLXRvcCB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy12aWV3IHZzLWRvY2tcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZzLWJvdHRvbSB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1yaWdodCB2cy1kb2NrXCI+PC9kaXY+XG4gICAgYDtcbiAgICBPYmplY3Qua2V5cyh0aGlzLiRkb2NrTWFuYWdlcikuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGxldCBxdWVyeVNlbGVjdG9yID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgLiR7a2V5fWApO1xuICAgICAgaWYgKHF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy4kZG9ja01hbmFnZXJba2V5XS5mb3JFYWNoKCgkaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgbmV3ICRpdGVtKHF1ZXJ5U2VsZWN0b3IsIHRoaXMubWFpbik7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSAnLi9jb3JlL0Jhc2VGbG93JztcbmltcG9ydCB7IERvY2tNYW5hZ2VyIH0gZnJvbSAnLi9kb2NrL0RvY2tNYW5hZ2VyJztcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gJy4vY29yZS9FdmVudEZsb3cnO1xuaW1wb3J0IHsgY29tcGFyZVNvcnQsIEV2ZW50RW51bSwgUHJvcGVydHlFbnVtIH0gZnJvbSAnLi9jb3JlL0NvbnN0YW50JztcbmltcG9ydCB7IGdldFRpbWUsIGdldFV1aWQgfSBmcm9tICcuL2NvcmUvVXRpbHMnO1xuaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tICcuL2NvcmUvRGF0YUZsb3cnO1xuZXhwb3J0IGNsYXNzIFZpc3VhbEZsb3cgaW1wbGVtZW50cyBJTWFpbiB7XG4gIHByaXZhdGUgJGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KHRoaXMpO1xuICBwcml2YXRlICRwcm9qZWN0T3BlbjogYW55O1xuICBwcml2YXRlICRwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSAkY29udHJvbDogYW55ID0ge307XG4gIHByaXZhdGUgJGNvbnRyb2xEZWZhdWx0OiBhbnkgPSB7XG4gICAgbm9kZV9iZWdpbjoge1xuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXBsYXlcIj48L2k+JyxcbiAgICAgIHNvcnQ6IDAsXG4gICAgICBuYW1lOiAnQmVnaW4nLFxuICAgICAgY2xhc3M6ICdub2RlLXRlc3QnLFxuICAgICAgaHRtbDogJycsXG4gICAgICBvdXRwdXQ6IDEsXG4gICAgICBpbnB1dDogMCxcbiAgICAgIG9ubHlOb2RlOiB0cnVlXG4gICAgfSxcbiAgICBub2RlX2VuZDoge1xuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXN0b3BcIj48L2k+JyxcbiAgICAgIHNvcnQ6IDAsXG4gICAgICBuYW1lOiAnRW5kJyxcbiAgICAgIGh0bWw6ICcnLFxuICAgICAgb3V0cHV0OiAwLFxuICAgICAgb25seU5vZGU6IHRydWVcbiAgICB9LFxuICAgIG5vZGVfaWY6IHtcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1lcXVhbHNcIj48L2k+JyxcbiAgICAgIHNvcnQ6IDAsXG4gICAgICBuYW1lOiAnSWYnLFxuICAgICAgaHRtbDogJzxkaXY+Y29uZGl0aW9uOjxici8+PGlucHV0IG5vZGU6bW9kZWw9XCJjb25kaXRpb25cIi8+PC9kaXY+JyxcbiAgICAgIHNjcmlwdDogYGAsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICAgIGtleTogXCJjb25kaXRpb25cIixcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb3V0cHV0OiAyXG4gICAgfSxcbiAgICBub2RlX2dyb3VwOiB7XG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtb2JqZWN0LWdyb3VwXCI+PC9pPicsXG4gICAgICBzb3J0OiAwLFxuICAgICAgbmFtZTogJ0dyb3VwJyxcbiAgICAgIGh0bWw6ICc8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcDNcIj48YnV0dG9uIGNsYXNzPVwiYnRuR29Hcm91cCBub2RlLWZvcm0tY29udHJvbFwiPkdvPC9idXR0b24+PC9kaXY+JyxcbiAgICAgIHNjcmlwdDogYG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5idG5Hb0dyb3VwJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge25vZGUub3Blbkdyb3VwKCl9KTtgLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBjb25kaXRpb246IHtcbiAgICAgICAgICBrZXk6IFwiY29uZGl0aW9uXCIsXG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG91dHB1dDogMlxuICAgIH0sXG4gICAgbm9kZV9wcm9qZWN0OiB7XG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtb2JqZWN0LWdyb3VwXCI+PC9pPicsXG4gICAgICBzb3J0OiAwLFxuICAgICAgbmFtZTogJ1Byb2plY3QnLFxuICAgICAgaHRtbDogJzxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBwM1wiPjxzZWxlY3QgY2xhc3M9XCJsaXN0UHJvamVjdCBub2RlLWZvcm0tY29udHJvbFwiIG5vZGU6bW9kZWw9XCJwcm9qZWN0XCI+PC9zZWxlY3Q+PC9kaXY+JyxcbiAgICAgIHNjcmlwdDogYFxuICAgICAgY29uc3QgcmVsb2FkUHJvamVjdCA9ICgpPT57XG4gICAgICAgIG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5saXN0UHJvamVjdCcpLmlubmVySHRtbD0nJztcbiAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24udGV4dD0nbm9uZSc7XG4gICAgICAgIG9wdGlvbi52YWx1ZT0nJztcbiAgICAgICAgbm9kZS5lbE5vZGUucXVlcnlTZWxlY3RvcignLmxpc3RQcm9qZWN0JykuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgbm9kZS5wYXJlbnQubWFpbi5nZXRQcm9qZWN0QWxsKCkuZm9yRWFjaCgoaXRlbSk9PntcbiAgICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgb3B0aW9uLnRleHQ9aXRlbS5HZXQoJ25hbWUnKTtcbiAgICAgICAgICBvcHRpb24udmFsdWU9aXRlbS5HZXQoJ2lkJyk7XG4gICAgICAgICAgbm9kZS5lbE5vZGUucXVlcnlTZWxlY3RvcignLmxpc3RQcm9qZWN0JykuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5saXN0UHJvamVjdCcpLnZhbHVlPSBub2RlLmRhdGEuR2V0KCdwcm9qZWN0JylcbiAgICAgIH1cbiAgICAgIHJlbG9hZFByb2plY3QoKTtcblxuICAgICA7YCxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgcHJvamVjdDoge1xuICAgICAgICAgIGtleTogXCJwcm9qZWN0XCIsXG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG91dHB1dDogMlxuICAgIH0sXG4gIH1cbiAgcHJpdmF0ZSAkY29udHJvbENob29zZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBEb2NrTWFuYWdlcjtcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcbiAgcHVibGljIGdldERvY2tNYW5hZ2VyKCk6IERvY2tNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy4kZG9ja01hbmFnZXI7XG4gIH1cbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgZ2V0Q29udHJvbEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udHJvbCA/PyB7fTtcbiAgfVxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50LCBvcHRpb246IGFueSA9IG51bGwpIHtcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcbiAgICAvL3NldCBwcm9qZWN0XG4gICAgdGhpcy4kcHJvcGVydGllc1tQcm9wZXJ0eUVudW0uc29sdXRpb25dID0ge1xuICAgICAgaWQ6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXG4gICAgICB9LFxuICAgICAga2V5OiB7XG4gICAgICAgIGRlZmF1bHQ6IFByb3BlcnR5RW51bS5zb2x1dGlvblxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gYHNvbHV0aW9uLSR7Z2V0VGltZSgpfWBcbiAgICAgIH0sXG4gICAgICBwcm9qZWN0czoge1xuICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpcy4kcHJvcGVydGllc1tQcm9wZXJ0eUVudW0ubGluZV0gPSB7XG4gICAgICBrZXk6IHtcbiAgICAgICAgZGVmYXVsdDogUHJvcGVydHlFbnVtLmxpbmVcbiAgICAgIH0sXG4gICAgICBmcm9tOiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICBmcm9tSW5kZXg6IHtcbiAgICAgICAgZGVmYXVsdDogMFxuICAgICAgfSxcbiAgICAgIHRvOiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICB0b0luZGV4OiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH1cbiAgICB9O1xuICAgIC8vc2V0IHByb2plY3RcbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS5tYWluXSA9IHtcbiAgICAgIC4uLihvcHRpb24/LnByb3BlcnRpZXMgfHwge30pLFxuICAgICAgaWQ6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiBgYXBwLSR7Z2V0VGltZSgpfWBcbiAgICAgIH0sXG4gICAgICBrZXk6IHtcbiAgICAgICAgZGVmYXVsdDogUHJvcGVydHlFbnVtLm1haW5cbiAgICAgIH0sXG4gICAgICB4OiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICB6b29tOiB7XG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgIH0sXG4gICAgICBub2Rlczoge1xuICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgfVxuICAgIH07XG4gICAgLy8gc2V0IGNvbnRyb2xcbiAgICB0aGlzLiRjb250cm9sID0geyAuLi5vcHRpb24/LmNvbnRyb2wgfHwge30sIC4uLnRoaXMuJGNvbnRyb2xEZWZhdWx0IH07XG4gICAgbGV0IGNvbnRyb2xUZW1wOiBhbnkgPSB7fTtcbiAgICBPYmplY3Qua2V5cyh0aGlzLiRjb250cm9sKS5tYXAoKGtleSkgPT4gKHsgLi4udGhpcy4kY29udHJvbFtrZXldLCBrZXksIHNvcnQ6ICh0aGlzLiRjb250cm9sW2tleV0uc29ydCA9PT0gdW5kZWZpbmVkID8gOTk5OTkgOiB0aGlzLiRjb250cm9sW2tleV0uc29ydCkgfSkpLnNvcnQoY29tcGFyZVNvcnQpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgY29udHJvbFRlbXBbaXRlbS5rZXldID0gaXRlbTtcbiAgICAgIHRoaXMuJHByb3BlcnRpZXNbYG5vZGVfJHtpdGVtLmtleX1gXSA9IHtcbiAgICAgICAgLi4uKGl0ZW0ucHJvcGVydGllcyB8fCB7fSksXG4gICAgICAgIGlkOiB7XG4gICAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXG4gICAgICAgIH0sXG4gICAgICAgIGtleToge1xuICAgICAgICAgIGRlZmF1bHQ6IGl0ZW0ua2V5XG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICBkZWZhdWx0OiBpdGVtLmtleVxuICAgICAgICB9LFxuICAgICAgICB4OiB7XG4gICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICB9LFxuICAgICAgICB5OiB7XG4gICAgICAgICAgZGVmYXVsdDogMFxuICAgICAgICB9LFxuICAgICAgICBncm91cDoge1xuICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGxpbmVzOiB7XG4gICAgICAgICAgZGVmYXVsdDogW11cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLiRjb250cm9sID0gY29udHJvbFRlbXA7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgndnMtY29udGFpbmVyJyk7XG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgndnMtY29udGFpbmVyJyk7XG4gICAgdGhpcy4kZG9ja01hbmFnZXIgPSBuZXcgRG9ja01hbmFnZXIodGhpcy5jb250YWluZXIsIHRoaXMpO1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyLnJlc2V0KCk7XG4gICAgdGhpcy4kZGF0YS5Jbml0RGF0YSh7fSwgdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5zb2x1dGlvbikpO1xuXG4gIH1cbiAgZ2V0UHJvamVjdEFsbCgpOiBhbnlbXSB7XG4gICAgcmV0dXJuIHRoaXMuJGRhdGEuR2V0KCdwcm9qZWN0cycpID8/IFtdO1xuICB9XG4gIG9wZW4oJGRhdGE6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuJGRhdGEuSW5pdERhdGEoJGRhdGEsIHRoaXMuZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0uc29sdXRpb24pKTtcbiAgfVxuICBTZXRQcm9qZWN0T3BlbigkZGF0YTogYW55KTogdm9pZCB7XG4gICAgdGhpcy4kcHJvamVjdE9wZW4gPSAkZGF0YTtcbiAgfVxuICBDaGVja1Byb2plY3RPcGVuKCRkYXRhOiBhbnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4kcHJvamVjdE9wZW4gPT0gJGRhdGE7XG4gIH1cbiAgbmV3UHJvamVjdCgpOiB2b2lkIHtcbiAgICB0aGlzLm9wZW5Qcm9qZWN0KHt9KTtcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5uZXdQcm9qZWN0LCB7fSk7XG4gIH1cbiAgb3BlblByb2plY3QoJGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGlmICgkZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICBsZXQgJHByb2plY3Q6IGFueSA9IHRoaXMuZ2V0UHJvamVjdEJ5SWQoJGRhdGEuR2V0KCdpZCcpKTtcbiAgICAgIGlmICghJHByb2plY3QpIHtcbiAgICAgICAgJHByb2plY3QgPSAkZGF0YTtcbiAgICAgICAgdGhpcy4kZGF0YS5BcHBlbmQoJ3Byb2plY3RzJywgJHByb2plY3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0ub3BlblByb2plY3QsICRwcm9qZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRhdGEgPSBuZXcgRGF0YUZsb3codGhpcyk7XG4gICAgICBkYXRhLkluaXREYXRhKCRkYXRhLCB0aGlzLmdldFByb3BlcnR5QnlLZXkoUHJvcGVydHlFbnVtLm1haW4pKTtcbiAgICAgIHRoaXMuJGRhdGEuQXBwZW5kKCdwcm9qZWN0cycsIGRhdGEpO1xuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0ub3BlblByb2plY3QsIHsgZGF0YSB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7IGRhdGEgfSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRQcm9qZWN0QnlJZCgkaWQ6IGFueSkge1xuICAgIHJldHVybiB0aGlzLiRkYXRhLkdldCgncHJvamVjdHMnKS5maWx0ZXIoKGl0ZW06IERhdGFGbG93KSA9PiBpdGVtLkdldCgnaWQnKSA9PT0gJGlkKT8uWzBdO1xuICB9XG4gIHNldENvbnRyb2xDaG9vc2Uoa2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy4kY29udHJvbENob29zZSA9IGtleTtcbiAgfVxuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLiRjb250cm9sQ2hvb3NlO1xuICB9XG4gIGdldENvbnRyb2xCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLiRjb250cm9sW2tleV0gfHwge307XG4gIH1cbiAgZ2V0Q29udHJvbE5vZGVCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLmdldENvbnRyb2xCeUtleShrZXkpLFxuICAgICAgcHJvcGVydGllczogdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KGBub2RlXyR7a2V5fWApXG4gICAgfVxuICB9XG4gIGdldFByb3BlcnR5QnlLZXkoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy4kcHJvcGVydGllc1trZXldO1xuICB9XG59XG4iXSwibmFtZXMiOlsiRXZlbnRFbnVtIiwiRG9ja0VudW0iLCJQcm9wZXJ0eUVudW0iLCJjb21wYXJlU29ydCIsImEiLCJiIiwic29ydCIsIkRvY2tCYXNlIiwibWFpbiIsImVsTm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImVsQ29udGVudCIsImNvbnN0cnVjdG9yIiwiY29udGFpbmVyIiwidGhpcyIsImFwcGVuZENoaWxkIiwiaW5uZXJIVE1MIiwiQm94SW5mbyIsInRpdGxlIiwiJGNhbGxiYWNrIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicXVlcnlTZWxlY3RvciIsIkNvbnRyb2xEb2NrIiwic3VwZXIiLCJub2RlIiwiY29udHJvbHMiLCJnZXRDb250cm9sQWxsIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJpdGVtIiwibm9kZUl0ZW0iLCJzZXRBdHRyaWJ1dGUiLCJpY29uIiwibmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJkcmFnU3RhcnQiLCJiaW5kIiwiZHJhZ2VuZCIsImUiLCJzZXRDb250cm9sQ2hvb3NlIiwia2V5IiwidGFyZ2V0IiwiY2xvc2VzdCIsImdldEF0dHJpYnV0ZSIsInR5cGUiLCJkYXRhVHJhbnNmZXIiLCJzZXREYXRhIiwiUHJvamVjdERvY2siLCJyZW5kZXJVSSIsIm9uIiwiZGV0YWlsIiwicXVlcnlTZWxlY3RvckFsbCIsIl9ub2RlIiwiZGF0YSIsIkdldCIsIiRub2RlUmlnaHQiLCJidXR0b25OZXciLCJuZXdQcm9qZWN0IiwiZ2V0UHJvamVjdEFsbCIsInJlbW92ZUxpc3RlbmVyIiwiQ2hlY2tQcm9qZWN0T3BlbiIsImRpc3BhdGNoIiwiRWRpdG9yVHlwZSIsIlRhZ1ZpZXciLCJEYXRhVmlldyIsImVsIiwia2V5TmFtZSIsImJpbmREYXRhIiwiYmluZElucHV0IiwiYmluZEV2ZW50IiwidW5CaW5kRGF0YSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ2YWx1ZSIsInNlbmRlciIsImNvbnNvbGUiLCJsb2ciLCJ0YWdOYW1lIiwiaW5jbHVkZXMiLCJpbm5lclRleHQiLCJTZXQiLCJzdGF0aWMiLCJyb290IiwiQXJyYXkiLCJmcm9tIiwibWFwIiwiRWRpdG9yIiwiaXNFZGl0IiwiZWxJbnB1dCIsImVsTGFiZWwiLCJMYWJlbCIsImNoYWduZSIsIm9uU2FmZSIsImNoYW5nZURhdGEiLCJkaXNwb3NlIiwiVGV4dCIsInBhcmVudEVsZW1lbnQiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsInJlbmRlciIsInN3aXRjaE1vZGVFZGl0IiwiaW5wdXREYXRhIiwiSW5saW5lIiwic2V0VGltZW91dCIsIlByb3BlcnR5RG9jayIsImxhc3REYXRhIiwibGFiZWxLZXlzIiwiZGF0YUpzb24iLCJwcm9wZXJ0aWVzIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnR5SXRlbSIsInByb3BlcnR5TGFiZWwiLCJwcm9wZXJ0eVZhbHVlIiwidG9TdHJpbmciLCJFdmVudEZsb3ciLCJldmVudHMiLCJldmVudCIsImNhbGxiYWNrIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsaXN0ZW5lcnMiLCJwdXNoIiwibGlzdGVuZXJJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkZXRhaWxzIiwibGlzdGVuZXIiLCJEYXRhRmxvdyIsInByb3BlcnR5IiwibG9hZCIsIkluaXREYXRhIiwiZXZlbnREYXRhQ2hhbmdlIiwia2V5Q2hpbGQiLCJ2YWx1ZUNoaWxkIiwic2VuZGVyQ2hpbGQiLCJpbmRleCIsIlJlbW92ZUV2ZW50RGF0YSIsIk9uRXZlbnREYXRhIiwiQmluZEV2ZW50IiwiaXNBcnJheSIsImxlbmd0aCIsImlzRGlzcGF0Y2giLCJTZXREYXRhIiwiaXNDbGVhckRhdGEiLCIkZGF0YSIsIkFwcGVuZCIsIlJlbW92ZSIsImdldFByb3BlcnR5QnlLZXkiLCJkZWZhdWx0IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSnNvbiIsInJzIiwiZGVsZXRlIiwiRmxvd0NvcmUiLCJHZXRJZCIsIlNldElkIiwiaWQiLCJDaGVja0VsZW1lbnRDaGlsZCIsImNvbnRhaW5zIiwiU2V0RGF0YUZsb3ciLCJCaW5kRGF0YUV2ZW50IiwiUmVtb3ZlRGF0YUV2ZW50IiwiQmFzZUZsb3ciLCJwYXJlbnQiLCJnZXRUaW1lIiwiRGF0ZSIsIkxpbmUiLCJmcm9tSW5kZXgiLCJ0byIsInRvSW5kZXgiLCJjcmVhdGVFbGVtZW50TlMiLCJlbFBhdGgiLCJjdXJ2YXR1cmUiLCJTdGFydFNlbGVjdGVkIiwic2V0QXR0cmlidXRlTlMiLCJlbENhbnZhcyIsIkFkZExpbmUiLCJ1cGRhdGVUbyIsInRvX3giLCJ0b195IiwieCIsImZyb21feCIsInkiLCJmcm9tX3kiLCJnZXRQb3N0aXNpb25Eb3QiLCJsaW5lQ3VydmUiLCJjcmVhdGVDdXJ2YXR1cmUiLCJVcGRhdGVVSSIsIkFjdGl2ZSIsImZsZyIsInN0YXJ0X3Bvc194Iiwic3RhcnRfcG9zX3kiLCJlbmRfcG9zX3giLCJlbmRfcG9zX3kiLCJjdXJ2YXR1cmVfdmFsdWUiLCJsaW5lX3giLCJsaW5lX3kiLCJoeDEiLCJNYXRoIiwiYWJzIiwiaHgyIiwibm9kZVRoaXMiLCJSZW1vdmVMaW5lIiwic2V0TGluZUNob29zZSIsInNldE5vZGVUbyIsIkNsb25lIiwiTW92ZVR5cGUiLCJEZXNnaW5lclZpZXdfRXZlbnQiLCJ0aW1lRmFzdENsaWNrIiwidGFnSW5nb3JlIiwibW92ZVR5cGUiLCJOb25lIiwiZmxnRHJhcCIsImZsZ01vdmUiLCJhdl94IiwiYXZfeSIsInBvc194IiwicG9zX3kiLCJtb3VzZV94IiwibW91c2VfeSIsInRlbXBMaW5lIiwiRW5kTW92ZSIsIk1vdmUiLCJTdGFydE1vdmUiLCJjb250ZXh0bWVudSIsIm5vZGVfZHJvcEVuZCIsIm5vZGVfZHJhZ292ZXIiLCJ6b29tX2VudGVyIiwia2V5ZG93biIsImV2IiwicHJldmVudERlZmF1bHQiLCIkbG9jayIsImtleU5vZGUiLCJnZXRDb250cm9sQ2hvb3NlIiwiZ2V0RGF0YSIsImVfcG9zX3giLCJlX3Bvc195IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiQ2FsY1giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJDYWxjWSIsImNoZWNrT25seU5vZGUiLCJBZGROb2RlIiwiZ3JvdXAiLCJDdXJyZW50R3JvdXAiLCJ1cGRhdGVQb3NpdGlvbiIsImN0cmxLZXkiLCJkZWx0YVkiLCJ6b29tX291dCIsInpvb21faW4iLCJ0b0xvd2VyQ2FzZSIsIkNhbnZhcyIsIm5vZGVDaG9vc2UiLCJnZXROb2RlQ2hvb3NlIiwiTm9kZSIsInNldE5vZGVDaG9vc2UiLCJnZXRYIiwiZ2V0WSIsInNldFgiLCJzZXRZIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm5vZGVFbCIsIm5vZGVJZCIsIm5vZGVUbyIsIkdldE5vZGVCeUlkIiwibWV0YUtleSIsImdldExpbmVDaG9vc2UiLCJEZXNnaW5lclZpZXdfVG9vbGJhciIsImVsUGF0aEdyb3VwIiwiYnRuQmFjayIsImVsVG9vbGJhciIsInJlbmRlclBhdGhHcm91cCIsImdyb3VwcyIsIkdldEdyb3VwTmFtZSIsImxlbiIsInRleHQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJCYWNrR3JvdXAiLCJidG5ab29tSW4iLCJidG5ab29tT3V0IiwiYnRuWm9vbVJlc2V0Iiwiem9vbV9yZXNldCIsImJ1dHRvbkdyb3VwIiwiZ2V2YWwiLCJldmFsIiwiZ2V0TmFtZSIsIkNoZWNrS2V5IiwiZ2V0RGF0YUxpbmUiLCJhcnJMaW5lIiwib3B0aW9uIiwiYXJyRGF0YVZpZXciLCJnZXRDb250cm9sTm9kZUJ5S2V5IiwiY2xhc3MiLCJhY3RpdmVFbGVtZW50IiwiaHRtbCIsInNjcmlwdCIsIkJpbmRWaWV3Iiwib3Blbkdyb3VwIiwiaUNoZWNrIiwidGVtcHgiLCJ0ZW1weSIsImxpbmUiLCJlbERvdCIsIlJlbW92ZU5vZGUiLCJSZW5kZXJMaW5lIiwiWm9vbSIsIkRlc2dpbmVyVmlldyIsImdldFpvb20iLCJzZXRab29tIiwiR2V0RGF0YUJ5SWQiLCJ0b29sYmFyIiwiUmVuZGVyVUkiLCJsaW5lQ2hvb3NlIiwibm9kZXMiLCJBZGROb2RlSXRlbSIsIkluc2VydE5vZGUiLCJDbGVhck5vZGUiLCJHZXREYXRhQWxsTm9kZSIsIkdldERhdGFOb2RlIiwiZmlsdGVyIiwiem9vbV9sYXN0X3ZhbHVlIiwidGFiSW5kZXgiLCJ1cGRhdGVWaWV3Iiwiem9vbSIsInN0eWxlIiwidHJhbnNmb3JtIiwiR2V0QWxsTm9kZSIsIk9wZW4iLCJudW1iZXIiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImdldENvbnRyb2xCeUtleSIsInpvb21fcmVmcmVzaCIsInRlbXBfem9vbSIsIlZpZXdEb2NrIiwidmlldyIsIlNldFByb2plY3RPcGVuIiwiRG9ja01hbmFnZXIiLCIkZG9ja01hbmFnZXIiLCJyZXNldCIsImFkZERvY2siLCIka2V5IiwiJHZpZXciLCIkaXRlbSIsIiRwcm9qZWN0T3BlbiIsIiRwcm9wZXJ0aWVzIiwiJGNvbnRyb2wiLCIkY29udHJvbERlZmF1bHQiLCJub2RlX2JlZ2luIiwib3V0cHV0IiwiaW5wdXQiLCJvbmx5Tm9kZSIsIm5vZGVfZW5kIiwibm9kZV9pZiIsImNvbmRpdGlvbiIsIm5vZGVfZ3JvdXAiLCJub2RlX3Byb2plY3QiLCJwcm9qZWN0IiwiJGNvbnRyb2xDaG9vc2UiLCJnZXREb2NrTWFuYWdlciIsInByb2plY3RzIiwiY29udHJvbCIsImNvbnRyb2xUZW1wIiwibGluZXMiLCJvcGVuIiwib3BlblByb2plY3QiLCIkcHJvamVjdCIsImdldFByb2plY3RCeUlkIiwiJGlkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7dUNBQU8sTUFBTUEsRUFFQyxhQUZEQSxFQUdHLGVBSEhBLEVBSUUsY0FKRkEsRUFLQyxhQUxE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
