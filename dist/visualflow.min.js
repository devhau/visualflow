/**
   * @license
   * author: Nguyen Van Hau
   * visualflow.js v0.0.1-beta2
   * Released under the MIT license.
   */
var visualflow=function(){"use strict";const t="dataChange",e="showProperty",s="openProject",i="newProject",n="change",o="dispose",a="vs-left",r="vs-top",d="vs-view",h="vs-bottom",l="vs-right",c="main_project",p="main_solution",u="main_line",v=(t,e)=>t.sort<e.sort?-1:t.sort>e.sort?1:0;class m{main;elNode=document.createElement("div");elContent;constructor(t,e){this.main=e,t.appendChild(this.elNode),this.elNode.innerHTML="DockBase"}BoxInfo(t,e){this.elNode.classList.remove("vs-boxinfo"),this.elNode.classList.add("vs-boxinfo"),this.elNode.innerHTML=`<div class="vs-boxinfo_header"><span class="vs-boxinfo_title">${t}</span><span class="vs-boxinfo_button"></span></div>\n    <div class="vs-boxinfo_content"></div>`,this.elContent=this.elNode.querySelector(".vs-boxinfo_content"),e&&e(this.elContent)}}class f extends m{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-control"),this.BoxInfo("Control",(t=>{let e=this.main.getControlAll();Object.keys(e).forEach((s=>{let i=document.createElement("div");i.classList.add("node-item"),i.setAttribute("draggable","true"),i.setAttribute("data-node",s),i.innerHTML=`${e[s].icon} <span>${e[s].name}</span`,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),t.appendChild(i)}))}))}dragend(t){this.main.setControlChoose(null)}dragStart(t){let e=t.target.closest(".node-item").getAttribute("data-node");this.main.setControlChoose(e),"touchstart"!==t.type&&t.dataTransfer.setData("node",e)}}class y extends m{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-project"),this.BoxInfo("Project",this.renderUI.bind(this)),this.main.on(n,this.renderUI.bind(this)),this.main.on(s,(t=>{this.elContent?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elContent&&t?.data?.Get("id")&&this.elContent.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")}))}renderUI(){let i=this.elNode.querySelector(".vs-boxinfo_header .vs-boxinfo_button");if(this.elContent){if(this.elContent.innerHTML="",i){i.innerHTML="";let t=document.createElement("button");i?.appendChild(t),t.innerHTML="New",t.addEventListener("click",(()=>this.main.newProject("")))}this.main.getProjectAll().forEach((i=>{let n=document.createElement("div");n.classList.add("node-item"),n.innerHTML=`${i.Get("name")}`,n.setAttribute("data-project-id",i.Get("id")),i.removeListener(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),i.on(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),this.main.CheckProjectOpen(i)&&n.classList.add("active"),n.addEventListener("click",(()=>{this.main.dispatch(s,{data:i}),this.main.dispatch(e,{data:i})})),this.elContent?.appendChild(n)}))}}}var L;!function(t){t[t.Label=0]="Label",t[t.Text=1]="Text",t[t.Inline=2]="Inline"}(L||(L={}));class g{data;key;type;isEdit=!1;elInput=null;elLabel=null;elNode=document.createElement("div");constructor(e,s,i=null,n=L.Label,a=!1){this.data=e,this.key=s,this.type=n,this.data=e,this.data.onSafe(`${t}_${s}`,this.changeData.bind(this)),this.data.onSafe(o,this.dispose.bind(this)),this.isEdit=n===L.Text,this.elNode.classList.add("node-editor"),a&&i?(i.parentElement?.insertBefore(this.elNode,i),i.parentElement?.removeChild(i),i?.remove()):i&&i.appendChild(this.elNode),this.render()}render(){let t=this.data.Get(this.key);if(this.isEdit){if(this.elLabel&&(this.elLabel.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.remove(),this.elLabel=null),this.elInput)return void(this.elInput.value=t);this.elInput=document.createElement("input"),this.elInput.classList.add("node-form-control"),this.elInput.addEventListener("keydown",this.inputData.bind(this)),this.elInput.value=t,this.elInput.setAttribute("node:model",this.key),this.elNode.appendChild(this.elInput)}else{if(this.elInput&&(this.elInput.removeEventListener("keyup",this.inputData.bind(this)),this.elInput.remove(),this.elInput=null),this.elLabel)return void(this.elLabel.innerHTML=t);this.elLabel=document.createElement("span"),this.type==L.Inline&&this.elLabel.addEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.setAttribute("node:model",this.key),this.elLabel.innerHTML=t,this.elNode.appendChild(this.elLabel)}}switchModeEdit(){this.isEdit=!0,this.render()}inputData(t){setTimeout((()=>{this.data.Set(this.key,t.target.value,this)}))}changeData({key:t,value:e,sender:s}){this.render()}dispose(){this.elInput?.removeEventListener("keydown",this.inputData.bind(this)),this.elLabel?.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.data.removeListener(`${t}_${this.key}`,this.changeData.bind(this)),this.data.removeListener(o,this.dispose.bind(this))}}class C extends m{main;lastData;labelKeys=["id","key","group"];dataJson=document.createElement("textarea");constructor(t,s){super(t,s),this.main=s,this.elNode.classList.add("vs-property"),this.BoxInfo("Property",(t=>{s.on(e,(e=>{this.renderUI(t,e.data)}))}))}renderUI(e,s){if(this.lastData==s)return;this.lastData=s,e.innerHTML="";let i=s.getProperties();Object.keys(i).forEach((t=>{let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=t;let o=document.createElement("div");o.classList.add("property-value"),this.labelKeys.includes(t)?new g(s,t,o,L.Label):new g(s,t,o,L.Text),i.appendChild(n),i.appendChild(o),e.appendChild(i)})),e.appendChild(this.dataJson),this.dataJson.value=s.toString(),this.dataJson.classList.add("node-form-control"),s.on(t,(()=>this.dataJson.value=s.toString()))}}class N extends m{main;constructor(t,e){super(t,e),this.main=e,this.elNode.innerHTML="",this.elNode.classList.add("vs-tab"),this.main.on(s,(t=>{this.elNode?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elNode&&t?.data?.Get("id")&&this.elNode.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")})),this.main.on(i,this.render.bind(this))}render(){this.elNode.innerHTML="",this.main.getProjectAll().forEach((i=>{let n=document.createElement("div");n.classList.add("node-item"),n.innerHTML=`${i.Get("name")}`,n.setAttribute("data-project-id",i.Get("id")),i.removeListener(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),i.on(`${t}_name`,(()=>{n.innerHTML=`${i.Get("name")}`})),this.main.CheckProjectOpen(i)&&n.classList.add("active"),n.addEventListener("click",(()=>{this.main.dispatch(s,{data:i}),this.main.dispatch(e,{data:i})})),this.elNode?.appendChild(n)}))}}class b{events={};constructor(){}onSafe(t,e){this.removeListener(t,e),this.on(t,e)}on(t,e){return"function"!=typeof e?(console.error("The listener callback must be a function, the given type is "+typeof e),!1):"string"!=typeof t?(console.error("The event name must be a string, the given type is "+typeof t),!1):(void 0===this.events[t]&&(this.events[t]={listeners:[]}),void this.events[t].listeners.push(e))}removeListener(t,e){if(!this.events[t])return!1;const s=this.events[t].listeners,i=s.indexOf(e);i>-1&&s.splice(i,1)}dispatch(t,e){if(void 0===this.events[t])return!1;this.events[t].listeners.forEach((t=>{t(e)}))}}class k{property;data={};properties=null;events;getProperties(){return this.properties}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}constructor(t,e){this.property=t,this.events=new b,e&&this.load(e)}InitData(t=null,e=-1){-1!==e&&(this.properties=e),this.load(t)}eventDataChange(e,s,i,n,o){o?(this.dispatch(`${t}_${e}_${o}_${s}`,{key:e,keyChild:s,value:i,sender:n,index:o}),this.dispatch(`${t}_${e}_${o}`,{key:e,keyChild:s,value:i,sender:n,index:o})):this.dispatch(`${t}_${e}_${s}`,{key:e,keyChild:s,value:i,sender:n}),this.dispatch(`${t}_${e}`,{key:e,keyChild:s,value:i,sender:n})}RemoveEventData(e,s,i){e&&e.removeListener(`${t}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}OnEventData(e,s,i){e&&e.on(`${t}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}BindEvent(t,e){t&&(t instanceof k&&this.OnEventData(t,e),Array.isArray(t)&&t.length>0&&t[0]instanceof k&&t.forEach(((t,s)=>this.OnEventData(t,e,s))))}Set(e,s,i=null,o=!0){this.data[e]!=s&&(this.data[e]&&(this.data[e]instanceof k&&this.RemoveEventData(this.data[e],e),Array.isArray(this.data[e])&&this.data[e].length>0&&this.data[e][0]instanceof k&&this.data[e].forEach(((t,s)=>this.RemoveEventData(t,e,s)))),this.BindEvent(s,e)),this.data[e]=s,o&&(this.dispatch(`${t}_${e}`,{key:e,value:s,sender:i}),this.dispatch(t,{key:e,value:s,sender:i}),this.dispatch(n,{key:e,value:s,sender:i}))}SetData(t,e=null,s=!1){if(s&&(this.data={}),t instanceof k){let s=t;if(!this.property&&s.property&&(this.property=s.property),this.properties)for(let t of Object.keys(this.properties))this.Set(t,s.Get(t),e,!1);else for(let t of Object.keys(s.getProperties()))this.Set(t,s.Get(t),e,!1)}else Object.keys(t).forEach((s=>{this.Set(s,t[s],e,!1)}));this.dispatch(n,{data:t})}Get(t){return this.data[t]}Append(t,e){this.data[t]||(this.data[t]=[]),this.data[t]=[...this.data[t],e],this.BindEvent(e,t)}Remove(t,e){this.data[t].indexOf(e);var s=this.data[t].indexOf(e);s>-1&&(this.RemoveEventData(this.data[t][s],t),this.data[t].splice(s,1))}load(t){if(this.data={},this.properties||(this.properties=this.property?.getPropertyByKey(t.key)),this.properties)for(let e of Object.keys(this.properties))this.data[e]=t?.[e]??("function"==typeof this.properties[e]?.default?this.properties[e]?.default():this.properties[e]?.default)??"",this.data[e]instanceof k||!this.data[e].key||(this.data[e]=new k(this.property,this.data[e])),!Array.isArray(this.data[e])||!this.property||this.data[e][0]instanceof k||(this.data[e]=this.data[e].map((t=>t instanceof k||!t.key?t:new k(this.property,t)))),this.BindEvent(this.data[e],e)}toString(){return JSON.stringify(this.toJson())}toJson(){let t={};for(let e of Object.keys(this.properties))t[e]=this.Get(e),t[e]instanceof k&&(t[e]=t[e].toJson()),Array.isArray(t[e])&&t[e].length>0&&t[e][0]instanceof k&&(t[e]=t[e].map((t=>t.toJson())));return t}delete(){this.events=new b,this.data={}}}class E{GetId(){return this.data.Get("id")}SetId(t){return this.data.Set("id",t)}properties={};data=new k;elNode=document.createElement("div");CheckElementChild(t){return this.elNode==t||this.elNode.contains(t)}events;SetData(t,e=null){this.data.SetData(t,e)}SetDataFlow(t){this.data.SetData(t,this,!0),this.dispatch("bind_data_event",{data:t,sender:this}),this.dispatch(n,{data:t,sender:this})}onSafe(t,e){return this.events.onSafe(t,e),this}on(t,e){return this.events.on(t,e),this}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}BindDataEvent(){this.data.on(t,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t,{type:"data",key:e,value:s,sender:i})}))})),this.data.on(n,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(n,{type:"data",key:t,value:e,sender:s})}))}))}RemoveDataEvent(){this.data.removeListener(t,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t,{type:"data",key:e,value:s,sender:i})}))})),this.data.removeListener(n,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(n,{type:"data",key:t,value:e,sender:s})}))}))}constructor(){this.events=new b,this.BindDataEvent()}}class $ extends E{parent;constructor(t){super(),this.parent=t}}const I=()=>(new Date).getTime();class _{from;fromIndex;to;toIndex;elNode=document.createElementNS("http://www.w3.org/2000/svg","svg");elPath=document.createElementNS("http://www.w3.org/2000/svg","path");data=new k;curvature=.5;constructor(t,e=0,s,i=0,n=null){this.from=t,this.fromIndex=e,this.to=s,this.toIndex=i,this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elNode.classList.add("connection"),this.elNode.appendChild(this.elPath),this.from.parent.elCanvas.appendChild(this.elNode),this.from.AddLine(this),this.to?.AddLine(this),n?this.data=n:(this.data.InitData({from:this.from.GetId(),fromIndex:this.fromIndex,to:this.to?.GetId(),toIndex:this.toIndex},{...this.from.parent.main.getPropertyByKey(u)||{}}),this.from.data.Append("lines",this.data))}updateTo(t,e){if(!this.from||null==this.from.elNode)return;let{x:s,y:i}=this.from.getPostisionDot(this.fromIndex);var n=this.createCurvature(s,i,t,e,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",n)}UpdateUI(){if(this.to&&this.to.elNode){let{x:t,y:e}=this.to.getPostisionDot(this.toIndex);this.updateTo(t,e)}return this}Active(t=!0){t?this.elPath.classList.add("active"):this.elPath.classList.remove("active")}createCurvature(t,e,s,i,n,o){let a=t,r=e,d=s,h=i,l=n;switch(o){case"open":if(t>=s)var c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"close":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*l;else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"other":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;default:return" M "+a+" "+r+" C "+(c=a+Math.abs(d-a)*l)+" "+r+" "+(p=d-Math.abs(d-a)*l)+" "+h+" "+d+"  "+h}}delete(t=null,e=!0){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),e&&this.from.data.Remove("lines",this.data),this.from!=t&&this.from.RemoveLine(this),this.to!=t&&this.to?.RemoveLine(this),this.elPath.remove(),this.elNode.remove()}StartSelected(t){this.from.parent.setLineChoose(this)}setNodeTo(t,e){this.to=t,this.toIndex=e}Clone(){if(this.to&&this.toIndex)return new _(this.from,this.fromIndex,this.to,this.toIndex).UpdateUI()}}var x;!function(t){t[t.None=0]="None",t[t.Node=1]="Node",t[t.Canvas=2]="Canvas",t[t.Line=3]="Line"}(x||(x={}));class G{parent;timeFastClick=0;tagIngore=["input","button","a","textarea"];moveType=x.None;flgDrap=!1;flgMove=!1;av_x=0;av_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;tempLine;constructor(t){this.parent=t,this.parent.elNode.addEventListener("mouseup",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mouseleave",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mousemove",this.Move.bind(this)),this.parent.elNode.addEventListener("mousedown",this.StartMove.bind(this)),this.parent.elNode.addEventListener("touchend",this.EndMove.bind(this)),this.parent.elNode.addEventListener("touchmove",this.Move.bind(this)),this.parent.elNode.addEventListener("touchstart",this.StartMove.bind(this)),this.parent.elNode.addEventListener("contextmenu",this.contextmenu.bind(this)),this.parent.elNode.addEventListener("drop",this.node_dropEnd.bind(this)),this.parent.elNode.addEventListener("dragover",this.node_dragover.bind(this)),this.parent.elNode.addEventListener("wheel",this.zoom_enter.bind(this)),this.parent.elNode.addEventListener("keydown",this.keydown.bind(this))}contextmenu(t){t.preventDefault()}node_dragover(t){t.preventDefault()}node_dropEnd(t){if(t.preventDefault(),this.parent.$lock)return;let e=this.parent.main.getControlChoose();if(e||"touchend"===t.type||(e=t.dataTransfer.getData("node")),!e)return;let s=0,i=0;"touchmove"===t.type?(s=t.touches[0].clientX,i=t.touches[0].clientY):(s=t.clientX,i=t.clientY);let n=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-s),o=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-i);this.parent.checkOnlyNode(e)||this.parent.AddNode(e,{group:this.parent.CurrentGroup()}).updatePosition(n,o)}zoom_enter(t){this.parent.$lock||t.ctrlKey&&(t.preventDefault(),t.deltaY>0?this.parent.zoom_out():this.parent.zoom_in())}StartMove(t){if(this.parent.$lock)return;if(this.tagIngore.includes(t.target.tagName.toLowerCase()))return;if(this.timeFastClick=I(),t.target.classList.contains("main-path"))return;"touchstart"===t.type?(this.pos_x=t.touches[0].clientX,this.pos_y=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_y=t.clientY),this.moveType=x.Canvas;let e=this.parent.getNodeChoose();if(e&&e.CheckElementChild(t.target)?this.moveType=x.Node:this.parent.setNodeChoose(void 0),e&&this.moveType==x.Node&&t.target.classList.contains("node-dot")){this.moveType=x.Line;let s=t.target.getAttribute("node");this.tempLine=new _(e,s)}this.moveType==x.Canvas&&(this.av_x=this.parent.getX(),this.av_y=this.parent.getY()),this.flgDrap=!0,this.flgMove=!1}Move(t){if(this.parent.$lock)return;if(!this.flgDrap)return;this.flgMove=!0;let e=0,s=0;switch("touchmove"===t.type?(e=t.touches[0].clientX,s=t.touches[0].clientY):(e=t.clientX,s=t.clientY),this.moveType){case x.Canvas:{let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i);break}case x.Node:{let t=this.parent.CalcX(this.pos_x-e),i=this.parent.CalcY(this.pos_y-s);this.pos_x=e,this.pos_y=s,this.parent.getNodeChoose()?.updatePosition(t,i);break}case x.Line:if(this.tempLine){let i=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-e),n=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-s);this.tempLine.updateTo(this.parent.elCanvas.offsetLeft-i,this.parent.elCanvas.offsetTop-n);let o=t.target.closest("[node-id]"),a=o?.getAttribute("node-id"),r=a?this.parent.GetNodeById(a):void 0;if(r&&t.target.classList.contains("node-dot")){let e=t.target.getAttribute("node");this.tempLine.setNodeTo(r,e)}else{let t=o?.querySelector(".node-dot")?.[0]?.getAttribute("node");this.tempLine.setNodeTo(r,t)}}}"touchmove"===t.type&&(this.mouse_x=e,this.mouse_y=s)}EndMove(t){if(this.parent.$lock)return;if(!this.flgDrap)return;if(I()-this.timeFastClick<100||!this.flgMove)return this.moveType=x.None,this.flgDrap=!1,void(this.flgMove=!1);let e=0,s=0;if("touchend"===t.type?(e=this.mouse_x,s=this.mouse_y):(e=t.clientX,s=t.clientY),this.moveType===x.Canvas){let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i),this.av_x=0,this.av_y=0}this.tempLine&&(this.tempLine.Clone(),this.tempLine.delete(),this.tempLine=void 0),this.pos_x=e,this.pos_y=s,this.moveType=x.None,this.flgDrap=!1,this.flgMove=!1}keydown(t){this.parent.$lock||(("Delete"===t.key||"Backspace"===t.key&&t.metaKey)&&(t.preventDefault(),this.parent.getNodeChoose()?.delete(),this.parent.getLineChoose()?.delete()),"F2"===t.key&&t.preventDefault())}}class M{parent;elNode;elPathGroup=document.createElement("div");constructor(t){this.parent=t,this.elNode=t.elToolbar,this.renderUI(),this.renderPathGroup()}renderPathGroup(){this.elPathGroup.innerHTML="";let t=this.parent.GetGroupName(),e=t.length-1;if(e<0)return;let s=document.createElement("span");s.innerHTML="Root",this.elPathGroup.appendChild(s);for(let s=e;s>=0;s--){let e=document.createElement("span");e.innerHTML=`>>${t[s]}`,this.elPathGroup.appendChild(e)}}renderUI(){if(!this.elNode)return;this.elNode.innerHTML="";let t=document.createElement("button");t.addEventListener("click",(()=>this.parent.BackGroup())),t.innerHTML="Back";let e=document.createElement("button");e.addEventListener("click",(()=>this.parent.zoom_in())),e.innerHTML="Zoom+";let s=document.createElement("button");s.addEventListener("click",(()=>this.parent.zoom_out())),s.innerHTML="Zoom-",this.elNode.appendChild(this.elPathGroup),this.elNode.appendChild(t),this.elNode.appendChild(e),this.elNode.appendChild(s)}}const D=eval;class w extends ${keyNode;getName(){return this.data.Get("name")}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}CheckKey(t){return this.data.Get("key")==t}getDataLine(){return this.data.Get("lines")??[]}elContent;arrLine=[];option={};constructor(e,s,i={}){super(e),this.keyNode=s,this.option=this.parent.main.getControlNodeByKey(s),this.properties=this.option?.properties,i instanceof k?this.data=i:(this.data.InitData(i,this.properties),this.parent.data.Append("nodes",this.data)),this.data.on(t,this.renderUI.bind(this)),this.elNode.classList.add("vs-node"),this.option.class&&this.elNode.classList.add(this.option.class),this.parent.elCanvas.appendChild(this.elNode),this.elNode.setAttribute("node-id",this.GetId()),this.elNode.addEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.addEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.renderUI()}renderUI(){this.elNode.setAttribute("style","display:none;"),this.elNode.innerHTML=`\n      <div class="node-left">\n        <div class="node-dot" node="4000"></div>\n      </div>\n      <div class="node-container">\n        <div class="node-top">\n          <div class="node-dot" node="1000"></div>\n        </div>\n        <div class="node-content">\n        <div class="title">${this.option.icon} ${this.getName()}</div>\n        <div class="body">${this.option.html}</div>\n        </div>\n        <div class="node-bottom">\n          <div class="node-dot" node="2000"></div>\n        </div>\n      </div>\n      <div class="node-right">\n        <div class="node-dot"  node="3000"></div>\n      </div>\n    `,this.elContent=this.elNode.querySelector(".node-content .body"),this.UpdateUI(),D(`(node,view)=>{${this.option.script}}`)(this,this.parent)}openGroup(){this.CheckKey("node_group")&&this.parent.openGroup(this.GetId())}updatePosition(t,e,s=!1){if(this.elNode){let i=t,n=e;s||(n=this.elNode.offsetTop-e,i=this.elNode.offsetLeft-t),i!==this.getX()&&this.setX(i),n!==this.getY()&&this.setY(n)}}Active(t=!0){t?this.elNode.classList.add("active"):this.elNode.classList.remove("active")}RemoveLine(t){var e=this.arrLine.indexOf(t);return e>-1&&this.arrLine.splice(e,1),this.arrLine}AddLine(t){this.arrLine=[...this.arrLine,t]}getPostisionDot(t=0){let e=this.elNode?.querySelector(`.node-dot[node="${t}"]`);if(e){let t=this.elNode.offsetTop+e.offsetTop+10;return{x:this.elNode.offsetLeft+e.offsetLeft+10,y:t}}return{}}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((t=>{t.UpdateUI()}))}delete(e=!0){this.arrLine.forEach((t=>t.delete(this,e))),e?this.data.delete():(this.data.removeListener(t,this.renderUI.bind(this)),this.RemoveDataEvent()),this.elNode.removeEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.removeEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.elNode.remove(),this.arrLine=[],e&&this.parent.RemoveNode(this),this.dispatch(n,{})}RenderLine(){this.getDataLine().forEach((t=>{let e=this.parent.GetNodeById(t.Get("to")),s=t.Get("toIndex"),i=t.Get("fromIndex");new _(this,i,e,s,t).UpdateUI()}))}}const T=1.6,S=.6,P=.1,A=1;class B extends E{main;getZoom(){return+this.data.Get("zoom")}setZoom(t){return this.data.Set("zoom",t,this)}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}group=[];GetGroupName(){return this.group.map((t=>this.GetDataById(t)?.Get("name")))}BackGroup(){this.group.splice(0,1),this.toolbar.renderPathGroup(),this.RenderUI()}CurrentGroup(){return this.group?.[0]??"root"}openGroup(t){this.group=[t,...this.group],this.toolbar.renderPathGroup(),this.RenderUI()}lineChoose;setLineChoose(t){this.lineChoose&&this.lineChoose.Active(!1),this.lineChoose=t,this.lineChoose&&(this.lineChoose.Active(),this.setNodeChoose(void 0))}getLineChoose(){return this.lineChoose}nodes=[];nodeChoose;setNodeChoose(t){this.nodeChoose&&this.nodeChoose.Active(!1),this.nodeChoose=t,this.nodeChoose?(this.nodeChoose.Active(),this.setLineChoose(void 0),this.dispatch(e,{data:this.nodeChoose.data})):this.dispatch(e,{data:this.data})}getNodeChoose(){return this.nodeChoose}AddNodeItem(t){return this.AddNode(t.Get("key"),t)}AddNode(t,e={}){return this.InsertNode(new w(this,t,e))}InsertNode(t){return this.nodes=[...this.nodes,t],t}RemoveNode(t){var e=this.nodes.indexOf(t);return this.data.Remove("nodes",t),e>-1&&this.nodes.splice(e,1),this.nodes}ClearNode(){this.nodes?.forEach((t=>t.delete(!1))),this.nodes=[]}GetDataAllNode(){return this.data.Get("nodes")??[]}GetDataNode(){return this.GetDataAllNode().filter((t=>t.Get("group")===this.CurrentGroup()))}elCanvas=document.createElement("div");elToolbar=document.createElement("div");toolbar;$lock=!0;zoom_last_value=1;constructor(e,s){super(),this.main=s,this.elNode=e;let i=this.main.getPropertyByKey(c);this.data.InitData({},i),this.elNode.innerHTML="",this.elNode.classList.remove("desginer-view"),this.elCanvas.classList.remove("desginer-canvas"),this.elNode.classList.add("desginer-view"),this.elCanvas.classList.add("desginer-canvas"),this.elToolbar.classList.add("desginer-toolbar"),this.elNode.appendChild(this.elCanvas),this.elNode.appendChild(this.elToolbar),this.elNode.tabIndex=0,this.RenderUI(),this.on(t,this.RenderUI.bind(this)),new G(this),this.toolbar=new M(this)}updateView(t,e,s){this.elCanvas.style.transform=`translate(${t}px, ${e}px) scale(${s})`}UpdateUI(){this.updateView(this.getX(),this.getY(),this.getZoom())}RenderUI(t={}){t.sender&&t.sender instanceof w||(t.sender&&t.sender instanceof B||(this.ClearNode(),this.GetDataNode().forEach((t=>{this.AddNodeItem(t)})),this.GetAllNode().forEach((t=>{t.RenderLine()}))),this.UpdateUI())}Open(t){this.data=t,this.$lock=!1,this.group=[],this.toolbar.renderPathGroup(),this.BindDataEvent(),this.RenderUI()}CalcX(t){return t*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(t){return t*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}GetAllNode(){return this.nodes||[]}GetNodeById(t){return this.GetAllNode().filter((e=>e.GetId()==t))?.[0]}GetDataById(t){return this.GetDataAllNode().filter((e=>e.Get("id")===t))?.[0]}checkOnlyNode(t){return this.main.getControlByKey(t).onlyNode&&this.nodes.filter((e=>e.CheckKey(t))).length>0}zoom_refresh(t=0){let e=0==t?A:this.getZoom()+P*t;T>=e&&e>=S&&(this.setX(this.getX()/this.zoom_last_value*e),this.setY(this.getY()/this.zoom_last_value*e),this.zoom_last_value=e,this.setZoom(this.zoom_last_value))}zoom_in(){this.zoom_refresh(1)}zoom_out(){this.zoom_refresh(-1)}zoom_reset(){this.zoom_refresh(0)}}class j extends m{main;view;constructor(t,i){super(t,i),this.main=i,this.view=new B(this.elNode,i),this.view.on(e,(t=>{i.dispatch(e,t)})),this.main.on(s,(t=>{this.view?.Open(t.data),this.main.SetProjectOpen(t.data)}))}}class U{container;main;$dockManager={};constructor(t,e){this.container=t,this.main=e}reset(){this.$dockManager={},this.addDock(a,f),this.addDock(a,y),this.addDock(l,C),this.addDock(d,j),this.addDock(r,N),this.addDock(h,m),this.RenderUI()}addDock(t,e){this.$dockManager[t]||(this.$dockManager[t]=[]),this.$dockManager[t]=[...this.$dockManager[t],e]}RenderUI(){this.container.innerHTML='\n      <div class="vs-left vs-dock"></div>\n      <div class="vs-content">\n        <div class="vs-top vs-dock"></div>\n        <div class="vs-view vs-dock"></div>\n        <div class="vs-bottom vs-dock"></div>\n      </div>\n      <div class="vs-right vs-dock"></div>\n    ',Object.keys(this.$dockManager).forEach((t=>{let e=this.container.querySelector(`.${t}`);e&&this.$dockManager[t].forEach((t=>{new t(e,this.main)}))}))}}return class{container;$data=new k(this);$projectOpen;$properties={};$control={};$controlDefault={node_begin:{icon:'<i class="fas fa-play"></i>',sort:0,name:"Begin",class:"node-test",html:"",output:1,input:0,onlyNode:!0},node_end:{icon:'<i class="fas fa-stop"></i>',sort:0,name:"End",html:"",output:0,onlyNode:!0},node_if:{icon:'<i class="fas fa-equals"></i>',sort:0,name:"If",html:'<div>condition:<br/><input node:model="condition"/></div>',script:"",properties:{condition:{key:"condition",default:""}},output:2},node_group:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Group",html:'<div class="text-center p3"><button class="btnGoGroup">Go</button></div>',script:"node.elNode.querySelector('.btnGoGroup')?.addEventListener('click', () => {node.openGroup()});",properties:{condition:{key:"condition",default:""}},output:2}};$controlChoose=null;$dockManager;events;getDockManager(){return this.$dockManager}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}getControlAll(){return this.$control??{}}constructor(t,e=null){this.container=t,this.events=new b,this.$properties[p]={id:{default:()=>I()},key:{default:p},name:{default:()=>`solution-${I()}`},projects:{default:[]}},this.$properties[u]={key:{default:u},from:{default:0},fromIndex:{default:0},to:{default:0},toIndex:{default:0}},this.$properties[c]={...e?.properties||{},id:{default:()=>I()},name:{default:()=>`app-${I()}`},key:{default:c},x:{default:0},y:{default:0},zoom:{default:1},nodes:{default:[]}},this.$control={...e?.control||{},...this.$controlDefault};let s={};Object.keys(this.$control).map((t=>({...this.$control[t],key:t,sort:void 0===this.$control[t].sort?99999:this.$control[t].sort}))).sort(v).forEach((t=>{s[t.key]=t,this.$properties[`node_${t.key}`]={...t.properties||{},id:{default:()=>I()},key:{default:t.key},name:{default:t.key},x:{default:0},y:{default:0},group:{default:""},lines:{default:[]}}})),this.$control=s,this.container.classList.remove("vs-container"),this.container.classList.add("vs-container"),this.$dockManager=new U(this.container,this),this.$dockManager.reset(),this.$data.InitData({},this.getPropertyByKey(p))}getProjectAll(){return this.$data.Get("projects")??[]}open(t){this.$data.InitData(t,this.getPropertyByKey(p))}SetProjectOpen(t){this.$projectOpen=t}CheckProjectOpen(t){return this.$projectOpen==t}newProject(){this.openProject({}),this.dispatch(i,{})}openProject(t){if(t instanceof k){let e=this.getProjectById(t.Get("id"));e||(e=t,this.$data.Append("projects",e)),this.dispatch(s,e)}else{let i=new k(this);i.InitData(t,this.getPropertyByKey(c)),this.$data.Append("projects",i),this.dispatch(s,{data:i}),this.dispatch(e,{data:i}),this.dispatch(n,{data:i})}}getProjectById(t){return this.$data.Get("projects").filter((e=>e.Get("id")===t))?.[0]}setControlChoose(t){this.$controlChoose=t}getControlChoose(){return this.$controlChoose}getControlByKey(t){return this.$control[t]||{}}getControlNodeByKey(t){return{...this.getControlByKey(t),properties:this.getPropertyByKey(`node_${t}`)}}getPropertyByKey(t){return this.$properties[t]}}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL0NvbnN0YW50LnRzIiwiLi4vc3JjL2RvY2svRG9ja0Jhc2UudHMiLCIuLi9zcmMvZG9jay9Db250cm9sRG9jay50cyIsIi4uL3NyYy9kb2NrL1Byb2plY3REb2NrLnRzIiwiLi4vc3JjL2NvcmUvRWRpdG9yLnRzIiwiLi4vc3JjL2RvY2svUHJvcGVydHlEb2NrLnRzIiwiLi4vc3JjL2RvY2svVGFiRG9jay50cyIsIi4uL3NyYy9jb3JlL0V2ZW50Rmxvdy50cyIsIi4uL3NyYy9jb3JlL0RhdGFGbG93LnRzIiwiLi4vc3JjL2NvcmUvQmFzZUZsb3cudHMiLCIuLi9zcmMvY29yZS9VdGlscy50cyIsIi4uL3NyYy9kZXNnaW5lci9MaW5lLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlld19FdmVudC50cyIsIi4uL3NyYy9kZXNnaW5lci9EZXNnaW5lclZpZXdfVG9vbGJhci50cyIsIi4uL3NyYy9kZXNnaW5lci9Ob2RlLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlldy50cyIsIi4uL3NyYy9kb2NrL1ZpZXdEb2NrLnRzIiwiLi4vc3JjL2RvY2svRG9ja01hbmFnZXIudHMiLCIuLi9zcmMvVmlzdWFsRmxvdy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRXZlbnRFbnVtID0ge1xyXG4gIGluaXQ6IFwiaW5pdFwiLFxyXG4gIGRhdGFDaGFuZ2U6IFwiZGF0YUNoYW5nZVwiLFxyXG4gIHNob3dQcm9wZXJ0eTogXCJzaG93UHJvcGVydHlcIixcclxuICBvcGVuUHJvamVjdDogXCJvcGVuUHJvamVjdFwiLFxyXG4gIG5ld1Byb2plY3Q6IFwibmV3UHJvamVjdFwiLFxyXG4gIGNoYW5nZTogXCJjaGFuZ2VcIixcclxuICBkaXNwb3NlOiBcImRpc3Bvc2VcIlxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgRG9ja0VudW0gPSB7XHJcbiAgbGVmdDogXCJ2cy1sZWZ0XCIsXHJcbiAgdG9wOiBcInZzLXRvcFwiLFxyXG4gIHZpZXc6IFwidnMtdmlld1wiLFxyXG4gIGJvdHRvbTogXCJ2cy1ib3R0b21cIixcclxuICByaWdodDogXCJ2cy1yaWdodFwiLFxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgUHJvcGVydHlFbnVtID0ge1xyXG4gIG1haW46IFwibWFpbl9wcm9qZWN0XCIsXHJcbiAgc29sdXRpb246ICdtYWluX3NvbHV0aW9uJyxcclxuICBsaW5lOiAnbWFpbl9saW5lJyxcclxuICB2YXJpYWJsZTogJ21haW5fdmFyaWFibGUnXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgY29tcGFyZVNvcnQgPSAoYTogYW55LCBiOiBhbnkpID0+IHtcclxuICBpZiAoYS5zb3J0IDwgYi5zb3J0KSB7XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfVxyXG4gIGlmIChhLnNvcnQgPiBiLnNvcnQpIHtcclxuICAgIHJldHVybiAxO1xyXG4gIH1cclxuICByZXR1cm4gMDtcclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRG9ja0Jhc2Uge1xyXG4gIHB1YmxpYyBlbE5vZGU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgcHJvdGVjdGVkIGVsQ29udGVudDogRWxlbWVudCB8IHVuZGVmaW5lZCB8IG51bGw7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcclxuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICdEb2NrQmFzZSc7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgQm94SW5mbyh0aXRsZTogc3RyaW5nLCAkY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgndnMtYm94aW5mbycpO1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtYm94aW5mbycpO1xyXG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJ2cy1ib3hpbmZvX2hlYWRlclwiPjxzcGFuIGNsYXNzPVwidnMtYm94aW5mb190aXRsZVwiPiR7dGl0bGV9PC9zcGFuPjxzcGFuIGNsYXNzPVwidnMtYm94aW5mb19idXR0b25cIj48L3NwYW4+PC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwidnMtYm94aW5mb19jb250ZW50XCI+PC9kaXY+YDtcclxuICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLnZzLWJveGluZm9fY29udGVudCcpO1xyXG4gICAgaWYgKCRjYWxsYmFjaykge1xyXG4gICAgICAkY2FsbGJhY2sodGhpcy5lbENvbnRlbnQpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb250cm9sRG9jayBleHRlbmRzIERvY2tCYXNlIHtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XHJcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtY29udHJvbCcpO1xyXG4gICAgdGhpcy5Cb3hJbmZvKCdDb250cm9sJywgKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB7XHJcbiAgICAgIGxldCBjb250cm9scyA9IHRoaXMubWFpbi5nZXRDb250cm9sQWxsKCk7XHJcbiAgICAgIE9iamVjdC5rZXlzKGNvbnRyb2xzKS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICBsZXQgbm9kZUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBub2RlSXRlbS5jbGFzc0xpc3QuYWRkKCdub2RlLWl0ZW0nKTtcclxuICAgICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcbiAgICAgICAgbm9kZUl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnLCBpdGVtKTtcclxuICAgICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtjb250cm9sc1tpdGVtXS5pY29ufSA8c3Bhbj4ke2NvbnRyb2xzW2l0ZW1dLm5hbWV9PC9zcGFuYDtcclxuICAgICAgICBub2RlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLmRyYWdTdGFydC5iaW5kKHRoaXMpKVxyXG4gICAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCB0aGlzLmRyYWdlbmQuYmluZCh0aGlzKSlcclxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKG5vZGVJdGVtKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcHJpdmF0ZSBkcmFnZW5kKGU6IGFueSkge1xyXG4gICAgdGhpcy5tYWluLnNldENvbnRyb2xDaG9vc2UobnVsbCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRyYWdTdGFydChlOiBhbnkpIHtcclxuICAgIGxldCBrZXkgPSBlLnRhcmdldC5jbG9zZXN0KFwiLm5vZGUtaXRlbVwiKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZScpO1xyXG4gICAgdGhpcy5tYWluLnNldENvbnRyb2xDaG9vc2Uoa2V5KTtcclxuICAgIGlmIChlLnR5cGUgIT09IFwidG91Y2hzdGFydFwiKSB7XHJcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJub2RlXCIsIGtleSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcclxuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcclxuaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi4vY29yZS9EYXRhRmxvd1wiO1xyXG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvamVjdERvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXByb2plY3QnKTtcclxuICAgIHRoaXMuQm94SW5mbygnUHJvamVjdCcsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLmNoYW5nZSwgdGhpcy5yZW5kZXJVSS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMubWFpbi5vbihFdmVudEVudW0ub3BlblByb2plY3QsIChkZXRhaWw6IGFueSkgPT4ge1xyXG4gICAgICB0aGlzLmVsQ29udGVudD8ucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpLmZvckVhY2goKF9ub2RlKSA9PiB7XHJcbiAgICAgICAgX25vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAodGhpcy5lbENvbnRlbnQgJiYgZGV0YWlsPy5kYXRhPy5HZXQoJ2lkJykpIHtcclxuICAgICAgICB0aGlzLmVsQ29udGVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1wcm9qZWN0LWlkPVwiJHtkZXRhaWw/LmRhdGE/LkdldCgnaWQnKX1cIl1gKT8uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG4gIHByaXZhdGUgcmVuZGVyVUkoKSB7XHJcbiAgICBsZXQgJG5vZGVSaWdodDogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLnZzLWJveGluZm9faGVhZGVyIC52cy1ib3hpbmZvX2J1dHRvbicpO1xyXG4gICAgaWYgKCF0aGlzLmVsQ29udGVudCkgcmV0dXJuO1xyXG4gICAgdGhpcy5lbENvbnRlbnQuaW5uZXJIVE1MID0gYGA7XHJcbiAgICBpZiAoJG5vZGVSaWdodCkge1xyXG4gICAgICAkbm9kZVJpZ2h0LmlubmVySFRNTCA9IGBgO1xyXG4gICAgICBsZXQgYnV0dG9uTmV3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICAgICRub2RlUmlnaHQ/LmFwcGVuZENoaWxkKGJ1dHRvbk5ldyk7XHJcbiAgICAgIGJ1dHRvbk5ldy5pbm5lckhUTUwgPSBgTmV3YDtcclxuICAgICAgYnV0dG9uTmV3LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5tYWluLm5ld1Byb2plY3QoJycpKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcHJvamVjdHMgPSB0aGlzLm1haW4uZ2V0UHJvamVjdEFsbCgpO1xyXG4gICAgcHJvamVjdHMuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcclxuICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ25vZGUtaXRlbScpO1xyXG4gICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XHJcbiAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJywgaXRlbS5HZXQoJ2lkJykpO1xyXG4gICAgICBpdGVtLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV9uYW1lYCwgKCkgPT4ge1xyXG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcclxuICAgICAgfSk7XHJcbiAgICAgIGl0ZW0ub24oYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9X25hbWVgLCAoKSA9PiB7XHJcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMubWFpbi5DaGVja1Byb2plY3RPcGVuKGl0ZW0pKSB7XHJcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhOiBpdGVtIH0pO1xyXG4gICAgICAgIHRoaXMubWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IGl0ZW0gfSk7XHJcblxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5lbENvbnRlbnQ/LmFwcGVuZENoaWxkKG5vZGVJdGVtKTtcclxuICAgIH0pO1xyXG5cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQmFzZUZsb3csIEZsb3dDb3JlIH0gZnJvbSBcIi4vQmFzZUZsb3dcIlxyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IExPRyB9IGZyb20gXCIuL1V0aWxzXCI7XHJcbmV4cG9ydCBlbnVtIEVkaXRvclR5cGUge1xyXG4gIExhYmVsLFxyXG4gIFRleHQsXHJcbiAgSW5saW5lXHJcbn1cclxuZXhwb3J0IGNsYXNzIEVkaXRvciB7XHJcbiAgcHJpdmF0ZSBpc0VkaXQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBwcml2YXRlIGVsSW5wdXQ6IEhUTUxEYXRhRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgZWxMYWJlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIGVsTm9kZTogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGRhdGE6IERhdGFGbG93LCBwcml2YXRlIGtleTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCwgcHJpdmF0ZSB0eXBlOiBFZGl0b3JUeXBlID0gRWRpdG9yVHlwZS5MYWJlbCwgY2hhZ25lOiBib29sZWFuID0gZmFsc2UpIHtcclxuXHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5kYXRhLm9uU2FmZShgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwgdGhpcy5jaGFuZ2VEYXRhLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5kYXRhLm9uU2FmZShFdmVudEVudW0uZGlzcG9zZSwgdGhpcy5kaXNwb3NlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5pc0VkaXQgPSB0eXBlID09PSBFZGl0b3JUeXBlLlRleHQ7XHJcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdub2RlLWVkaXRvcicpO1xyXG4gICAgaWYgKGNoYWduZSAmJiBlbCkge1xyXG4gICAgICBlbC5wYXJlbnRFbGVtZW50Py5pbnNlcnRCZWZvcmUodGhpcy5lbE5vZGUsIGVsKTtcclxuICAgICAgZWwucGFyZW50RWxlbWVudD8ucmVtb3ZlQ2hpbGQoZWwpO1xyXG4gICAgICBlbD8ucmVtb3ZlKCk7XHJcbiAgICB9IGVsc2UgaWYgKGVsKSB7XHJcbiAgICAgIGVsLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcclxuICAgIH1cclxuICAgIHRoaXMucmVuZGVyKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyByZW5kZXIoKSB7XHJcbiAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YS5HZXQodGhpcy5rZXkpO1xyXG5cclxuICAgIGlmICh0aGlzLmlzRWRpdCkge1xyXG4gICAgICBpZiAodGhpcy5lbExhYmVsKSB7XHJcbiAgICAgICAgdGhpcy5lbExhYmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5zd2l0Y2hNb2RlRWRpdC5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmVsTGFiZWwucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5lbExhYmVsID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGhpcy5lbElucHV0KSB7XHJcbiAgICAgICAgdGhpcy5lbElucHV0LnZhbHVlID0gZGF0YTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5lbElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcclxuICAgICAgdGhpcy5lbElucHV0LmNsYXNzTGlzdC5hZGQoJ25vZGUtZm9ybS1jb250cm9sJyk7XHJcbiAgICAgIHRoaXMuZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XHJcbiAgICAgIHRoaXMuZWxJbnB1dC52YWx1ZSA9IGRhdGE7XHJcbiAgICAgIHRoaXMuZWxJbnB1dC5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleSk7XHJcbiAgICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxJbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAodGhpcy5lbElucHV0KSB7XHJcbiAgICAgICAgdGhpcy5lbElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5lbElucHV0LnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuZWxJbnB1dCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuZWxMYWJlbCkge1xyXG4gICAgICAgIHRoaXMuZWxMYWJlbC5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmVsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICAgIGlmICh0aGlzLnR5cGUgPT0gRWRpdG9yVHlwZS5JbmxpbmUpIHtcclxuICAgICAgICB0aGlzLmVsTGFiZWwuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLnN3aXRjaE1vZGVFZGl0LmJpbmQodGhpcykpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZWxMYWJlbC5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleSk7XHJcbiAgICAgIHRoaXMuZWxMYWJlbC5pbm5lckhUTUwgPSBkYXRhO1xyXG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsTGFiZWwpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgc3dpdGNoTW9kZUVkaXQoKSB7XHJcbiAgICB0aGlzLmlzRWRpdCA9IHRydWU7XHJcbiAgICB0aGlzLnJlbmRlcigpO1xyXG4gIH1cclxuICBwdWJsaWMgaW5wdXREYXRhKGU6IGFueSkge1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZGF0YS5TZXQodGhpcy5rZXksIGUudGFyZ2V0LnZhbHVlLCB0aGlzKTtcclxuICAgIH0pXHJcbiAgfVxyXG4gIHB1YmxpYyBjaGFuZ2VEYXRhKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkge1xyXG4gICAgdGhpcy5yZW5kZXIoKTtcclxuICB9XHJcbiAgcHVibGljIGRpc3Bvc2UoKSB7XHJcbiAgICB0aGlzLmVsSW5wdXQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmlucHV0RGF0YS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuZWxMYWJlbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCB0aGlzLnN3aXRjaE1vZGVFZGl0LmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke3RoaXMua2V5fWAsIHRoaXMuY2hhbmdlRGF0YS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uZGlzcG9zZSwgdGhpcy5kaXNwb3NlLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IEVkaXRvciwgRWRpdG9yVHlwZSB9IGZyb20gXCIuLi9jb3JlL0VkaXRvclwiO1xyXG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUHJvcGVydHlEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xyXG4gIHByaXZhdGUgbGFzdERhdGE6IERhdGFGbG93IHwgdW5kZWZpbmVkO1xyXG4gIHByaXZhdGUgbGFiZWxLZXlzOiBzdHJpbmdbXSA9IFsnaWQnLCAna2V5JywgJ2dyb3VwJ107XHJcbiAgcHJpdmF0ZSBkYXRhSnNvbjogSFRNTFRleHRBcmVhRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcclxuXHJcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1wcm9wZXJ0eScpO1xyXG4gICAgdGhpcy5Cb3hJbmZvKCdQcm9wZXJ0eScsIChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICBtYWluLm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkZXRhaWw6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMucmVuZGVyVUkobm9kZSwgZGV0YWlsLmRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgcmVuZGVyVUkobm9kZTogSFRNTEVsZW1lbnQsIGRhdGE6IERhdGFGbG93KSB7XHJcbiAgICBpZiAodGhpcy5sYXN0RGF0YSA9PSBkYXRhKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMubGFzdERhdGEgPSBkYXRhO1xyXG4gICAgbm9kZS5pbm5lckhUTUwgPSAnJztcclxuICAgIGxldCBwcm9wZXJ0aWVzOiBhbnkgPSBkYXRhLmdldFByb3BlcnRpZXMoKVxyXG4gICAgT2JqZWN0LmtleXMocHJvcGVydGllcykuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgICAgbGV0IHByb3BlcnR5SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwcm9wZXJ0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvcGVydHktaXRlbScpO1xyXG4gICAgICBsZXQgcHJvcGVydHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwcm9wZXJ0eUxhYmVsLmNsYXNzTGlzdC5hZGQoJ3Byb3BlcnR5LWxhYmVsJyk7XHJcbiAgICAgIHByb3BlcnR5TGFiZWwuaW5uZXJIVE1MID0ga2V5O1xyXG4gICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBwcm9wZXJ0eVZhbHVlLmNsYXNzTGlzdC5hZGQoJ3Byb3BlcnR5LXZhbHVlJyk7XHJcbiAgICAgIGlmICh0aGlzLmxhYmVsS2V5cy5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgbmV3IEVkaXRvcihkYXRhLCBrZXksIHByb3BlcnR5VmFsdWUsIEVkaXRvclR5cGUuTGFiZWwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5ldyBFZGl0b3IoZGF0YSwga2V5LCBwcm9wZXJ0eVZhbHVlLCBFZGl0b3JUeXBlLlRleHQpO1xyXG4gICAgICB9XHJcbiAgICAgIHByb3BlcnR5SXRlbS5hcHBlbmRDaGlsZChwcm9wZXJ0eUxhYmVsKTtcclxuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5VmFsdWUpO1xyXG4gICAgICBub2RlLmFwcGVuZENoaWxkKHByb3BlcnR5SXRlbSk7XHJcbiAgICB9KTtcclxuICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kYXRhSnNvbik7XHJcbiAgICB0aGlzLmRhdGFKc29uLnZhbHVlID0gZGF0YS50b1N0cmluZygpO1xyXG4gICAgdGhpcy5kYXRhSnNvbi5jbGFzc0xpc3QuYWRkKCdub2RlLWZvcm0tY29udHJvbCcpO1xyXG4gICAgZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgKCkgPT4gdGhpcy5kYXRhSnNvbi52YWx1ZSA9IGRhdGEudG9TdHJpbmcoKSlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUYWJEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XHJcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgYDtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXRhYicpO1xyXG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgKGRldGFpbDogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMuZWxOb2RlPy5xdWVyeVNlbGVjdG9yQWxsKCcuYWN0aXZlJykuZm9yRWFjaCgoX25vZGUpID0+IHtcclxuICAgICAgICBfbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh0aGlzLmVsTm9kZSAmJiBkZXRhaWw/LmRhdGE/LkdldCgnaWQnKSkge1xyXG4gICAgICAgIHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke2RldGFpbD8uZGF0YT8uR2V0KCdpZCcpfVwiXWApPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm5ld1Byb2plY3QsIHRoaXMucmVuZGVyLmJpbmQodGhpcykpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKCkge1xyXG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYGA7XHJcbiAgICBsZXQgcHJvamVjdHMgPSB0aGlzLm1haW4uZ2V0UHJvamVjdEFsbCgpO1xyXG4gICAgcHJvamVjdHMuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcclxuICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ25vZGUtaXRlbScpO1xyXG4gICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XHJcbiAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0LWlkJywgaXRlbS5HZXQoJ2lkJykpO1xyXG4gICAgICBpdGVtLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV9uYW1lYCwgKCkgPT4ge1xyXG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcclxuICAgICAgfSk7XHJcbiAgICAgIGl0ZW0ub24oYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9X25hbWVgLCAoKSA9PiB7XHJcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMubWFpbi5DaGVja1Byb2plY3RPcGVuKGl0ZW0pKSB7XHJcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhOiBpdGVtIH0pO1xyXG4gICAgICAgIHRoaXMubWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IGl0ZW0gfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmVsTm9kZT8uYXBwZW5kQ2hpbGQobm9kZUl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBFdmVudEZsb3cge1xyXG4gIHByaXZhdGUgZXZlbnRzOiBhbnkgPSB7fTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7IH1cclxuICBwdWJsaWMgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgIHRoaXMub24oZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgLyogRXZlbnRzICovXHJcbiAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBUaGUgbGlzdGVuZXIgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLCB0aGUgZ2l2ZW4gdHlwZSBpcyAke3R5cGVvZiBjYWxsYmFja31gKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGV2ZW50IGlzIG5vdCBhIHN0cmluZ1xyXG4gICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGV2ZW50IG5hbWUgbXVzdCBiZSBhIHN0cmluZywgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgZXZlbnR9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHtcclxuICAgICAgICBsaXN0ZW5lcnM6IFtdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXHJcblxyXG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudF0pIHJldHVybiBmYWxzZVxyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnNcclxuICAgIGNvbnN0IGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaylcclxuICAgIGNvbnN0IGhhc0xpc3RlbmVyID0gbGlzdGVuZXJJbmRleCA+IC0xXHJcbiAgICBpZiAoaGFzTGlzdGVuZXIpIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4ge1xyXG4gICAgICBsaXN0ZW5lcihkZXRhaWxzKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJUHJvcGVydHkgfSBmcm9tIFwiLi9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tIFwiLi9FdmVudEZsb3dcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhRmxvdyB7XHJcbiAgcHJpdmF0ZSBkYXRhOiBhbnkgPSB7fTtcclxuICBwcml2YXRlIHByb3BlcnRpZXM6IGFueSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcclxuICBwdWJsaWMgZ2V0UHJvcGVydGllcygpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllcztcclxuICB9XHJcbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuXHJcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHByb3BlcnR5OiBJUHJvcGVydHkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGRhdGE6IGFueSA9IHVuZGVmaW5lZCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICB0aGlzLmxvYWQoZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBJbml0RGF0YShkYXRhOiBhbnkgPSBudWxsLCBwcm9wZXJ0aWVzOiBhbnkgPSAtMSkge1xyXG4gICAgaWYgKHByb3BlcnRpZXMgIT09IC0xKSB7XHJcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvYWQoZGF0YSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZXZlbnREYXRhQ2hhbmdlKGtleTogc3RyaW5nLCBrZXlDaGlsZDogc3RyaW5nLCB2YWx1ZUNoaWxkOiBhbnksIHNlbmRlckNoaWxkOiBhbnksIGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgIGlmIChpbmRleCkge1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtpbmRleH1fJHtrZXlDaGlsZH1gLCB7XHJcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtpbmRleH1gLCB7XHJcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7a2V5Q2hpbGR9YCwge1xyXG4gICAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBSZW1vdmVFdmVudERhdGEoaXRlbTogRGF0YUZsb3csIGtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuICAgIGl0ZW0ucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9YCwgKHsga2V5OiBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQgfTogYW55KSA9PiB0aGlzLmV2ZW50RGF0YUNoYW5nZShrZXksIGtleUNoaWxkLCB2YWx1ZUNoaWxkLCBzZW5kZXJDaGlsZCwgaW5kZXgpKTtcclxuICB9XHJcbiAgcHVibGljIE9uRXZlbnREYXRhKGl0ZW06IERhdGFGbG93LCBrZXk6IHN0cmluZywgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgaWYgKCFpdGVtKSByZXR1cm47XHJcbiAgICBpdGVtLm9uKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfWAsICh7IGtleToga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkIH06IGFueSkgPT4gdGhpcy5ldmVudERhdGFDaGFuZ2Uoa2V5LCBrZXlDaGlsZCwgdmFsdWVDaGlsZCwgc2VuZGVyQ2hpbGQsIGluZGV4KSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgQmluZEV2ZW50KHZhbHVlOiBhbnksIGtleTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XHJcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICB0aGlzLk9uRXZlbnREYXRhKHZhbHVlIGFzIERhdGFGbG93LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmICh2YWx1ZSBhcyBbXSkubGVuZ3RoID4gMCAmJiB2YWx1ZVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XHJcbiAgICAgICh2YWx1ZSBhcyBEYXRhRmxvd1tdKS5mb3JFYWNoKChpdGVtOiBEYXRhRmxvdywgaW5kZXg6IG51bWJlcikgPT4gdGhpcy5PbkV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBTZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCwgaXNEaXNwYXRjaDogYm9vbGVhbiA9IHRydWUpIHtcclxuICAgIGlmICh0aGlzLmRhdGFba2V5XSAhPSB2YWx1ZSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRhW2tleV0pIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgICAgdGhpcy5SZW1vdmVFdmVudERhdGEoKHRoaXMuZGF0YVtrZXldIGFzIERhdGFGbG93KSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmICh0aGlzLmRhdGFba2V5XSBhcyBbXSkubGVuZ3RoID4gMCAmJiB0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XHJcbiAgICAgICAgICAodGhpcy5kYXRhW2tleV0gYXMgRGF0YUZsb3dbXSkuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3csIGluZGV4OiBudW1iZXIpID0+IHRoaXMuUmVtb3ZlRXZlbnREYXRhKGl0ZW0sIGtleSwgaW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5CaW5kRXZlbnQodmFsdWUsIGtleSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgaWYgKGlzRGlzcGF0Y2gpIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgcHVibGljIFNldERhdGEoZGF0YTogYW55LCBzZW5kZXI6IGFueSA9IG51bGwsIGlzQ2xlYXJEYXRhID0gZmFsc2UpIHtcclxuXHJcbiAgICBpZiAoaXNDbGVhckRhdGEpIHRoaXMuZGF0YSA9IHt9O1xyXG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICBsZXQgJGRhdGE6IERhdGFGbG93ID0gZGF0YSBhcyBEYXRhRmxvdztcclxuICAgICAgaWYgKCF0aGlzLnByb3BlcnR5ICYmICRkYXRhLnByb3BlcnR5KSB0aGlzLnByb3BlcnR5ID0gJGRhdGEucHJvcGVydHk7XHJcbiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcclxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgdGhpcy5TZXQoa2V5LCAkZGF0YS5HZXQoa2V5KSwgc2VuZGVyLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cygkZGF0YS5nZXRQcm9wZXJ0aWVzKCkpKSB7XHJcbiAgICAgICAgICB0aGlzLlNldChrZXksICRkYXRhLkdldChrZXkpLCBzZW5kZXIsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgdGhpcy5TZXQoa2V5LCBkYXRhW2tleV0sIHNlbmRlciwgZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcclxuICAgICAgZGF0YVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBHZXQoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFba2V5XTtcclxuICB9XHJcbiAgcHVibGljIEFwcGVuZChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgaWYgKCF0aGlzLmRhdGFba2V5XSkgdGhpcy5kYXRhW2tleV0gPSBbXTtcclxuICAgIHRoaXMuZGF0YVtrZXldID0gWy4uLnRoaXMuZGF0YVtrZXldLCB2YWx1ZV07XHJcbiAgICB0aGlzLkJpbmRFdmVudCh2YWx1ZSwga2V5KTtcclxuICB9XHJcbiAgcHVibGljIFJlbW92ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGFba2V5XS5pbmRleE9mKHZhbHVlKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKHRoaXMuZGF0YVtrZXldW2luZGV4XSwga2V5KTtcclxuICAgICAgdGhpcy5kYXRhW2tleV0uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIGxvYWQoZGF0YTogYW55KSB7XHJcbiAgICB0aGlzLmRhdGEgPSB7fTtcclxuICAgIGlmICghdGhpcy5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMucHJvcGVydHk/LmdldFByb3BlcnR5QnlLZXkoZGF0YS5rZXkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucHJvcGVydGllcykge1xyXG4gICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgIHRoaXMuZGF0YVtrZXldID0gKGRhdGE/LltrZXldID8/ICgodHlwZW9mIHRoaXMucHJvcGVydGllc1trZXldPy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnByb3BlcnRpZXNba2V5XT8uZGVmYXVsdCgpIDogdGhpcy5wcm9wZXJ0aWVzW2tleV0/LmRlZmF1bHQpID8/IFwiXCIpKTtcclxuICAgICAgICBpZiAoISh0aGlzLmRhdGFba2V5XSBpbnN0YW5jZW9mIERhdGFGbG93KSAmJiB0aGlzLmRhdGFba2V5XS5rZXkpIHtcclxuICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gbmV3IERhdGFGbG93KHRoaXMucHJvcGVydHksIHRoaXMuZGF0YVtrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmIHRoaXMucHJvcGVydHkgJiYgISh0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSkge1xyXG4gICAgICAgICAgdGhpcy5kYXRhW2tleV0gPSB0aGlzLmRhdGFba2V5XS5tYXAoKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgRGF0YUZsb3cpICYmIGl0ZW0ua2V5KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhRmxvdyh0aGlzLnByb3BlcnR5LCBpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuQmluZEV2ZW50KHRoaXMuZGF0YVtrZXldLCBrZXkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSnNvbigpKTtcclxuICB9XHJcbiAgcHVibGljIHRvSnNvbigpIHtcclxuICAgIGxldCByczogYW55ID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICByc1trZXldID0gdGhpcy5HZXQoa2V5KTtcclxuICAgICAgaWYgKHJzW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLnRvSnNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJzW2tleV0pICYmIChyc1trZXldIGFzIFtdKS5sZW5ndGggPiAwICYmIHJzW2tleV1bMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLm1hcCgoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0udG9Kc29uKCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcnM7XHJcbiAgfVxyXG4gIHB1YmxpYyBkZWxldGUoKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcclxuICAgIHRoaXMuZGF0YSA9IHt9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gXCIuL0V2ZW50Rmxvd1wiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJvcGVydHkge1xyXG4gIGdldFByb3BlcnR5QnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJQ29udHJvbE5vZGUgZXh0ZW5kcyBJUHJvcGVydHkge1xyXG4gIGdldENvbnRyb2xOb2RlQnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnQge1xyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpOiB2b2lkO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1haW4gZXh0ZW5kcyBJQ29udHJvbE5vZGUsIElFdmVudCB7XHJcbiAgbmV3UHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBvcGVuUHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBnZXRQcm9qZWN0QWxsKCk6IGFueVtdO1xyXG4gIFNldFByb2plY3RPcGVuKCRkYXRhOiBhbnkpOiB2b2lkO1xyXG4gIENoZWNrUHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IGJvb2xlYW47XHJcbiAgb3BlbigkZGF0YTogYW55KTogdm9pZDtcclxuICBnZXRDb250cm9sQWxsKCk6IGFueVtdO1xyXG4gIHNldENvbnRyb2xDaG9vc2Uoa2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZDtcclxuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGw7XHJcbiAgZ2V0Q29udHJvbEJ5S2V5KGtleTogc3RyaW5nKTogYW55O1xyXG59XHJcbmV4cG9ydCBjbGFzcyBGbG93Q29yZSBpbXBsZW1lbnRzIElFdmVudCB7XHJcbiAgcHVibGljIEdldElkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2lkJyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBTZXRJZChpZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgnaWQnLCBpZCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcclxuICBwdWJsaWMgZGF0YTogRGF0YUZsb3cgPSBuZXcgRGF0YUZsb3coKTtcclxuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICBwdWJsaWMgQ2hlY2tFbGVtZW50Q2hpbGQoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbE5vZGUgPT0gZWwgfHwgdGhpcy5lbE5vZGUuY29udGFpbnMoZWwpO1xyXG4gIH1cclxuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xyXG4gIHB1YmxpYyBTZXREYXRhKGRhdGE6IGFueSwgc2VuZGVyOiBhbnkgPSBudWxsKSB7XHJcbiAgICB0aGlzLmRhdGEuU2V0RGF0YShkYXRhLCBzZW5kZXIpO1xyXG4gIH1cclxuICBwdWJsaWMgU2V0RGF0YUZsb3coZGF0YTogRGF0YUZsb3cpIHtcclxuICAgIHRoaXMuZGF0YS5TZXREYXRhKGRhdGEsIHRoaXMsIHRydWUpO1xyXG5cclxuICAgIHRoaXMuZGlzcGF0Y2goYGJpbmRfZGF0YV9ldmVudGAsIHsgZGF0YSwgc2VuZGVyOiB0aGlzIH0pO1xyXG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7IGRhdGEsIHNlbmRlcjogdGhpcyB9KTtcclxuICB9XHJcbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XHJcbiAgfVxyXG4gIEJpbmREYXRhRXZlbnQoKSB7XHJcbiAgICB0aGlzLmRhdGEub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uY2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFJlbW92ZURhdGFFdmVudCgpIHtcclxuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uZGF0YUNoYW5nZSwgKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5jaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICB0aGlzLkJpbmREYXRhRXZlbnQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCYXNlRmxvdzxUUGFyZW50IGV4dGVuZHMgRmxvd0NvcmU+IGV4dGVuZHMgRmxvd0NvcmUge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgcGFyZW50OiBUUGFyZW50KSB7XHJcbiAgICBzdXBlcigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgTE9HID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4gY29uc29sZS5sb2cobWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMpO1xyXG5leHBvcnQgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IChuZXcgRGF0ZSgpKTtcclxuZXhwb3J0IGNvbnN0IGdldFRpbWUgPSAoKSA9PiBnZXREYXRlKCkuZ2V0VGltZSgpO1xyXG5leHBvcnQgY29uc3QgZ2V0VXVpZCA9ICgpID0+IHtcclxuICAvLyBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxyXG4gIGxldCBzOiBhbnkgPSBbXTtcclxuICBsZXQgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XHJcbiAgICBzW2ldID0gaGV4RGlnaXRzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwKSwgMSk7XHJcbiAgfVxyXG4gIHNbMTRdID0gXCI0XCI7ICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcclxuICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7ICAvLyBiaXRzIDYtNyBvZiB0aGUgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCB0byAwMVxyXG4gIHNbOF0gPSBzWzEzXSA9IHNbMThdID0gc1syM10gPSBcIi1cIjtcclxuXHJcbiAgbGV0IHV1aWQgPSBzLmpvaW4oXCJcIik7XHJcbiAgcmV0dXJuIHV1aWQ7XHJcbn1cclxuIiwiaW1wb3J0IHsgUHJvcGVydHlFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcclxuaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi4vY29yZS9EYXRhRmxvd1wiO1xyXG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpbmUge1xyXG4gIHB1YmxpYyBlbE5vZGU6IFNWR0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJzdmdcIik7XHJcbiAgcHVibGljIGVsUGF0aDogU1ZHUGF0aEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJwYXRoXCIpO1xyXG4gIHByaXZhdGUgZGF0YTogRGF0YUZsb3cgPSBuZXcgRGF0YUZsb3coKTtcclxuICBwcml2YXRlIGN1cnZhdHVyZTogbnVtYmVyID0gMC41O1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZnJvbTogTm9kZSwgcHVibGljIGZyb21JbmRleDogbnVtYmVyID0gMCwgcHVibGljIHRvOiBOb2RlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBwdWJsaWMgdG9JbmRleDogbnVtYmVyID0gMCwgZGF0YTogYW55ID0gbnVsbCkge1xyXG4gICAgdGhpcy5lbFBhdGguY2xhc3NMaXN0LmFkZChcIm1haW4tcGF0aFwiKTtcclxuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLmVsUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsICcnKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoXCJjb25uZWN0aW9uXCIpO1xyXG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGgpO1xyXG4gICAgdGhpcy5mcm9tLnBhcmVudC5lbENhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XHJcblxyXG4gICAgdGhpcy5mcm9tLkFkZExpbmUodGhpcyk7XHJcbiAgICB0aGlzLnRvPy5BZGRMaW5lKHRoaXMpO1xyXG4gICAgaWYgKGRhdGEpIHtcclxuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhLkluaXREYXRhKFxyXG4gICAgICB7XHJcbiAgICAgICAgZnJvbTogdGhpcy5mcm9tLkdldElkKCksXHJcbiAgICAgICAgZnJvbUluZGV4OiB0aGlzLmZyb21JbmRleCxcclxuICAgICAgICB0bzogdGhpcy50bz8uR2V0SWQoKSxcclxuICAgICAgICB0b0luZGV4OiB0aGlzLnRvSW5kZXhcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIC4uLiB0aGlzLmZyb20ucGFyZW50Lm1haW4uZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0ubGluZSkgfHwge31cclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIHRoaXMuZnJvbS5kYXRhLkFwcGVuZCgnbGluZXMnLCB0aGlzLmRhdGEpO1xyXG4gIH1cclxuICBwdWJsaWMgdXBkYXRlVG8odG9feDogbnVtYmVyLCB0b195OiBudW1iZXIpIHtcclxuICAgIGlmICghdGhpcy5mcm9tIHx8IHRoaXMuZnJvbS5lbE5vZGUgPT0gbnVsbCkgcmV0dXJuO1xyXG4gICAgbGV0IHsgeDogZnJvbV94LCB5OiBmcm9tX3kgfTogYW55ID0gdGhpcy5mcm9tLmdldFBvc3Rpc2lvbkRvdCh0aGlzLmZyb21JbmRleCk7XHJcbiAgICB2YXIgbGluZUN1cnZlID0gdGhpcy5jcmVhdGVDdXJ2YXR1cmUoZnJvbV94LCBmcm9tX3ksIHRvX3gsIHRvX3ksIHRoaXMuY3VydmF0dXJlLCAnb3BlbmNsb3NlJyk7XHJcbiAgICB0aGlzLmVsUGF0aC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZCcsIGxpbmVDdXJ2ZSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBVcGRhdGVVSSgpOiBMaW5lIHtcclxuICAgIC8vUG9zdGlvbiBvdXRwdXRcclxuICAgIGlmICh0aGlzLnRvICYmIHRoaXMudG8uZWxOb2RlKSB7XHJcbiAgICAgIGxldCB7IHg6IHRvX3gsIHk6IHRvX3kgfTogYW55ID0gdGhpcy50by5nZXRQb3N0aXNpb25Eb3QodGhpcy50b0luZGV4KTtcclxuICAgICAgdGhpcy51cGRhdGVUbyh0b194LCB0b195KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuICBwdWJsaWMgQWN0aXZlKGZsZzogYW55ID0gdHJ1ZSkge1xyXG4gICAgaWYgKGZsZykge1xyXG4gICAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwcml2YXRlIGNyZWF0ZUN1cnZhdHVyZShzdGFydF9wb3NfeDogbnVtYmVyLCBzdGFydF9wb3NfeTogbnVtYmVyLCBlbmRfcG9zX3g6IG51bWJlciwgZW5kX3Bvc195OiBudW1iZXIsIGN1cnZhdHVyZV92YWx1ZTogbnVtYmVyLCB0eXBlOiBzdHJpbmcpIHtcclxuICAgIGxldCBsaW5lX3ggPSBzdGFydF9wb3NfeDtcclxuICAgIGxldCBsaW5lX3kgPSBzdGFydF9wb3NfeTtcclxuICAgIGxldCB4ID0gZW5kX3Bvc194O1xyXG4gICAgbGV0IHkgPSBlbmRfcG9zX3k7XHJcbiAgICBsZXQgY3VydmF0dXJlID0gY3VydmF0dXJlX3ZhbHVlO1xyXG4gICAgLy90eXBlIG9wZW5jbG9zZSBvcGVuIGNsb3NlIG90aGVyXHJcbiAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgY2FzZSAnb3Blbic6XHJcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xyXG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xyXG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcclxuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcclxuXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAnY2xvc2UnOlxyXG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcclxuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XHJcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XHJcbiAgICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyBNICcgKyBsaW5lX3ggKyAnICcgKyBsaW5lX3kgKyAnIEMgJyArIGh4MSArICcgJyArIGxpbmVfeSArICcgJyArIGh4MiArICcgJyArIHkgKyAnICcgKyB4ICsgJyAgJyArIHk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ290aGVyJzpcclxuICAgICAgICBpZiAoc3RhcnRfcG9zX3ggPj0gZW5kX3Bvc194KSB7XHJcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xyXG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIGN1cnZhdHVyZTtcclxuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuXHJcbiAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xyXG4gICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XHJcblxyXG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIGRlbGV0ZShub2RlVGhpczogYW55ID0gbnVsbCwgaXNDbGVhckRhdGEgPSB0cnVlKSB7XHJcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5lbFBhdGg/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XHJcbiAgICBpZiAoaXNDbGVhckRhdGEpXHJcbiAgICAgIHRoaXMuZnJvbS5kYXRhLlJlbW92ZSgnbGluZXMnLCB0aGlzLmRhdGEpO1xyXG4gICAgaWYgKHRoaXMuZnJvbSAhPSBub2RlVGhpcylcclxuICAgICAgdGhpcy5mcm9tLlJlbW92ZUxpbmUodGhpcyk7XHJcbiAgICBpZiAodGhpcy50byAhPSBub2RlVGhpcylcclxuICAgICAgdGhpcy50bz8uUmVtb3ZlTGluZSh0aGlzKTtcclxuICAgIHRoaXMuZWxQYXRoLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBTdGFydFNlbGVjdGVkKGU6IGFueSkge1xyXG4gICAgdGhpcy5mcm9tLnBhcmVudC5zZXRMaW5lQ2hvb3NlKHRoaXMpXHJcbiAgfVxyXG4gIHB1YmxpYyBzZXROb2RlVG8obm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgdG9JbmRleDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnRvID0gbm9kZTtcclxuICAgIHRoaXMudG9JbmRleCA9IHRvSW5kZXg7XHJcbiAgfVxyXG4gIHB1YmxpYyBDbG9uZSgpIHtcclxuICAgIGlmICh0aGlzLnRvICYmIHRoaXMudG9JbmRleCkge1xyXG4gICAgICByZXR1cm4gbmV3IExpbmUodGhpcy5mcm9tLCB0aGlzLmZyb21JbmRleCwgdGhpcy50bywgdGhpcy50b0luZGV4KS5VcGRhdGVVSSgpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBnZXRUaW1lIH0gZnJvbSBcIi4uL2NvcmUvVXRpbHNcIjtcclxuaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3XCI7XHJcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XHJcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi9Ob2RlXCI7XHJcblxyXG5leHBvcnQgZW51bSBNb3ZlVHlwZSB7XHJcbiAgTm9uZSA9IDAsXHJcbiAgTm9kZSA9IDEsXHJcbiAgQ2FudmFzID0gMixcclxuICBMaW5lID0gMyxcclxufVxyXG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3X0V2ZW50IHtcclxuXHJcbiAgcHJpdmF0ZSB0aW1lRmFzdENsaWNrOiBudW1iZXIgPSAwO1xyXG4gIHByaXZhdGUgdGFnSW5nb3JlID0gWydpbnB1dCcsICdidXR0b24nLCAnYScsICd0ZXh0YXJlYSddO1xyXG5cclxuICBwcml2YXRlIG1vdmVUeXBlOiBNb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XHJcbiAgcHJpdmF0ZSBmbGdEcmFwOiBib29sZWFuID0gZmFsc2U7XHJcbiAgcHJpdmF0ZSBmbGdNb3ZlOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIHByaXZhdGUgYXZfeDogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIGF2X3k6IG51bWJlciA9IDA7XHJcblxyXG4gIHByaXZhdGUgcG9zX3g6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSBwb3NfeTogbnVtYmVyID0gMDtcclxuICBwcml2YXRlIG1vdXNlX3g6IG51bWJlciA9IDA7XHJcbiAgcHJpdmF0ZSBtb3VzZV95OiBudW1iZXIgPSAwO1xyXG5cclxuICBwcml2YXRlIHRlbXBMaW5lOiBMaW5lIHwgdW5kZWZpbmVkO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudDogRGVzZ2luZXJWaWV3KSB7XHJcbiAgICAvKiBNb3VzZSBhbmQgVG91Y2ggQWN0aW9ucyAqL1xyXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLk1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5FbmRNb3ZlLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuTW92ZS5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XHJcbiAgICAvKiBDb250ZXh0IE1lbnUgKi9cclxuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuY29udGV4dG1lbnUuYmluZCh0aGlzKSk7XHJcblxyXG4gICAgLyogRHJvcCBEcmFwICovXHJcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMubm9kZV9kcm9wRW5kLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5ub2RlX2RyYWdvdmVyLmJpbmQodGhpcykpO1xyXG4gICAgLyogWm9vbSBNb3VzZSAqL1xyXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy56b29tX2VudGVyLmJpbmQodGhpcykpO1xyXG4gICAgLyogRGVsZXRlICovXHJcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bi5iaW5kKHRoaXMpKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY29udGV4dG1lbnUoZXY6IGFueSkgeyBldi5wcmV2ZW50RGVmYXVsdCgpOyB9XHJcbiAgcHJpdmF0ZSBub2RlX2RyYWdvdmVyKGV2OiBhbnkpIHsgZXYucHJldmVudERlZmF1bHQoKTsgfVxyXG4gIHByaXZhdGUgbm9kZV9kcm9wRW5kKGV2OiBhbnkpIHtcclxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcclxuICAgIGxldCBrZXlOb2RlOiBhbnkgPSB0aGlzLnBhcmVudC5tYWluLmdldENvbnRyb2xDaG9vc2UoKTtcclxuICAgIGlmICgha2V5Tm9kZSAmJiBldi50eXBlICE9PSBcInRvdWNoZW5kXCIpIHtcclxuICAgICAga2V5Tm9kZSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibm9kZVwiKTtcclxuICAgIH1cclxuICAgIGlmICgha2V5Tm9kZSkgcmV0dXJuO1xyXG4gICAgbGV0IGVfcG9zX3ggPSAwO1xyXG4gICAgbGV0IGVfcG9zX3kgPSAwO1xyXG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcclxuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcclxuICAgICAgZV9wb3NfeSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xyXG4gICAgICBlX3Bvc195ID0gZXYuY2xpZW50WTtcclxuICAgIH1cclxuICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCAtIGVfcG9zX3gpO1xyXG4gICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XHJcblxyXG4gICAgaWYgKHRoaXMucGFyZW50LmNoZWNrT25seU5vZGUoa2V5Tm9kZSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IG5vZGVJdGVtID0gdGhpcy5wYXJlbnQuQWRkTm9kZShrZXlOb2RlLCB7XHJcbiAgICAgIGdyb3VwOiB0aGlzLnBhcmVudC5DdXJyZW50R3JvdXAoKVxyXG4gICAgfSk7XHJcbiAgICBub2RlSXRlbS51cGRhdGVQb3NpdGlvbih4LCB5KTtcclxuICB9XHJcbiAgcHVibGljIHpvb21fZW50ZXIoZXZlbnQ6IGFueSkge1xyXG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XHJcbiAgICBpZiAoZXZlbnQuY3RybEtleSkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIGlmIChldmVudC5kZWx0YVkgPiAwKSB7XHJcbiAgICAgICAgLy8gWm9vbSBPdXRcclxuICAgICAgICB0aGlzLnBhcmVudC56b29tX291dCgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFpvb20gSW5cclxuICAgICAgICB0aGlzLnBhcmVudC56b29tX2luKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcHJpdmF0ZSBTdGFydE1vdmUoZXY6IGFueSkge1xyXG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XHJcbiAgICBpZiAodGhpcy50YWdJbmdvcmUuaW5jbHVkZXMoZXYudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdGhpcy50aW1lRmFzdENsaWNrID0gZ2V0VGltZSgpO1xyXG4gICAgaWYgKGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcGF0aCcpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChldi50eXBlID09PSBcInRvdWNoc3RhcnRcIikge1xyXG4gICAgICB0aGlzLnBvc194ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICB0aGlzLnBvc195ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wb3NfeCA9IGV2LmNsaWVudFg7XHJcbiAgICAgIHRoaXMucG9zX3kgPSBldi5jbGllbnRZO1xyXG4gICAgfVxyXG4gICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLkNhbnZhcztcclxuICAgIGxldCBub2RlQ2hvb3NlID0gdGhpcy5wYXJlbnQuZ2V0Tm9kZUNob29zZSgpO1xyXG4gICAgaWYgKG5vZGVDaG9vc2UgJiYgbm9kZUNob29zZS5DaGVja0VsZW1lbnRDaGlsZChldi50YXJnZXQpKSB7XHJcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob2RlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh1bmRlZmluZWQpO1xyXG4gICAgfVxyXG4gICAgaWYgKG5vZGVDaG9vc2UgJiYgdGhpcy5tb3ZlVHlwZSA9PSBNb3ZlVHlwZS5Ob2RlICYmIGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJub2RlLWRvdFwiKSkge1xyXG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTGluZTtcclxuICAgICAgbGV0IGZyb21JbmRleCA9IGV2LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ25vZGUnKTtcclxuICAgICAgdGhpcy50ZW1wTGluZSA9IG5ldyBMaW5lKG5vZGVDaG9vc2UsIGZyb21JbmRleCk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PSBNb3ZlVHlwZS5DYW52YXMpIHtcclxuICAgICAgdGhpcy5hdl94ID0gdGhpcy5wYXJlbnQuZ2V0WCgpO1xyXG4gICAgICB0aGlzLmF2X3kgPSB0aGlzLnBhcmVudC5nZXRZKCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmZsZ0RyYXAgPSB0cnVlO1xyXG4gICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XHJcbiAgfVxyXG4gIHB1YmxpYyBNb3ZlKGV2OiBhbnkpIHtcclxuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xyXG4gICAgaWYgKCF0aGlzLmZsZ0RyYXApIHJldHVybjtcclxuICAgIHRoaXMuZmxnTW92ZSA9IHRydWU7XHJcbiAgICBsZXQgZV9wb3NfeCA9IDA7XHJcbiAgICBsZXQgZV9wb3NfeSA9IDA7XHJcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xyXG4gICAgICBlX3Bvc194ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xyXG4gICAgICBlX3Bvc195ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZV9wb3NfeCA9IGV2LmNsaWVudFg7XHJcbiAgICAgIGVfcG9zX3kgPSBldi5jbGllbnRZO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoICh0aGlzLm1vdmVUeXBlKSB7XHJcbiAgICAgIGNhc2UgTW92ZVR5cGUuQ2FudmFzOlxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGxldCB4ID0gdGhpcy5hdl94ICsgdGhpcy5wYXJlbnQuQ2FsY1goLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpXHJcbiAgICAgICAgICBsZXQgeSA9IHRoaXMuYXZfeSArIHRoaXMucGFyZW50LkNhbGNZKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKVxyXG4gICAgICAgICAgdGhpcy5wYXJlbnQuc2V0WCh4KTtcclxuICAgICAgICAgIHRoaXMucGFyZW50LnNldFkoeSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgTW92ZVR5cGUuTm9kZTpcclxuICAgICAgICB7XHJcbiAgICAgICAgICBsZXQgeCA9IHRoaXMucGFyZW50LkNhbGNYKHRoaXMucG9zX3ggLSBlX3Bvc194KTtcclxuICAgICAgICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wb3NfeSAtIGVfcG9zX3kpO1xyXG4gICAgICAgICAgdGhpcy5wb3NfeCA9IGVfcG9zX3g7XHJcbiAgICAgICAgICB0aGlzLnBvc195ID0gZV9wb3NfeTtcclxuICAgICAgICAgIHRoaXMucGFyZW50LmdldE5vZGVDaG9vc2UoKT8udXBkYXRlUG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgTW92ZVR5cGUuTGluZTpcclxuICAgICAgICB7XHJcbiAgICAgICAgICBpZiAodGhpcy50ZW1wTGluZSkge1xyXG4gICAgICAgICAgICBsZXQgeCA9IHRoaXMucGFyZW50LkNhbGNYKHRoaXMucGFyZW50LmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnggLSBlX3Bvc194KTtcclxuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XHJcbiAgICAgICAgICAgIHRoaXMudGVtcExpbmUudXBkYXRlVG8odGhpcy5wYXJlbnQuZWxDYW52YXMub2Zmc2V0TGVmdCAtIHgsIHRoaXMucGFyZW50LmVsQ2FudmFzLm9mZnNldFRvcCAtIHkpO1xyXG4gICAgICAgICAgICBsZXQgbm9kZUVsID0gZXYudGFyZ2V0LmNsb3Nlc3QoJ1tub2RlLWlkXScpO1xyXG4gICAgICAgICAgICBsZXQgbm9kZUlkID0gbm9kZUVsPy5nZXRBdHRyaWJ1dGUoJ25vZGUtaWQnKTtcclxuICAgICAgICAgICAgbGV0IG5vZGVUbyA9IG5vZGVJZCA/IHRoaXMucGFyZW50LkdldE5vZGVCeUlkKG5vZGVJZCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmIChub2RlVG8gJiYgZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm5vZGUtZG90XCIpKSB7XHJcbiAgICAgICAgICAgICAgbGV0IHRvSW5kZXggPSBldi50YXJnZXQuZ2V0QXR0cmlidXRlKCdub2RlJyk7XHJcbiAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZS5zZXROb2RlVG8obm9kZVRvLCB0b0luZGV4KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBsZXQgdG9JbmRleCA9IG5vZGVFbD8ucXVlcnlTZWxlY3RvcignLm5vZGUtZG90Jyk/LlswXT8uZ2V0QXR0cmlidXRlKCdub2RlJyk7XHJcbiAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZS5zZXROb2RlVG8obm9kZVRvLCB0b0luZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChldi50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XHJcbiAgICAgIHRoaXMubW91c2VfeCA9IGVfcG9zX3g7XHJcbiAgICAgIHRoaXMubW91c2VfeSA9IGVfcG9zX3k7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHByaXZhdGUgRW5kTW92ZShldjogYW55KSB7XHJcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcclxuICAgIGlmICghdGhpcy5mbGdEcmFwKSByZXR1cm47XHJcbiAgICAvL2ZpeCBGYXN0IENsaWNrXHJcbiAgICBpZiAoKChnZXRUaW1lKCkgLSB0aGlzLnRpbWVGYXN0Q2xpY2spIDwgMTAwKSB8fCAhdGhpcy5mbGdNb3ZlKSB7XHJcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xyXG4gICAgICB0aGlzLmZsZ0RyYXAgPSBmYWxzZTtcclxuICAgICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZV9wb3NfeCA9IDA7XHJcbiAgICBsZXQgZV9wb3NfeSA9IDA7XHJcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaGVuZFwiKSB7XHJcbiAgICAgIGVfcG9zX3ggPSB0aGlzLm1vdXNlX3g7XHJcbiAgICAgIGVfcG9zX3kgPSB0aGlzLm1vdXNlX3k7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlX3Bvc194ID0gZXYuY2xpZW50WDtcclxuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PT0gTW92ZVR5cGUuQ2FudmFzKSB7XHJcbiAgICAgIGxldCB4ID0gdGhpcy5hdl94ICsgdGhpcy5wYXJlbnQuQ2FsY1goLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpXHJcbiAgICAgIGxldCB5ID0gdGhpcy5hdl95ICsgdGhpcy5wYXJlbnQuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXHJcbiAgICAgIHRoaXMucGFyZW50LnNldFgoeCk7XHJcbiAgICAgIHRoaXMucGFyZW50LnNldFkoeSk7XHJcbiAgICAgIHRoaXMuYXZfeCA9IDA7XHJcbiAgICAgIHRoaXMuYXZfeSA9IDA7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy50ZW1wTGluZSkge1xyXG4gICAgICB0aGlzLnRlbXBMaW5lLkNsb25lKCk7XHJcbiAgICAgIHRoaXMudGVtcExpbmUuZGVsZXRlKCk7XHJcbiAgICAgIHRoaXMudGVtcExpbmUgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBvc194ID0gZV9wb3NfeDtcclxuICAgIHRoaXMucG9zX3kgPSBlX3Bvc195O1xyXG4gICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XHJcbiAgICB0aGlzLmZsZ0RyYXAgPSBmYWxzZTtcclxuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xyXG4gIH1cclxuICBwcml2YXRlIGtleWRvd24oZXY6IGFueSkge1xyXG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XHJcbiAgICBpZiAoZXYua2V5ID09PSAnRGVsZXRlJyB8fCAoZXYua2V5ID09PSAnQmFja3NwYWNlJyAmJiBldi5tZXRhS2V5KSkge1xyXG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXHJcblxyXG4gICAgICB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk/LmRlbGV0ZSgpO1xyXG4gICAgICB0aGlzLnBhcmVudC5nZXRMaW5lQ2hvb3NlKCk/LmRlbGV0ZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2LmtleSA9PT0gJ0YyJykge1xyXG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERlc2dpbmVyVmlld19Ub29sYmFyIHtcclxuICBwcml2YXRlIGVsTm9kZTogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XHJcbiAgcHJpdmF0ZSBlbFBhdGhHcm91cDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IERlc2dpbmVyVmlldykge1xyXG4gICAgdGhpcy5lbE5vZGUgPSBwYXJlbnQuZWxUb29sYmFyO1xyXG4gICAgdGhpcy5yZW5kZXJVSSgpO1xyXG4gICAgdGhpcy5yZW5kZXJQYXRoR3JvdXAoKTtcclxuICB9XHJcbiAgcHVibGljIHJlbmRlclBhdGhHcm91cCgpIHtcclxuICAgIHRoaXMuZWxQYXRoR3JvdXAuaW5uZXJIVE1MID0gYGA7XHJcbiAgICBsZXQgZ3JvdXBzID0gdGhpcy5wYXJlbnQuR2V0R3JvdXBOYW1lKCk7XHJcbiAgICBsZXQgbGVuID0gZ3JvdXBzLmxlbmd0aCAtIDE7XHJcbiAgICBpZiAobGVuIDwgMCkgcmV0dXJuO1xyXG4gICAgbGV0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbiAgICB0ZXh0LmlubmVySFRNTCA9IGBSb290YDtcclxuICAgIHRoaXMuZWxQYXRoR3JvdXAuYXBwZW5kQ2hpbGQodGV4dCk7XHJcbiAgICBmb3IgKGxldCBpbmRleCA9IGxlbjsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xyXG4gICAgICBsZXQgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICAgICAgdGV4dC5pbm5lckhUTUwgPSBgPj4ke2dyb3Vwc1tpbmRleF19YDtcclxuICAgICAgdGhpcy5lbFBhdGhHcm91cC5hcHBlbmRDaGlsZCh0ZXh0KTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHJlbmRlclVJKCkge1xyXG4gICAgaWYgKCF0aGlzLmVsTm9kZSkgcmV0dXJuO1xyXG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYGA7XHJcbiAgICBsZXQgYnRuQmFjayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnRuQmFjay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMucGFyZW50LkJhY2tHcm91cCgpKTtcclxuICAgIGJ0bkJhY2suaW5uZXJIVE1MID0gYEJhY2tgO1xyXG4gICAgbGV0IGJ0blpvb21JbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgYnRuWm9vbUluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5wYXJlbnQuem9vbV9pbigpKTtcclxuICAgIGJ0blpvb21Jbi5pbm5lckhUTUwgPSBgWm9vbStgO1xyXG4gICAgbGV0IGJ0blpvb21PdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIGJ0blpvb21PdXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnBhcmVudC56b29tX291dCgpKTtcclxuICAgIGJ0blpvb21PdXQuaW5uZXJIVE1MID0gYFpvb20tYDtcclxuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxQYXRoR3JvdXApO1xyXG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQoYnRuQmFjayk7XHJcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChidG5ab29tSW4pO1xyXG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQoYnRuWm9vbU91dCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VGbG93IH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcclxuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcclxuaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcclxuXHJcbmNvbnN0IGdldmFsID0gZXZhbDtcclxuZXhwb3J0IGNsYXNzIE5vZGUgZXh0ZW5kcyBCYXNlRmxvdzxEZXNnaW5lclZpZXc+IHtcclxuICAvKipcclxuICAgKiBHRVQgU0VUIGZvciBEYXRhXHJcbiAgICovXHJcbiAgcHVibGljIGdldE5hbWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgnbmFtZScpO1xyXG4gIH1cclxuICBwdWJsaWMgZ2V0WSgpIHtcclxuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneScpO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0WSh2YWx1ZTogYW55KSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneScsIHZhbHVlLCB0aGlzKTtcclxuICB9XHJcbiAgcHVibGljIGdldFgoKSB7XHJcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3gnKTtcclxuICB9XHJcbiAgcHVibGljIHNldFgodmFsdWU6IGFueSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3gnLCB2YWx1ZSwgdGhpcyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBDaGVja0tleShrZXk6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2tleScpID09IGtleTtcclxuICB9XHJcbiAgcHVibGljIGdldERhdGFMaW5lKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2xpbmVzJykgPz8gW107XHJcbiAgfVxyXG4gIHB1YmxpYyBlbENvbnRlbnQ6IEVsZW1lbnQgfCBudWxsIHwgdW5kZWZpbmVkO1xyXG4gIHB1YmxpYyBhcnJMaW5lOiBMaW5lW10gPSBbXTtcclxuICBwcml2YXRlIG9wdGlvbjogYW55ID0ge307XHJcblxyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwYXJlbnQ6IERlc2dpbmVyVmlldywgcHJpdmF0ZSBrZXlOb2RlOiBhbnksIGRhdGE6IGFueSA9IHt9KSB7XHJcbiAgICBzdXBlcihwYXJlbnQpO1xyXG4gICAgdGhpcy5vcHRpb24gPSB0aGlzLnBhcmVudC5tYWluLmdldENvbnRyb2xOb2RlQnlLZXkoa2V5Tm9kZSk7XHJcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLm9wdGlvbj8ucHJvcGVydGllcztcclxuICAgIGlmIChkYXRhIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcclxuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZGF0YS5Jbml0RGF0YShkYXRhLCB0aGlzLnByb3BlcnRpZXMpO1xyXG4gICAgICB0aGlzLnBhcmVudC5kYXRhLkFwcGVuZCgnbm9kZXMnLCB0aGlzLmRhdGEpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kYXRhLm9uKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtbm9kZScpO1xyXG5cclxuICAgIGlmICh0aGlzLm9wdGlvbi5jbGFzcykge1xyXG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKHRoaXMub3B0aW9uLmNsYXNzKTtcclxuICAgIH1cclxuICAgIHRoaXMucGFyZW50LmVsQ2FudmFzLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcclxuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnbm9kZS1pZCcsIHRoaXMuR2V0SWQoKSk7XHJcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcclxuICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcclxuICAgIHRoaXMucmVuZGVyVUkoKTtcclxuICB9XHJcbiAgcHJpdmF0ZSByZW5kZXJVSSgpIHtcclxuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgZGlzcGxheTpub25lO2ApO1xyXG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYFxyXG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1sZWZ0XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjQwMDBcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXRvcFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjEwMDBcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRpdGxlXCI+JHt0aGlzLm9wdGlvbi5pY29ufSAke3RoaXMuZ2V0TmFtZSgpfTwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJib2R5XCI+JHt0aGlzLm9wdGlvbi5odG1sfTwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWJvdHRvbVwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjIwMDBcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXJpZ2h0XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtZG90XCIgIG5vZGU9XCIzMDAwXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgYDtcclxuICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLm5vZGUtY29udGVudCAuYm9keScpO1xyXG4gICAgdGhpcy5VcGRhdGVVSSgpO1xyXG4gICAgZ2V2YWwoYChub2RlLHZpZXcpPT57JHt0aGlzLm9wdGlvbi5zY3JpcHR9fWApKHRoaXMsIHRoaXMucGFyZW50KTtcclxuICB9XHJcbiAgcHVibGljIG9wZW5Hcm91cCgpIHtcclxuICAgIGlmICh0aGlzLkNoZWNrS2V5KCdub2RlX2dyb3VwJykpIHtcclxuICAgICAgdGhpcy5wYXJlbnQub3Blbkdyb3VwKHRoaXMuR2V0SWQoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyB1cGRhdGVQb3NpdGlvbih4OiBhbnksIHk6IGFueSwgaUNoZWNrID0gZmFsc2UpIHtcclxuICAgIGlmICh0aGlzLmVsTm9kZSkge1xyXG4gICAgICBsZXQgdGVtcHggPSB4O1xyXG4gICAgICBsZXQgdGVtcHkgPSB5O1xyXG4gICAgICBpZiAoIWlDaGVjaykge1xyXG4gICAgICAgIHRlbXB5ID0gKHRoaXMuZWxOb2RlLm9mZnNldFRvcCAtIHkpO1xyXG4gICAgICAgIHRlbXB4ID0gKHRoaXMuZWxOb2RlLm9mZnNldExlZnQgLSB4KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGVtcHggIT09IHRoaXMuZ2V0WCgpKSB7XHJcbiAgICAgICAgdGhpcy5zZXRYKHRlbXB4KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodGVtcHkgIT09IHRoaXMuZ2V0WSgpKSB7XHJcbiAgICAgICAgdGhpcy5zZXRZKHRlbXB5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgQWN0aXZlKGZsZzogYW55ID0gdHJ1ZSkge1xyXG4gICAgaWYgKGZsZykge1xyXG4gICAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgfVxyXG4gIH1cclxuICBwdWJsaWMgUmVtb3ZlTGluZShsaW5lOiBMaW5lKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmFyckxpbmUuaW5kZXhPZihsaW5lKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMuYXJyTGluZS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuYXJyTGluZTtcclxuICB9XHJcbiAgcHVibGljIEFkZExpbmUobGluZTogTGluZSkge1xyXG4gICAgdGhpcy5hcnJMaW5lID0gWy4uLnRoaXMuYXJyTGluZSwgbGluZV07XHJcbiAgfVxyXG4gIHB1YmxpYyBnZXRQb3N0aXNpb25Eb3QoaW5kZXg6IG51bWJlciA9IDApIHtcclxuICAgIGxldCBlbERvdDogYW55ID0gdGhpcy5lbE5vZGU/LnF1ZXJ5U2VsZWN0b3IoYC5ub2RlLWRvdFtub2RlPVwiJHtpbmRleH1cIl1gKTtcclxuICAgIGlmIChlbERvdCkge1xyXG4gICAgICBsZXQgeSA9ICh0aGlzLmVsTm9kZS5vZmZzZXRUb3AgKyBlbERvdC5vZmZzZXRUb3AgKyAxMCk7XHJcbiAgICAgIGxldCB4ID0gKHRoaXMuZWxOb2RlLm9mZnNldExlZnQgKyBlbERvdC5vZmZzZXRMZWZ0ICsgMTApO1xyXG4gICAgICByZXR1cm4geyB4LCB5IH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge307XHJcbiAgfVxyXG4gIHB1YmxpYyBVcGRhdGVVSSgpIHtcclxuICAgIHRoaXMuZWxOb2RlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgdG9wOiAke3RoaXMuZ2V0WSgpfXB4OyBsZWZ0OiAke3RoaXMuZ2V0WCgpfXB4O2ApO1xyXG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgaXRlbS5VcGRhdGVVSSgpO1xyXG4gICAgfSlcclxuICB9XHJcbiAgcHVibGljIGRlbGV0ZShpc0NsZWFyRGF0YSA9IHRydWUpIHtcclxuICAgIHRoaXMuYXJyTGluZS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmRlbGV0ZSh0aGlzLCBpc0NsZWFyRGF0YSkpO1xyXG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxyXG4gICAgICB0aGlzLmRhdGEuZGVsZXRlKCk7XHJcbiAgICBlbHNlIHtcclxuICAgICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xyXG4gICAgICB0aGlzLlJlbW92ZURhdGFFdmVudCgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XHJcbiAgICB0aGlzLmVsTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XHJcbiAgICB0aGlzLmVsTm9kZS5yZW1vdmUoKTtcclxuICAgIHRoaXMuYXJyTGluZSA9IFtdO1xyXG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxyXG4gICAgICB0aGlzLnBhcmVudC5SZW1vdmVOb2RlKHRoaXMpO1xyXG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7fSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBSZW5kZXJMaW5lKCkge1xyXG4gICAgdGhpcy5nZXREYXRhTGluZSgpLmZvckVhY2goKGl0ZW06IERhdGFGbG93KSA9PiB7XHJcbiAgICAgIGxldCBub2RlRnJvbSA9IHRoaXM7XHJcbiAgICAgIGxldCBub2RlVG8gPSB0aGlzLnBhcmVudC5HZXROb2RlQnlJZChpdGVtLkdldCgndG8nKSk7XHJcbiAgICAgIGxldCB0b0luZGV4ID0gaXRlbS5HZXQoJ3RvSW5kZXgnKTtcclxuICAgICAgbGV0IGZyb21JbmRleCA9IGl0ZW0uR2V0KCdmcm9tSW5kZXgnKTtcclxuICAgICAgbmV3IExpbmUobm9kZUZyb20sIGZyb21JbmRleCwgbm9kZVRvLCB0b0luZGV4LCBpdGVtKS5VcGRhdGVVSSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEZsb3dDb3JlLCBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSwgUHJvcGVydHlFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcclxuaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi4vY29yZS9EYXRhRmxvd1wiO1xyXG5pbXBvcnQgeyBEZXNnaW5lclZpZXdfRXZlbnQgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdfRXZlbnRcIjtcclxuaW1wb3J0IHsgRGVzZ2luZXJWaWV3X1Rvb2xiYXIgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdfVG9vbGJhclwiO1xyXG5pbXBvcnQgeyBMaW5lIH0gZnJvbSBcIi4vTGluZVwiO1xyXG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFpvb20gPSB7XHJcbiAgbWF4OiAxLjYsXHJcbiAgbWluOiAwLjYsXHJcbiAgdmFsdWU6IDAuMSxcclxuICBkZWZhdWx0OiAxXHJcbn1cclxuZXhwb3J0IGNsYXNzIERlc2dpbmVyVmlldyBleHRlbmRzIEZsb3dDb3JlIHtcclxuXHJcbiAgLyoqXHJcbiAgICogR0VUIFNFVCBmb3IgRGF0YVxyXG4gICAqL1xyXG4gIHB1YmxpYyBnZXRab29tKCkge1xyXG4gICAgcmV0dXJuICt0aGlzLmRhdGEuR2V0KCd6b29tJyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBzZXRab29tKHZhbHVlOiBhbnkpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCd6b29tJywgdmFsdWUsIHRoaXMpO1xyXG4gIH1cclxuICBwdWJsaWMgZ2V0WSgpIHtcclxuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneScpO1xyXG4gIH1cclxuICBwdWJsaWMgc2V0WSh2YWx1ZTogYW55KSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneScsIHZhbHVlLCB0aGlzKTtcclxuICB9XHJcbiAgcHVibGljIGdldFgoKSB7XHJcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3gnKTtcclxuICB9XHJcbiAgcHVibGljIHNldFgodmFsdWU6IGFueSkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3gnLCB2YWx1ZSwgdGhpcyk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZ3JvdXA6IGFueVtdID0gW107XHJcbiAgcHVibGljIEdldEdyb3VwTmFtZSgpOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gdGhpcy5ncm91cC5tYXAoKGl0ZW0pID0+IHRoaXMuR2V0RGF0YUJ5SWQoaXRlbSk/LkdldCgnbmFtZScpKTtcclxuICB9XHJcbiAgcHVibGljIEJhY2tHcm91cCgpIHtcclxuICAgIHRoaXMuZ3JvdXAuc3BsaWNlKDAsIDEpO1xyXG4gICAgdGhpcy50b29sYmFyLnJlbmRlclBhdGhHcm91cCgpO1xyXG4gICAgdGhpcy5SZW5kZXJVSSgpO1xyXG4gIH1cclxuICBwdWJsaWMgQ3VycmVudEdyb3VwKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZ3JvdXA/LlswXSA/PyAncm9vdCc7XHJcbiAgfVxyXG4gIHB1YmxpYyBvcGVuR3JvdXAoaWQ6IGFueSkge1xyXG4gICAgdGhpcy5ncm91cCA9IFtpZCwgLi4udGhpcy5ncm91cF07XHJcbiAgICB0aGlzLnRvb2xiYXIucmVuZGVyUGF0aEdyb3VwKCk7XHJcbiAgICB0aGlzLlJlbmRlclVJKCk7XHJcbiAgfVxyXG4gIHByaXZhdGUgbGluZUNob29zZTogTGluZSB8IHVuZGVmaW5lZDtcclxuICBwdWJsaWMgc2V0TGluZUNob29zZShub2RlOiBMaW5lIHwgdW5kZWZpbmVkKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5saW5lQ2hvb3NlKSB0aGlzLmxpbmVDaG9vc2UuQWN0aXZlKGZhbHNlKTtcclxuICAgIHRoaXMubGluZUNob29zZSA9IG5vZGU7XHJcbiAgICBpZiAodGhpcy5saW5lQ2hvb3NlKSB7XHJcbiAgICAgIHRoaXMubGluZUNob29zZS5BY3RpdmUoKTtcclxuICAgICAgdGhpcy5zZXROb2RlQ2hvb3NlKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBnZXRMaW5lQ2hvb3NlKCk6IExpbmUgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMubGluZUNob29zZTtcclxuICB9XHJcbiAgcHJpdmF0ZSBub2RlczogTm9kZVtdID0gW107XHJcbiAgcHJpdmF0ZSBub2RlQ2hvb3NlOiBOb2RlIHwgdW5kZWZpbmVkO1xyXG4gIHB1YmxpYyBzZXROb2RlQ2hvb3NlKG5vZGU6IE5vZGUgfCB1bmRlZmluZWQpOiB2b2lkIHtcclxuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHRoaXMubm9kZUNob29zZS5BY3RpdmUoZmFsc2UpO1xyXG4gICAgdGhpcy5ub2RlQ2hvb3NlID0gbm9kZTtcclxuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHtcclxuICAgICAgdGhpcy5ub2RlQ2hvb3NlLkFjdGl2ZSgpO1xyXG4gICAgICB0aGlzLnNldExpbmVDaG9vc2UodW5kZWZpbmVkKTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IHRoaXMubm9kZUNob29zZS5kYXRhIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IHRoaXMuZGF0YSB9KTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIGdldE5vZGVDaG9vc2UoKTogTm9kZSB8IHVuZGVmaW5lZCB7XHJcbiAgICByZXR1cm4gdGhpcy5ub2RlQ2hvb3NlO1xyXG4gIH1cclxuICBwdWJsaWMgQWRkTm9kZUl0ZW0oZGF0YTogYW55KTogTm9kZSB7XHJcbiAgICByZXR1cm4gdGhpcy5BZGROb2RlKGRhdGEuR2V0KCdrZXknKSwgZGF0YSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBBZGROb2RlKGtleU5vZGU6IHN0cmluZywgZGF0YTogYW55ID0ge30pOiBOb2RlIHtcclxuICAgIHJldHVybiB0aGlzLkluc2VydE5vZGUobmV3IE5vZGUodGhpcywga2V5Tm9kZSwgZGF0YSkpO1xyXG4gIH1cclxuICBwdWJsaWMgSW5zZXJ0Tm9kZShub2RlOiBOb2RlKTogTm9kZSB7XHJcbiAgICB0aGlzLm5vZGVzID0gWy4uLnRoaXMubm9kZXMsIG5vZGVdO1xyXG4gICAgcmV0dXJuIG5vZGU7XHJcbiAgfVxyXG4gIHB1YmxpYyBSZW1vdmVOb2RlKG5vZGU6IE5vZGUpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMubm9kZXMuaW5kZXhPZihub2RlKTtcclxuICAgIHRoaXMuZGF0YS5SZW1vdmUoJ25vZGVzJywgbm9kZSk7XHJcbiAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICB0aGlzLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy5ub2RlcztcclxuICB9XHJcbiAgcHVibGljIENsZWFyTm9kZSgpIHtcclxuICAgIHRoaXMubm9kZXM/LmZvckVhY2goaXRlbSA9PiBpdGVtLmRlbGV0ZShmYWxzZSkpO1xyXG4gICAgdGhpcy5ub2RlcyA9IFtdO1xyXG4gIH1cclxuICBwdWJsaWMgR2V0RGF0YUFsbE5vZGUoKTogYW55W10ge1xyXG4gICAgcmV0dXJuICh0aGlzLmRhdGEuR2V0KCdub2RlcycpID8/IFtdKTtcclxuICB9XHJcbiAgcHVibGljIEdldERhdGFOb2RlKCk6IGFueVtdIHtcclxuICAgIHJldHVybiB0aGlzLkdldERhdGFBbGxOb2RlKCkuZmlsdGVyKChpdGVtOiBEYXRhRmxvdykgPT4gaXRlbS5HZXQoXCJncm91cFwiKSA9PT0gdGhpcy5DdXJyZW50R3JvdXAoKSk7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIFZhcmlidXRlXHJcbiAgKi9cclxuICBwdWJsaWMgZWxDYW52YXM6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgcHVibGljIGVsVG9vbGJhcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBwdWJsaWMgdG9vbGJhcjogRGVzZ2luZXJWaWV3X1Rvb2xiYXI7XHJcbiAgcHVibGljICRsb2NrOiBib29sZWFuID0gdHJ1ZTtcclxuICBwcml2YXRlIHpvb21fbGFzdF92YWx1ZTogYW55ID0gMTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoZWxOb2RlOiBIVE1MRWxlbWVudCwgcHVibGljIG1haW46IElNYWluKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgdGhpcy5lbE5vZGUgPSBlbE5vZGU7XHJcbiAgICBsZXQgcHJvcGVydGllczogYW55ID0gdGhpcy5tYWluLmdldFByb3BlcnR5QnlLZXkoUHJvcGVydHlFbnVtLm1haW4pO1xyXG4gICAgdGhpcy5kYXRhLkluaXREYXRhKHt9LCBwcm9wZXJ0aWVzKTtcclxuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICcnO1xyXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnZGVzZ2luZXItdmlldycpXHJcbiAgICB0aGlzLmVsQ2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoXCJkZXNnaW5lci1jYW52YXNcIik7XHJcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdkZXNnaW5lci12aWV3JylcclxuICAgIHRoaXMuZWxDYW52YXMuY2xhc3NMaXN0LmFkZChcImRlc2dpbmVyLWNhbnZhc1wiKTtcclxuICAgIHRoaXMuZWxUb29sYmFyLmNsYXNzTGlzdC5hZGQoXCJkZXNnaW5lci10b29sYmFyXCIpO1xyXG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbENhbnZhcyk7XHJcbiAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsVG9vbGJhcik7XHJcbiAgICB0aGlzLmVsTm9kZS50YWJJbmRleCA9IDA7XHJcbiAgICB0aGlzLlJlbmRlclVJKCk7XHJcbiAgICB0aGlzLm9uKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLlJlbmRlclVJLmJpbmQodGhpcykpO1xyXG4gICAgbmV3IERlc2dpbmVyVmlld19FdmVudCh0aGlzKTtcclxuICAgIHRoaXMudG9vbGJhciA9IG5ldyBEZXNnaW5lclZpZXdfVG9vbGJhcih0aGlzKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGVWaWV3KHg6IGFueSwgeTogYW55LCB6b29tOiBhbnkpIHtcclxuICAgIHRoaXMuZWxDYW52YXMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3h9cHgsICR7eX1weCkgc2NhbGUoJHt6b29tfSlgO1xyXG4gIH1cclxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XHJcbiAgICB0aGlzLnVwZGF0ZVZpZXcodGhpcy5nZXRYKCksIHRoaXMuZ2V0WSgpLCB0aGlzLmdldFpvb20oKSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBSZW5kZXJVSShkZXRhaWw6IGFueSA9IHt9KSB7XHJcbiAgICBpZiAoZGV0YWlsLnNlbmRlciAmJiBkZXRhaWwuc2VuZGVyIGluc3RhbmNlb2YgTm9kZSkgcmV0dXJuO1xyXG4gICAgaWYgKGRldGFpbC5zZW5kZXIgJiYgZGV0YWlsLnNlbmRlciBpbnN0YW5jZW9mIERlc2dpbmVyVmlldykge1xyXG4gICAgICB0aGlzLlVwZGF0ZVVJKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHRoaXMuQ2xlYXJOb2RlKCk7XHJcbiAgICB0aGlzLkdldERhdGFOb2RlKCkuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMuQWRkTm9kZUl0ZW0oaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuR2V0QWxsTm9kZSgpLmZvckVhY2goKGl0ZW06IE5vZGUpID0+IHtcclxuICAgICAgaXRlbS5SZW5kZXJMaW5lKCk7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5VcGRhdGVVSSgpO1xyXG4gIH1cclxuICBwdWJsaWMgT3BlbigkZGF0YTogRGF0YUZsb3cpIHtcclxuICAgIHRoaXMuZGF0YSA9ICRkYXRhO1xyXG4gICAgdGhpcy4kbG9jayA9IGZhbHNlO1xyXG4gICAgdGhpcy5ncm91cCA9IFtdO1xyXG4gICAgdGhpcy50b29sYmFyLnJlbmRlclBhdGhHcm91cCgpO1xyXG4gICAgdGhpcy5CaW5kRGF0YUV2ZW50KCk7XHJcbiAgICB0aGlzLlJlbmRlclVJKCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBDYWxjWChudW1iZXI6IGFueSkge1xyXG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxOb2RlPy5jbGllbnRXaWR0aCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBDYWxjWShudW1iZXI6IGFueSkge1xyXG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudEhlaWdodCAvICh0aGlzLmVsTm9kZT8uY2xpZW50SGVpZ2h0ICogdGhpcy5nZXRab29tKCkpKTtcclxuICB9XHJcbiAgcHVibGljIEdldEFsbE5vZGUoKTogTm9kZVtdIHtcclxuICAgIHJldHVybiB0aGlzLm5vZGVzIHx8IFtdO1xyXG4gIH1cclxuICBwdWJsaWMgR2V0Tm9kZUJ5SWQoaWQ6IHN0cmluZyk6IE5vZGUgfCB1bmRlZmluZWQge1xyXG4gICAgcmV0dXJuIHRoaXMuR2V0QWxsTm9kZSgpLmZpbHRlcihub2RlID0+IG5vZGUuR2V0SWQoKSA9PSBpZCk/LlswXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBHZXREYXRhQnlJZChpZDogc3RyaW5nKTogRGF0YUZsb3cgfCBudWxsIHtcclxuICAgIHJldHVybiB0aGlzLkdldERhdGFBbGxOb2RlKCkuZmlsdGVyKChpdGVtKSA9PiBpdGVtLkdldCgnaWQnKSA9PT0gaWQpPy5bMF07XHJcbiAgfVxyXG4gIGNoZWNrT25seU5vZGUoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiAodGhpcy5tYWluLmdldENvbnRyb2xCeUtleShrZXkpLm9ubHlOb2RlKSAmJiB0aGlzLm5vZGVzLmZpbHRlcihpdGVtID0+IGl0ZW0uQ2hlY2tLZXkoa2V5KSkubGVuZ3RoID4gMDtcclxuICB9XHJcbiAgcHVibGljIHpvb21fcmVmcmVzaChmbGc6IGFueSA9IDApIHtcclxuICAgIGxldCB0ZW1wX3pvb20gPSBmbGcgPT0gMCA/IFpvb20uZGVmYXVsdCA6ICh0aGlzLmdldFpvb20oKSArIFpvb20udmFsdWUgKiBmbGcpO1xyXG4gICAgaWYgKFpvb20ubWF4ID49IHRlbXBfem9vbSAmJiB0ZW1wX3pvb20gPj0gWm9vbS5taW4pIHtcclxuICAgICAgdGhpcy5zZXRYKCh0aGlzLmdldFgoKSAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRlbXBfem9vbSk7XHJcbiAgICAgIHRoaXMuc2V0WSgodGhpcy5nZXRZKCkgLyB0aGlzLnpvb21fbGFzdF92YWx1ZSkgKiB0ZW1wX3pvb20pO1xyXG4gICAgICB0aGlzLnpvb21fbGFzdF92YWx1ZSA9IHRlbXBfem9vbTtcclxuICAgICAgdGhpcy5zZXRab29tKHRoaXMuem9vbV9sYXN0X3ZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIHpvb21faW4oKSB7XHJcbiAgICB0aGlzLnpvb21fcmVmcmVzaCgxKTtcclxuICB9XHJcbiAgcHVibGljIHpvb21fb3V0KCkge1xyXG4gICAgdGhpcy56b29tX3JlZnJlc2goLTEpO1xyXG4gIH1cclxuICBwdWJsaWMgem9vbV9yZXNldCgpIHtcclxuICAgIHRoaXMuem9vbV9yZWZyZXNoKDApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuLi9kZXNnaW5lci9EZXNnaW5lclZpZXdcIjtcclxuaW1wb3J0IHsgRG9ja0Jhc2UgfSBmcm9tIFwiLi9Eb2NrQmFzZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXdEb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xyXG4gIHByaXZhdGUgdmlldzogRGVzZ2luZXJWaWV3IHwgdW5kZWZpbmVkO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XHJcblxyXG4gICAgdGhpcy52aWV3ID0gbmV3IERlc2dpbmVyVmlldyh0aGlzLmVsTm9kZSwgbWFpbik7XHJcbiAgICB0aGlzLnZpZXcub24oRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgKGRhdGE6IGFueSkgPT4geyBtYWluLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIGRhdGEpOyB9KTtcclxuICAgIHRoaXMubWFpbi5vbihFdmVudEVudW0ub3BlblByb2plY3QsIChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy52aWV3Py5PcGVuKGl0ZW0uZGF0YSk7XHJcbiAgICAgIHRoaXMubWFpbi5TZXRQcm9qZWN0T3BlbihpdGVtLmRhdGEpO1xyXG4gICAgfSlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBEb2NrRW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IENvbnRyb2xEb2NrIH0gZnJvbSBcIi4vQ29udHJvbERvY2tcIjtcclxuaW1wb3J0IHsgRG9ja0Jhc2UgfSBmcm9tIFwiLi9Eb2NrQmFzZVwiO1xyXG5pbXBvcnQgeyBQcm9qZWN0RG9jayB9IGZyb20gXCIuL1Byb2plY3REb2NrXCI7XHJcbmltcG9ydCB7IFByb3BlcnR5RG9jayB9IGZyb20gXCIuL1Byb3BlcnR5RG9ja1wiO1xyXG5pbXBvcnQgeyBUYWJEb2NrIH0gZnJvbSBcIi4vVGFiRG9ja1wiO1xyXG5pbXBvcnQgeyBWaWV3RG9jayB9IGZyb20gXCIuL1ZpZXdEb2NrXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRG9ja01hbmFnZXIge1xyXG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBhbnkgPSB7fTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHsgfVxyXG4gIHB1YmxpYyByZXNldCgpIHtcclxuICAgIHRoaXMuJGRvY2tNYW5hZ2VyID0ge307XHJcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0ubGVmdCwgQ29udHJvbERvY2spO1xyXG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLmxlZnQsIFByb2plY3REb2NrKTtcclxuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5yaWdodCwgUHJvcGVydHlEb2NrKTtcclxuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS52aWV3LCBWaWV3RG9jayk7XHJcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0udG9wLCBUYWJEb2NrKTtcclxuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5ib3R0b20sIERvY2tCYXNlKTtcclxuICAgIHRoaXMuUmVuZGVyVUkoKTtcclxuICB9XHJcbiAgcHVibGljIGFkZERvY2soJGtleTogc3RyaW5nLCAkdmlldzogYW55KSB7XHJcbiAgICBpZiAoIXRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldKVxyXG4gICAgICB0aGlzLiRkb2NrTWFuYWdlclska2V5XSA9IFtdO1xyXG4gICAgdGhpcy4kZG9ja01hbmFnZXJbJGtleV0gPSBbLi4udGhpcy4kZG9ja01hbmFnZXJbJGtleV0sICR2aWV3XTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBSZW5kZXJVSSgpIHtcclxuICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgPGRpdiBjbGFzcz1cInZzLWxlZnQgdnMtZG9ja1wiPjwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwidnMtY29udGVudFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy10b3AgdnMtZG9ja1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy12aWV3IHZzLWRvY2tcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidnMtYm90dG9tIHZzLWRvY2tcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1yaWdodCB2cy1kb2NrXCI+PC9kaXY+XHJcbiAgICBgO1xyXG4gICAgT2JqZWN0LmtleXModGhpcy4kZG9ja01hbmFnZXIpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGxldCBxdWVyeVNlbGVjdG9yID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgLiR7a2V5fWApO1xyXG4gICAgICBpZiAocXVlcnlTZWxlY3Rvcikge1xyXG4gICAgICAgIHRoaXMuJGRvY2tNYW5hZ2VyW2tleV0uZm9yRWFjaCgoJGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgbmV3ICRpdGVtKHF1ZXJ5U2VsZWN0b3IsIHRoaXMubWFpbik7XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSAnLi9jb3JlL0Jhc2VGbG93JztcclxuaW1wb3J0IHsgRG9ja01hbmFnZXIgfSBmcm9tICcuL2RvY2svRG9ja01hbmFnZXInO1xyXG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tICcuL2NvcmUvRXZlbnRGbG93JztcclxuaW1wb3J0IHsgY29tcGFyZVNvcnQsIEV2ZW50RW51bSwgUHJvcGVydHlFbnVtIH0gZnJvbSAnLi9jb3JlL0NvbnN0YW50JztcclxuaW1wb3J0IHsgZ2V0VGltZSwgZ2V0VXVpZCB9IGZyb20gJy4vY29yZS9VdGlscyc7XHJcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSAnLi9jb3JlL0RhdGFGbG93JztcclxuZXhwb3J0IGNsYXNzIFZpc3VhbEZsb3cgaW1wbGVtZW50cyBJTWFpbiB7XHJcbiAgcHJpdmF0ZSAkZGF0YTogRGF0YUZsb3cgPSBuZXcgRGF0YUZsb3codGhpcyk7XHJcbiAgcHJpdmF0ZSAkcHJvamVjdE9wZW46IGFueTtcclxuICBwcml2YXRlICRwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcclxuICBwcml2YXRlICRjb250cm9sOiBhbnkgPSB7fTtcclxuICBwcml2YXRlICRjb250cm9sRGVmYXVsdDogYW55ID0ge1xyXG4gICAgbm9kZV9iZWdpbjoge1xyXG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtcGxheVwiPjwvaT4nLFxyXG4gICAgICBzb3J0OiAwLFxyXG4gICAgICBuYW1lOiAnQmVnaW4nLFxyXG4gICAgICBjbGFzczogJ25vZGUtdGVzdCcsXHJcbiAgICAgIGh0bWw6ICcnLFxyXG4gICAgICBvdXRwdXQ6IDEsXHJcbiAgICAgIGlucHV0OiAwLFxyXG4gICAgICBvbmx5Tm9kZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIG5vZGVfZW5kOiB7XHJcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1zdG9wXCI+PC9pPicsXHJcbiAgICAgIHNvcnQ6IDAsXHJcbiAgICAgIG5hbWU6ICdFbmQnLFxyXG4gICAgICBodG1sOiAnJyxcclxuICAgICAgb3V0cHV0OiAwLFxyXG4gICAgICBvbmx5Tm9kZTogdHJ1ZVxyXG4gICAgfSxcclxuICAgIG5vZGVfaWY6IHtcclxuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWVxdWFsc1wiPjwvaT4nLFxyXG4gICAgICBzb3J0OiAwLFxyXG4gICAgICBuYW1lOiAnSWYnLFxyXG4gICAgICBodG1sOiAnPGRpdj5jb25kaXRpb246PGJyLz48aW5wdXQgbm9kZTptb2RlbD1cImNvbmRpdGlvblwiLz48L2Rpdj4nLFxyXG4gICAgICBzY3JpcHQ6IGBgLFxyXG4gICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgY29uZGl0aW9uOiB7XHJcbiAgICAgICAgICBrZXk6IFwiY29uZGl0aW9uXCIsXHJcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgb3V0cHV0OiAyXHJcbiAgICB9LFxyXG4gICAgbm9kZV9ncm91cDoge1xyXG4gICAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtb2JqZWN0LWdyb3VwXCI+PC9pPicsXHJcbiAgICAgIHNvcnQ6IDAsXHJcbiAgICAgIG5hbWU6ICdHcm91cCcsXHJcbiAgICAgIGh0bWw6ICc8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcDNcIj48YnV0dG9uIGNsYXNzPVwiYnRuR29Hcm91cFwiPkdvPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgc2NyaXB0OiBgbm9kZS5lbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bkdvR3JvdXAnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7bm9kZS5vcGVuR3JvdXAoKX0pO2AsXHJcbiAgICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBjb25kaXRpb246IHtcclxuICAgICAgICAgIGtleTogXCJjb25kaXRpb25cIixcclxuICAgICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICBvdXRwdXQ6IDJcclxuICAgIH0sXHJcbiAgfVxyXG4gIHByaXZhdGUgJGNvbnRyb2xDaG9vc2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBEb2NrTWFuYWdlcjtcclxuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xyXG4gIHB1YmxpYyBnZXREb2NrTWFuYWdlcigpOiBEb2NrTWFuYWdlciB7XHJcbiAgICByZXR1cm4gdGhpcy4kZG9ja01hbmFnZXI7XHJcbiAgfVxyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XHJcbiAgfVxyXG4gIGdldENvbnRyb2xBbGwoKSB7XHJcbiAgICByZXR1cm4gdGhpcy4kY29udHJvbCA/PyB7fTtcclxuICB9XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgb3B0aW9uOiBhbnkgPSBudWxsKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcclxuICAgIC8vc2V0IHByb2plY3RcclxuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLnNvbHV0aW9uXSA9IHtcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZXRUaW1lKClcclxuICAgICAgfSxcclxuICAgICAga2V5OiB7XHJcbiAgICAgICAgZGVmYXVsdDogUHJvcGVydHlFbnVtLnNvbHV0aW9uXHJcbiAgICAgIH0sXHJcbiAgICAgIG5hbWU6IHtcclxuICAgICAgICBkZWZhdWx0OiAoKSA9PiBgc29sdXRpb24tJHtnZXRUaW1lKCl9YFxyXG4gICAgICB9LFxyXG4gICAgICBwcm9qZWN0czoge1xyXG4gICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS5saW5lXSA9IHtcclxuICAgICAga2V5OiB7XHJcbiAgICAgICAgZGVmYXVsdDogUHJvcGVydHlFbnVtLmxpbmVcclxuICAgICAgfSxcclxuICAgICAgZnJvbToge1xyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgfSxcclxuICAgICAgZnJvbUluZGV4OiB7XHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgICB9LFxyXG4gICAgICB0bzoge1xyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgfSxcclxuICAgICAgdG9JbmRleDoge1xyXG4gICAgICAgIGRlZmF1bHQ6IDBcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vc2V0IHByb2plY3RcclxuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLm1haW5dID0ge1xyXG4gICAgICAuLi4ob3B0aW9uPy5wcm9wZXJ0aWVzIHx8IHt9KSxcclxuICAgICAgaWQ6IHtcclxuICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZXRUaW1lKClcclxuICAgICAgfSxcclxuICAgICAgbmFtZToge1xyXG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGBhcHAtJHtnZXRUaW1lKCl9YFxyXG4gICAgICB9LFxyXG4gICAgICBrZXk6IHtcclxuICAgICAgICBkZWZhdWx0OiBQcm9wZXJ0eUVudW0ubWFpblxyXG4gICAgICB9LFxyXG4gICAgICB4OiB7XHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgICB9LFxyXG4gICAgICB5OiB7XHJcbiAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgICB9LFxyXG4gICAgICB6b29tOiB7XHJcbiAgICAgICAgZGVmYXVsdDogMVxyXG4gICAgICB9LFxyXG4gICAgICBub2Rlczoge1xyXG4gICAgICAgIGRlZmF1bHQ6IFtdXHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBzZXQgY29udHJvbFxyXG4gICAgdGhpcy4kY29udHJvbCA9IHsgLi4ub3B0aW9uPy5jb250cm9sIHx8IHt9LCAuLi50aGlzLiRjb250cm9sRGVmYXVsdCB9O1xyXG4gICAgbGV0IGNvbnRyb2xUZW1wOiBhbnkgPSB7fTtcclxuICAgIE9iamVjdC5rZXlzKHRoaXMuJGNvbnRyb2wpLm1hcCgoa2V5KSA9PiAoeyAuLi50aGlzLiRjb250cm9sW2tleV0sIGtleSwgc29ydDogKHRoaXMuJGNvbnRyb2xba2V5XS5zb3J0ID09PSB1bmRlZmluZWQgPyA5OTk5OSA6IHRoaXMuJGNvbnRyb2xba2V5XS5zb3J0KSB9KSkuc29ydChjb21wYXJlU29ydCkuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIGNvbnRyb2xUZW1wW2l0ZW0ua2V5XSA9IGl0ZW07XHJcbiAgICAgIHRoaXMuJHByb3BlcnRpZXNbYG5vZGVfJHtpdGVtLmtleX1gXSA9IHtcclxuICAgICAgICAuLi4oaXRlbS5wcm9wZXJ0aWVzIHx8IHt9KSxcclxuICAgICAgICBpZDoge1xyXG4gICAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXHJcbiAgICAgICAgfSxcclxuICAgICAgICBrZXk6IHtcclxuICAgICAgICAgIGRlZmF1bHQ6IGl0ZW0ua2V5XHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICBkZWZhdWx0OiBpdGVtLmtleVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeDoge1xyXG4gICAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeToge1xyXG4gICAgICAgICAgZGVmYXVsdDogMFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ3JvdXA6IHtcclxuICAgICAgICAgIGRlZmF1bHQ6ICcnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaW5lczoge1xyXG4gICAgICAgICAgZGVmYXVsdDogW11cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIHRoaXMuJGNvbnRyb2wgPSBjb250cm9sVGVtcDtcclxuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3ZzLWNvbnRhaW5lcicpO1xyXG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgndnMtY29udGFpbmVyJyk7XHJcbiAgICB0aGlzLiRkb2NrTWFuYWdlciA9IG5ldyBEb2NrTWFuYWdlcih0aGlzLmNvbnRhaW5lciwgdGhpcyk7XHJcbiAgICB0aGlzLiRkb2NrTWFuYWdlci5yZXNldCgpO1xyXG4gICAgdGhpcy4kZGF0YS5Jbml0RGF0YSh7fSwgdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5zb2x1dGlvbikpO1xyXG5cclxuICB9XHJcbiAgZ2V0UHJvamVjdEFsbCgpOiBhbnlbXSB7XHJcbiAgICByZXR1cm4gdGhpcy4kZGF0YS5HZXQoJ3Byb2plY3RzJykgPz8gW107XHJcbiAgfVxyXG4gIG9wZW4oJGRhdGE6IGFueSk6IHZvaWQge1xyXG4gICAgdGhpcy4kZGF0YS5Jbml0RGF0YSgkZGF0YSwgdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5zb2x1dGlvbikpO1xyXG4gIH1cclxuICBTZXRQcm9qZWN0T3BlbigkZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICB0aGlzLiRwcm9qZWN0T3BlbiA9ICRkYXRhO1xyXG4gIH1cclxuICBDaGVja1Byb2plY3RPcGVuKCRkYXRhOiBhbnkpOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLiRwcm9qZWN0T3BlbiA9PSAkZGF0YTtcclxuICB9XHJcbiAgbmV3UHJvamVjdCgpOiB2b2lkIHtcclxuICAgIHRoaXMub3BlblByb2plY3Qoe30pO1xyXG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0ubmV3UHJvamVjdCwge30pO1xyXG4gIH1cclxuICBvcGVuUHJvamVjdCgkZGF0YTogYW55KTogdm9pZCB7XHJcbiAgICBpZiAoJGRhdGEgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICBsZXQgJHByb2plY3Q6IGFueSA9IHRoaXMuZ2V0UHJvamVjdEJ5SWQoJGRhdGEuR2V0KCdpZCcpKTtcclxuICAgICAgaWYgKCEkcHJvamVjdCkge1xyXG4gICAgICAgICRwcm9qZWN0ID0gJGRhdGE7XHJcbiAgICAgICAgdGhpcy4kZGF0YS5BcHBlbmQoJ3Byb2plY3RzJywgJHByb2plY3QpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCAkcHJvamVjdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZXQgZGF0YSA9IG5ldyBEYXRhRmxvdyh0aGlzKTtcclxuICAgICAgZGF0YS5Jbml0RGF0YSgkZGF0YSwgdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5tYWluKSk7XHJcbiAgICAgIHRoaXMuJGRhdGEuQXBwZW5kKCdwcm9qZWN0cycsIGRhdGEpO1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhIH0pO1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIHsgZGF0YSB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7IGRhdGEgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBnZXRQcm9qZWN0QnlJZCgkaWQ6IGFueSkge1xyXG4gICAgcmV0dXJuIHRoaXMuJGRhdGEuR2V0KCdwcm9qZWN0cycpLmZpbHRlcigoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0uR2V0KCdpZCcpID09PSAkaWQpPy5bMF07XHJcbiAgfVxyXG4gIHNldENvbnRyb2xDaG9vc2Uoa2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XHJcbiAgICB0aGlzLiRjb250cm9sQ2hvb3NlID0ga2V5O1xyXG4gIH1cclxuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGwge1xyXG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2xDaG9vc2U7XHJcbiAgfVxyXG4gIGdldENvbnRyb2xCeUtleShrZXk6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2xba2V5XSB8fCB7fTtcclxuICB9XHJcbiAgZ2V0Q29udHJvbE5vZGVCeUtleShrZXk6IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4udGhpcy5nZXRDb250cm9sQnlLZXkoa2V5KSxcclxuICAgICAgcHJvcGVydGllczogdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KGBub2RlXyR7a2V5fWApXHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldFByb3BlcnR5QnlLZXkoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLiRwcm9wZXJ0aWVzW2tleV07XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJFdmVudEVudW0iLCJEb2NrRW51bSIsIlByb3BlcnR5RW51bSIsImNvbXBhcmVTb3J0IiwiYSIsImIiLCJzb3J0IiwiRG9ja0Jhc2UiLCJtYWluIiwiZWxOb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZWxDb250ZW50IiwiY29uc3RydWN0b3IiLCJjb250YWluZXIiLCJ0aGlzIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJCb3hJbmZvIiwidGl0bGUiLCIkY2FsbGJhY2siLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJxdWVyeVNlbGVjdG9yIiwiQ29udHJvbERvY2siLCJzdXBlciIsIm5vZGUiLCJjb250cm9scyIsImdldENvbnRyb2xBbGwiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJub2RlSXRlbSIsInNldEF0dHJpYnV0ZSIsImljb24iLCJuYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYWdTdGFydCIsImJpbmQiLCJkcmFnZW5kIiwiZSIsInNldENvbnRyb2xDaG9vc2UiLCJrZXkiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwidHlwZSIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJQcm9qZWN0RG9jayIsInJlbmRlclVJIiwib24iLCJkZXRhaWwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX25vZGUiLCJkYXRhIiwiR2V0IiwiJG5vZGVSaWdodCIsImJ1dHRvbk5ldyIsIm5ld1Byb2plY3QiLCJnZXRQcm9qZWN0QWxsIiwicmVtb3ZlTGlzdGVuZXIiLCJDaGVja1Byb2plY3RPcGVuIiwiZGlzcGF0Y2giLCJFZGl0b3JUeXBlIiwiRWRpdG9yIiwiaXNFZGl0IiwiZWxJbnB1dCIsImVsTGFiZWwiLCJlbCIsIkxhYmVsIiwiY2hhZ25lIiwib25TYWZlIiwiY2hhbmdlRGF0YSIsImRpc3Bvc2UiLCJUZXh0IiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwicmVuZGVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInN3aXRjaE1vZGVFZGl0IiwidmFsdWUiLCJpbnB1dERhdGEiLCJJbmxpbmUiLCJzZXRUaW1lb3V0IiwiU2V0Iiwic2VuZGVyIiwiUHJvcGVydHlEb2NrIiwibGFzdERhdGEiLCJsYWJlbEtleXMiLCJkYXRhSnNvbiIsInByb3BlcnRpZXMiLCJnZXRQcm9wZXJ0aWVzIiwicHJvcGVydHlJdGVtIiwicHJvcGVydHlMYWJlbCIsInByb3BlcnR5VmFsdWUiLCJpbmNsdWRlcyIsInRvU3RyaW5nIiwiVGFiRG9jayIsIkV2ZW50RmxvdyIsImV2ZW50cyIsImV2ZW50IiwiY2FsbGJhY2siLCJjb25zb2xlIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsaXN0ZW5lcnMiLCJwdXNoIiwibGlzdGVuZXJJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkZXRhaWxzIiwibGlzdGVuZXIiLCJEYXRhRmxvdyIsInByb3BlcnR5IiwibG9hZCIsIkluaXREYXRhIiwiZXZlbnREYXRhQ2hhbmdlIiwia2V5Q2hpbGQiLCJ2YWx1ZUNoaWxkIiwic2VuZGVyQ2hpbGQiLCJpbmRleCIsIlJlbW92ZUV2ZW50RGF0YSIsIk9uRXZlbnREYXRhIiwiQmluZEV2ZW50IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiaXNEaXNwYXRjaCIsIlNldERhdGEiLCJpc0NsZWFyRGF0YSIsIiRkYXRhIiwiQXBwZW5kIiwiUmVtb3ZlIiwiZ2V0UHJvcGVydHlCeUtleSIsImRlZmF1bHQiLCJtYXAiLCJKU09OIiwic3RyaW5naWZ5IiwidG9Kc29uIiwicnMiLCJkZWxldGUiLCJGbG93Q29yZSIsIkdldElkIiwiU2V0SWQiLCJpZCIsIkNoZWNrRWxlbWVudENoaWxkIiwiY29udGFpbnMiLCJTZXREYXRhRmxvdyIsIkJpbmREYXRhRXZlbnQiLCJSZW1vdmVEYXRhRXZlbnQiLCJCYXNlRmxvdyIsInBhcmVudCIsImdldFRpbWUiLCJEYXRlIiwiTGluZSIsImZyb20iLCJmcm9tSW5kZXgiLCJ0byIsInRvSW5kZXgiLCJjcmVhdGVFbGVtZW50TlMiLCJlbFBhdGgiLCJjdXJ2YXR1cmUiLCJTdGFydFNlbGVjdGVkIiwic2V0QXR0cmlidXRlTlMiLCJlbENhbnZhcyIsIkFkZExpbmUiLCJ1cGRhdGVUbyIsInRvX3giLCJ0b195IiwieCIsImZyb21feCIsInkiLCJmcm9tX3kiLCJnZXRQb3N0aXNpb25Eb3QiLCJsaW5lQ3VydmUiLCJjcmVhdGVDdXJ2YXR1cmUiLCJVcGRhdGVVSSIsIkFjdGl2ZSIsImZsZyIsInN0YXJ0X3Bvc194Iiwic3RhcnRfcG9zX3kiLCJlbmRfcG9zX3giLCJlbmRfcG9zX3kiLCJjdXJ2YXR1cmVfdmFsdWUiLCJsaW5lX3giLCJsaW5lX3kiLCJoeDEiLCJNYXRoIiwiYWJzIiwiaHgyIiwibm9kZVRoaXMiLCJSZW1vdmVMaW5lIiwic2V0TGluZUNob29zZSIsInNldE5vZGVUbyIsIkNsb25lIiwiTW92ZVR5cGUiLCJEZXNnaW5lclZpZXdfRXZlbnQiLCJ0aW1lRmFzdENsaWNrIiwidGFnSW5nb3JlIiwibW92ZVR5cGUiLCJOb25lIiwiZmxnRHJhcCIsImZsZ01vdmUiLCJhdl94IiwiYXZfeSIsInBvc194IiwicG9zX3kiLCJtb3VzZV94IiwibW91c2VfeSIsInRlbXBMaW5lIiwiRW5kTW92ZSIsIk1vdmUiLCJTdGFydE1vdmUiLCJjb250ZXh0bWVudSIsIm5vZGVfZHJvcEVuZCIsIm5vZGVfZHJhZ292ZXIiLCJ6b29tX2VudGVyIiwia2V5ZG93biIsImV2IiwicHJldmVudERlZmF1bHQiLCIkbG9jayIsImtleU5vZGUiLCJnZXRDb250cm9sQ2hvb3NlIiwiZ2V0RGF0YSIsImVfcG9zX3giLCJlX3Bvc195IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiQ2FsY1giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJDYWxjWSIsImNoZWNrT25seU5vZGUiLCJBZGROb2RlIiwiZ3JvdXAiLCJDdXJyZW50R3JvdXAiLCJ1cGRhdGVQb3NpdGlvbiIsImN0cmxLZXkiLCJkZWx0YVkiLCJ6b29tX291dCIsInpvb21faW4iLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiLCJDYW52YXMiLCJub2RlQ2hvb3NlIiwiZ2V0Tm9kZUNob29zZSIsIk5vZGUiLCJzZXROb2RlQ2hvb3NlIiwiZ2V0WCIsImdldFkiLCJzZXRYIiwic2V0WSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJub2RlRWwiLCJub2RlSWQiLCJub2RlVG8iLCJHZXROb2RlQnlJZCIsIm1ldGFLZXkiLCJnZXRMaW5lQ2hvb3NlIiwiRGVzZ2luZXJWaWV3X1Rvb2xiYXIiLCJlbFBhdGhHcm91cCIsImVsVG9vbGJhciIsInJlbmRlclBhdGhHcm91cCIsImdyb3VwcyIsIkdldEdyb3VwTmFtZSIsImxlbiIsInRleHQiLCJidG5CYWNrIiwiQmFja0dyb3VwIiwiYnRuWm9vbUluIiwiYnRuWm9vbU91dCIsImdldmFsIiwiZXZhbCIsImdldE5hbWUiLCJDaGVja0tleSIsImdldERhdGFMaW5lIiwiYXJyTGluZSIsIm9wdGlvbiIsImdldENvbnRyb2xOb2RlQnlLZXkiLCJjbGFzcyIsImh0bWwiLCJzY3JpcHQiLCJvcGVuR3JvdXAiLCJpQ2hlY2siLCJ0ZW1weCIsInRlbXB5IiwibGluZSIsImVsRG90IiwiUmVtb3ZlTm9kZSIsIlJlbmRlckxpbmUiLCJab29tIiwiRGVzZ2luZXJWaWV3IiwiZ2V0Wm9vbSIsInNldFpvb20iLCJHZXREYXRhQnlJZCIsInRvb2xiYXIiLCJSZW5kZXJVSSIsImxpbmVDaG9vc2UiLCJub2RlcyIsIkFkZE5vZGVJdGVtIiwiSW5zZXJ0Tm9kZSIsIkNsZWFyTm9kZSIsIkdldERhdGFBbGxOb2RlIiwiR2V0RGF0YU5vZGUiLCJmaWx0ZXIiLCJ6b29tX2xhc3RfdmFsdWUiLCJ0YWJJbmRleCIsInVwZGF0ZVZpZXciLCJ6b29tIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJHZXRBbGxOb2RlIiwiT3BlbiIsIm51bWJlciIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29udHJvbEJ5S2V5Iiwiem9vbV9yZWZyZXNoIiwidGVtcF96b29tIiwiem9vbV9yZXNldCIsIlZpZXdEb2NrIiwidmlldyIsIlNldFByb2plY3RPcGVuIiwiRG9ja01hbmFnZXIiLCIkZG9ja01hbmFnZXIiLCJyZXNldCIsImFkZERvY2siLCIka2V5IiwiJHZpZXciLCIkaXRlbSIsIiRwcm9qZWN0T3BlbiIsIiRwcm9wZXJ0aWVzIiwiJGNvbnRyb2wiLCIkY29udHJvbERlZmF1bHQiLCJub2RlX2JlZ2luIiwib3V0cHV0IiwiaW5wdXQiLCJvbmx5Tm9kZSIsIm5vZGVfZW5kIiwibm9kZV9pZiIsImNvbmRpdGlvbiIsIm5vZGVfZ3JvdXAiLCIkY29udHJvbENob29zZSIsImdldERvY2tNYW5hZ2VyIiwicHJvamVjdHMiLCJjb250cm9sIiwiY29udHJvbFRlbXAiLCJsaW5lcyIsIm9wZW4iLCJvcGVuUHJvamVjdCIsIiRwcm9qZWN0IiwiZ2V0UHJvamVjdEJ5SWQiLCIkaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozt1Q0FBTyxNQUFNQSxFQUVDLGFBRkRBLEVBR0csZUFISEEsRUFJRSxjQUpGQSxFQUtDLGFBTERBLEVBTUgsU0FOR0EsRUFPRixVQUdFQyxFQUNMLFVBREtBLEVBRU4sU0FGTUEsRUFHTCxVQUhLQSxFQUlILFlBSkdBLEVBS0osV0FHSUMsRUFDTCxlQURLQSxFQUVELGdCQUZDQSxFQUdMLFlBSUtDLEVBQWMsQ0FBQ0MsRUFBUUMsSUFDOUJELEVBQUVFLEtBQU9ELEVBQUVDLE1BQ0wsRUFFTkYsRUFBRUUsS0FBT0QsRUFBRUMsS0FDTixFQUVGLFFDOUJJQyxFQUcwQ0MsS0FGOUNDLE9BQXNCQyxTQUFTQyxjQUFjLE9BQzFDQyxVQUNWQyxZQUFtQkMsRUFBa0NOLEdBQUFPLEtBQUlQLEtBQUpBLEVBQ25ETSxFQUFVRSxZQUFZRCxLQUFLTixRQUMzQk0sS0FBS04sT0FBT1EsVUFBWSxXQUduQkMsUUFBUUMsRUFBZUMsR0FDNUJMLEtBQUtOLE9BQU9ZLFVBQVVDLE9BQU8sY0FDN0JQLEtBQUtOLE9BQU9ZLFVBQVVFLElBQUksY0FDMUJSLEtBQUtOLE9BQU9RLFVBQVksaUVBQWlFRSxvR0FFekZKLEtBQUtILFVBQVlHLEtBQUtOLE9BQU9lLGNBQWMsdUJBQ3ZDSixHQUNGQSxFQUFVTCxLQUFLSCxZQ2RmLE1BQU9hLFVBQW9C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
