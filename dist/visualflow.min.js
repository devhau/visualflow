/**
   * @license
   * author:nguyenvanhaudev@gmail.com (Nguyen Van Hau)
   * visualflow.js v0.0.1
   * Released under the MIT license.
   */
var visualflow=function(t){"use strict";const e="dataChange",s="showProperty",i="openProject",n="newProject",o="change",a="dispose",r="vs-left",d="vs-view",h="vs-bottom",l="vs-right",p="main_project",c="main_solution",u="main_line",v="main_groupCavas",m=(t,e)=>t.sort<e.sort?-1:t.sort>e.sort?1:0;class f{main;elNode=document.createElement("div");elContent;constructor(t,e){this.main=e,t.appendChild(this.elNode),this.elNode.innerHTML="DockBase"}BoxInfo(t,e){this.elNode.classList.remove("vs-boxinfo"),this.elNode.classList.add("vs-boxinfo"),this.elNode.innerHTML=`<div class="vs-boxinfo_header"><span class="vs-boxinfo_title">${t}</span><span class="vs-boxinfo_button"></span></div>\n    <div class="vs-boxinfo_content"></div>`,this.elContent=this.elNode.querySelector(".vs-boxinfo_content"),e&&e(this.elContent)}}class y extends f{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-control"),this.BoxInfo("Control",(t=>{let e=this.main.getControlAll();Object.keys(e).forEach((s=>{let i=document.createElement("div");i.classList.add("node-item"),i.setAttribute("draggable","true"),i.setAttribute("data-node",s),i.innerHTML=`${e[s].icon} <span>${e[s].name}</span`,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),t.appendChild(i)}))}))}dragend(t){this.main.setControlChoose(null)}dragStart(t){let e=t.target.closest(".node-item").getAttribute("data-node");this.main.setControlChoose(e),"touchstart"!==t.type&&t.dataTransfer.setData("node",e)}}class g extends f{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-project"),this.BoxInfo("Project",this.renderUI.bind(this)),this.main.on(o,this.renderUI.bind(this)),this.main.on(i,(t=>{this.elContent?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elContent&&t?.data?.Get("id")&&this.elContent.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")}))}renderUI(){let t=this.elNode.querySelector(".vs-boxinfo_header .vs-boxinfo_button");if(this.elContent){if(this.elContent.innerHTML="",t){t.innerHTML="";let e=document.createElement("button");t?.appendChild(e),e.innerHTML="New",e.addEventListener("click",(()=>this.main.newProject("")))}this.main.getProjectAll().forEach((t=>{let n=document.createElement("div");n.classList.add("node-item"),n.innerHTML=`${t.Get("name")}`,n.setAttribute("data-project-id",t.Get("id")),t.removeListener(`${e}_name`,(()=>{n.innerHTML=`${t.Get("name")}`})),t.on(`${e}_name`,(()=>{n.innerHTML=`${t.Get("name")}`})),this.main.CheckProjectOpen(t)&&n.classList.add("active"),n.addEventListener("click",(()=>{this.main.dispatch(i,{data:t}),this.main.dispatch(s,{data:t})})),this.elContent?.appendChild(n)}))}}}var b;!function(t){t[t.Label=0]="Label",t[t.Text=1]="Text",t[t.Inline=2]="Inline"}(b||(b={}));const L=["SPAN","DIV","P","TEXTAREA"];class C{data;el;keyName="";constructor(t,e=null){this.data=t,this.el=e,this.keyName=e?.getAttribute("node:model"),this.bindData()}bindData(){this.keyName&&this.el&&(this.data.on(`${e}_${this.keyName}`,this.bindInput.bind(this)),this.el.addEventListener("change",this.bindEvent.bind(this)),this.el.addEventListener("keydown",this.bindEvent.bind(this)))}unBindData(){this.keyName&&this.el&&(this.data.removeListener(`${e}_${this.keyName}`,this.bindInput.bind(this)),this.el.removeEventListener("change",this.bindEvent.bind(this)),this.el.removeEventListener("keydown",this.bindEvent.bind(this)))}bindInput({value:t,sender:e}){e!==this&&this.el&&e.el!==this.el&&(console.log(this.el.tagName),console.log(e),L.includes(this.el.tagName)?this.el.innerText=`${t}`:this.el.value=t)}bindEvent(){this.keyName&&this.el&&(console.log(this.keyName),this.data.Set(this.keyName,this.el.value,this))}static BindView(t,e){return e?Array.from(e.querySelectorAll("[node\\:model]")).map((e=>new C(t,e))):[]}}class N{data;key;type;isEdit=!1;elInput=null;elLabel=null;elNode=document.createElement("div");constructor(t,s,i=null,n=b.Label,o=!1){this.data=t,this.key=s,this.type=n,this.data=t,this.data.onSafe(`${e}_${s}`,this.changeData.bind(this)),this.data.onSafe(a,this.dispose.bind(this)),this.isEdit=n===b.Text,this.elNode.classList.add("node-editor"),o&&i?(i.parentElement?.insertBefore(this.elNode,i),i.parentElement?.removeChild(i),i?.remove()):i&&i.appendChild(this.elNode),this.render()}render(){let t=this.data.Get(this.key);if(this.isEdit){if(this.elLabel&&(this.elLabel.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.remove(),this.elLabel=null),this.elInput)return void(this.elInput.value=t);this.elInput=document.createElement("input"),this.elInput.classList.add("node-form-control"),this.elInput.addEventListener("keydown",this.inputData.bind(this)),this.elInput.value=t,this.elInput.setAttribute("node:model",this.key),this.elNode.appendChild(this.elInput)}else{if(this.elInput&&(this.elInput.removeEventListener("keyup",this.inputData.bind(this)),this.elInput.remove(),this.elInput=null),this.elLabel)return void(this.elLabel.innerHTML=t);this.elLabel=document.createElement("span"),this.type==b.Inline&&this.elLabel.addEventListener("dblclick",this.switchModeEdit.bind(this)),this.elLabel.setAttribute("node:model",this.key),this.elLabel.innerHTML=t,this.elNode.appendChild(this.elLabel)}}switchModeEdit(){this.isEdit=!0,this.render()}inputData(t){setTimeout((()=>{this.data.Set(this.key,t.target.value,this)}))}changeData({key:t,value:e,sender:s}){this.render()}dispose(){this.elInput?.removeEventListener("keydown",this.inputData.bind(this)),this.elLabel?.removeEventListener("dblclick",this.switchModeEdit.bind(this)),this.data.removeListener(`${e}_${this.key}`,this.changeData.bind(this)),this.data.removeListener(a,this.dispose.bind(this))}}class k extends f{main;lastData;labelKeys=["id","key","group","lines","nodes","project","x","y"];hideKeys=["lines","nodes","groups"];sortKeys=["id","key","name","group"];dataJson=document.createElement("textarea");constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-property"),this.BoxInfo("Property",(t=>{e.on(s,(e=>{this.renderUI(t,e.data)}))}))}renderUI(t,e){if(this.lastData==e)return;this.lastData=e,t.innerHTML="";let s=e.getProperties();this.sortKeys.forEach((i=>{if(this.hideKeys.includes(i)||!s[i])return;let n=document.createElement("div");n.classList.add("property-item");let o=document.createElement("div");o.classList.add("property-label"),o.innerHTML=i;let a=document.createElement("div");a.classList.add("property-value"),this.labelKeys.includes(i)?new N(e,i,a,b.Label):new N(e,i,a,b.Text),n.appendChild(o),n.appendChild(a),t.appendChild(n)})),Object.keys(s).forEach((s=>{if(this.hideKeys.includes(s)||this.sortKeys.includes(s))return;let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=s;let o=document.createElement("div");o.classList.add("property-value"),this.labelKeys.includes(s)?new N(e,s,o,b.Label):new N(e,s,o,b.Text),i.appendChild(n),i.appendChild(o),t.appendChild(i)}))}}class E{events={};constructor(){}onSafe(t,e){this.removeListener(t,e),this.on(t,e)}on(t,e){return"function"!=typeof e?(console.error("The listener callback must be a function, the given type is "+typeof e),!1):"string"!=typeof t?(console.error("The event name must be a string, the given type is "+typeof t),!1):(void 0===this.events[t]&&(this.events[t]={listeners:[]}),void this.events[t].listeners.push(e))}removeListener(t,e){if(!this.events[t])return!1;const s=this.events[t].listeners,i=s.indexOf(e);i>-1&&s.splice(i,1)}dispatch(t,e){if(void 0===this.events[t])return!1;this.events[t].listeners.forEach((t=>{t(e)}))}}class ${property;data={};properties=null;events;getProperties(){return this.properties}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}constructor(t,e){this.property=t,this.events=new E,e&&this.load(e)}InitData(t=null,e=-1){-1!==e&&(this.properties=e),this.load(t)}eventDataChange(t,s,i,n,o){o?(this.dispatch(`${e}_${t}_${o}_${s}`,{key:t,keyChild:s,value:i,sender:n,index:o}),this.dispatch(`${e}_${t}_${o}`,{key:t,keyChild:s,value:i,sender:n,index:o})):this.dispatch(`${e}_${t}_${s}`,{key:t,keyChild:s,value:i,sender:n}),this.dispatch(`${e}_${t}`,{key:t,keyChild:s,value:i,sender:n})}RemoveEventData(t,s,i){t&&t.removeListener(`${e}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}OnEventData(t,s,i){t&&t.on(`${e}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}BindEvent(t,e){t&&(t instanceof $&&this.OnEventData(t,e),Array.isArray(t)&&t.length>0&&t[0]instanceof $&&t.forEach(((t,s)=>this.OnEventData(t,e,s))))}Set(t,s,i=null,n=!0){this.data[t]!=s&&(this.data[t]&&(this.data[t]instanceof $&&this.RemoveEventData(this.data[t],t),Array.isArray(this.data[t])&&this.data[t].length>0&&this.data[t][0]instanceof $&&this.data[t].forEach(((e,s)=>this.RemoveEventData(e,t,s)))),this.BindEvent(s,t)),this.data[t]=s,n&&(this.dispatch(`${e}_${t}`,{key:t,value:s,sender:i}),this.dispatch(e,{key:t,value:s,sender:i}),this.dispatch(o,{key:t,value:s,sender:i}))}SetData(t,e=null,s=!1){if(s&&(this.data={}),t instanceof $){let s=t;if(!this.property&&s.property&&(this.property=s.property),this.properties)for(let t of Object.keys(this.properties))this.Set(t,s.Get(t),e,!1);else for(let t of Object.keys(s.getProperties()))this.Set(t,s.Get(t),e,!1)}else Object.keys(t).forEach((s=>{this.Set(s,t[s],e,!1)}));this.dispatch(o,{data:t})}Get(t){return this.data[t]}Append(t,e){this.data[t]||(this.data[t]=[]),this.data[t]=[...this.data[t],e],this.BindEvent(e,t)}Remove(t,e){this.data[t].indexOf(e);var s=this.data[t].indexOf(e);s>-1&&(this.RemoveEventData(this.data[t][s],t),this.data[t].splice(s,1))}load(t){if(this.data={},this.properties||(this.properties=this.property?.getPropertyByKey(t.key)),this.properties)for(let e of Object.keys(this.properties))this.data[e]=t?.[e]??("function"==typeof this.properties[e]?.default?this.properties[e]?.default():this.properties[e]?.default)??"",this.data[e]instanceof $||!this.data[e].key||(this.data[e]=new $(this.property,this.data[e])),!Array.isArray(this.data[e])||!this.property||this.data[e][0]instanceof $||(this.data[e]=this.data[e].map((t=>t instanceof $||!t.key?t:new $(this.property,t)))),this.BindEvent(this.data[e],e)}toString(){return JSON.stringify(this.toJson())}toJson(){let t={};for(let e of Object.keys(this.properties))t[e]=this.Get(e),t[e]instanceof $&&(t[e]=t[e].toJson()),Array.isArray(t[e])&&t[e].length>0&&t[e][0]instanceof $&&(t[e]=t[e].map((t=>t.toJson())));return t}delete(){this.events=new E,this.data={}}}class G{GetId(){return this.data.Get("id")}SetId(t){return this.data.Set("id",t)}properties={};data=new $;elNode=document.createElement("div");CheckElementChild(t){return this.elNode==t||this.elNode.contains(t)}events;SetData(t,e=null){this.data.SetData(t,e)}SetDataFlow(t){this.data.SetData(t,this,!0),this.dispatch("bind_data_event",{data:t,sender:this}),this.dispatch(o,{data:t,sender:this})}onSafe(t,e){return this.events.onSafe(t,e),this}on(t,e){return this.events.on(t,e),this}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}BindDataEvent(){this.data.on(e,(({key:t,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${e}_${t}`,{type:"data",key:t,value:s,sender:i}),this.dispatch(e,{type:"data",key:t,value:s,sender:i})}))})),this.data.on(o,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(o,{type:"data",key:t,value:e,sender:s})}))}))}RemoveDataEvent(){this.data.removeListener(e,(({key:t,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${e}_${t}`,{type:"data",key:t,value:s,sender:i}),this.dispatch(e,{type:"data",key:t,value:s,sender:i})}))})),this.data.removeListener(o,(({key:t,value:e,sender:s})=>{setTimeout((()=>{this.dispatch(o,{type:"data",key:t,value:e,sender:s})}))}))}constructor(){this.events=new E,this.BindDataEvent()}}class D extends G{parent;constructor(t){super(),this.parent=t}}const _=()=>(new Date).getTime();class I{from;fromIndex;to;toIndex;elNode=document.createElementNS("http://www.w3.org/2000/svg","svg");elPath=document.createElementNS("http://www.w3.org/2000/svg","path");data=new $;curvature=.5;constructor(t,e=0,s,i=0,n=null){this.from=t,this.fromIndex=e,this.to=s,this.toIndex=i,this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elNode.classList.add("connection"),this.elNode.appendChild(this.elPath),this.from.parent.elCanvas.appendChild(this.elNode),this.from.AddLine(this),this.to?.AddLine(this),n?this.data=n:(this.data.InitData({from:this.from.GetId(),fromIndex:this.fromIndex,to:this.to?.GetId(),toIndex:this.toIndex},{...this.from.parent.main.getPropertyByKey(u)||{}}),this.from.data.Append("lines",this.data))}updateTo(t,e){if(!this.from||null==this.from.elNode)return;let{x:s,y:i}=this.from.getPostisionDot(this.fromIndex);var n=this.createCurvature(s,i,t,e,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",n)}UpdateUI(){if(this.to&&this.to.elNode){let{x:t,y:e}=this.to.getPostisionDot(this.toIndex);this.updateTo(t,e)}return this}Active(t=!0){t?this.elPath.classList.add("active"):this.elPath.classList.remove("active")}createCurvature(t,e,s,i,n,o){let a=t,r=e,d=s,h=i,l=n;switch(o){case"open":if(t>=s)var p=a+Math.abs(d-a)*l,c=d-Math.abs(d-a)*(-1*l);else p=a+Math.abs(d-a)*l,c=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+p+" "+r+" "+c+" "+h+" "+d+"  "+h;case"close":if(t>=s)p=a+Math.abs(d-a)*(-1*l),c=d-Math.abs(d-a)*l;else p=a+Math.abs(d-a)*l,c=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+p+" "+r+" "+c+" "+h+" "+d+"  "+h;case"other":if(t>=s)p=a+Math.abs(d-a)*(-1*l),c=d-Math.abs(d-a)*(-1*l);else p=a+Math.abs(d-a)*l,c=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+p+" "+r+" "+c+" "+h+" "+d+"  "+h;default:return" M "+a+" "+r+" C "+(p=a+Math.abs(d-a)*l)+" "+r+" "+(c=d-Math.abs(d-a)*l)+" "+h+" "+d+"  "+h}}delete(t=null,e=!0){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),e&&this.from.data.Remove("lines",this.data),this.from!=t&&this.from.RemoveLine(this),this.to!=t&&this.to?.RemoveLine(this),this.elPath.remove(),this.elNode.remove()}StartSelected(t){this.from.parent.setLineChoose(this)}setNodeTo(t,e){this.to=t,this.toIndex=e}Clone(){if(this.to&&this.toIndex&&this.from!=this.to)return new I(this.from,this.fromIndex,this.to,this.toIndex).UpdateUI()}}var x;!function(t){t[t.None=0]="None",t[t.Node=1]="Node",t[t.Canvas=2]="Canvas",t[t.Line=3]="Line"}(x||(x={}));class w{parent;timeFastClick=0;tagIngore=["input","button","a","textarea"];moveType=x.None;flgDrap=!1;flgMove=!1;av_x=0;av_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;tempLine;constructor(t){this.parent=t,this.parent.elNode.addEventListener("mouseup",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mouseleave",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mousemove",this.Move.bind(this)),this.parent.elNode.addEventListener("mousedown",this.StartMove.bind(this)),this.parent.elNode.addEventListener("touchend",this.EndMove.bind(this)),this.parent.elNode.addEventListener("touchmove",this.Move.bind(this)),this.parent.elNode.addEventListener("touchstart",this.StartMove.bind(this)),this.parent.elNode.addEventListener("contextmenu",this.contextmenu.bind(this)),this.parent.elNode.addEventListener("drop",this.node_dropEnd.bind(this)),this.parent.elNode.addEventListener("dragover",this.node_dragover.bind(this)),this.parent.elNode.addEventListener("wheel",this.zoom_enter.bind(this)),this.parent.elNode.addEventListener("keydown",this.keydown.bind(this))}contextmenu(t){t.preventDefault()}node_dragover(t){t.preventDefault()}node_dropEnd(t){if(t.preventDefault(),this.parent.$lock)return;let e=this.parent.main.getControlChoose();if(e||"touchend"===t.type||(e=t.dataTransfer.getData("node")),!e)return;let s=0,i=0;"touchmove"===t.type?(s=t.touches[0].clientX,i=t.touches[0].clientY):(s=t.clientX,i=t.clientY);let n=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-s),o=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-i);this.parent.checkOnlyNode(e)||this.parent.AddNode(e,{group:this.parent.CurrentGroup()}).updatePosition(n,o)}zoom_enter(t){this.parent.$lock||t.ctrlKey&&(t.preventDefault(),t.deltaY>0?this.parent.zoom_out():this.parent.zoom_in())}StartMove(t){if(this.parent.$lock)return;if(this.tagIngore.includes(t.target.tagName.toLowerCase()))return;if(this.timeFastClick=_(),t.target.classList.contains("main-path"))return;"touchstart"===t.type?(this.pos_x=t.touches[0].clientX,this.pos_y=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_y=t.clientY),this.moveType=x.Canvas;let e=this.parent.getNodeChoose();if(e&&e.CheckElementChild(t.target)?this.moveType=x.Node:this.parent.setNodeChoose(void 0),e&&this.moveType==x.Node&&t.target.classList.contains("node-dot")){this.moveType=x.Line;let s=t.target.getAttribute("node");this.tempLine=new I(e,s)}this.moveType==x.Canvas&&(this.av_x=this.parent.getX(),this.av_y=this.parent.getY()),this.flgDrap=!0,this.flgMove=!1}Move(t){if(this.parent.$lock)return;if(!this.flgDrap)return;this.flgMove=!0;let e=0,s=0;switch("touchmove"===t.type?(e=t.touches[0].clientX,s=t.touches[0].clientY):(e=t.clientX,s=t.clientY),this.moveType){case x.Canvas:{let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i);break}case x.Node:{let t=this.parent.CalcX(this.pos_x-e),i=this.parent.CalcY(this.pos_y-s);this.pos_x=e,this.pos_y=s,this.parent.getNodeChoose()?.updatePosition(t,i);break}case x.Line:if(this.tempLine){let i=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-e),n=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-s);this.tempLine.updateTo(this.parent.elCanvas.offsetLeft-i,this.parent.elCanvas.offsetTop-n);let o=t.target.closest("[node-id]"),a=o?.getAttribute("node-id"),r=a?this.parent.GetNodeById(a):void 0;if(r&&t.target.classList.contains("node-dot")){let e=t.target.getAttribute("node");this.tempLine.setNodeTo(r,e)}else{let t=o?.querySelector(".node-dot")?.[0]?.getAttribute("node");this.tempLine.setNodeTo(r,t)}}}"touchmove"===t.type&&(this.mouse_x=e,this.mouse_y=s)}EndMove(t){if(this.parent.$lock)return;if(!this.flgDrap)return;if(_()-this.timeFastClick<100||!this.flgMove)return this.moveType=x.None,this.flgDrap=!1,void(this.flgMove=!1);let e=0,s=0;if("touchend"===t.type?(e=this.mouse_x,s=this.mouse_y):(e=t.clientX,s=t.clientY),this.moveType===x.Canvas){let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i),this.av_x=0,this.av_y=0}this.tempLine&&(this.tempLine.Clone(),this.tempLine.delete(),this.tempLine=void 0),this.pos_x=e,this.pos_y=s,this.moveType=x.None,this.flgDrap=!1,this.flgMove=!1}keydown(t){this.parent.$lock||(("Delete"===t.key||"Backspace"===t.key&&t.metaKey)&&(t.preventDefault(),this.parent.getNodeChoose()?.delete(),this.parent.getLineChoose()?.delete()),"F2"===t.key&&t.preventDefault())}}class M{parent;elNode;elPathGroup=document.createElement("div");btnBack=document.createElement("button");constructor(t){this.parent=t,this.elNode=t.elToolbar,this.elPathGroup.classList.add("toolbar-group"),this.renderUI(),this.renderPathGroup()}renderPathGroup(){this.btnBack.setAttribute("style","display:none;"),this.elPathGroup.innerHTML="";let t=this.parent.GetGroupName(),e=t.length-1;if(e<0)return;let s=document.createElement("span");s.innerHTML="Root",this.elPathGroup.appendChild(s),this.btnBack.removeAttribute("style");for(let s=e;s>=0;s--){let e=document.createElement("span");e.innerHTML=`>>${t[s]}`,this.elPathGroup.appendChild(e)}}renderUI(){if(!this.elNode)return;this.elNode.innerHTML="",this.btnBack.addEventListener("click",(()=>this.parent.BackGroup())),this.btnBack.innerHTML="Back";let t=document.createElement("button");t.addEventListener("click",(()=>this.parent.zoom_in())),t.innerHTML="+";let e=document.createElement("button");e.addEventListener("click",(()=>this.parent.zoom_out())),e.innerHTML="-";let s=document.createElement("button");s.addEventListener("click",(()=>this.parent.zoom_reset())),s.innerHTML="*";let i=document.createElement("div");i.classList.add("toolbar-button"),i.appendChild(this.btnBack),i.appendChild(t),i.appendChild(e),i.appendChild(s),this.elNode.appendChild(this.elPathGroup),this.elNode.appendChild(i)}}const P=eval;class S extends D{keyNode;getName(){return this.data.Get("name")}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}CheckKey(t){return this.data.Get("key")==t}getDataLine(){return this.data.Get("lines")??[]}elContent;arrLine=[];option={};arrDataView=[];constructor(t,s,i={}){super(t),this.keyNode=s,this.option=this.parent.main.getControlNodeByKey(s),this.properties=this.option?.properties,i instanceof $?this.data=i:(this.data.InitData(i,this.properties),this.parent.data.Append("nodes",this.data)),this.data.on(e,this.renderUI.bind(this)),this.elNode.classList.add("vs-node"),this.option.class&&this.elNode.classList.add(this.option.class),this.parent.elCanvas.appendChild(this.elNode),this.elNode.setAttribute("node-id",this.GetId()),this.elNode.addEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.addEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.renderUI()}renderUI(){if(this.elNode.contains(document.activeElement))return;this.elNode.setAttribute("style","display:none;"),this.elNode.innerHTML=`\n      <div class="node-left"></div>\n      <div class="node-container">\n        <div class="node-top"></div>\n        <div class="node-content">\n        <div class="title">${this.option.icon} ${this.getName()}</div>\n        <div class="body">${this.option.html}</div>\n        </div>\n        <div class="node-bottom"></div>\n      </div>\n      <div class="node-right"></div>\n    `;const t=(t,e,s)=>{if(t){let i=this.elNode.querySelector(s);if(i){i.innerHTML="";for(let s=0;s<t;s++){let t=document.createElement("div");t.classList.add("node-dot"),t.setAttribute("node",`${e+s}`),i.appendChild(t)}}}};t(this.option?.dot?.left,1e3,".node-left"),t(this.option?.dot?.top,2e3,".node-top"),t(this.option?.dot?.bottom,3e3,".node-bottom"),t(this.option?.dot?.right,4e3,".node-right"),this.elContent=this.elNode.querySelector(".node-content .body"),this.UpdateUI(),P(`(node,view)=>{${this.option.script}}`)(this,this.parent),this.arrDataView.forEach((t=>t.unBindData())),this.elContent&&(this.arrDataView=C.BindView(this.data,this.elContent))}openGroup(){this.CheckKey("node_group")&&this.parent.openGroup(this.GetId())}updatePosition(t,e,s=!1){if(this.elNode){let i=t,n=e;s||(n=this.elNode.offsetTop-e,i=this.elNode.offsetLeft-t),i!==this.getX()&&this.setX(i),n!==this.getY()&&this.setY(n)}}Active(t=!0){t?this.elNode.classList.add("active"):this.elNode.classList.remove("active")}RemoveLine(t){var e=this.arrLine.indexOf(t);return e>-1&&this.arrLine.splice(e,1),this.arrLine}AddLine(t){this.arrLine=[...this.arrLine,t]}getPostisionDot(t=0){let e=this.elNode?.querySelector(`.node-dot[node="${t}"]`);if(e){let t=this.elNode.offsetTop+e.offsetTop+12;return{x:this.elNode.offsetLeft+e.offsetLeft+12,y:t}}return{}}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((t=>{t.UpdateUI()}))}delete(t=!0){this.arrLine.forEach((e=>e.delete(this,t))),t?this.data.delete():(this.data.removeListener(e,this.renderUI.bind(this)),this.RemoveDataEvent()),this.elNode.removeEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.removeEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.elNode.remove(),this.arrLine=[],t&&this.parent.RemoveNode(this),this.dispatch(o,{})}RenderLine(){this.getDataLine().forEach((t=>{let e=this.parent.GetNodeById(t.Get("to")),s=t.Get("toIndex"),i=t.Get("fromIndex");new I(this,i,e,s,t).UpdateUI()}))}}const T=1.6,A=.6,j=.1,B=1;class U extends G{main;getZoom(){return+this.getDataGroup().Get("zoom")}setZoom(t){return this.getDataGroup().Set("zoom",t,this)}getY(){return+this.getDataGroup().Get("y")}setY(t){return this.getDataGroup().Set("y",t,this)}getX(){return+this.getDataGroup().Get("x")}setX(t){return this.getDataGroup().Set("x",t,this)}groupData;lastGroupName="";getDataGroup(){if(this.$lock)return this.data;if(this.lastGroupName===this.CurrentGroup())return this.groupData??this.data;this.lastGroupName=this.CurrentGroup();let t=this.data.Get("groups");return this.groupData=t?.filter((t=>t.Get("group")==this.lastGroupName))?.[0],this.groupData||(this.groupData=new $(this.main,{key:v,group:this.lastGroupName}),this.data.Append("groups",this.groupData)),this.groupData.onSafe(e,this.UpdateUI.bind(this)),this.groupData}group=[];GetGroupName(){return this.group.map((t=>this.GetDataById(t)?.Get("name")))}BackGroup(){this.group.splice(0,1),this.toolbar.renderPathGroup(),this.RenderUI()}CurrentGroup(){let t=this.group?.[0];return t&&""!=t?t:"root"}openGroup(t){this.group=[t,...this.group],this.toolbar.renderPathGroup(),this.RenderUI()}lineChoose;setLineChoose(t){this.lineChoose&&this.lineChoose.Active(!1),this.lineChoose=t,this.lineChoose&&(this.lineChoose.Active(),this.setNodeChoose(void 0))}getLineChoose(){return this.lineChoose}nodes=[];nodeChoose;setNodeChoose(t){this.nodeChoose&&this.nodeChoose.Active(!1),this.nodeChoose=t,this.nodeChoose?(this.nodeChoose.Active(),this.setLineChoose(void 0),this.dispatch(s,{data:this.nodeChoose.data})):this.dispatch(s,{data:this.data})}getNodeChoose(){return this.nodeChoose}AddNodeItem(t){return this.AddNode(t.Get("key"),t)}AddNode(t,e={}){return this.InsertNode(new S(this,t,e))}InsertNode(t){return this.nodes=[...this.nodes,t],t}RemoveNode(t){var e=this.nodes.indexOf(t);return this.data.Remove("nodes",t),e>-1&&this.nodes.splice(e,1),this.nodes}ClearNode(){this.nodes?.forEach((t=>t.delete(!1))),this.nodes=[]}GetDataAllNode(){return this.data.Get("nodes")??[]}GetDataNode(){return this.GetDataAllNode().filter((t=>t.Get("group")===this.CurrentGroup()))}elCanvas=document.createElement("div");elToolbar=document.createElement("div");toolbar;$lock=!0;zoom_last_value=1;constructor(t,s){super(),this.main=s,this.elNode=t;let i=this.main.getPropertyByKey(p);this.data.InitData({},i),this.elNode.innerHTML="",this.elNode.classList.remove("desginer-view"),this.elCanvas.classList.remove("desginer-canvas"),this.elNode.classList.add("desginer-view"),this.elCanvas.classList.add("desginer-canvas"),this.elToolbar.classList.add("desginer-toolbar"),this.elNode.appendChild(this.elCanvas),this.elNode.appendChild(this.elToolbar),this.elNode.tabIndex=0,this.RenderUI(),this.on(e,this.RenderUI.bind(this)),new w(this),this.toolbar=new M(this)}updateView(t,e,s){this.elCanvas.style.transform=`translate(${t}px, ${e}px) scale(${s})`}UpdateUI(){this.updateView(this.getX(),this.getY(),this.getZoom())}RenderUI(t={}){t.sender&&t.sender instanceof S||(t.sender&&t.sender instanceof U||(this.ClearNode(),this.GetDataNode().forEach((t=>{this.AddNodeItem(t)})),this.GetAllNode().forEach((t=>{t.RenderLine()}))),this.UpdateUI())}Open(t){this.data=t,this.$lock=!1,this.lastGroupName="",this.groupData=void 0,this.group=[],this.toolbar.renderPathGroup(),this.BindDataEvent(),this.RenderUI()}CalcX(t){return t*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(t){return t*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}GetAllNode(){return this.nodes||[]}GetNodeById(t){return this.GetAllNode().filter((e=>e.GetId()==t))?.[0]}GetDataById(t){return this.GetDataAllNode().filter((e=>e.Get("id")===t))?.[0]}checkOnlyNode(t){return this.main.getControlByKey(t).onlyNode&&this.nodes.filter((e=>e.CheckKey(t))).length>0}zoom_refresh(t=0){let e=0==t?B:this.getZoom()+j*t;T>=e&&e>=A&&(this.setX(this.getX()/this.zoom_last_value*e),this.setY(this.getY()/this.zoom_last_value*e),this.zoom_last_value=e,this.setZoom(this.zoom_last_value))}zoom_in(){this.zoom_refresh(1)}zoom_out(){this.zoom_refresh(-1)}zoom_reset(){this.zoom_refresh(0)}}class H extends f{main;view;constructor(t,e){super(t,e),this.main=e,this.view=new U(this.elNode,e),this.view.on(s,(t=>{e.dispatch(s,t)})),this.main.on(i,(t=>{this.view?.Open(t.data),this.main.SetProjectOpen(t.data)}))}}class O{container;main;$dockManager={};constructor(t,e){this.container=t,this.main=e}reset(){this.$dockManager={},this.addDock(r,y),this.addDock(r,g),this.addDock(l,k),this.addDock(d,H),this.addDock(h,f),this.RenderUI()}addDock(t,e){this.$dockManager[t]||(this.$dockManager[t]=[]),this.$dockManager[t]=[...this.$dockManager[t],e]}RenderUI(){this.container.innerHTML='\n      <div class="vs-left vs-dock"></div>\n      <div class="vs-content">\n        <div class="vs-top vs-dock"></div>\n        <div class="vs-view vs-dock"></div>\n        <div class="vs-bottom vs-dock"></div>\n      </div>\n      <div class="vs-right vs-dock"></div>\n    ',Object.keys(this.$dockManager).forEach((t=>{let e=this.container.querySelector(`.${t}`);e&&this.$dockManager[t].forEach((t=>{new t(e,this.main)}))}))}}return t.DataFlow=$,t.DesginerView=U,t.VisualFlow=class{container;$data=new $(this);$projectOpen;$properties={};$control={};$controlDefault={node_begin:{icon:'<i class="fas fa-play"></i>',sort:0,name:"Begin",class:"node-test",html:"",dot:{top:0,right:1,left:0,bottom:1},onlyNode:!0},node_end:{icon:'<i class="fas fa-stop"></i>',sort:0,name:"End",html:"",dot:{left:1,top:1,right:0,bottom:0},onlyNode:!0},node_if:{icon:'<i class="fas fa-equals"></i>',sort:0,name:"If",html:'<div>condition:<br/><input node:model="condition"/></div>',script:"",properties:{condition:{key:"condition",default:""}},output:2},node_group:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Group",html:'<div class="text-center p3"><button class="btnGoGroup node-form-control">Go</button></div>',script:"node.elNode.querySelector('.btnGoGroup')?.addEventListener('click', () => {node.openGroup()});",properties:{condition:{key:"condition",default:""}},output:2},node_option:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Option",dot:{top:1,right:0,left:1,bottom:0},html:'\n      <div>\n        <div class="node-content-row"><span>Họ tên :</span><span class="node-dot" node="50001"></span></div>\n        <div class="node-content-row"><span>Họ tên :</span><span class="node-dot" node="50002"></span></div>\n        <div class="node-content-row"><span>Họ tên :</span><span class="node-dot" node="50003"></span></div>\n        <div class="node-content-row"><span>Họ tên :</span><span class="node-dot" node="50004"></span></div>\n        <div class="node-content-row"><span>Họ tên :</span><span class="node-dot" node="50005"></span></div>\n\n\n      </div>\n      ',script:"node.elNode.querySelector('.btnGoGroup')?.addEventListener('click', () => {node.openGroup()});",properties:{condition:{key:"condition",default:""}},output:2},node_project:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Project",html:'<div class="text-center p3"><select class="listProject node-form-control" node:model="project"></select></div>',script:"\n      const reloadProject = ()=>{\n        node.elNode.querySelector('.listProject').innerHtml='';\n        let option = document.createElement('option');\n        option.text='none';\n        option.value='';\n        node.elNode.querySelector('.listProject').appendChild(option);\n        node.parent.main.getProjectAll().forEach((item)=>{\n          let option = document.createElement('option');\n          option.text=item.Get('name');\n          option.value=item.Get('id');\n          node.elNode.querySelector('.listProject').appendChild(option);\n        });\n        node.elNode.querySelector('.listProject').value= node.data.Get('project')\n      }\n      reloadProject();\n\n     ;",properties:{project:{key:"project",default:""}},output:2}};$controlChoose=null;$dockManager;events;getDockManager(){return this.$dockManager}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}getControlAll(){return this.$control??{}}constructor(t,e=null){this.container=t,this.events=new E,this.$properties[c]={id:{default:()=>_()},key:{default:c},name:{default:()=>`solution-${_()}`},projects:{default:[]}},this.$properties[u]={key:{default:u},from:{default:0},fromIndex:{default:0},to:{default:0},toIndex:{default:0}},this.$properties[p]={...e?.properties||{},id:{default:()=>_()},name:{default:()=>`app-${_()}`},key:{default:p},groups:{default:[]},nodes:{default:[]}},this.$control={...e?.control||{},...this.$controlDefault};let s={};Object.keys(this.$control).map((t=>({...this.$control[t],key:t,sort:void 0===this.$control[t].sort?99999:this.$control[t].sort}))).sort(m).forEach((t=>{s[t.key]={dot:{left:1,top:1,right:1,bottom:1},...t},this.$properties[`node_${t.key}`]={...t.properties||{},id:{default:()=>_()},key:{default:t.key},name:{default:t.key},x:{default:0},y:{default:0},group:{default:""},lines:{default:[]}}})),this.$properties[v]={key:{default:v},group:{default:""},x:{default:0},y:{default:0},zoom:{default:1}},this.$control=s,this.container.classList.remove("vs-container"),this.container.classList.add("vs-container"),this.$dockManager=new O(this.container,this),this.$dockManager.reset(),this.$data.InitData({},this.getPropertyByKey(c))}getProjectAll(){return this.$data.Get("projects")??[]}open(t){this.$data.InitData(t,this.getPropertyByKey(c))}SetProjectOpen(t){this.$projectOpen=t}CheckProjectOpen(t){return this.$projectOpen==t}newProject(){this.openProject({}),this.dispatch(n,{})}openProject(t){if(t instanceof $){let e=this.getProjectById(t.Get("id"));e||(e=t,this.$data.Append("projects",e)),this.dispatch(i,e)}else{let e=new $(this);e.InitData(t,this.getPropertyByKey(p)),this.$data.Append("projects",e),this.dispatch(i,{data:e}),this.dispatch(s,{data:e}),this.dispatch(o,{data:e})}}getProjectById(t){return this.$data.Get("projects").filter((e=>e.Get("id")===t))?.[0]}setControlChoose(t){this.$controlChoose=t}getControlChoose(){return this.$controlChoose}getControlByKey(t){return this.$control[t]||{}}getControlNodeByKey(t){return{...this.getControlByKey(t),properties:this.getPropertyByKey(`node_${t}`)}}getPropertyByKey(t){return this.$properties[t]}},Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL0NvbnN0YW50LnRzIiwiLi4vc3JjL2RvY2svRG9ja0Jhc2UudHMiLCIuLi9zcmMvZG9jay9Db250cm9sRG9jay50cyIsIi4uL3NyYy9kb2NrL1Byb2plY3REb2NrLnRzIiwiLi4vc3JjL2NvcmUvRWRpdG9yLnRzIiwiLi4vc3JjL2RvY2svUHJvcGVydHlEb2NrLnRzIiwiLi4vc3JjL2NvcmUvRXZlbnRGbG93LnRzIiwiLi4vc3JjL2NvcmUvRGF0YUZsb3cudHMiLCIuLi9zcmMvY29yZS9CYXNlRmxvdy50cyIsIi4uL3NyYy9jb3JlL1V0aWxzLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0xpbmUudHMiLCIuLi9zcmMvZGVzZ2luZXIvRGVzZ2luZXJWaWV3X0V2ZW50LnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlld19Ub29sYmFyLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL05vZGUudHMiLCIuLi9zcmMvZGVzZ2luZXIvRGVzZ2luZXJWaWV3LnRzIiwiLi4vc3JjL2RvY2svVmlld0RvY2sudHMiLCIuLi9zcmMvZG9jay9Eb2NrTWFuYWdlci50cyIsIi4uL3NyYy9WaXN1YWxGbG93LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFdmVudEVudW0gPSB7XG4gIGluaXQ6IFwiaW5pdFwiLFxuICBkYXRhQ2hhbmdlOiBcImRhdGFDaGFuZ2VcIixcbiAgc2hvd1Byb3BlcnR5OiBcInNob3dQcm9wZXJ0eVwiLFxuICBvcGVuUHJvamVjdDogXCJvcGVuUHJvamVjdFwiLFxuICBuZXdQcm9qZWN0OiBcIm5ld1Byb2plY3RcIixcbiAgY2hhbmdlOiBcImNoYW5nZVwiLFxuICBkaXNwb3NlOiBcImRpc3Bvc2VcIlxufVxuXG5leHBvcnQgY29uc3QgRG9ja0VudW0gPSB7XG4gIGxlZnQ6IFwidnMtbGVmdFwiLFxuICB0b3A6IFwidnMtdG9wXCIsXG4gIHZpZXc6IFwidnMtdmlld1wiLFxuICBib3R0b206IFwidnMtYm90dG9tXCIsXG4gIHJpZ2h0OiBcInZzLXJpZ2h0XCIsXG59XG5cbmV4cG9ydCBjb25zdCBQcm9wZXJ0eUVudW0gPSB7XG4gIG1haW46IFwibWFpbl9wcm9qZWN0XCIsXG4gIHNvbHV0aW9uOiAnbWFpbl9zb2x1dGlvbicsXG4gIGxpbmU6ICdtYWluX2xpbmUnLFxuICB2YXJpYWJsZTogJ21haW5fdmFyaWFibGUnLFxuICBncm91cENhdmFzOiBcIm1haW5fZ3JvdXBDYXZhc1wiLFxufTtcblxuZXhwb3J0IGNvbnN0IGNvbXBhcmVTb3J0ID0gKGE6IGFueSwgYjogYW55KSA9PiB7XG4gIGlmIChhLnNvcnQgPCBiLnNvcnQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKGEuc29ydCA+IGIuc29ydCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERvY2tCYXNlIHtcclxuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHByb3RlY3RlZCBlbENvbnRlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQgfCBudWxsO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XHJcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnRG9ja0Jhc2UnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIEJveEluZm8odGl0bGU6IHN0cmluZywgJGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ZzLWJveGluZm8nKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLWJveGluZm8nKTtcclxuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwidnMtYm94aW5mb19oZWFkZXJcIj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fdGl0bGVcIj4ke3RpdGxlfTwvc3Bhbj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fYnV0dG9uXCI+PC9zcGFuPjwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInZzLWJveGluZm9fY29udGVudFwiPjwvZGl2PmA7XHJcbiAgICB0aGlzLmVsQ29udGVudCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2NvbnRlbnQnKTtcclxuICAgIGlmICgkY2FsbGJhY2spIHtcclxuICAgICAgJGNhbGxiYWNrKHRoaXMuZWxDb250ZW50KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udHJvbERvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xyXG4gICAgc3VwZXIoY29udGFpbmVyLCBtYWluKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLWNvbnRyb2wnKTtcclxuICAgIHRoaXMuQm94SW5mbygnQ29udHJvbCcsIChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xyXG4gICAgICBsZXQgY29udHJvbHMgPSB0aGlzLm1haW4uZ2V0Q29udHJvbEFsbCgpO1xyXG4gICAgICBPYmplY3Qua2V5cyhjb250cm9scykuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgICAgbGV0IG5vZGVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnbm9kZS1pdGVtJyk7XHJcbiAgICAgICAgbm9kZUl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xyXG4gICAgICAgIG5vZGVJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1ub2RlJywgaXRlbSk7XHJcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7Y29udHJvbHNbaXRlbV0uaWNvbn0gPHNwYW4+JHtjb250cm9sc1tpdGVtXS5uYW1lfTwvc3BhbmA7XHJcbiAgICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5kcmFnU3RhcnQuYmluZCh0aGlzKSlcclxuICAgICAgICBub2RlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5kcmFnZW5kLmJpbmQodGhpcykpXHJcbiAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChub2RlSXRlbSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZHJhZ2VuZChlOiBhbnkpIHtcclxuICAgIHRoaXMubWFpbi5zZXRDb250cm9sQ2hvb3NlKG51bGwpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBkcmFnU3RhcnQoZTogYW55KSB7XHJcbiAgICBsZXQga2V5ID0gZS50YXJnZXQuY2xvc2VzdChcIi5ub2RlLWl0ZW1cIikuZ2V0QXR0cmlidXRlKCdkYXRhLW5vZGUnKTtcclxuICAgIHRoaXMubWFpbi5zZXRDb250cm9sQ2hvb3NlKGtleSk7XHJcbiAgICBpZiAoZS50eXBlICE9PSBcInRvdWNoc3RhcnRcIikge1xyXG4gICAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwibm9kZVwiLCBrZXkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcclxuaW1wb3J0IHsgRG9ja0Jhc2UgfSBmcm9tIFwiLi9Eb2NrQmFzZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2plY3REb2NrIGV4dGVuZHMgRG9ja0Jhc2Uge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XHJcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1wcm9qZWN0Jyk7XHJcbiAgICB0aGlzLkJveEluZm8oJ1Byb2plY3QnLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xyXG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5jaGFuZ2UsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCAoZGV0YWlsOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5lbENvbnRlbnQ/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUnKS5mb3JFYWNoKChfbm9kZSkgPT4ge1xyXG4gICAgICAgIF9ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHRoaXMuZWxDb250ZW50ICYmIGRldGFpbD8uZGF0YT8uR2V0KCdpZCcpKSB7XHJcbiAgICAgICAgdGhpcy5lbENvbnRlbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD1cIiR7ZGV0YWlsPy5kYXRhPy5HZXQoJ2lkJyl9XCJdYCk/LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuICBwcml2YXRlIHJlbmRlclVJKCkge1xyXG4gICAgbGV0ICRub2RlUmlnaHQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2hlYWRlciAudnMtYm94aW5mb19idXR0b24nKTtcclxuICAgIGlmICghdGhpcy5lbENvbnRlbnQpIHJldHVybjtcclxuICAgIHRoaXMuZWxDb250ZW50LmlubmVySFRNTCA9IGBgO1xyXG4gICAgaWYgKCRub2RlUmlnaHQpIHtcclxuICAgICAgJG5vZGVSaWdodC5pbm5lckhUTUwgPSBgYDtcclxuICAgICAgbGV0IGJ1dHRvbk5ldyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAkbm9kZVJpZ2h0Py5hcHBlbmRDaGlsZChidXR0b25OZXcpO1xyXG4gICAgICBidXR0b25OZXcuaW5uZXJIVE1MID0gYE5ld2A7XHJcbiAgICAgIGJ1dHRvbk5ldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMubWFpbi5uZXdQcm9qZWN0KCcnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHByb2plY3RzID0gdGhpcy5tYWluLmdldFByb2plY3RBbGwoKTtcclxuICAgIHByb2plY3RzLmZvckVhY2goKGl0ZW06IERhdGFGbG93KSA9PiB7XHJcbiAgICAgIGxldCBub2RlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBub2RlSXRlbS5jbGFzc0xpc3QuYWRkKCdub2RlLWl0ZW0nKTtcclxuICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xyXG4gICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGl0ZW0uR2V0KCdpZCcpKTtcclxuICAgICAgaXRlbS5yZW1vdmVMaXN0ZW5lcihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fbmFtZWAsICgpID0+IHtcclxuICAgICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XHJcbiAgICAgIH0pO1xyXG4gICAgICBpdGVtLm9uKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV9uYW1lYCwgKCkgPT4ge1xyXG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICh0aGlzLm1haW4uQ2hlY2tQcm9qZWN0T3BlbihpdGVtKSkge1xyXG4gICAgICAgIG5vZGVJdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG4gICAgICB9XHJcbiAgICAgIG5vZGVJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWFpbi5kaXNwYXRjaChFdmVudEVudW0ub3BlblByb2plY3QsIHsgZGF0YTogaXRlbSB9KTtcclxuICAgICAgICB0aGlzLm1haW4uZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiBpdGVtIH0pO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuZWxDb250ZW50Py5hcHBlbmRDaGlsZChub2RlSXRlbSk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IEJhc2VGbG93LCBGbG93Q29yZSB9IGZyb20gXCIuL0Jhc2VGbG93XCJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XG5leHBvcnQgZW51bSBFZGl0b3JUeXBlIHtcbiAgTGFiZWwsXG4gIFRleHQsXG4gIElubGluZVxufVxuZXhwb3J0IGNvbnN0IFRhZ1ZpZXcgPSBbJ1NQQU4nLCAnRElWJywgJ1AnLCAnVEVYVEFSRUEnXTtcbmV4cG9ydCBjbGFzcyBEYXRhVmlldyB7XG4gIHByaXZhdGUga2V5TmFtZTogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCA9IFwiXCI7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZGF0YTogRGF0YUZsb3csIHByaXZhdGUgZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGwpIHtcbiAgICB0aGlzLmtleU5hbWUgPSBlbD8uZ2V0QXR0cmlidXRlKCdub2RlOm1vZGVsJyk7XG4gICAgdGhpcy5iaW5kRGF0YSgpO1xuICB9XG4gIHByaXZhdGUgYmluZERhdGEoKSB7XG4gICAgaWYgKHRoaXMua2V5TmFtZSAmJiB0aGlzLmVsKSB7XG4gICAgICB0aGlzLmRhdGEub24oYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7dGhpcy5rZXlOYW1lfWAsIHRoaXMuYmluZElucHV0LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLmJpbmRFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgdW5CaW5kRGF0YSgpIHtcbiAgICBpZiAodGhpcy5rZXlOYW1lICYmIHRoaXMuZWwpIHtcbiAgICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHt0aGlzLmtleU5hbWV9YCwgdGhpcy5iaW5kSW5wdXQuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5iaW5kRXZlbnQuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYmluZElucHV0KHsgdmFsdWUsIHNlbmRlciB9OiBhbnkpIHtcblxuICAgIGlmIChzZW5kZXIgIT09IHRoaXMgJiYgdGhpcy5lbCAmJiBzZW5kZXIuZWwgIT09IHRoaXMuZWwpIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZWwudGFnTmFtZSk7XG4gICAgICBjb25zb2xlLmxvZyhzZW5kZXIpO1xuICAgICAgaWYgKFRhZ1ZpZXcuaW5jbHVkZXModGhpcy5lbC50YWdOYW1lKSkge1xuICAgICAgICB0aGlzLmVsLmlubmVyVGV4dCA9IGAke3ZhbHVlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAodGhpcy5lbCBhcyBhbnkpLnZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYmluZEV2ZW50KCkge1xuICAgIGlmICh0aGlzLmtleU5hbWUgJiYgdGhpcy5lbCkge1xuICAgICAgY29uc29sZS5sb2codGhpcy5rZXlOYW1lKTtcbiAgICAgIHRoaXMuZGF0YS5TZXQodGhpcy5rZXlOYW1lLCAodGhpcy5lbCBhcyBhbnkpLnZhbHVlLCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHN0YXRpYyBCaW5kVmlldyhkYXRhOiBEYXRhRmxvdywgcm9vdDogRWxlbWVudCkge1xuICAgIGlmIChyb290KSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShyb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tub2RlXFxcXDptb2RlbF0nKSkubWFwKChlbCkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IERhdGFWaWV3KGRhdGEsIGVsIGFzIEhUTUxFbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gW107XG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBFZGl0b3Ige1xuICBwcml2YXRlIGlzRWRpdDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGVsSW5wdXQ6IEhUTUxEYXRhRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGVsTGFiZWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHVibGljIGRhdGE6IERhdGFGbG93LCBwcml2YXRlIGtleTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbCwgcHJpdmF0ZSB0eXBlOiBFZGl0b3JUeXBlID0gRWRpdG9yVHlwZS5MYWJlbCwgY2hhZ25lOiBib29sZWFuID0gZmFsc2UpIHtcblxuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5kYXRhLm9uU2FmZShgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwgdGhpcy5jaGFuZ2VEYXRhLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZGF0YS5vblNhZmUoRXZlbnRFbnVtLmRpc3Bvc2UsIHRoaXMuZGlzcG9zZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmlzRWRpdCA9IHR5cGUgPT09IEVkaXRvclR5cGUuVGV4dDtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdub2RlLWVkaXRvcicpO1xuICAgIGlmIChjaGFnbmUgJiYgZWwpIHtcbiAgICAgIGVsLnBhcmVudEVsZW1lbnQ/Lmluc2VydEJlZm9yZSh0aGlzLmVsTm9kZSwgZWwpO1xuICAgICAgZWwucGFyZW50RWxlbWVudD8ucmVtb3ZlQ2hpbGQoZWwpO1xuICAgICAgZWw/LnJlbW92ZSgpO1xuICAgIH0gZWxzZSBpZiAoZWwpIHtcbiAgICAgIGVsLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuICBwdWJsaWMgcmVuZGVyKCkge1xuICAgIGxldCBkYXRhID0gdGhpcy5kYXRhLkdldCh0aGlzLmtleSk7XG5cbiAgICBpZiAodGhpcy5pc0VkaXQpIHtcbiAgICAgIGlmICh0aGlzLmVsTGFiZWwpIHtcbiAgICAgICAgdGhpcy5lbExhYmVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgdGhpcy5zd2l0Y2hNb2RlRWRpdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5lbExhYmVsLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLmVsTGFiZWwgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZWxJbnB1dCkge1xuICAgICAgICB0aGlzLmVsSW5wdXQudmFsdWUgPSBkYXRhO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmVsSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgdGhpcy5lbElucHV0LmNsYXNzTGlzdC5hZGQoJ25vZGUtZm9ybS1jb250cm9sJyk7XG4gICAgICB0aGlzLmVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaW5wdXREYXRhLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbElucHV0LnZhbHVlID0gZGF0YTtcbiAgICAgIHRoaXMuZWxJbnB1dC5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleSk7XG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsSW5wdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5lbElucHV0KSB7XG4gICAgICAgIHRoaXMuZWxJbnB1dC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuaW5wdXREYXRhLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmVsSW5wdXQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuZWxJbnB1dCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lbExhYmVsKSB7XG4gICAgICAgIHRoaXMuZWxMYWJlbC5pbm5lckhUTUwgPSBkYXRhO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmVsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICBpZiAodGhpcy50eXBlID09IEVkaXRvclR5cGUuSW5saW5lKSB7XG4gICAgICAgIHRoaXMuZWxMYWJlbC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuc3dpdGNoTW9kZUVkaXQuYmluZCh0aGlzKSk7XG4gICAgICB9XG4gICAgICB0aGlzLmVsTGFiZWwuc2V0QXR0cmlidXRlKCdub2RlOm1vZGVsJywgdGhpcy5rZXkpO1xuICAgICAgdGhpcy5lbExhYmVsLmlubmVySFRNTCA9IGRhdGE7XG4gICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZCh0aGlzLmVsTGFiZWwpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgc3dpdGNoTW9kZUVkaXQoKSB7XG4gICAgdGhpcy5pc0VkaXQgPSB0cnVlO1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbiAgcHVibGljIGlucHV0RGF0YShlOiBhbnkpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGF0YS5TZXQodGhpcy5rZXksIGUudGFyZ2V0LnZhbHVlLCB0aGlzKTtcbiAgICB9KVxuICB9XG4gIHB1YmxpYyBjaGFuZ2VEYXRhKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkge1xuICAgIHRoaXMucmVuZGVyKCk7XG4gIH1cbiAgcHVibGljIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5lbElucHV0Py5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5pbnB1dERhdGEuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbExhYmVsPy5yZW1vdmVFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIHRoaXMuc3dpdGNoTW9kZUVkaXQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke3RoaXMua2V5fWAsIHRoaXMuY2hhbmdlRGF0YS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmRhdGEucmVtb3ZlTGlzdGVuZXIoRXZlbnRFbnVtLmRpc3Bvc2UsIHRoaXMuZGlzcG9zZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xuaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tIFwiLi4vY29yZS9EYXRhRmxvd1wiO1xuaW1wb3J0IHsgRWRpdG9yLCBFZGl0b3JUeXBlIH0gZnJvbSBcIi4uL2NvcmUvRWRpdG9yXCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eURvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XG4gIHByaXZhdGUgbGFzdERhdGE6IERhdGFGbG93IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGxhYmVsS2V5czogc3RyaW5nW10gPSBbJ2lkJywgJ2tleScsICdncm91cCcsICdsaW5lcycsICdub2RlcycsICdwcm9qZWN0JywgJ3gnLCAneSddO1xuICBwcml2YXRlIGhpZGVLZXlzOiBzdHJpbmdbXSA9IFsnbGluZXMnLCAnbm9kZXMnLCAnZ3JvdXBzJ107XG4gIHByaXZhdGUgc29ydEtleXM6IHN0cmluZ1tdID0gWydpZCcsICdrZXknLCAnbmFtZScsICdncm91cCddO1xuICBwcml2YXRlIGRhdGFKc29uOiBIVE1MVGV4dEFyZWFFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XG5cbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1wcm9wZXJ0eScpO1xuICAgIHRoaXMuQm94SW5mbygnUHJvcGVydHknLCAobm9kZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgIG1haW4ub24oRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgKGRldGFpbDogYW55KSA9PiB7XG4gICAgICAgIHRoaXMucmVuZGVyVUkobm9kZSwgZGV0YWlsLmRhdGEpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyVUkobm9kZTogSFRNTEVsZW1lbnQsIGRhdGE6IERhdGFGbG93KSB7XG4gICAgaWYgKHRoaXMubGFzdERhdGEgPT0gZGF0YSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmxhc3REYXRhID0gZGF0YTtcbiAgICBub2RlLmlubmVySFRNTCA9ICcnO1xuICAgIGxldCBwcm9wZXJ0aWVzOiBhbnkgPSBkYXRhLmdldFByb3BlcnRpZXMoKTtcbiAgICB0aGlzLnNvcnRLZXlzLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAodGhpcy5oaWRlS2V5cy5pbmNsdWRlcyhrZXkpIHx8ICFwcm9wZXJ0aWVzW2tleV0pIHJldHVybjtcbiAgICAgIGxldCBwcm9wZXJ0eUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS1pdGVtJyk7XG4gICAgICBsZXQgcHJvcGVydHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvcGVydHlMYWJlbC5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS1sYWJlbCcpO1xuICAgICAgcHJvcGVydHlMYWJlbC5pbm5lckhUTUwgPSBrZXk7XG4gICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvcGVydHlWYWx1ZS5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS12YWx1ZScpO1xuICAgICAgaWYgKHRoaXMubGFiZWxLZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgbmV3IEVkaXRvcihkYXRhLCBrZXksIHByb3BlcnR5VmFsdWUsIEVkaXRvclR5cGUuTGFiZWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3IEVkaXRvcihkYXRhLCBrZXksIHByb3BlcnR5VmFsdWUsIEVkaXRvclR5cGUuVGV4dCk7XG4gICAgICB9XG4gICAgICBwcm9wZXJ0eUl0ZW0uYXBwZW5kQ2hpbGQocHJvcGVydHlMYWJlbCk7XG4gICAgICBwcm9wZXJ0eUl0ZW0uYXBwZW5kQ2hpbGQocHJvcGVydHlWYWx1ZSk7XG4gICAgICBub2RlLmFwcGVuZENoaWxkKHByb3BlcnR5SXRlbSk7XG4gICAgfSk7XG4gICAgT2JqZWN0LmtleXMocHJvcGVydGllcykuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGlmICh0aGlzLmhpZGVLZXlzLmluY2x1ZGVzKGtleSkgfHwgdGhpcy5zb3J0S2V5cy5pbmNsdWRlcyhrZXkpKSByZXR1cm47XG4gICAgICBsZXQgcHJvcGVydHlJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwcm9wZXJ0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvcGVydHktaXRlbScpO1xuICAgICAgbGV0IHByb3BlcnR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5TGFiZWwuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktbGFiZWwnKTtcbiAgICAgIHByb3BlcnR5TGFiZWwuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgbGV0IHByb3BlcnR5VmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5VmFsdWUuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktdmFsdWUnKTtcbiAgICAgIGlmICh0aGlzLmxhYmVsS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIG5ldyBFZGl0b3IoZGF0YSwga2V5LCBwcm9wZXJ0eVZhbHVlLCBFZGl0b3JUeXBlLkxhYmVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ldyBFZGl0b3IoZGF0YSwga2V5LCBwcm9wZXJ0eVZhbHVlLCBFZGl0b3JUeXBlLlRleHQpO1xuICAgICAgfVxuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5TGFiZWwpO1xuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5VmFsdWUpO1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChwcm9wZXJ0eUl0ZW0pO1xuICAgIH0pO1xuICAgIC8vIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5kYXRhSnNvbik7XG4gICAgLy8gdGhpcy5kYXRhSnNvbi52YWx1ZSA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAvLyB0aGlzLmRhdGFKc29uLmNsYXNzTGlzdC5hZGQoJ25vZGUtZm9ybS1jb250cm9sJyk7XG5cbiAgICAvL2RhdGEub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsICgpID0+IHRoaXMuZGF0YUpzb24udmFsdWUgPSBkYXRhLnRvU3RyaW5nKCkpXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBFdmVudEZsb3cge1xyXG4gIHByaXZhdGUgZXZlbnRzOiBhbnkgPSB7fTtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7IH1cclxuICBwdWJsaWMgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgIHRoaXMub24oZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgLyogRXZlbnRzICovXHJcbiAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoZSBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvblxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGBUaGUgbGlzdGVuZXIgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLCB0aGUgZ2l2ZW4gdHlwZSBpcyAke3R5cGVvZiBjYWxsYmFja31gKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGV2ZW50IGlzIG5vdCBhIHN0cmluZ1xyXG4gICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGV2ZW50IG5hbWUgbXVzdCBiZSBhIHN0cmluZywgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgZXZlbnR9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50XSA9IHtcclxuICAgICAgICBsaXN0ZW5lcnM6IFtdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXHJcblxyXG4gICAgaWYgKCF0aGlzLmV2ZW50c1tldmVudF0pIHJldHVybiBmYWxzZVxyXG5cclxuICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnNcclxuICAgIGNvbnN0IGxpc3RlbmVySW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjaylcclxuICAgIGNvbnN0IGhhc0xpc3RlbmVyID0gbGlzdGVuZXJJbmRleCA+IC0xXHJcbiAgICBpZiAoaGFzTGlzdGVuZXIpIGxpc3RlbmVycy5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4ge1xyXG4gICAgICBsaXN0ZW5lcihkZXRhaWxzKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBJUHJvcGVydHkgfSBmcm9tIFwiLi9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tIFwiLi9FdmVudEZsb3dcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhRmxvdyB7XHJcbiAgcHJpdmF0ZSBkYXRhOiBhbnkgPSB7fTtcclxuICBwcml2YXRlIHByb3BlcnRpZXM6IGFueSA9IG51bGw7XHJcbiAgcHJpdmF0ZSBldmVudHM6IEV2ZW50RmxvdztcclxuICBwdWJsaWMgZ2V0UHJvcGVydGllcygpOiBhbnkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJvcGVydGllcztcclxuICB9XHJcbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5vbihldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuXHJcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHByb3BlcnR5OiBJUHJvcGVydHkgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGRhdGE6IGFueSA9IHVuZGVmaW5lZCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICBpZiAoZGF0YSkge1xyXG4gICAgICB0aGlzLmxvYWQoZGF0YSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBJbml0RGF0YShkYXRhOiBhbnkgPSBudWxsLCBwcm9wZXJ0aWVzOiBhbnkgPSAtMSkge1xyXG4gICAgaWYgKHByb3BlcnRpZXMgIT09IC0xKSB7XHJcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxvYWQoZGF0YSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZXZlbnREYXRhQ2hhbmdlKGtleTogc3RyaW5nLCBrZXlDaGlsZDogc3RyaW5nLCB2YWx1ZUNoaWxkOiBhbnksIHNlbmRlckNoaWxkOiBhbnksIGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgIGlmIChpbmRleCkge1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtpbmRleH1fJHtrZXlDaGlsZH1gLCB7XHJcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtpbmRleH1gLCB7XHJcbiAgICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQsIGluZGV4XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7a2V5Q2hpbGR9YCwge1xyXG4gICAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBSZW1vdmVFdmVudERhdGEoaXRlbTogRGF0YUZsb3csIGtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICBpZiAoIWl0ZW0pIHJldHVybjtcclxuICAgIGl0ZW0ucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9YCwgKHsga2V5OiBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQgfTogYW55KSA9PiB0aGlzLmV2ZW50RGF0YUNoYW5nZShrZXksIGtleUNoaWxkLCB2YWx1ZUNoaWxkLCBzZW5kZXJDaGlsZCwgaW5kZXgpKTtcclxuICB9XHJcbiAgcHVibGljIE9uRXZlbnREYXRhKGl0ZW06IERhdGFGbG93LCBrZXk6IHN0cmluZywgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xyXG4gICAgaWYgKCFpdGVtKSByZXR1cm47XHJcbiAgICBpdGVtLm9uKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfWAsICh7IGtleToga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkIH06IGFueSkgPT4gdGhpcy5ldmVudERhdGFDaGFuZ2Uoa2V5LCBrZXlDaGlsZCwgdmFsdWVDaGlsZCwgc2VuZGVyQ2hpbGQsIGluZGV4KSk7XHJcbiAgfVxyXG4gIHByaXZhdGUgQmluZEV2ZW50KHZhbHVlOiBhbnksIGtleTogc3RyaW5nKSB7XHJcbiAgICBpZiAoIXZhbHVlKSByZXR1cm47XHJcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICB0aGlzLk9uRXZlbnREYXRhKHZhbHVlIGFzIERhdGFGbG93LCBrZXkpO1xyXG4gICAgfVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmICh2YWx1ZSBhcyBbXSkubGVuZ3RoID4gMCAmJiB2YWx1ZVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XHJcbiAgICAgICh2YWx1ZSBhcyBEYXRhRmxvd1tdKS5mb3JFYWNoKChpdGVtOiBEYXRhRmxvdywgaW5kZXg6IG51bWJlcikgPT4gdGhpcy5PbkV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyBTZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCwgaXNEaXNwYXRjaDogYm9vbGVhbiA9IHRydWUpIHtcclxuICAgIGlmICh0aGlzLmRhdGFba2V5XSAhPSB2YWx1ZSkge1xyXG4gICAgICBpZiAodGhpcy5kYXRhW2tleV0pIHtcclxuICAgICAgICBpZiAodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgICAgdGhpcy5SZW1vdmVFdmVudERhdGEoKHRoaXMuZGF0YVtrZXldIGFzIERhdGFGbG93KSwga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmICh0aGlzLmRhdGFba2V5XSBhcyBbXSkubGVuZ3RoID4gMCAmJiB0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XHJcbiAgICAgICAgICAodGhpcy5kYXRhW2tleV0gYXMgRGF0YUZsb3dbXSkuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3csIGluZGV4OiBudW1iZXIpID0+IHRoaXMuUmVtb3ZlRXZlbnREYXRhKGl0ZW0sIGtleSwgaW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5CaW5kRXZlbnQodmFsdWUsIGtleSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xyXG4gICAgaWYgKGlzRGlzcGF0Y2gpIHtcclxuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgcHVibGljIFNldERhdGEoZGF0YTogYW55LCBzZW5kZXI6IGFueSA9IG51bGwsIGlzQ2xlYXJEYXRhID0gZmFsc2UpIHtcclxuXHJcbiAgICBpZiAoaXNDbGVhckRhdGEpIHRoaXMuZGF0YSA9IHt9O1xyXG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICBsZXQgJGRhdGE6IERhdGFGbG93ID0gZGF0YSBhcyBEYXRhRmxvdztcclxuICAgICAgaWYgKCF0aGlzLnByb3BlcnR5ICYmICRkYXRhLnByb3BlcnR5KSB0aGlzLnByb3BlcnR5ID0gJGRhdGEucHJvcGVydHk7XHJcbiAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcclxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgICAgdGhpcy5TZXQoa2V5LCAkZGF0YS5HZXQoa2V5KSwgc2VuZGVyLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cygkZGF0YS5nZXRQcm9wZXJ0aWVzKCkpKSB7XHJcbiAgICAgICAgICB0aGlzLlNldChrZXksICRkYXRhLkdldChrZXkpLCBzZW5kZXIsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgICAgdGhpcy5TZXQoa2V5LCBkYXRhW2tleV0sIHNlbmRlciwgZmFsc2UpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcclxuICAgICAgZGF0YVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHB1YmxpYyBHZXQoa2V5OiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGFba2V5XTtcclxuICB9XHJcbiAgcHVibGljIEFwcGVuZChrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgaWYgKCF0aGlzLmRhdGFba2V5XSkgdGhpcy5kYXRhW2tleV0gPSBbXTtcclxuICAgIHRoaXMuZGF0YVtrZXldID0gWy4uLnRoaXMuZGF0YVtrZXldLCB2YWx1ZV07XHJcbiAgICB0aGlzLkJpbmRFdmVudCh2YWx1ZSwga2V5KTtcclxuICB9XHJcbiAgcHVibGljIFJlbW92ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xyXG4gICAgdGhpcy5kYXRhW2tleV0uaW5kZXhPZih2YWx1ZSk7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGFba2V5XS5pbmRleE9mKHZhbHVlKTtcclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKHRoaXMuZGF0YVtrZXldW2luZGV4XSwga2V5KTtcclxuICAgICAgdGhpcy5kYXRhW2tleV0uc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxuICB9XHJcbiAgcHVibGljIGxvYWQoZGF0YTogYW55KSB7XHJcbiAgICB0aGlzLmRhdGEgPSB7fTtcclxuICAgIGlmICghdGhpcy5wcm9wZXJ0aWVzKSB7XHJcbiAgICAgIHRoaXMucHJvcGVydGllcyA9IHRoaXMucHJvcGVydHk/LmdldFByb3BlcnR5QnlLZXkoZGF0YS5rZXkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucHJvcGVydGllcykge1xyXG4gICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICAgIHRoaXMuZGF0YVtrZXldID0gKGRhdGE/LltrZXldID8/ICgodHlwZW9mIHRoaXMucHJvcGVydGllc1trZXldPy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnByb3BlcnRpZXNba2V5XT8uZGVmYXVsdCgpIDogdGhpcy5wcm9wZXJ0aWVzW2tleV0/LmRlZmF1bHQpID8/IFwiXCIpKTtcclxuICAgICAgICBpZiAoISh0aGlzLmRhdGFba2V5XSBpbnN0YW5jZW9mIERhdGFGbG93KSAmJiB0aGlzLmRhdGFba2V5XS5rZXkpIHtcclxuICAgICAgICAgIHRoaXMuZGF0YVtrZXldID0gbmV3IERhdGFGbG93KHRoaXMucHJvcGVydHksIHRoaXMuZGF0YVtrZXldKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmIHRoaXMucHJvcGVydHkgJiYgISh0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSkge1xyXG4gICAgICAgICAgdGhpcy5kYXRhW2tleV0gPSB0aGlzLmRhdGFba2V5XS5tYXAoKGl0ZW06IGFueSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgRGF0YUZsb3cpICYmIGl0ZW0ua2V5KSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhRmxvdyh0aGlzLnByb3BlcnR5LCBpdGVtKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuQmluZEV2ZW50KHRoaXMuZGF0YVtrZXldLCBrZXkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHB1YmxpYyB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSnNvbigpKTtcclxuICB9XHJcbiAgcHVibGljIHRvSnNvbigpIHtcclxuICAgIGxldCByczogYW55ID0ge307XHJcbiAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xyXG4gICAgICByc1trZXldID0gdGhpcy5HZXQoa2V5KTtcclxuICAgICAgaWYgKHJzW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLnRvSnNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJzW2tleV0pICYmIChyc1trZXldIGFzIFtdKS5sZW5ndGggPiAwICYmIHJzW2tleV1bMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xyXG4gICAgICAgIHJzW2tleV0gPSByc1trZXldLm1hcCgoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0udG9Kc29uKCkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcnM7XHJcbiAgfVxyXG4gIHB1YmxpYyBkZWxldGUoKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcclxuICAgIHRoaXMuZGF0YSA9IHt9O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XHJcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XHJcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gXCIuL0V2ZW50Rmxvd1wiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJvcGVydHkge1xyXG4gIGdldFByb3BlcnR5QnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJQ29udHJvbE5vZGUgZXh0ZW5kcyBJUHJvcGVydHkge1xyXG4gIGdldENvbnRyb2xOb2RlQnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnQge1xyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpOiB2b2lkO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1haW4gZXh0ZW5kcyBJQ29udHJvbE5vZGUsIElFdmVudCB7XHJcbiAgbmV3UHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBvcGVuUHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBnZXRQcm9qZWN0QWxsKCk6IGFueVtdO1xyXG4gIFNldFByb2plY3RPcGVuKCRkYXRhOiBhbnkpOiB2b2lkO1xyXG4gIENoZWNrUHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IGJvb2xlYW47XHJcbiAgb3BlbigkZGF0YTogYW55KTogdm9pZDtcclxuICBnZXRDb250cm9sQWxsKCk6IGFueVtdO1xyXG4gIHNldENvbnRyb2xDaG9vc2Uoa2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZDtcclxuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGw7XHJcbiAgZ2V0Q29udHJvbEJ5S2V5KGtleTogc3RyaW5nKTogYW55O1xyXG59XHJcbmV4cG9ydCBjbGFzcyBGbG93Q29yZSBpbXBsZW1lbnRzIElFdmVudCB7XHJcbiAgcHVibGljIEdldElkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2lkJyk7XHJcbiAgfVxyXG4gIHB1YmxpYyBTZXRJZChpZDogc3RyaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgnaWQnLCBpZCk7XHJcbiAgfVxyXG4gIHB1YmxpYyBwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcclxuICBwdWJsaWMgZGF0YTogRGF0YUZsb3cgPSBuZXcgRGF0YUZsb3coKTtcclxuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuICBwdWJsaWMgQ2hlY2tFbGVtZW50Q2hpbGQoZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICByZXR1cm4gdGhpcy5lbE5vZGUgPT0gZWwgfHwgdGhpcy5lbE5vZGUuY29udGFpbnMoZWwpO1xyXG4gIH1cclxuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xyXG4gIHB1YmxpYyBTZXREYXRhKGRhdGE6IGFueSwgc2VuZGVyOiBhbnkgPSBudWxsKSB7XHJcbiAgICB0aGlzLmRhdGEuU2V0RGF0YShkYXRhLCBzZW5kZXIpO1xyXG4gIH1cclxuICBwdWJsaWMgU2V0RGF0YUZsb3coZGF0YTogRGF0YUZsb3cpIHtcclxuICAgIHRoaXMuZGF0YS5TZXREYXRhKGRhdGEsIHRoaXMsIHRydWUpO1xyXG5cclxuICAgIHRoaXMuZGlzcGF0Y2goYGJpbmRfZGF0YV9ldmVudGAsIHsgZGF0YSwgc2VuZGVyOiB0aGlzIH0pO1xyXG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7IGRhdGEsIHNlbmRlcjogdGhpcyB9KTtcclxuICB9XHJcbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcclxuICB9XHJcbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XHJcbiAgfVxyXG4gIEJpbmREYXRhRXZlbnQoKSB7XHJcbiAgICB0aGlzLmRhdGEub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uZGF0YUNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uY2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmNoYW5nZSwge1xyXG4gICAgICAgICAgdHlwZTogJ2RhdGEnLFxyXG4gICAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFJlbW92ZURhdGFFdmVudCgpIHtcclxuICAgIHRoaXMuZGF0YS5yZW1vdmVMaXN0ZW5lcihFdmVudEVudW0uZGF0YUNoYW5nZSwgKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5jaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XHJcbiAgICB0aGlzLkJpbmREYXRhRXZlbnQoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCYXNlRmxvdzxUUGFyZW50IGV4dGVuZHMgRmxvd0NvcmU+IGV4dGVuZHMgRmxvd0NvcmUge1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgcGFyZW50OiBUUGFyZW50KSB7XHJcbiAgICBzdXBlcigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY29uc3QgTE9HID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4gY29uc29sZS5sb2cobWVzc2FnZSwgb3B0aW9uYWxQYXJhbXMpO1xyXG5leHBvcnQgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IChuZXcgRGF0ZSgpKTtcclxuZXhwb3J0IGNvbnN0IGdldFRpbWUgPSAoKSA9PiBnZXREYXRlKCkuZ2V0VGltZSgpO1xyXG5leHBvcnQgY29uc3QgZ2V0VXVpZCA9ICgpID0+IHtcclxuICAvLyBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxyXG4gIGxldCBzOiBhbnkgPSBbXTtcclxuICBsZXQgaGV4RGlnaXRzID0gXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XHJcbiAgICBzW2ldID0gaGV4RGlnaXRzLnN1YnN0cihNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAweDEwKSwgMSk7XHJcbiAgfVxyXG4gIHNbMTRdID0gXCI0XCI7ICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcclxuICBzWzE5XSA9IGhleERpZ2l0cy5zdWJzdHIoKHNbMTldICYgMHgzKSB8IDB4OCwgMSk7ICAvLyBiaXRzIDYtNyBvZiB0aGUgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZCB0byAwMVxyXG4gIHNbOF0gPSBzWzEzXSA9IHNbMThdID0gc1syM10gPSBcIi1cIjtcclxuXHJcbiAgbGV0IHV1aWQgPSBzLmpvaW4oXCJcIik7XHJcbiAgcmV0dXJuIHV1aWQ7XHJcbn1cclxuIiwiaW1wb3J0IHsgUHJvcGVydHlFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi9Ob2RlXCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIHtcbiAgcHVibGljIGVsTm9kZTogU1ZHRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBcInN2Z1wiKTtcbiAgcHVibGljIGVsUGF0aDogU1ZHUGF0aEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJwYXRoXCIpO1xuICBwcml2YXRlIGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KCk7XG4gIHByaXZhdGUgY3VydmF0dXJlOiBudW1iZXIgPSAwLjU7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZnJvbTogTm9kZSwgcHVibGljIGZyb21JbmRleDogbnVtYmVyID0gMCwgcHVibGljIHRvOiBOb2RlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBwdWJsaWMgdG9JbmRleDogbnVtYmVyID0gMCwgZGF0YTogYW55ID0gbnVsbCkge1xuICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoXCJtYWluLXBhdGhcIik7XG4gICAgdGhpcy5lbFBhdGguYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnJyk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZChcImNvbm5lY3Rpb25cIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGgpO1xuICAgIHRoaXMuZnJvbS5wYXJlbnQuZWxDYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuXG4gICAgdGhpcy5mcm9tLkFkZExpbmUodGhpcyk7XG4gICAgdGhpcy50bz8uQWRkTGluZSh0aGlzKTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kYXRhLkluaXREYXRhKFxuICAgICAge1xuICAgICAgICBmcm9tOiB0aGlzLmZyb20uR2V0SWQoKSxcbiAgICAgICAgZnJvbUluZGV4OiB0aGlzLmZyb21JbmRleCxcbiAgICAgICAgdG86IHRoaXMudG8/LkdldElkKCksXG4gICAgICAgIHRvSW5kZXg6IHRoaXMudG9JbmRleFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLi4uIHRoaXMuZnJvbS5wYXJlbnQubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5saW5lKSB8fCB7fVxuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5mcm9tLmRhdGEuQXBwZW5kKCdsaW5lcycsIHRoaXMuZGF0YSk7XG4gIH1cbiAgcHVibGljIHVwZGF0ZVRvKHRvX3g6IG51bWJlciwgdG9feTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLmZyb20gfHwgdGhpcy5mcm9tLmVsTm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgbGV0IHsgeDogZnJvbV94LCB5OiBmcm9tX3kgfTogYW55ID0gdGhpcy5mcm9tLmdldFBvc3Rpc2lvbkRvdCh0aGlzLmZyb21JbmRleCk7XG4gICAgdmFyIGxpbmVDdXJ2ZSA9IHRoaXMuY3JlYXRlQ3VydmF0dXJlKGZyb21feCwgZnJvbV95LCB0b194LCB0b195LCB0aGlzLmN1cnZhdHVyZSwgJ29wZW5jbG9zZScpO1xuICAgIHRoaXMuZWxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgbGluZUN1cnZlKTtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKTogTGluZSB7XG4gICAgLy9Qb3N0aW9uIG91dHB1dFxuICAgIGlmICh0aGlzLnRvICYmIHRoaXMudG8uZWxOb2RlKSB7XG4gICAgICBsZXQgeyB4OiB0b194LCB5OiB0b195IH06IGFueSA9IHRoaXMudG8uZ2V0UG9zdGlzaW9uRG90KHRoaXMudG9JbmRleCk7XG4gICAgICB0aGlzLnVwZGF0ZVRvKHRvX3gsIHRvX3kpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgQWN0aXZlKGZsZzogYW55ID0gdHJ1ZSkge1xuICAgIGlmIChmbGcpIHtcbiAgICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBjcmVhdGVDdXJ2YXR1cmUoc3RhcnRfcG9zX3g6IG51bWJlciwgc3RhcnRfcG9zX3k6IG51bWJlciwgZW5kX3Bvc194OiBudW1iZXIsIGVuZF9wb3NfeTogbnVtYmVyLCBjdXJ2YXR1cmVfdmFsdWU6IG51bWJlciwgdHlwZTogc3RyaW5nKSB7XG4gICAgbGV0IGxpbmVfeCA9IHN0YXJ0X3Bvc194O1xuICAgIGxldCBsaW5lX3kgPSBzdGFydF9wb3NfeTtcbiAgICBsZXQgeCA9IGVuZF9wb3NfeDtcbiAgICBsZXQgeSA9IGVuZF9wb3NfeTtcbiAgICBsZXQgY3VydmF0dXJlID0gY3VydmF0dXJlX3ZhbHVlO1xuICAgIC8vdHlwZSBvcGVuY2xvc2Ugb3BlbiBjbG9zZSBvdGhlclxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnb3Blbic6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ290aGVyJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuXG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcbiAgICB9XG4gIH1cbiAgcHVibGljIGRlbGV0ZShub2RlVGhpczogYW55ID0gbnVsbCwgaXNDbGVhckRhdGEgPSB0cnVlKSB7XG4gICAgdGhpcy5lbFBhdGg/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICBpZiAoaXNDbGVhckRhdGEpXG4gICAgICB0aGlzLmZyb20uZGF0YS5SZW1vdmUoJ2xpbmVzJywgdGhpcy5kYXRhKTtcbiAgICBpZiAodGhpcy5mcm9tICE9IG5vZGVUaGlzKVxuICAgICAgdGhpcy5mcm9tLlJlbW92ZUxpbmUodGhpcyk7XG4gICAgaWYgKHRoaXMudG8gIT0gbm9kZVRoaXMpXG4gICAgICB0aGlzLnRvPy5SZW1vdmVMaW5lKHRoaXMpO1xuICAgIHRoaXMuZWxQYXRoLnJlbW92ZSgpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZSgpO1xuICB9XG4gIHB1YmxpYyBTdGFydFNlbGVjdGVkKGU6IGFueSkge1xuICAgIHRoaXMuZnJvbS5wYXJlbnQuc2V0TGluZUNob29zZSh0aGlzKVxuICB9XG4gIHB1YmxpYyBzZXROb2RlVG8obm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgdG9JbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy50byA9IG5vZGU7XG4gICAgdGhpcy50b0luZGV4ID0gdG9JbmRleDtcbiAgfVxuICBwdWJsaWMgQ2xvbmUoKSB7XG4gICAgaWYgKHRoaXMudG8gJiYgdGhpcy50b0luZGV4ICYmIHRoaXMuZnJvbSAhPSB0aGlzLnRvKSB7XG4gICAgICByZXR1cm4gbmV3IExpbmUodGhpcy5mcm9tLCB0aGlzLmZyb21JbmRleCwgdGhpcy50bywgdGhpcy50b0luZGV4KS5VcGRhdGVVSSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0VGltZSB9IGZyb20gXCIuLi9jb3JlL1V0aWxzXCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xuXG5leHBvcnQgZW51bSBNb3ZlVHlwZSB7XG4gIE5vbmUgPSAwLFxuICBOb2RlID0gMSxcbiAgQ2FudmFzID0gMixcbiAgTGluZSA9IDMsXG59XG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3X0V2ZW50IHtcblxuICBwcml2YXRlIHRpbWVGYXN0Q2xpY2s6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgdGFnSW5nb3JlID0gWydpbnB1dCcsICdidXR0b24nLCAnYScsICd0ZXh0YXJlYSddO1xuXG4gIHByaXZhdGUgbW92ZVR5cGU6IE1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgcHJpdmF0ZSBmbGdEcmFwOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgZmxnTW92ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgYXZfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBhdl95OiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgcG9zX3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgcG9zX3k6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VfeDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBtb3VzZV95OiBudW1iZXIgPSAwO1xuXG4gIHByaXZhdGUgdGVtcExpbmU6IExpbmUgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudDogRGVzZ2luZXJWaWV3KSB7XG4gICAgLyogTW91c2UgYW5kIFRvdWNoIEFjdGlvbnMgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLlN0YXJ0TW92ZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuRW5kTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5Nb3ZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XG4gICAgLyogQ29udGV4dCBNZW51ICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgdGhpcy5jb250ZXh0bWVudS5iaW5kKHRoaXMpKTtcblxuICAgIC8qIERyb3AgRHJhcCAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5ub2RlX2Ryb3BFbmQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5ub2RlX2RyYWdvdmVyLmJpbmQodGhpcykpO1xuICAgIC8qIFpvb20gTW91c2UgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCB0aGlzLnpvb21fZW50ZXIuYmluZCh0aGlzKSk7XG4gICAgLyogRGVsZXRlICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd24uYmluZCh0aGlzKSk7XG4gIH1cblxuICBwcml2YXRlIGNvbnRleHRtZW51KGV2OiBhbnkpIHsgZXYucHJldmVudERlZmF1bHQoKTsgfVxuICBwcml2YXRlIG5vZGVfZHJhZ292ZXIoZXY6IGFueSkgeyBldi5wcmV2ZW50RGVmYXVsdCgpOyB9XG4gIHByaXZhdGUgbm9kZV9kcm9wRW5kKGV2OiBhbnkpIHtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGxldCBrZXlOb2RlOiBhbnkgPSB0aGlzLnBhcmVudC5tYWluLmdldENvbnRyb2xDaG9vc2UoKTtcbiAgICBpZiAoIWtleU5vZGUgJiYgZXYudHlwZSAhPT0gXCJ0b3VjaGVuZFwiKSB7XG4gICAgICBrZXlOb2RlID0gZXYuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJub2RlXCIpO1xuICAgIH1cbiAgICBpZiAoIWtleU5vZGUpIHJldHVybjtcbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChldi50eXBlID09PSBcInRvdWNobW92ZVwiKSB7XG4gICAgICBlX3Bvc194ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgZV9wb3NfeCA9IGV2LmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYuY2xpZW50WTtcbiAgICB9XG4gICAgbGV0IHggPSB0aGlzLnBhcmVudC5DYWxjWCh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54IC0gZV9wb3NfeCk7XG4gICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XG5cbiAgICBpZiAodGhpcy5wYXJlbnQuY2hlY2tPbmx5Tm9kZShrZXlOb2RlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9kZUl0ZW0gPSB0aGlzLnBhcmVudC5BZGROb2RlKGtleU5vZGUsIHtcbiAgICAgIGdyb3VwOiB0aGlzLnBhcmVudC5DdXJyZW50R3JvdXAoKVxuICAgIH0pO1xuICAgIG5vZGVJdGVtLnVwZGF0ZVBvc2l0aW9uKHgsIHkpO1xuICB9XG4gIHB1YmxpYyB6b29tX2VudGVyKGV2ZW50OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoZXZlbnQuY3RybEtleSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgaWYgKGV2ZW50LmRlbHRhWSA+IDApIHtcbiAgICAgICAgLy8gWm9vbSBPdXRcbiAgICAgICAgdGhpcy5wYXJlbnQuem9vbV9vdXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFpvb20gSW5cbiAgICAgICAgdGhpcy5wYXJlbnQuem9vbV9pbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcml2YXRlIFN0YXJ0TW92ZShldjogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKHRoaXMudGFnSW5nb3JlLmluY2x1ZGVzKGV2LnRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMudGltZUZhc3RDbGljayA9IGdldFRpbWUoKTtcbiAgICBpZiAoZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbWFpbi1wYXRoJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2hzdGFydFwiKSB7XG4gICAgICB0aGlzLnBvc194ID0gZXYudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wb3NfeCA9IGV2LmNsaWVudFg7XG4gICAgICB0aGlzLnBvc195ID0gZXYuY2xpZW50WTtcbiAgICB9XG4gICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLkNhbnZhcztcbiAgICBsZXQgbm9kZUNob29zZSA9IHRoaXMucGFyZW50LmdldE5vZGVDaG9vc2UoKTtcbiAgICBpZiAobm9kZUNob29zZSAmJiBub2RlQ2hvb3NlLkNoZWNrRWxlbWVudENoaWxkKGV2LnRhcmdldCkpIHtcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgfVxuICAgIGlmIChub2RlQ2hvb3NlICYmIHRoaXMubW92ZVR5cGUgPT0gTW92ZVR5cGUuTm9kZSAmJiBldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibm9kZS1kb3RcIikpIHtcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5MaW5lO1xuICAgICAgbGV0IGZyb21JbmRleCA9IGV2LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ25vZGUnKTtcbiAgICAgIHRoaXMudGVtcExpbmUgPSBuZXcgTGluZShub2RlQ2hvb3NlLCBmcm9tSW5kZXgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PSBNb3ZlVHlwZS5DYW52YXMpIHtcbiAgICAgIHRoaXMuYXZfeCA9IHRoaXMucGFyZW50LmdldFgoKTtcbiAgICAgIHRoaXMuYXZfeSA9IHRoaXMucGFyZW50LmdldFkoKTtcbiAgICB9XG4gICAgdGhpcy5mbGdEcmFwID0gdHJ1ZTtcbiAgICB0aGlzLmZsZ01vdmUgPSBmYWxzZTtcbiAgfVxuICBwdWJsaWMgTW92ZShldjogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLmZsZ0RyYXApIHJldHVybjtcbiAgICB0aGlzLmZsZ01vdmUgPSB0cnVlO1xuICAgIGxldCBlX3Bvc194ID0gMDtcbiAgICBsZXQgZV9wb3NfeSA9IDA7XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIGVfcG9zX3ggPSBldi50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICBlX3Bvc195ID0gZXYudG91Y2hlc1swXS5jbGllbnRZO1xuICAgIH0gZWxzZSB7XG4gICAgICBlX3Bvc194ID0gZXYuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi5jbGllbnRZO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMubW92ZVR5cGUpIHtcbiAgICAgIGNhc2UgTW92ZVR5cGUuQ2FudmFzOlxuICAgICAgICB7XG4gICAgICAgICAgbGV0IHggPSB0aGlzLmF2X3ggKyB0aGlzLnBhcmVudC5DYWxjWCgtKHRoaXMucG9zX3ggLSBlX3Bvc194KSlcbiAgICAgICAgICBsZXQgeSA9IHRoaXMuYXZfeSArIHRoaXMucGFyZW50LkNhbGNZKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKVxuICAgICAgICAgIHRoaXMucGFyZW50LnNldFgoeCk7XG4gICAgICAgICAgdGhpcy5wYXJlbnQuc2V0WSh5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBNb3ZlVHlwZS5Ob2RlOlxuICAgICAgICB7XG4gICAgICAgICAgbGV0IHggPSB0aGlzLnBhcmVudC5DYWxjWCh0aGlzLnBvc194IC0gZV9wb3NfeCk7XG4gICAgICAgICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBvc195IC0gZV9wb3NfeSk7XG4gICAgICAgICAgdGhpcy5wb3NfeCA9IGVfcG9zX3g7XG4gICAgICAgICAgdGhpcy5wb3NfeSA9IGVfcG9zX3k7XG4gICAgICAgICAgdGhpcy5wYXJlbnQuZ2V0Tm9kZUNob29zZSgpPy51cGRhdGVQb3NpdGlvbih4LCB5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBNb3ZlVHlwZS5MaW5lOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKHRoaXMudGVtcExpbmUpIHtcbiAgICAgICAgICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCAtIGVfcG9zX3gpO1xuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnBhcmVudC5DYWxjWSh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55IC0gZV9wb3NfeSk7XG4gICAgICAgICAgICB0aGlzLnRlbXBMaW5lLnVwZGF0ZVRvKHRoaXMucGFyZW50LmVsQ2FudmFzLm9mZnNldExlZnQgLSB4LCB0aGlzLnBhcmVudC5lbENhbnZhcy5vZmZzZXRUb3AgLSB5KTtcbiAgICAgICAgICAgIGxldCBub2RlRWwgPSBldi50YXJnZXQuY2xvc2VzdCgnW25vZGUtaWRdJyk7XG4gICAgICAgICAgICBsZXQgbm9kZUlkID0gbm9kZUVsPy5nZXRBdHRyaWJ1dGUoJ25vZGUtaWQnKTtcbiAgICAgICAgICAgIGxldCBub2RlVG8gPSBub2RlSWQgPyB0aGlzLnBhcmVudC5HZXROb2RlQnlJZChub2RlSWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKG5vZGVUbyAmJiBldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibm9kZS1kb3RcIikpIHtcbiAgICAgICAgICAgICAgbGV0IHRvSW5kZXggPSBldi50YXJnZXQuZ2V0QXR0cmlidXRlKCdub2RlJyk7XG4gICAgICAgICAgICAgIHRoaXMudGVtcExpbmUuc2V0Tm9kZVRvKG5vZGVUbywgdG9JbmRleCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgdG9JbmRleCA9IG5vZGVFbD8ucXVlcnlTZWxlY3RvcignLm5vZGUtZG90Jyk/LlswXT8uZ2V0QXR0cmlidXRlKCdub2RlJyk7XG4gICAgICAgICAgICAgIHRoaXMudGVtcExpbmUuc2V0Tm9kZVRvKG5vZGVUbywgdG9JbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2htb3ZlXCIpIHtcbiAgICAgIHRoaXMubW91c2VfeCA9IGVfcG9zX3g7XG4gICAgICB0aGlzLm1vdXNlX3kgPSBlX3Bvc195O1xuICAgIH1cbiAgfVxuICBwcml2YXRlIEVuZE1vdmUoZXY6IGFueSkge1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGlmICghdGhpcy5mbGdEcmFwKSByZXR1cm47XG4gICAgLy9maXggRmFzdCBDbGlja1xuICAgIGlmICgoKGdldFRpbWUoKSAtIHRoaXMudGltZUZhc3RDbGljaykgPCAxMDApIHx8ICF0aGlzLmZsZ01vdmUpIHtcbiAgICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5Ob25lO1xuICAgICAgdGhpcy5mbGdEcmFwID0gZmFsc2U7XG4gICAgICB0aGlzLmZsZ01vdmUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgZV9wb3NfeCA9IDA7XG4gICAgbGV0IGVfcG9zX3kgPSAwO1xuICAgIGlmIChldi50eXBlID09PSBcInRvdWNoZW5kXCIpIHtcbiAgICAgIGVfcG9zX3ggPSB0aGlzLm1vdXNlX3g7XG4gICAgICBlX3Bvc195ID0gdGhpcy5tb3VzZV95O1xuICAgIH0gZWxzZSB7XG4gICAgICBlX3Bvc194ID0gZXYuY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi5jbGllbnRZO1xuICAgIH1cbiAgICBpZiAodGhpcy5tb3ZlVHlwZSA9PT0gTW92ZVR5cGUuQ2FudmFzKSB7XG4gICAgICBsZXQgeCA9IHRoaXMuYXZfeCArIHRoaXMucGFyZW50LkNhbGNYKC0odGhpcy5wb3NfeCAtIGVfcG9zX3gpKVxuICAgICAgbGV0IHkgPSB0aGlzLmF2X3kgKyB0aGlzLnBhcmVudC5DYWxjWSgtKHRoaXMucG9zX3kgLSBlX3Bvc195KSlcbiAgICAgIHRoaXMucGFyZW50LnNldFgoeCk7XG4gICAgICB0aGlzLnBhcmVudC5zZXRZKHkpO1xuICAgICAgdGhpcy5hdl94ID0gMDtcbiAgICAgIHRoaXMuYXZfeSA9IDA7XG4gICAgfVxuICAgIGlmICh0aGlzLnRlbXBMaW5lKSB7XG4gICAgICB0aGlzLnRlbXBMaW5lLkNsb25lKCk7XG4gICAgICB0aGlzLnRlbXBMaW5lLmRlbGV0ZSgpO1xuICAgICAgdGhpcy50ZW1wTGluZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdGhpcy5wb3NfeCA9IGVfcG9zX3g7XG4gICAgdGhpcy5wb3NfeSA9IGVfcG9zX3k7XG4gICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gICAgdGhpcy5mbGdEcmFwID0gZmFsc2U7XG4gICAgdGhpcy5mbGdNb3ZlID0gZmFsc2U7XG4gIH1cbiAgcHJpdmF0ZSBrZXlkb3duKGV2OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoZXYua2V5ID09PSAnRGVsZXRlJyB8fCAoZXYua2V5ID09PSAnQmFja3NwYWNlJyAmJiBldi5tZXRhS2V5KSkge1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKVxuXG4gICAgICB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk/LmRlbGV0ZSgpO1xuICAgICAgdGhpcy5wYXJlbnQuZ2V0TGluZUNob29zZSgpPy5kZWxldGUoKTtcbiAgICB9XG4gICAgaWYgKGV2LmtleSA9PT0gJ0YyJykge1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3XCI7XG5cbmV4cG9ydCBjbGFzcyBEZXNnaW5lclZpZXdfVG9vbGJhciB7XG4gIHByaXZhdGUgZWxOb2RlOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBlbFBhdGhHcm91cDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJpdmF0ZSBidG5CYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudDogRGVzZ2luZXJWaWV3KSB7XG4gICAgdGhpcy5lbE5vZGUgPSBwYXJlbnQuZWxUb29sYmFyO1xuICAgIHRoaXMuZWxQYXRoR3JvdXAuY2xhc3NMaXN0LmFkZCgndG9vbGJhci1ncm91cCcpO1xuICAgIHRoaXMucmVuZGVyVUkoKTtcbiAgICB0aGlzLnJlbmRlclBhdGhHcm91cCgpO1xuICB9XG4gIHB1YmxpYyByZW5kZXJQYXRoR3JvdXAoKSB7XG4gICAgdGhpcy5idG5CYWNrLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgZGlzcGxheTpub25lO2ApO1xuICAgIHRoaXMuZWxQYXRoR3JvdXAuaW5uZXJIVE1MID0gYGA7XG4gICAgbGV0IGdyb3VwcyA9IHRoaXMucGFyZW50LkdldEdyb3VwTmFtZSgpO1xuICAgIGxldCBsZW4gPSBncm91cHMubGVuZ3RoIC0gMTtcbiAgICBpZiAobGVuIDwgMCkgcmV0dXJuO1xuICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRleHQuaW5uZXJIVE1MID0gYFJvb3RgO1xuICAgIHRoaXMuZWxQYXRoR3JvdXAuYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgdGhpcy5idG5CYWNrLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IGxlbjsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgbGV0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICB0ZXh0LmlubmVySFRNTCA9IGA+PiR7Z3JvdXBzW2luZGV4XX1gO1xuICAgICAgdGhpcy5lbFBhdGhHcm91cC5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHJlbmRlclVJKCkge1xuICAgIGlmICghdGhpcy5lbE5vZGUpIHJldHVybjtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgYDtcbiAgICB0aGlzLmJ0bkJhY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnBhcmVudC5CYWNrR3JvdXAoKSk7XG4gICAgdGhpcy5idG5CYWNrLmlubmVySFRNTCA9IGBCYWNrYDtcbiAgICBsZXQgYnRuWm9vbUluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuWm9vbUluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5wYXJlbnQuem9vbV9pbigpKTtcbiAgICBidG5ab29tSW4uaW5uZXJIVE1MID0gYCtgO1xuICAgIGxldCBidG5ab29tT3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuWm9vbU91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMucGFyZW50Lnpvb21fb3V0KCkpO1xuICAgIGJ0blpvb21PdXQuaW5uZXJIVE1MID0gYC1gO1xuICAgIGxldCBidG5ab29tUmVzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidG5ab29tUmVzZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnBhcmVudC56b29tX3Jlc2V0KCkpO1xuICAgIGJ0blpvb21SZXNldC5pbm5lckhUTUwgPSBgKmA7XG4gICAgbGV0IGJ1dHRvbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uR3JvdXAuY2xhc3NMaXN0LmFkZCgndG9vbGJhci1idXR0b24nKVxuICAgIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKHRoaXMuYnRuQmFjayk7XG4gICAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnRuWm9vbUluKTtcbiAgICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidG5ab29tT3V0KTtcbiAgICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidG5ab29tUmVzZXQpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxQYXRoR3JvdXApO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUZsb3cgfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcbmltcG9ydCB7IERhdGFWaWV3IH0gZnJvbSBcIi4uL2NvcmUvRWRpdG9yXCI7XG5cbmNvbnN0IGdldmFsID0gZXZhbDtcbmV4cG9ydCBjbGFzcyBOb2RlIGV4dGVuZHMgQmFzZUZsb3c8RGVzZ2luZXJWaWV3PiB7XG4gIC8qKlxuICAgKiBHRVQgU0VUIGZvciBEYXRhXG4gICAqL1xuICBwdWJsaWMgZ2V0TmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgnbmFtZScpO1xuICB9XG4gIHB1YmxpYyBnZXRZKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneScpO1xuICB9XG4gIHB1YmxpYyBzZXRZKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneScsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwdWJsaWMgZ2V0WCgpIHtcbiAgICByZXR1cm4gK3RoaXMuZGF0YS5HZXQoJ3gnKTtcbiAgfVxuICBwdWJsaWMgc2V0WCh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5TZXQoJ3gnLCB2YWx1ZSwgdGhpcyk7XG4gIH1cbiAgcHVibGljIENoZWNrS2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2tleScpID09IGtleTtcbiAgfVxuICBwdWJsaWMgZ2V0RGF0YUxpbmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5HZXQoJ2xpbmVzJykgPz8gW107XG4gIH1cbiAgcHVibGljIGVsQ29udGVudDogRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBhcnJMaW5lOiBMaW5lW10gPSBbXTtcbiAgcHJpdmF0ZSBvcHRpb246IGFueSA9IHt9O1xuICBwcml2YXRlIGFyckRhdGFWaWV3OiBEYXRhVmlld1tdID0gW107XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwYXJlbnQ6IERlc2dpbmVyVmlldywgcHJpdmF0ZSBrZXlOb2RlOiBhbnksIGRhdGE6IGFueSA9IHt9KSB7XG4gICAgc3VwZXIocGFyZW50KTtcbiAgICB0aGlzLm9wdGlvbiA9IHRoaXMucGFyZW50Lm1haW4uZ2V0Q29udHJvbE5vZGVCeUtleShrZXlOb2RlKTtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLm9wdGlvbj8ucHJvcGVydGllcztcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEuSW5pdERhdGEoZGF0YSwgdGhpcy5wcm9wZXJ0aWVzKTtcbiAgICAgIHRoaXMucGFyZW50LmRhdGEuQXBwZW5kKCdub2RlcycsIHRoaXMuZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5yZW5kZXJVSS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1ub2RlJyk7XG5cbiAgICBpZiAodGhpcy5vcHRpb24uY2xhc3MpIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb24uY2xhc3MpO1xuICAgIH1cbiAgICB0aGlzLnBhcmVudC5lbENhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdub2RlLWlkJywgdGhpcy5HZXRJZCgpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5yZW5kZXJVSSgpO1xuICB9XG4gIHByaXZhdGUgcmVuZGVyVUkoKSB7XG4gICAgaWYgKHRoaXMuZWxOb2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSByZXR1cm47XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBkaXNwbGF5Om5vbmU7YCk7XG4gICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtbGVmdFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXRvcFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7dGhpcy5vcHRpb24uaWNvbn0gJHt0aGlzLmdldE5hbWUoKX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJvZHlcIj4ke3RoaXMub3B0aW9uLmh0bWx9PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1ib3R0b21cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtcmlnaHRcIj48L2Rpdj5cbiAgICBgO1xuICAgIGNvbnN0IGFkZE5vZGVEb3QgPSAobnVtOiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkLCBzdGFydDogbnVtYmVyLCBxdWVyeTogc3RyaW5nKSA9PiB7XG4gICAgICBpZiAobnVtKSB7XG4gICAgICAgIGxldCBub2RlUXVlcnkgPSB0aGlzLmVsTm9kZS5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTtcbiAgICAgICAgaWYgKG5vZGVRdWVyeSkge1xuICAgICAgICAgIG5vZGVRdWVyeS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICBmb3IgKGxldCBpOiBudW1iZXIgPSAwOyBpIDwgbnVtOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBub2RlRG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBub2RlRG90LmNsYXNzTGlzdC5hZGQoJ25vZGUtZG90Jyk7XG4gICAgICAgICAgICBub2RlRG90LnNldEF0dHJpYnV0ZSgnbm9kZScsIGAke3N0YXJ0ICsgaX1gKTtcbiAgICAgICAgICAgIG5vZGVRdWVyeS5hcHBlbmRDaGlsZChub2RlRG90KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgYWRkTm9kZURvdCh0aGlzLm9wdGlvbj8uZG90Py5sZWZ0LCAxMDAwLCAnLm5vZGUtbGVmdCcpO1xuICAgIGFkZE5vZGVEb3QodGhpcy5vcHRpb24/LmRvdD8udG9wLCAyMDAwLCAnLm5vZGUtdG9wJyk7XG4gICAgYWRkTm9kZURvdCh0aGlzLm9wdGlvbj8uZG90Py5ib3R0b20sIDMwMDAsICcubm9kZS1ib3R0b20nKTtcbiAgICBhZGROb2RlRG90KHRoaXMub3B0aW9uPy5kb3Q/LnJpZ2h0LCA0MDAwLCAnLm5vZGUtcmlnaHQnKTtcblxuICAgIHRoaXMuZWxDb250ZW50ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLm5vZGUtY29udGVudCAuYm9keScpO1xuICAgIHRoaXMuVXBkYXRlVUkoKTtcbiAgICBnZXZhbChgKG5vZGUsdmlldyk9Pnske3RoaXMub3B0aW9uLnNjcmlwdH19YCkodGhpcywgdGhpcy5wYXJlbnQpO1xuICAgIHRoaXMuYXJyRGF0YVZpZXcuZm9yRWFjaCgoaXRlbSkgPT4gaXRlbS51bkJpbmREYXRhKCkpO1xuICAgIGlmICh0aGlzLmVsQ29udGVudClcbiAgICAgIHRoaXMuYXJyRGF0YVZpZXcgPSBEYXRhVmlldy5CaW5kVmlldyh0aGlzLmRhdGEsIHRoaXMuZWxDb250ZW50KTtcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKCkge1xuICAgIGlmICh0aGlzLkNoZWNrS2V5KCdub2RlX2dyb3VwJykpIHtcbiAgICAgIHRoaXMucGFyZW50Lm9wZW5Hcm91cCh0aGlzLkdldElkKCkpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgdXBkYXRlUG9zaXRpb24oeDogYW55LCB5OiBhbnksIGlDaGVjayA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuZWxOb2RlKSB7XG4gICAgICBsZXQgdGVtcHggPSB4O1xuICAgICAgbGV0IHRlbXB5ID0geTtcbiAgICAgIGlmICghaUNoZWNrKSB7XG4gICAgICAgIHRlbXB5ID0gKHRoaXMuZWxOb2RlLm9mZnNldFRvcCAtIHkpO1xuICAgICAgICB0ZW1weCA9ICh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0IC0geCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHggIT09IHRoaXMuZ2V0WCgpKSB7XG4gICAgICAgIHRoaXMuc2V0WCh0ZW1weCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHkgIT09IHRoaXMuZ2V0WSgpKSB7XG4gICAgICAgIHRoaXMuc2V0WSh0ZW1weSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHB1YmxpYyBBY3RpdmUoZmxnOiBhbnkgPSB0cnVlKSB7XG4gICAgaWYgKGZsZykge1xuICAgICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgUmVtb3ZlTGluZShsaW5lOiBMaW5lKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5hcnJMaW5lLmluZGV4T2YobGluZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuYXJyTGluZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcnJMaW5lO1xuICB9XG4gIHB1YmxpYyBBZGRMaW5lKGxpbmU6IExpbmUpIHtcbiAgICB0aGlzLmFyckxpbmUgPSBbLi4udGhpcy5hcnJMaW5lLCBsaW5lXTtcbiAgfVxuICBwdWJsaWMgZ2V0UG9zdGlzaW9uRG90KGluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgbGV0IGVsRG90OiBhbnkgPSB0aGlzLmVsTm9kZT8ucXVlcnlTZWxlY3RvcihgLm5vZGUtZG90W25vZGU9XCIke2luZGV4fVwiXWApO1xuICAgIGlmIChlbERvdCkge1xuICAgICAgbGV0IHkgPSAodGhpcy5lbE5vZGUub2Zmc2V0VG9wICsgZWxEb3Qub2Zmc2V0VG9wICsgMTIpO1xuICAgICAgbGV0IHggPSAodGhpcy5lbE5vZGUub2Zmc2V0TGVmdCArIGVsRG90Lm9mZnNldExlZnQgKyAxMik7XG4gICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGB0b3A6ICR7dGhpcy5nZXRZKCl9cHg7IGxlZnQ6ICR7dGhpcy5nZXRYKCl9cHg7YCk7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uVXBkYXRlVUkoKTtcbiAgICB9KVxuICB9XG4gIHB1YmxpYyBkZWxldGUoaXNDbGVhckRhdGEgPSB0cnVlKSB7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uZGVsZXRlKHRoaXMsIGlzQ2xlYXJEYXRhKSk7XG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxuICAgICAgdGhpcy5kYXRhLmRlbGV0ZSgpO1xuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5SZW1vdmVEYXRhRXZlbnQoKTtcbiAgICB9XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZSgpO1xuICAgIHRoaXMuYXJyTGluZSA9IFtdO1xuICAgIGlmIChpc0NsZWFyRGF0YSlcbiAgICAgIHRoaXMucGFyZW50LlJlbW92ZU5vZGUodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7fSk7XG4gIH1cbiAgcHVibGljIFJlbmRlckxpbmUoKSB7XG4gICAgdGhpcy5nZXREYXRhTGluZSgpLmZvckVhY2goKGl0ZW06IERhdGFGbG93KSA9PiB7XG4gICAgICBsZXQgbm9kZUZyb20gPSB0aGlzO1xuICAgICAgbGV0IG5vZGVUbyA9IHRoaXMucGFyZW50LkdldE5vZGVCeUlkKGl0ZW0uR2V0KCd0bycpKTtcbiAgICAgIGxldCB0b0luZGV4ID0gaXRlbS5HZXQoJ3RvSW5kZXgnKTtcbiAgICAgIGxldCBmcm9tSW5kZXggPSBpdGVtLkdldCgnZnJvbUluZGV4Jyk7XG4gICAgICBuZXcgTGluZShub2RlRnJvbSwgZnJvbUluZGV4LCBub2RlVG8sIHRvSW5kZXgsIGl0ZW0pLlVwZGF0ZVVJKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEZsb3dDb3JlLCBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XG5pbXBvcnQgeyBFdmVudEVudW0sIFByb3BlcnR5RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuLi9jb3JlL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXdfRXZlbnQgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdfRXZlbnRcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlld19Ub29sYmFyIH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3X1Rvb2xiYXJcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSBcIi4vTm9kZVwiO1xuXG5leHBvcnQgY29uc3QgWm9vbSA9IHtcbiAgbWF4OiAxLjYsXG4gIG1pbjogMC42LFxuICB2YWx1ZTogMC4xLFxuICBkZWZhdWx0OiAxXG59XG5leHBvcnQgY2xhc3MgRGVzZ2luZXJWaWV3IGV4dGVuZHMgRmxvd0NvcmUge1xuXG4gIC8qKlxuICAgKiBHRVQgU0VUIGZvciBEYXRhXG4gICAqL1xuICBwdWJsaWMgZ2V0Wm9vbSgpIHtcbiAgICByZXR1cm4gK3RoaXMuZ2V0RGF0YUdyb3VwKCkuR2V0KCd6b29tJyk7XG4gIH1cbiAgcHVibGljIHNldFpvb20odmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmdldERhdGFHcm91cCgpLlNldCgnem9vbScsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwdWJsaWMgZ2V0WSgpIHtcbiAgICByZXR1cm4gK3RoaXMuZ2V0RGF0YUdyb3VwKCkuR2V0KCd5Jyk7XG4gIH1cbiAgcHVibGljIHNldFkodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmdldERhdGFHcm91cCgpLlNldCgneScsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwdWJsaWMgZ2V0WCgpIHtcbiAgICByZXR1cm4gK3RoaXMuZ2V0RGF0YUdyb3VwKCkuR2V0KCd4Jyk7XG4gIH1cbiAgcHVibGljIHNldFgodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmdldERhdGFHcm91cCgpLlNldCgneCcsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwcml2YXRlIGdyb3VwRGF0YTogRGF0YUZsb3cgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbGFzdEdyb3VwTmFtZTogc3RyaW5nID0gXCJcIjtcbiAgcHJpdmF0ZSBnZXREYXRhR3JvdXAoKTogRGF0YUZsb3cge1xuICAgIGlmICh0aGlzLiRsb2NrKSByZXR1cm4gdGhpcy5kYXRhO1xuICAgIC8vIGNhY2hlIGdyb3VwRGF0YVxuICAgIGlmICh0aGlzLmxhc3RHcm91cE5hbWUgPT09IHRoaXMuQ3VycmVudEdyb3VwKCkpIHJldHVybiB0aGlzLmdyb3VwRGF0YSA/PyB0aGlzLmRhdGE7XG4gICAgdGhpcy5sYXN0R3JvdXBOYW1lID0gdGhpcy5DdXJyZW50R3JvdXAoKTtcbiAgICBsZXQgZ3JvdXBzID0gdGhpcy5kYXRhLkdldCgnZ3JvdXBzJyk7XG4gICAgdGhpcy5ncm91cERhdGEgPSBncm91cHM/LmZpbHRlcigoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0uR2V0KCdncm91cCcpID09IHRoaXMubGFzdEdyb3VwTmFtZSk/LlswXTtcblxuICAgIGlmICghdGhpcy5ncm91cERhdGEpIHtcbiAgICAgIHRoaXMuZ3JvdXBEYXRhID0gbmV3IERhdGFGbG93KHRoaXMubWFpbiwge1xuICAgICAgICBrZXk6IFByb3BlcnR5RW51bS5ncm91cENhdmFzLFxuICAgICAgICBncm91cDogdGhpcy5sYXN0R3JvdXBOYW1lXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGF0YS5BcHBlbmQoJ2dyb3VwcycsIHRoaXMuZ3JvdXBEYXRhKTtcbiAgICAgIHRoaXMuZ3JvdXBEYXRhLm9uU2FmZShFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5VcGRhdGVVSS5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ncm91cERhdGEub25TYWZlKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLlVwZGF0ZVVJLmJpbmQodGhpcykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ncm91cERhdGE7XG4gIH1cbiAgcHJpdmF0ZSBncm91cDogYW55W10gPSBbXTtcbiAgcHVibGljIEdldEdyb3VwTmFtZSgpOiBhbnlbXSB7XG4gICAgcmV0dXJuIHRoaXMuZ3JvdXAubWFwKChpdGVtKSA9PiB0aGlzLkdldERhdGFCeUlkKGl0ZW0pPy5HZXQoJ25hbWUnKSk7XG4gIH1cbiAgcHVibGljIEJhY2tHcm91cCgpIHtcbiAgICB0aGlzLmdyb3VwLnNwbGljZSgwLCAxKTtcbiAgICB0aGlzLnRvb2xiYXIucmVuZGVyUGF0aEdyb3VwKCk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHB1YmxpYyBDdXJyZW50R3JvdXAoKSB7XG4gICAgbGV0IG5hbWUgPSB0aGlzLmdyb3VwPy5bMF07XG5cbiAgICBpZiAobmFtZSAmJiBuYW1lICE9ICcnKSB7XG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgcmV0dXJuICdyb290JztcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKGlkOiBhbnkpIHtcbiAgICB0aGlzLmdyb3VwID0gW2lkLCAuLi50aGlzLmdyb3VwXTtcbiAgICB0aGlzLnRvb2xiYXIucmVuZGVyUGF0aEdyb3VwKCk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHByaXZhdGUgbGluZUNob29zZTogTGluZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldExpbmVDaG9vc2Uobm9kZTogTGluZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxpbmVDaG9vc2UpIHRoaXMubGluZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubGluZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubGluZUNob29zZSkge1xuICAgICAgdGhpcy5saW5lQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXROb2RlQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRMaW5lQ2hvb3NlKCk6IExpbmUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmxpbmVDaG9vc2U7XG4gIH1cbiAgcHJpdmF0ZSBub2RlczogTm9kZVtdID0gW107XG4gIHByaXZhdGUgbm9kZUNob29zZTogTm9kZSB8IHVuZGVmaW5lZDtcbiAgcHVibGljIHNldE5vZGVDaG9vc2Uobm9kZTogTm9kZSB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHRoaXMubm9kZUNob29zZS5BY3RpdmUoZmFsc2UpO1xuICAgIHRoaXMubm9kZUNob29zZSA9IG5vZGU7XG4gICAgaWYgKHRoaXMubm9kZUNob29zZSkge1xuICAgICAgdGhpcy5ub2RlQ2hvb3NlLkFjdGl2ZSgpO1xuICAgICAgdGhpcy5zZXRMaW5lQ2hvb3NlKHVuZGVmaW5lZCk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIHsgZGF0YTogdGhpcy5ub2RlQ2hvb3NlLmRhdGEgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiB0aGlzLmRhdGEgfSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXROb2RlQ2hvb3NlKCk6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLm5vZGVDaG9vc2U7XG4gIH1cbiAgcHVibGljIEFkZE5vZGVJdGVtKGRhdGE6IGFueSk6IE5vZGUge1xuICAgIHJldHVybiB0aGlzLkFkZE5vZGUoZGF0YS5HZXQoJ2tleScpLCBkYXRhKTtcbiAgfVxuICBwdWJsaWMgQWRkTm9kZShrZXlOb2RlOiBzdHJpbmcsIGRhdGE6IGFueSA9IHt9KTogTm9kZSB7XG4gICAgcmV0dXJuIHRoaXMuSW5zZXJ0Tm9kZShuZXcgTm9kZSh0aGlzLCBrZXlOb2RlLCBkYXRhKSk7XG4gIH1cbiAgcHVibGljIEluc2VydE5vZGUobm9kZTogTm9kZSk6IE5vZGUge1xuICAgIHRoaXMubm9kZXMgPSBbLi4udGhpcy5ub2Rlcywgbm9kZV07XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcHVibGljIFJlbW92ZU5vZGUobm9kZTogTm9kZSkge1xuICAgIHZhciBpbmRleCA9IHRoaXMubm9kZXMuaW5kZXhPZihub2RlKTtcbiAgICB0aGlzLmRhdGEuUmVtb3ZlKCdub2RlcycsIG5vZGUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLm5vZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG4gIHB1YmxpYyBDbGVhck5vZGUoKSB7XG4gICAgdGhpcy5ub2Rlcz8uZm9yRWFjaChpdGVtID0+IGl0ZW0uZGVsZXRlKGZhbHNlKSk7XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuICB9XG4gIHB1YmxpYyBHZXREYXRhQWxsTm9kZSgpOiBhbnlbXSB7XG4gICAgcmV0dXJuICh0aGlzLmRhdGEuR2V0KCdub2RlcycpID8/IFtdKTtcbiAgfVxuICBwdWJsaWMgR2V0RGF0YU5vZGUoKTogYW55W10ge1xuICAgIHJldHVybiB0aGlzLkdldERhdGFBbGxOb2RlKCkuZmlsdGVyKChpdGVtOiBEYXRhRmxvdykgPT4gaXRlbS5HZXQoXCJncm91cFwiKSA9PT0gdGhpcy5DdXJyZW50R3JvdXAoKSk7XG4gIH1cbiAgLyoqXG4gICAqIFZhcmlidXRlXG4gICovXG4gIHB1YmxpYyBlbENhbnZhczogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHVibGljIGVsVG9vbGJhcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHVibGljIHRvb2xiYXI6IERlc2dpbmVyVmlld19Ub29sYmFyO1xuICBwdWJsaWMgJGxvY2s6IGJvb2xlYW4gPSB0cnVlO1xuICBwcml2YXRlIHpvb21fbGFzdF92YWx1ZTogYW55ID0gMTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGVsTm9kZTogSFRNTEVsZW1lbnQsIHB1YmxpYyBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5lbE5vZGUgPSBlbE5vZGU7XG4gICAgbGV0IHByb3BlcnRpZXM6IGFueSA9IHRoaXMubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5tYWluKTtcbiAgICB0aGlzLmRhdGEuSW5pdERhdGEoe30sIHByb3BlcnRpZXMpO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9ICcnO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rlc2dpbmVyLXZpZXcnKVxuICAgIHRoaXMuZWxDYW52YXMuY2xhc3NMaXN0LnJlbW92ZShcImRlc2dpbmVyLWNhbnZhc1wiKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCdkZXNnaW5lci12aWV3JylcbiAgICB0aGlzLmVsQ2FudmFzLmNsYXNzTGlzdC5hZGQoXCJkZXNnaW5lci1jYW52YXNcIik7XG4gICAgdGhpcy5lbFRvb2xiYXIuY2xhc3NMaXN0LmFkZChcImRlc2dpbmVyLXRvb2xiYXJcIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbENhbnZhcyk7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFRvb2xiYXIpO1xuICAgIHRoaXMuZWxOb2RlLnRhYkluZGV4ID0gMDtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gICAgdGhpcy5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5SZW5kZXJVSS5iaW5kKHRoaXMpKTtcbiAgICBuZXcgRGVzZ2luZXJWaWV3X0V2ZW50KHRoaXMpO1xuICAgIHRoaXMudG9vbGJhciA9IG5ldyBEZXNnaW5lclZpZXdfVG9vbGJhcih0aGlzKTtcbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVWaWV3KHg6IGFueSwgeTogYW55LCB6b29tOiBhbnkpIHtcbiAgICB0aGlzLmVsQ2FudmFzLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt4fXB4LCAke3l9cHgpIHNjYWxlKCR7em9vbX0pYDtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy51cGRhdGVWaWV3KHRoaXMuZ2V0WCgpLCB0aGlzLmdldFkoKSwgdGhpcy5nZXRab29tKCkpO1xuICB9XG4gIHB1YmxpYyBSZW5kZXJVSShkZXRhaWw6IGFueSA9IHt9KSB7XG4gICAgaWYgKGRldGFpbC5zZW5kZXIgJiYgZGV0YWlsLnNlbmRlciBpbnN0YW5jZW9mIE5vZGUpIHJldHVybjtcbiAgICBpZiAoZGV0YWlsLnNlbmRlciAmJiBkZXRhaWwuc2VuZGVyIGluc3RhbmNlb2YgRGVzZ2luZXJWaWV3KSB7XG4gICAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuQ2xlYXJOb2RlKCk7XG4gICAgdGhpcy5HZXREYXRhTm9kZSgpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgdGhpcy5BZGROb2RlSXRlbShpdGVtKTtcbiAgICB9KTtcbiAgICB0aGlzLkdldEFsbE5vZGUoKS5mb3JFYWNoKChpdGVtOiBOb2RlKSA9PiB7XG4gICAgICBpdGVtLlJlbmRlckxpbmUoKTtcbiAgICB9KVxuICAgIHRoaXMuVXBkYXRlVUkoKTtcbiAgfVxuICBwdWJsaWMgT3BlbigkZGF0YTogRGF0YUZsb3cpIHtcbiAgICB0aGlzLmRhdGEgPSAkZGF0YTtcbiAgICB0aGlzLiRsb2NrID0gZmFsc2U7XG4gICAgdGhpcy5sYXN0R3JvdXBOYW1lID0gJyc7XG4gICAgdGhpcy5ncm91cERhdGEgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5ncm91cCA9IFtdO1xuICAgIHRoaXMudG9vbGJhci5yZW5kZXJQYXRoR3JvdXAoKTtcbiAgICB0aGlzLkJpbmREYXRhRXZlbnQoKTtcbiAgICB0aGlzLlJlbmRlclVJKCk7XG4gIH1cbiAgcHVibGljIENhbGNYKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudFdpZHRoIC8gKHRoaXMuZWxOb2RlPy5jbGllbnRXaWR0aCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHVibGljIENhbGNZKG51bWJlcjogYW55KSB7XG4gICAgcmV0dXJuIG51bWJlciAqICh0aGlzLmVsQ2FudmFzLmNsaWVudEhlaWdodCAvICh0aGlzLmVsTm9kZT8uY2xpZW50SGVpZ2h0ICogdGhpcy5nZXRab29tKCkpKTtcbiAgfVxuICBwdWJsaWMgR2V0QWxsTm9kZSgpOiBOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzIHx8IFtdO1xuICB9XG4gIHB1YmxpYyBHZXROb2RlQnlJZChpZDogc3RyaW5nKTogTm9kZSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuR2V0QWxsTm9kZSgpLmZpbHRlcihub2RlID0+IG5vZGUuR2V0SWQoKSA9PSBpZCk/LlswXTtcbiAgfVxuXG4gIHB1YmxpYyBHZXREYXRhQnlJZChpZDogc3RyaW5nKTogRGF0YUZsb3cgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5HZXREYXRhQWxsTm9kZSgpLmZpbHRlcigoaXRlbSkgPT4gaXRlbS5HZXQoJ2lkJykgPT09IGlkKT8uWzBdO1xuICB9XG4gIGNoZWNrT25seU5vZGUoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gKHRoaXMubWFpbi5nZXRDb250cm9sQnlLZXkoa2V5KS5vbmx5Tm9kZSkgJiYgdGhpcy5ub2Rlcy5maWx0ZXIoaXRlbSA9PiBpdGVtLkNoZWNrS2V5KGtleSkpLmxlbmd0aCA+IDA7XG4gIH1cbiAgcHVibGljIHpvb21fcmVmcmVzaChmbGc6IGFueSA9IDApIHtcbiAgICBsZXQgdGVtcF96b29tID0gZmxnID09IDAgPyBab29tLmRlZmF1bHQgOiAodGhpcy5nZXRab29tKCkgKyBab29tLnZhbHVlICogZmxnKTtcbiAgICBpZiAoWm9vbS5tYXggPj0gdGVtcF96b29tICYmIHRlbXBfem9vbSA+PSBab29tLm1pbikge1xuICAgICAgdGhpcy5zZXRYKCh0aGlzLmdldFgoKSAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRlbXBfem9vbSk7XG4gICAgICB0aGlzLnNldFkoKHRoaXMuZ2V0WSgpIC8gdGhpcy56b29tX2xhc3RfdmFsdWUpICogdGVtcF96b29tKTtcbiAgICAgIHRoaXMuem9vbV9sYXN0X3ZhbHVlID0gdGVtcF96b29tO1xuICAgICAgdGhpcy5zZXRab29tKHRoaXMuem9vbV9sYXN0X3ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHpvb21faW4oKSB7XG4gICAgdGhpcy56b29tX3JlZnJlc2goMSk7XG4gIH1cbiAgcHVibGljIHpvb21fb3V0KCkge1xuICAgIHRoaXMuem9vbV9yZWZyZXNoKC0xKTtcbiAgfVxuICBwdWJsaWMgem9vbV9yZXNldCgpIHtcbiAgICB0aGlzLnpvb21fcmVmcmVzaCgwKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5pbXBvcnQgeyBFdmVudEVudW0gfSBmcm9tIFwiLi4vY29yZS9Db25zdGFudFwiO1xyXG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi4vZGVzZ2luZXIvRGVzZ2luZXJWaWV3XCI7XHJcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3RG9jayBleHRlbmRzIERvY2tCYXNlIHtcclxuICBwcml2YXRlIHZpZXc6IERlc2dpbmVyVmlldyB8IHVuZGVmaW5lZDtcclxuICBwdWJsaWMgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7XHJcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xyXG5cclxuICAgIHRoaXMudmlldyA9IG5ldyBEZXNnaW5lclZpZXcodGhpcy5lbE5vZGUsIG1haW4pO1xyXG4gICAgdGhpcy52aWV3Lm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkYXRhOiBhbnkpID0+IHsgbWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCBkYXRhKTsgfSk7XHJcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm9wZW5Qcm9qZWN0LCAoaXRlbTogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMudmlldz8uT3BlbihpdGVtLmRhdGEpO1xyXG4gICAgICB0aGlzLm1haW4uU2V0UHJvamVjdE9wZW4oaXRlbS5kYXRhKTtcclxuICAgIH0pXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcbmltcG9ydCB7IERvY2tFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IENvbnRyb2xEb2NrIH0gZnJvbSBcIi4vQ29udHJvbERvY2tcIjtcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcbmltcG9ydCB7IFByb2plY3REb2NrIH0gZnJvbSBcIi4vUHJvamVjdERvY2tcIjtcbmltcG9ydCB7IFByb3BlcnR5RG9jayB9IGZyb20gXCIuL1Byb3BlcnR5RG9ja1wiO1xuaW1wb3J0IHsgVGFiRG9jayB9IGZyb20gXCIuL1RhYkRvY2tcIjtcbmltcG9ydCB7IFZpZXdEb2NrIH0gZnJvbSBcIi4vVmlld0RvY2tcIjtcblxuZXhwb3J0IGNsYXNzIERvY2tNYW5hZ2VyIHtcbiAgcHJpdmF0ZSAkZG9ja01hbmFnZXI6IGFueSA9IHt9O1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHsgfVxuICBwdWJsaWMgcmVzZXQoKSB7XG4gICAgdGhpcy4kZG9ja01hbmFnZXIgPSB7fTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0ubGVmdCwgQ29udHJvbERvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5sZWZ0LCBQcm9qZWN0RG9jayk7XG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLnJpZ2h0LCBQcm9wZXJ0eURvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS52aWV3LCBWaWV3RG9jayk7XG4gIC8vICB0aGlzLmFkZERvY2soRG9ja0VudW0udG9wLCBUYWJEb2NrKTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0uYm90dG9tLCBEb2NrQmFzZSk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHB1YmxpYyBhZGREb2NrKCRrZXk6IHN0cmluZywgJHZpZXc6IGFueSkge1xuICAgIGlmICghdGhpcy4kZG9ja01hbmFnZXJbJGtleV0pXG4gICAgICB0aGlzLiRkb2NrTWFuYWdlclska2V5XSA9IFtdO1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldID0gWy4uLnRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldLCAkdmlld107XG4gIH1cblxuICBwdWJsaWMgUmVuZGVyVUkoKSB7XG4gICAgdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cInZzLWxlZnQgdnMtZG9ja1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInZzLWNvbnRlbnRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZzLXRvcCB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy12aWV3IHZzLWRvY2tcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInZzLWJvdHRvbSB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1yaWdodCB2cy1kb2NrXCI+PC9kaXY+XG4gICAgYDtcbiAgICBPYmplY3Qua2V5cyh0aGlzLiRkb2NrTWFuYWdlcikuZm9yRWFjaCgoa2V5OiBzdHJpbmcpID0+IHtcbiAgICAgIGxldCBxdWVyeVNlbGVjdG9yID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgLiR7a2V5fWApO1xuICAgICAgaWYgKHF1ZXJ5U2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy4kZG9ja01hbmFnZXJba2V5XS5mb3JFYWNoKCgkaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgbmV3ICRpdGVtKHF1ZXJ5U2VsZWN0b3IsIHRoaXMubWFpbik7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSAnLi9jb3JlL0Jhc2VGbG93JztcbmltcG9ydCB7IERvY2tNYW5hZ2VyIH0gZnJvbSAnLi9kb2NrL0RvY2tNYW5hZ2VyJztcbmltcG9ydCB7IEV2ZW50RmxvdyB9IGZyb20gJy4vY29yZS9FdmVudEZsb3cnO1xuaW1wb3J0IHsgY29tcGFyZVNvcnQsIEV2ZW50RW51bSwgUHJvcGVydHlFbnVtIH0gZnJvbSAnLi9jb3JlL0NvbnN0YW50JztcbmltcG9ydCB7IGdldFRpbWUsIGdldFV1aWQgfSBmcm9tICcuL2NvcmUvVXRpbHMnO1xuaW1wb3J0IHsgRGF0YUZsb3cgfSBmcm9tICcuL2NvcmUvRGF0YUZsb3cnO1xuZXhwb3J0IGNsYXNzIFZpc3VhbEZsb3cgaW1wbGVtZW50cyBJTWFpbiB7XG4gIHByaXZhdGUgJGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KHRoaXMpO1xuICBwcml2YXRlICRwcm9qZWN0T3BlbjogYW55O1xuICBwcml2YXRlICRwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSAkY29udHJvbDogYW55ID0ge307XG4gIHByaXZhdGUgJGNvbnRyb2xEZWZhdWx0OiBhbnkgPSB7XG4gICAgbm9kZV9iZWdpbjoge1xuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXBsYXlcIj48L2k+JyxcbiAgICAgIHNvcnQ6IDAsXG4gICAgICBuYW1lOiAnQmVnaW4nLFxuICAgICAgY2xhc3M6ICdub2RlLXRlc3QnLFxuICAgICAgaHRtbDogJycsXG4gICAgICBkb3Q6IHtcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMSxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgYm90dG9tOiAxLFxuICAgICAgfSxcbiAgICAgIG9ubHlOb2RlOiB0cnVlXG4gICAgfSxcbiAgICBub2RlX2VuZDoge1xuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLXN0b3BcIj48L2k+JyxcbiAgICAgIHNvcnQ6IDAsXG4gICAgICBuYW1lOiAnRW5kJyxcbiAgICAgIGh0bWw6ICcnLFxuICAgICAgZG90OiB7XG4gICAgICAgIGxlZnQ6IDEsXG4gICAgICAgIHRvcDogMSxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgIH0sXG4gICAgICBvbmx5Tm9kZTogdHJ1ZVxuICAgIH0sXG4gICAgbm9kZV9pZjoge1xuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWVxdWFsc1wiPjwvaT4nLFxuICAgICAgc29ydDogMCxcbiAgICAgIG5hbWU6ICdJZicsXG4gICAgICBodG1sOiAnPGRpdj5jb25kaXRpb246PGJyLz48aW5wdXQgbm9kZTptb2RlbD1cImNvbmRpdGlvblwiLz48L2Rpdj4nLFxuICAgICAgc2NyaXB0OiBgYCxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgY29uZGl0aW9uOiB7XG4gICAgICAgICAga2V5OiBcImNvbmRpdGlvblwiLFxuICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvdXRwdXQ6IDJcbiAgICB9LFxuICAgIG5vZGVfZ3JvdXA6IHtcbiAgICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1vYmplY3QtZ3JvdXBcIj48L2k+JyxcbiAgICAgIHNvcnQ6IDAsXG4gICAgICBuYW1lOiAnR3JvdXAnLFxuICAgICAgaHRtbDogJzxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBwM1wiPjxidXR0b24gY2xhc3M9XCJidG5Hb0dyb3VwIG5vZGUtZm9ybS1jb250cm9sXCI+R288L2J1dHRvbj48L2Rpdj4nLFxuICAgICAgc2NyaXB0OiBgbm9kZS5lbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bkdvR3JvdXAnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7bm9kZS5vcGVuR3JvdXAoKX0pO2AsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGNvbmRpdGlvbjoge1xuICAgICAgICAgIGtleTogXCJjb25kaXRpb25cIixcbiAgICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb3V0cHV0OiAyXG4gICAgfSxcbiAgICBub2RlX29wdGlvbjoge1xuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLW9iamVjdC1ncm91cFwiPjwvaT4nLFxuICAgICAgc29ydDogMCxcbiAgICAgIG5hbWU6ICdPcHRpb24nLFxuICAgICAgZG90OiB7XG4gICAgICAgIHRvcDogMSxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGxlZnQ6IDEsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgIH0sXG4gICAgICBodG1sOiBgXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuPkjhu40gdMOqbiA6PC9zcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDFcIj48L3NwYW4+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4+SOG7jSB0w6puIDo8L3NwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwMlwiPjwvc3Bhbj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudC1yb3dcIj48c3Bhbj5I4buNIHTDqm4gOjwvc3Bhbj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDAzXCI+PC9zcGFuPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuPkjhu40gdMOqbiA6PC9zcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDRcIj48L3NwYW4+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4+SOG7jSB0w6puIDo8L3NwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwNVwiPjwvc3Bhbj48L2Rpdj5cblxuXG4gICAgICA8L2Rpdj5cbiAgICAgIGAsXG4gICAgICBzY3JpcHQ6IGBub2RlLmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcuYnRuR29Hcm91cCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtub2RlLm9wZW5Hcm91cCgpfSk7YCxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgY29uZGl0aW9uOiB7XG4gICAgICAgICAga2V5OiBcImNvbmRpdGlvblwiLFxuICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvdXRwdXQ6IDJcbiAgICB9LFxuICAgIG5vZGVfcHJvamVjdDoge1xuICAgICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLW9iamVjdC1ncm91cFwiPjwvaT4nLFxuICAgICAgc29ydDogMCxcbiAgICAgIG5hbWU6ICdQcm9qZWN0JyxcbiAgICAgIGh0bWw6ICc8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcDNcIj48c2VsZWN0IGNsYXNzPVwibGlzdFByb2plY3Qgbm9kZS1mb3JtLWNvbnRyb2xcIiBub2RlOm1vZGVsPVwicHJvamVjdFwiPjwvc2VsZWN0PjwvZGl2PicsXG4gICAgICBzY3JpcHQ6IGBcbiAgICAgIGNvbnN0IHJlbG9hZFByb2plY3QgPSAoKT0+e1xuICAgICAgICBub2RlLmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcubGlzdFByb2plY3QnKS5pbm5lckh0bWw9Jyc7XG4gICAgICAgIGxldCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcbiAgICAgICAgb3B0aW9uLnRleHQ9J25vbmUnO1xuICAgICAgICBvcHRpb24udmFsdWU9Jyc7XG4gICAgICAgIG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5saXN0UHJvamVjdCcpLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIG5vZGUucGFyZW50Lm1haW4uZ2V0UHJvamVjdEFsbCgpLmZvckVhY2goKGl0ZW0pPT57XG4gICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgIG9wdGlvbi50ZXh0PWl0ZW0uR2V0KCduYW1lJyk7XG4gICAgICAgICAgb3B0aW9uLnZhbHVlPWl0ZW0uR2V0KCdpZCcpO1xuICAgICAgICAgIG5vZGUuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5saXN0UHJvamVjdCcpLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBub2RlLmVsTm9kZS5xdWVyeVNlbGVjdG9yKCcubGlzdFByb2plY3QnKS52YWx1ZT0gbm9kZS5kYXRhLkdldCgncHJvamVjdCcpXG4gICAgICB9XG4gICAgICByZWxvYWRQcm9qZWN0KCk7XG5cbiAgICAgO2AsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIHByb2plY3Q6IHtcbiAgICAgICAgICBrZXk6IFwicHJvamVjdFwiLFxuICAgICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvdXRwdXQ6IDJcbiAgICB9LFxuICB9XG4gIHByaXZhdGUgJGNvbnRyb2xDaG9vc2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlICRkb2NrTWFuYWdlcjogRG9ja01hbmFnZXI7XG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudEZsb3c7XG4gIHB1YmxpYyBnZXREb2NrTWFuYWdlcigpOiBEb2NrTWFuYWdlciB7XG4gICAgcmV0dXJuIHRoaXMuJGRvY2tNYW5hZ2VyO1xuICB9XG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub25TYWZlKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xuICB9XG4gIGdldENvbnRyb2xBbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2wgPz8ge307XG4gIH1cbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgb3B0aW9uOiBhbnkgPSBudWxsKSB7XG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XG4gICAgLy9zZXQgcHJvamVjdFxuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLnNvbHV0aW9uXSA9IHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGdldFRpbWUoKVxuICAgICAgfSxcbiAgICAgIGtleToge1xuICAgICAgICBkZWZhdWx0OiBQcm9wZXJ0eUVudW0uc29sdXRpb25cbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGBzb2x1dGlvbi0ke2dldFRpbWUoKX1gXG4gICAgICB9LFxuICAgICAgcHJvamVjdHM6IHtcbiAgICAgICAgZGVmYXVsdDogW11cbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLmxpbmVdID0ge1xuICAgICAga2V5OiB7XG4gICAgICAgIGRlZmF1bHQ6IFByb3BlcnR5RW51bS5saW5lXG4gICAgICB9LFxuICAgICAgZnJvbToge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgZnJvbUluZGV4OiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICB0bzoge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgdG9JbmRleDoge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9XG4gICAgfTtcbiAgICAvL3NldCBwcm9qZWN0XG4gICAgdGhpcy4kcHJvcGVydGllc1tQcm9wZXJ0eUVudW0ubWFpbl0gPSB7XG4gICAgICAuLi4ob3B0aW9uPy5wcm9wZXJ0aWVzIHx8IHt9KSxcbiAgICAgIGlkOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGdldFRpbWUoKVxuICAgICAgfSxcbiAgICAgIG5hbWU6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gYGFwcC0ke2dldFRpbWUoKX1gXG4gICAgICB9LFxuICAgICAga2V5OiB7XG4gICAgICAgIGRlZmF1bHQ6IFByb3BlcnR5RW51bS5tYWluXG4gICAgICB9LFxuICAgICAgZ3JvdXBzOiB7XG4gICAgICAgIGRlZmF1bHQ6IFtdXG4gICAgICB9LFxuICAgICAgbm9kZXM6IHtcbiAgICAgICAgZGVmYXVsdDogW11cbiAgICAgIH1cbiAgICB9O1xuICAgIC8vIHNldCBjb250cm9sXG4gICAgdGhpcy4kY29udHJvbCA9IHsgLi4ub3B0aW9uPy5jb250cm9sIHx8IHt9LCAuLi50aGlzLiRjb250cm9sRGVmYXVsdCB9O1xuICAgIGxldCBjb250cm9sVGVtcDogYW55ID0ge307XG4gICAgT2JqZWN0LmtleXModGhpcy4kY29udHJvbCkubWFwKChrZXkpID0+ICh7IC4uLnRoaXMuJGNvbnRyb2xba2V5XSwga2V5LCBzb3J0OiAodGhpcy4kY29udHJvbFtrZXldLnNvcnQgPT09IHVuZGVmaW5lZCA/IDk5OTk5IDogdGhpcy4kY29udHJvbFtrZXldLnNvcnQpIH0pKS5zb3J0KGNvbXBhcmVTb3J0KS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIGNvbnRyb2xUZW1wW2l0ZW0ua2V5XSA9IHtcbiAgICAgICAgZG90OiB7XG4gICAgICAgICAgbGVmdDogMSxcbiAgICAgICAgICB0b3A6IDEsXG4gICAgICAgICAgcmlnaHQ6IDEsXG4gICAgICAgICAgYm90dG9tOiAxLFxuICAgICAgICB9LFxuICAgICAgICAuLi5pdGVtXG4gICAgICB9O1xuICAgICAgdGhpcy4kcHJvcGVydGllc1tgbm9kZV8ke2l0ZW0ua2V5fWBdID0ge1xuICAgICAgICAuLi4oaXRlbS5wcm9wZXJ0aWVzIHx8IHt9KSxcbiAgICAgICAgaWQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZXRUaW1lKClcbiAgICAgICAgfSxcbiAgICAgICAga2V5OiB7XG4gICAgICAgICAgZGVmYXVsdDogaXRlbS5rZXlcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgIGRlZmF1bHQ6IGl0ZW0ua2V5XG4gICAgICAgIH0sXG4gICAgICAgIHg6IHtcbiAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHk6IHtcbiAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGdyb3VwOiB7XG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfSxcbiAgICAgICAgbGluZXM6IHtcbiAgICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLmdyb3VwQ2F2YXNdID0ge1xuICAgICAga2V5OiB7XG4gICAgICAgIGRlZmF1bHQ6IFByb3BlcnR5RW51bS5ncm91cENhdmFzXG4gICAgICB9LFxuICAgICAgZ3JvdXA6IHtcbiAgICAgICAgZGVmYXVsdDogJydcbiAgICAgIH0sXG4gICAgICB4OiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICB5OiB7XG4gICAgICAgIGRlZmF1bHQ6IDBcbiAgICAgIH0sXG4gICAgICB6b29tOiB7XG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgIH0sXG4gICAgfVxuICAgIHRoaXMuJGNvbnRyb2wgPSBjb250cm9sVGVtcDtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd2cy1jb250YWluZXInKTtcbiAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2cy1jb250YWluZXInKTtcbiAgICB0aGlzLiRkb2NrTWFuYWdlciA9IG5ldyBEb2NrTWFuYWdlcih0aGlzLmNvbnRhaW5lciwgdGhpcyk7XG4gICAgdGhpcy4kZG9ja01hbmFnZXIucmVzZXQoKTtcbiAgICB0aGlzLiRkYXRhLkluaXREYXRhKHt9LCB0aGlzLmdldFByb3BlcnR5QnlLZXkoUHJvcGVydHlFbnVtLnNvbHV0aW9uKSk7XG5cbiAgfVxuICBnZXRQcm9qZWN0QWxsKCk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy4kZGF0YS5HZXQoJ3Byb2plY3RzJykgPz8gW107XG4gIH1cbiAgb3BlbigkZGF0YTogYW55KTogdm9pZCB7XG4gICAgdGhpcy4kZGF0YS5Jbml0RGF0YSgkZGF0YSwgdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5zb2x1dGlvbikpO1xuICB9XG4gIFNldFByb2plY3RPcGVuKCRkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLiRwcm9qZWN0T3BlbiA9ICRkYXRhO1xuICB9XG4gIENoZWNrUHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiRwcm9qZWN0T3BlbiA9PSAkZGF0YTtcbiAgfVxuICBuZXdQcm9qZWN0KCk6IHZvaWQge1xuICAgIHRoaXMub3BlblByb2plY3Qoe30pO1xuICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLm5ld1Byb2plY3QsIHt9KTtcbiAgfVxuICBvcGVuUHJvamVjdCgkZGF0YTogYW55KTogdm9pZCB7XG4gICAgaWYgKCRkYXRhIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcbiAgICAgIGxldCAkcHJvamVjdDogYW55ID0gdGhpcy5nZXRQcm9qZWN0QnlJZCgkZGF0YS5HZXQoJ2lkJykpO1xuICAgICAgaWYgKCEkcHJvamVjdCkge1xuICAgICAgICAkcHJvamVjdCA9ICRkYXRhO1xuICAgICAgICB0aGlzLiRkYXRhLkFwcGVuZCgncHJvamVjdHMnLCAkcHJvamVjdCk7XG4gICAgICB9XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgJHByb2plY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZGF0YSA9IG5ldyBEYXRhRmxvdyh0aGlzKTtcbiAgICAgIGRhdGEuSW5pdERhdGEoJGRhdGEsIHRoaXMuZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0ubWFpbikpO1xuICAgICAgdGhpcy4kZGF0YS5BcHBlbmQoJ3Byb2plY3RzJywgZGF0YSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGEgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHsgZGF0YSB9KTtcbiAgICB9XG4gIH1cbiAgcHVibGljIGdldFByb2plY3RCeUlkKCRpZDogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuJGRhdGEuR2V0KCdwcm9qZWN0cycpLmZpbHRlcigoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0uR2V0KCdpZCcpID09PSAkaWQpPy5bMF07XG4gIH1cbiAgc2V0Q29udHJvbENob29zZShrZXk6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLiRjb250cm9sQ2hvb3NlID0ga2V5O1xuICB9XG4gIGdldENvbnRyb2xDaG9vc2UoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2xDaG9vc2U7XG4gIH1cbiAgZ2V0Q29udHJvbEJ5S2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNvbnRyb2xba2V5XSB8fCB7fTtcbiAgfVxuICBnZXRDb250cm9sTm9kZUJ5S2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnRoaXMuZ2V0Q29udHJvbEJ5S2V5KGtleSksXG4gICAgICBwcm9wZXJ0aWVzOiB0aGlzLmdldFByb3BlcnR5QnlLZXkoYG5vZGVfJHtrZXl9YClcbiAgICB9XG4gIH1cbiAgZ2V0UHJvcGVydHlCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLiRwcm9wZXJ0aWVzW2tleV07XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJFdmVudEVudW0iLCJEb2NrRW51bSIsIlByb3BlcnR5RW51bSIsImNvbXBhcmVTb3J0IiwiYSIsImIiLCJzb3J0IiwiRG9ja0Jhc2UiLCJtYWluIiwiZWxOb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZWxDb250ZW50IiwiY29uc3RydWN0b3IiLCJjb250YWluZXIiLCJ0aGlzIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJCb3hJbmZvIiwidGl0bGUiLCIkY2FsbGJhY2siLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJxdWVyeVNlbGVjdG9yIiwiQ29udHJvbERvY2siLCJzdXBlciIsIm5vZGUiLCJjb250cm9scyIsImdldENvbnRyb2xBbGwiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsIml0ZW0iLCJub2RlSXRlbSIsInNldEF0dHJpYnV0ZSIsImljb24iLCJuYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRyYWdTdGFydCIsImJpbmQiLCJkcmFnZW5kIiwiZSIsInNldENvbnRyb2xDaG9vc2UiLCJrZXkiLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZ2V0QXR0cmlidXRlIiwidHlwZSIsImRhdGFUcmFuc2ZlciIsInNldERhdGEiLCJQcm9qZWN0RG9jayIsInJlbmRlclVJIiwib24iLCJkZXRhaWwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX25vZGUiLCJkYXRhIiwiR2V0IiwiJG5vZGVSaWdodCIsImJ1dHRvbk5ldyIsIm5ld1Byb2plY3QiLCJnZXRQcm9qZWN0QWxsIiwicmVtb3ZlTGlzdGVuZXIiLCJDaGVja1Byb2plY3RPcGVuIiwiZGlzcGF0Y2giLCJFZGl0b3JUeXBlIiwiVGFnVmlldyIsIkRhdGFWaWV3IiwiZWwiLCJrZXlOYW1lIiwiYmluZERhdGEiLCJiaW5kSW5wdXQiLCJiaW5kRXZlbnQiLCJ1bkJpbmREYXRhIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwic2VuZGVyIiwiY29uc29sZSIsImxvZyIsInRhZ05hbWUiLCJpbmNsdWRlcyIsImlubmVyVGV4dCIsIlNldCIsInN0YXRpYyIsInJvb3QiLCJBcnJheSIsImZyb20iLCJtYXAiLCJFZGl0b3IiLCJpc0VkaXQiLCJlbElucHV0IiwiZWxMYWJlbCIsIkxhYmVsIiwiY2hhZ25lIiwib25TYWZlIiwiY2hhbmdlRGF0YSIsImRpc3Bvc2UiLCJUZXh0IiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwicmVuZGVyIiwic3dpdGNoTW9kZUVkaXQiLCJpbnB1dERhdGEiLCJJbmxpbmUiLCJzZXRUaW1lb3V0IiwiUHJvcGVydHlEb2NrIiwibGFzdERhdGEiLCJsYWJlbEtleXMiLCJoaWRlS2V5cyIsInNvcnRLZXlzIiwiZGF0YUpzb24iLCJwcm9wZXJ0aWVzIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnR5SXRlbSIsInByb3BlcnR5TGFiZWwiLCJwcm9wZXJ0eVZhbHVlIiwiRXZlbnRGbG93IiwiZXZlbnRzIiwiZXZlbnQiLCJjYWxsYmFjayIsImVycm9yIiwidW5kZWZpbmVkIiwibGlzdGVuZXJzIiwicHVzaCIsImxpc3RlbmVySW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZGV0YWlscyIsImxpc3RlbmVyIiwiRGF0YUZsb3ciLCJwcm9wZXJ0eSIsImxvYWQiLCJJbml0RGF0YSIsImV2ZW50RGF0YUNoYW5nZSIsImtleUNoaWxkIiwidmFsdWVDaGlsZCIsInNlbmRlckNoaWxkIiwiaW5kZXgiLCJSZW1vdmVFdmVudERhdGEiLCJPbkV2ZW50RGF0YSIsIkJpbmRFdmVudCIsImlzQXJyYXkiLCJsZW5ndGgiLCJpc0Rpc3BhdGNoIiwiU2V0RGF0YSIsImlzQ2xlYXJEYXRhIiwiJGRhdGEiLCJBcHBlbmQiLCJSZW1vdmUiLCJnZXRQcm9wZXJ0eUJ5S2V5IiwiZGVmYXVsdCIsInRvU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSnNvbiIsInJzIiwiZGVsZXRlIiwiRmxvd0NvcmUiLCJHZXRJZCIsIlNldElkIiwiaWQiLCJDaGVja0VsZW1lbnRDaGlsZCIsImNvbnRhaW5zIiwiU2V0RGF0YUZsb3ciLCJCaW5kRGF0YUV2ZW50IiwiUmVtb3ZlRGF0YUV2ZW50IiwiQmFzZUZsb3ciLCJwYXJlbnQiLCJnZXRUaW1lIiwiRGF0ZSIsIkxpbmUiLCJmcm9tSW5kZXgiLCJ0byIsInRvSW5kZXgiLCJjcmVhdGVFbGVtZW50TlMiLCJlbFBhdGgiLCJjdXJ2YXR1cmUiLCJTdGFydFNlbGVjdGVkIiwic2V0QXR0cmlidXRlTlMiLCJlbENhbnZhcyIsIkFkZExpbmUiLCJ1cGRhdGVUbyIsInRvX3giLCJ0b195IiwieCIsImZyb21feCIsInkiLCJmcm9tX3kiLCJnZXRQb3N0aXNpb25Eb3QiLCJsaW5lQ3VydmUiLCJjcmVhdGVDdXJ2YXR1cmUiLCJVcGRhdGVVSSIsIkFjdGl2ZSIsImZsZyIsInN0YXJ0X3Bvc194Iiwic3RhcnRfcG9zX3kiLCJlbmRfcG9zX3giLCJlbmRfcG9zX3kiLCJjdXJ2YXR1cmVfdmFsdWUiLCJsaW5lX3giLCJsaW5lX3kiLCJoeDEiLCJNYXRoIiwiYWJzIiwiaHgyIiwibm9kZVRoaXMiLCJSZW1vdmVMaW5lIiwic2V0TGluZUNob29zZSIsInNldE5vZGVUbyIsIkNsb25lIiwiTW92ZVR5cGUiLCJEZXNnaW5lclZpZXdfRXZlbnQiLCJ0aW1lRmFzdENsaWNrIiwidGFnSW5nb3JlIiwibW92ZVR5cGUiLCJOb25lIiwiZmxnRHJhcCIsImZsZ01vdmUiLCJhdl94IiwiYXZfeSIsInBvc194IiwicG9zX3kiLCJtb3VzZV94IiwibW91c2VfeSIsInRlbXBMaW5lIiwiRW5kTW92ZSIsIk1vdmUiLCJTdGFydE1vdmUiLCJjb250ZXh0bWVudSIsIm5vZGVfZHJvcEVuZCIsIm5vZGVfZHJhZ292ZXIiLCJ6b29tX2VudGVyIiwia2V5ZG93biIsImV2IiwicHJldmVudERlZmF1bHQiLCIkbG9jayIsImtleU5vZGUiLCJnZXRDb250cm9sQ2hvb3NlIiwiZ2V0RGF0YSIsImVfcG9zX3giLCJlX3Bvc195IiwidG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwiQ2FsY1giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJDYWxjWSIsImNoZWNrT25seU5vZGUiLCJBZGROb2RlIiwiZ3JvdXAiLCJDdXJyZW50R3JvdXAiLCJ1cGRhdGVQb3NpdGlvbiIsImN0cmxLZXkiLCJkZWx0YVkiLCJ6b29tX291dCIsInpvb21faW4iLCJ0b0xvd2VyQ2FzZSIsIkNhbnZhcyIsIm5vZGVDaG9vc2UiLCJnZXROb2RlQ2hvb3NlIiwiTm9kZSIsInNldE5vZGVDaG9vc2UiLCJnZXRYIiwiZ2V0WSIsInNldFgiLCJzZXRZIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsIm5vZGVFbCIsIm5vZGVJZCIsIm5vZGVUbyIsIkdldE5vZGVCeUlkIiwibWV0YUtleSIsImdldExpbmVDaG9vc2UiLCJEZXNnaW5lclZpZXdfVG9vbGJhciIsImVsUGF0aEdyb3VwIiwiYnRuQmFjayIsImVsVG9vbGJhciIsInJlbmRlclBhdGhHcm91cCIsImdyb3VwcyIsIkdldEdyb3VwTmFtZSIsImxlbiIsInRleHQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJCYWNrR3JvdXAiLCJidG5ab29tSW4iLCJidG5ab29tT3V0IiwiYnRuWm9vbVJlc2V0Iiwiem9vbV9yZXNldCIsImJ1dHRvbkdyb3VwIiwiZ2V2YWwiLCJldmFsIiwiZ2V0TmFtZSIsIkNoZWNrS2V5IiwiZ2V0RGF0YUxpbmUiLCJhcnJMaW5lIiwib3B0aW9uIiwiYXJyRGF0YVZpZXciLCJnZXRDb250cm9sTm9kZUJ5S2V5IiwiY2xhc3MiLCJhY3RpdmVFbGVtZW50IiwiaHRtbCIsImFkZE5vZGVEb3QiLCJudW0iLCJzdGFydCIsInF1ZXJ5Iiwibm9kZVF1ZXJ5IiwiaSIsIm5vZGVEb3QiLCJkb3QiLCJsZWZ0IiwidG9wIiwiYm90dG9tIiwicmlnaHQiLCJzY3JpcHQiLCJCaW5kVmlldyIsIm9wZW5Hcm91cCIsImlDaGVjayIsInRlbXB4IiwidGVtcHkiLCJsaW5lIiwiZWxEb3QiLCJSZW1vdmVOb2RlIiwiUmVuZGVyTGluZSIsIlpvb20iLCJEZXNnaW5lclZpZXciLCJnZXRab29tIiwiZ2V0RGF0YUdyb3VwIiwic2V0Wm9vbSIsImdyb3VwRGF0YSIsImxhc3RHcm91cE5hbWUiLCJmaWx0ZXIiLCJHZXREYXRhQnlJZCIsInRvb2xiYXIiLCJSZW5kZXJVSSIsImxpbmVDaG9vc2UiLCJub2RlcyIsIkFkZE5vZGVJdGVtIiwiSW5zZXJ0Tm9kZSIsIkNsZWFyTm9kZSIsIkdldERhdGFBbGxOb2RlIiwiR2V0RGF0YU5vZGUiLCJ6b29tX2xhc3RfdmFsdWUiLCJ0YWJJbmRleCIsInVwZGF0ZVZpZXciLCJ6b29tIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJHZXRBbGxOb2RlIiwiT3BlbiIsIm51bWJlciIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29udHJvbEJ5S2V5Iiwiem9vbV9yZWZyZXNoIiwidGVtcF96b29tIiwiVmlld0RvY2siLCJ2aWV3IiwiU2V0UHJvamVjdE9wZW4iLCJEb2NrTWFuYWdlciIsIiRkb2NrTWFuYWdlciIsInJlc2V0IiwiYWRkRG9jayIsIiRrZXkiLCIkdmlldyIsIiRpdGVtIiwiJHByb2plY3RPcGVuIiwiJHByb3BlcnRpZXMiLCIkY29udHJvbCIsIiRjb250cm9sRGVmYXVsdCIsIm5vZGVfYmVnaW4iLCJvbmx5Tm9kZSIsIm5vZGVfZW5kIiwibm9kZV9pZiIsImNvbmRpdGlvbiIsIm91dHB1dCIsIm5vZGVfZ3JvdXAiLCJub2RlX29wdGlvbiIsIm5vZGVfcHJvamVjdCIsInByb2plY3QiLCIkY29udHJvbENob29zZSIsImdldERvY2tNYW5hZ2VyIiwicHJvamVjdHMiLCJjb250cm9sIiwiY29udHJvbFRlbXAiLCJsaW5lcyIsIm9wZW4iLCJvcGVuUHJvamVjdCIsIiRwcm9qZWN0IiwiZ2V0UHJvamVjdEJ5SWQiLCIkaWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozt3Q0FBTyxNQUFNQSxFQUVDLGFBRkRBLEVBR0csZUFISEEsRUFJRSxjQUpGQSxFQUtDLGFBTERBLEVBTUgsU0FOR0EsRUFPRixVQUdFQyxFQUNMLFVBREtBLEVBR0wsVUFIS0EsRUFJSCxZQUpHQSxFQUtKLFdBR0lDLEVBQ0wsZUFES0EsRUFFRCxnQkFGQ0EsRUFHTCxZQUhLQSxFQUtDLGtCQUdEQyxF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
