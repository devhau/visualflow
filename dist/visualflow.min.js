/**
   * @license
   * author:nguyenvanhaudev@gmail.com (Nguyen Van Hau)
   * visualflow.js v0.0.2
   * Released under the MIT license.
   */
var visualflow=function(){"use strict";const t={init:"init",dataChange:"dataChange",showProperty:"showProperty",openProject:"openProject",newProject:"newProject",change:"change",dispose:"dispose"},e={left:"vs-left",top:"vs-top",view:"vs-view",bottom:"vs-bottom",right:"vs-right"},s={main:"main_project",solution:"main_solution",line:"main_line",variable:"main_variable",groupCavas:"main_groupCavas"};class i{main;elNode=document.createElement("div");elContent;constructor(t,e){this.main=e,t.appendChild(this.elNode),this.elNode.innerHTML="DockBase"}BoxInfo(t,e){this.elNode.classList.remove("vs-boxinfo"),this.elNode.classList.add("vs-boxinfo"),this.elNode.innerHTML=`<div class="vs-boxinfo_header"><span class="vs-boxinfo_title">${t}</span><span class="vs-boxinfo_button"></span></div>\n    <div class="vs-boxinfo_content"></div>`,this.elContent=this.elNode.querySelector(".vs-boxinfo_content"),e&&e(this.elContent)}}class n extends i{main;constructor(t,e){super(t,e),this.main=e,this.elNode.classList.add("vs-control"),this.BoxInfo("Control",(t=>{let e=this.main.getControlAll();Object.keys(e).forEach((s=>{let i=document.createElement("div");i.classList.add("node-item"),i.setAttribute("draggable","true"),i.setAttribute("data-node",s),i.innerHTML=`${e[s].icon} <span>${e[s].name}</span`,i.addEventListener("dragstart",this.dragStart.bind(this)),i.addEventListener("dragend",this.dragend.bind(this)),t.appendChild(i)}))}))}dragend(t){this.main.setControlChoose(null)}dragStart(t){let e=t.target.closest(".node-item").getAttribute("data-node");this.main.setControlChoose(e),"touchstart"!==t.type&&t.dataTransfer.setData("node",e)}}class o{events={};constructor(){}onSafe(t,e){this.removeListener(t,e),this.on(t,e)}on(t,e){return"function"!=typeof e?(console.error("The listener callback must be a function, the given type is "+typeof e),!1):"string"!=typeof t?(console.error("The event name must be a string, the given type is "+typeof t),!1):(void 0===this.events[t]&&(this.events[t]={listeners:[]}),void this.events[t].listeners.push(e))}removeListener(t,e){if(!this.events[t])return!1;const s=this.events[t].listeners,i=s.indexOf(e);i>-1&&s.splice(i,1)}dispatch(t,e){if(void 0===this.events[t])return!1;this.events[t].listeners.forEach((t=>{t(e)}))}}class a{property;data={};properties=null;events;getProperties(){return this.properties}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}constructor(t,e){this.property=t,this.events=new o,e&&this.load(e)}InitData(t=null,e=-1){-1!==e&&(this.properties=e),this.load(t)}eventDataChange(e,s,i,n,o){o?(this.dispatch(`${t.dataChange}_${e}_${o}_${s}`,{key:e,keyChild:s,value:i,sender:n,index:o}),this.dispatch(`${t.dataChange}_${e}_${o}`,{key:e,keyChild:s,value:i,sender:n,index:o})):this.dispatch(`${t.dataChange}_${e}_${s}`,{key:e,keyChild:s,value:i,sender:n}),this.dispatch(`${t.dataChange}_${e}`,{key:e,keyChild:s,value:i,sender:n})}RemoveEventData(e,s,i){e&&e.removeListener(`${t.dataChange}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}OnEventData(e,s,i){e&&e.on(`${t.dataChange}`,(({key:t,value:e,sender:n})=>this.eventDataChange(s,t,e,n,i)))}BindEvent(t,e){t&&(t instanceof a&&this.OnEventData(t,e),Array.isArray(t)&&t.length>0&&t[0]instanceof a&&t.forEach(((t,s)=>this.OnEventData(t,e,s))))}Set(e,s,i=null,n=!0){this.data[e]!=s&&(this.data[e]&&(this.data[e]instanceof a&&this.RemoveEventData(this.data[e],e),Array.isArray(this.data[e])&&this.data[e].length>0&&this.data[e][0]instanceof a&&this.data[e].forEach(((t,s)=>this.RemoveEventData(t,e,s)))),this.BindEvent(s,e)),this.data[e]=s,n&&(this.dispatch(`${t.dataChange}_${e}`,{key:e,value:s,sender:i}),this.dispatch(t.dataChange,{key:e,value:s,sender:i}),this.dispatch(t.change,{key:e,value:s,sender:i}))}SetData(e,s=null,i=!1){if(i&&(this.data={}),e instanceof a){let t=e;if(!this.property&&t.property&&(this.property=t.property),this.properties)for(let e of Object.keys(this.properties))this.Set(e,t.Get(e),s,!1);else for(let e of Object.keys(t.getProperties()))this.Set(e,t.Get(e),s,!1)}else Object.keys(e).forEach((t=>{this.Set(t,e[t],s,!1)}));this.dispatch(t.change,{data:e})}Get(t){return this.data[t]}Append(t,e){this.data[t]||(this.data[t]=[]),this.data[t]=[...this.data[t],e],this.BindEvent(e,t)}Remove(t,e){this.data[t].indexOf(e);var s=this.data[t].indexOf(e);s>-1&&(this.RemoveEventData(this.data[t][s],t),this.data[t].splice(s,1))}load(t){if(this.data={},this.properties||(this.properties=this.property?.getPropertyByKey(t.key)),this.properties)for(let e of Object.keys(this.properties))this.data[e]=t?.[e]??("function"==typeof this.properties[e]?.default?this.properties[e]?.default():this.properties[e]?.default)??"",this.data[e]instanceof a||!this.data[e].key||(this.data[e]=new a(this.property,this.data[e])),!Array.isArray(this.data[e])||!this.property||this.data[e][0]instanceof a||(this.data[e]=this.data[e].map((t=>t instanceof a||!t.key?t:new a(this.property,t)))),this.BindEvent(this.data[e],e)}toString(){return JSON.stringify(this.toJson())}toJson(){let t={};for(let e of Object.keys(this.properties))t[e]=this.Get(e),t[e]instanceof a&&(t[e]=t[e].toJson()),Array.isArray(t[e])&&t[e].length>0&&t[e][0]instanceof a&&(t[e]=t[e].map((t=>t.toJson())));return t}delete(){this.events=new o,this.data={}}}class r{GetId(){return this.data.Get("id")}SetId(t){return this.data.Set("id",t)}properties={};data=new a;elNode=document.createElement("div");CheckElementChild(t){return this.elNode==t||this.elNode.contains(t)}events;SetData(t,e=null){this.data.SetData(t,e)}SetDataFlow(e){this.data.SetData(e,this,!0),this.dispatch("bind_data_event",{data:e,sender:this}),this.dispatch(t.change,{data:e,sender:this})}onSafe(t,e){return this.events.onSafe(t,e),this}on(t,e){return this.events.on(t,e),this}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}BindDataEvent(){this.data.on(t.dataChange,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t.dataChange}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t.dataChange,{type:"data",key:e,value:s,sender:i})}))})),this.data.on(t.change,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(t.change,{type:"data",key:e,value:s,sender:i})}))}))}RemoveDataEvent(){this.data.removeListener(t.dataChange,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(`${t.dataChange}_${e}`,{type:"data",key:e,value:s,sender:i}),this.dispatch(t.dataChange,{type:"data",key:e,value:s,sender:i})}))})),this.data.removeListener(t.change,(({key:e,value:s,sender:i})=>{setTimeout((()=>{this.dispatch(t.change,{type:"data",key:e,value:s,sender:i})}))}))}constructor(){this.events=new o,this.BindDataEvent()}}class d extends r{parent;constructor(t){super(),this.parent=t}}const h=()=>new Date,l=()=>h().getTime(),c=(t,e)=>t.sort<e.sort?-1:t.sort>e.sort?1:0,p=t=>t&&t instanceof Function,u=["SPAN","DIV","P","TEXTAREA"];class m{el;data;main;keyName;elNode;property;constructor(t,e,s,i=null){if(this.el=t,this.data=e,this.main=s,this.keyName=i,this.keyName)t.getAttribute("node:model")||(this.property=this.main.getPropertyByKey(this.data.Get("key"))?.[this.keyName],this.el.classList.add("node-editor"),this.property.edit?(this.property.select?this.elNode=document.createElement("select"):this.elNode=document.createElement("input"),this.elNode.classList.add("node-form-control")):this.elNode=document.createElement("span"),this.elNode.setAttribute("node:model",this.keyName),this.el.appendChild(this.elNode));else if(this.keyName=t?.getAttribute("node:model"),this.keyName){this.property=this.main.getPropertyByKey(this.data.Get("key"))?.[this.keyName],this.elNode=this.el;let e=document.createElement("span");e.classList.add("node-editor"),t.parentElement?.insertBefore(e,t),t.parentElement?.removeChild(t),e.appendChild(this.elNode)}this.keyName&&this.bindData()}bindData(){if(this.keyName&&this.elNode){if(this.data.on(`${t.dataChange}_${this.keyName}`,this.bindInput.bind(this)),this.elNode.addEventListener("change",this.bindEvent.bind(this)),this.elNode.addEventListener("keypress",this.bindEvent.bind(this)),this.property&&this.property.select&&p(this.property.dataSelect)){const t=this.property.dataSelect({elNode:this.elNode,main:this.main,key:this.keyName}).map((({value:t,text:e})=>{let s=document.createElement("option");return s.value=t,s.text=e,s}));for(let e of t)this.elNode.appendChild(e)}this.property&&p(this.property.script)&&this.property.script({elNode:this.elNode,main:this.main,key:this.keyName}),this.setNodeValue(this.data.Get(this.keyName))}}setNodeValue(t){this.elNode&&(u.includes(this.elNode.tagName)?this.elNode.innerText=`${t}`:this.elNode.value=t)}bindInput({value:t,sender:e}){e!==this&&this.elNode&&e.elNode!==this.elNode&&this.setNodeValue(t)}bindEvent(){setTimeout((()=>{this.keyName&&this.elNode&&this.data.Set(this.keyName,this.elNode.value,this)}))}Delete(){this.keyName&&this.elNode&&(this.data.removeListener(`${t.dataChange}_${this.keyName}`,this.bindInput.bind(this)),this.elNode.removeEventListener("change",this.bindEvent.bind(this)),this.elNode.removeEventListener("keydown",this.bindEvent.bind(this)))}static BindElement(t,e,s,i=null){return 0==t.childElementCount||t.getAttribute("node:model")?[new m(t,e,s,i)]:Array.from(t.querySelectorAll("[node\\:model]")).map((t=>new m(t,e,s)))}}var v,f=Object.freeze({__proto__:null,FlowCore:r,BaseFlow:d,DockEnum:e,EventEnum:t,PropertyEnum:s,DataFlow:a,DataView:m,EventFlow:o,compareSort:c,getUuid:()=>{let t=[],e="0123456789abcdef";for(let s=0;s<36;s++)t[s]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},getTime:l,LOG:(t,...e)=>console.log(t,e),getDate:h,isFunction:p});class g extends i{main;constructor(e,s){super(e,s),this.main=s,this.elNode.classList.add("vs-project"),this.BoxInfo("Project",this.renderUI.bind(this)),this.main.on(t.change,this.renderUI.bind(this)),this.main.on(t.openProject,(t=>{this.elContent?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elContent&&t?.data?.Get("id")&&this.elContent.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")}))}renderUI(){let e=this.elNode.querySelector(".vs-boxinfo_header .vs-boxinfo_button");if(this.elContent){if(this.elContent.innerHTML="",e){e.innerHTML="";let t=document.createElement("button");e?.appendChild(t),t.innerHTML="New",t.addEventListener("click",(()=>this.main.newProject("")))}this.main.getProjectAll().forEach((e=>{let s=document.createElement("div");s.classList.add("node-item"),s.innerHTML=`${e.Get("name")}`,s.setAttribute("data-project-id",e.Get("id")),e.removeListener(`${t.dataChange}_name`,(()=>{s.innerHTML=`${e.Get("name")}`})),e.on(`${t.dataChange}_name`,(()=>{s.innerHTML=`${e.Get("name")}`})),this.main.checkProjectOpen(e)&&s.classList.add("active"),s.addEventListener("click",(()=>{this.main.dispatch(t.openProject,{data:e}),this.main.dispatch(t.showProperty,{data:e})})),this.elContent?.appendChild(s)}))}}}class y extends i{main;lastData;hideKeys=["lines","nodes","groups"];sortKeys=["id","key","name","group"];constructor(e,s){super(e,s),this.main=s,this.elNode.classList.add("vs-property"),this.BoxInfo("Property",(e=>{s.on(t.showProperty,(t=>{this.renderUI(e,t.data)}))}))}renderUI(t,e){if(this.lastData==e)return;this.lastData=e,t.innerHTML="";let s=e.getProperties();this.sortKeys.forEach((i=>{if(this.hideKeys.includes(i)||!s[i])return;let n=document.createElement("div");n.classList.add("property-item");let o=document.createElement("div");o.classList.add("property-label"),o.innerHTML=i;let a=document.createElement("div");a.classList.add("property-value"),m.BindElement(a,e,this.main,i),n.appendChild(o),n.appendChild(a),t.appendChild(n)})),Object.keys(s).forEach((s=>{if(this.hideKeys.includes(s)||this.sortKeys.includes(s))return;let i=document.createElement("div");i.classList.add("property-item");let n=document.createElement("div");n.classList.add("property-label"),n.innerHTML=s;let o=document.createElement("div");o.classList.add("property-value"),m.BindElement(o,e,this.main,s),i.appendChild(n),i.appendChild(o),t.appendChild(i)}))}}class N{from;fromIndex;to;toIndex;elNode=document.createElementNS("http://www.w3.org/2000/svg","svg");elPath=document.createElementNS("http://www.w3.org/2000/svg","path");data=new a;curvature=.5;temp=!1;constructor(t,e=0,i,n=0,o=null){this.from=t,this.fromIndex=e,this.to=i,this.toIndex=n,this.elPath.classList.add("main-path"),this.elPath.addEventListener("mousedown",this.StartSelected.bind(this)),this.elPath.addEventListener("touchstart",this.StartSelected.bind(this)),this.elPath.setAttributeNS(null,"d",""),this.elNode.classList.add("connection"),this.elNode.appendChild(this.elPath),this.from.parent.elCanvas.appendChild(this.elNode),this.from.AddLine(this),this.to?.AddLine(this),o?this.data=o:(this.data.InitData({from:this.from.GetId(),fromIndex:this.fromIndex,to:this.to?.GetId(),toIndex:this.toIndex},{...this.from.parent.main.getPropertyByKey(s.line)||{}}),this.from.data.Append("lines",this.data))}updateTo(t,e){if(!this.from||null==this.from.elNode)return;let{x:s,y:i}=this.from.getPostisionDot(this.fromIndex);var n=this.createCurvature(s,i,t,e,this.curvature,"openclose");this.elPath.setAttributeNS(null,"d",n)}UpdateUI(){if(this.to&&this.to.elNode){let{x:t,y:e}=this.to.getPostisionDot(this.toIndex);this.updateTo(t,e)}return this}Active(t=!0){t?this.elPath.classList.add("active"):this.elPath.classList.remove("active")}createCurvature(t,e,s,i,n,o){let a=t,r=e,d=s,h=i,l=n;switch(o){case"open":if(t>=s)var c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"close":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*l;else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;case"other":if(t>=s)c=a+Math.abs(d-a)*(-1*l),p=d-Math.abs(d-a)*(-1*l);else c=a+Math.abs(d-a)*l,p=d-Math.abs(d-a)*l;return" M "+a+" "+r+" C "+c+" "+r+" "+p+" "+h+" "+d+"  "+h;default:return" M "+a+" "+r+" C "+(c=a+Math.abs(d-a)*l)+" "+r+" "+(p=d-Math.abs(d-a)*l)+" "+h+" "+d+"  "+h}}delete(t=null,e=!0){this.elPath?.removeEventListener("mousedown",this.StartSelected.bind(this)),this.elPath?.removeEventListener("touchstart",this.StartSelected.bind(this)),e&&this.from.data.Remove("lines",this.data),this.from!=t&&this.from.RemoveLine(this),this.to!=t&&this.to?.RemoveLine(this),this.elPath.remove(),this.elNode.remove()}StartSelected(t){this.from.parent.setLineChoose(this)}setNodeTo(t,e){this.to=t,this.toIndex=e}Clone(){if(this.to&&this.toIndex&&this.from!=this.to&&!this.from.checkLineExists(this.fromIndex,this.to,this.toIndex))return new N(this.from,this.fromIndex,this.to,this.toIndex).UpdateUI()}}!function(t){t[t.None=0]="None",t[t.Node=1]="Node",t[t.Canvas=2]="Canvas",t[t.Line=3]="Line"}(v||(v={}));class C{parent;timeFastClick=0;tagIngore=["input","button","a","textarea"];moveType=v.None;flgDrap=!1;flgMove=!1;av_x=0;av_y=0;pos_x=0;pos_y=0;mouse_x=0;mouse_y=0;tempLine;constructor(t){this.parent=t,this.parent.elNode.addEventListener("mouseup",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mouseleave",this.EndMove.bind(this)),this.parent.elNode.addEventListener("mousemove",this.Move.bind(this)),this.parent.elNode.addEventListener("mousedown",this.StartMove.bind(this)),this.parent.elNode.addEventListener("touchend",this.EndMove.bind(this)),this.parent.elNode.addEventListener("touchmove",this.Move.bind(this)),this.parent.elNode.addEventListener("touchstart",this.StartMove.bind(this)),this.parent.elNode.addEventListener("contextmenu",this.contextmenu.bind(this)),this.parent.elNode.addEventListener("drop",this.node_dropEnd.bind(this)),this.parent.elNode.addEventListener("dragover",this.node_dragover.bind(this)),this.parent.elNode.addEventListener("wheel",this.zoom_enter.bind(this)),this.parent.elNode.addEventListener("keydown",this.keydown.bind(this))}contextmenu(t){t.preventDefault()}node_dragover(t){t.preventDefault()}node_dropEnd(t){if(t.preventDefault(),this.parent.$lock)return;let e=this.parent.main.getControlChoose();if(e||"touchend"===t.type||(e=t.dataTransfer.getData("node")),!e)return;let s=0,i=0;"touchmove"===t.type?(s=t.touches[0].clientX,i=t.touches[0].clientY):(s=t.clientX,i=t.clientY);let n=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-s),o=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-i);this.parent.checkOnlyNode(e)||this.parent.AddNode(e,{group:this.parent.CurrentGroup()}).updatePosition(n,o)}zoom_enter(t){this.parent.$lock||t.ctrlKey&&(t.preventDefault(),t.deltaY>0?this.parent.zoom_out():this.parent.zoom_in())}StartMove(t){if(this.parent.$lock)return;if(this.tagIngore.includes(t.target.tagName.toLowerCase()))return;if(this.timeFastClick=l(),t.target.classList.contains("main-path"))return;"touchstart"===t.type?(this.pos_x=t.touches[0].clientX,this.pos_y=t.touches[0].clientY):(this.pos_x=t.clientX,this.pos_y=t.clientY),this.moveType=v.Canvas;let e=this.parent.getNodeChoose();if(e&&e.CheckElementChild(t.target)?this.moveType=v.Node:this.parent.setNodeChoose(void 0),e&&this.moveType==v.Node&&t.target.classList.contains("node-dot")){this.moveType=v.Line;let s=t.target.getAttribute("node");this.tempLine=new N(e,s),this.tempLine.temp=!0}this.moveType==v.Canvas&&(this.av_x=this.parent.getX(),this.av_y=this.parent.getY()),this.flgDrap=!0,this.flgMove=!1}Move(t){if(this.parent.$lock)return;if(!this.flgDrap)return;this.flgMove=!0;let e=0,s=0;switch("touchmove"===t.type?(e=t.touches[0].clientX,s=t.touches[0].clientY):(e=t.clientX,s=t.clientY),this.moveType){case v.Canvas:{let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i);break}case v.Node:{let t=this.parent.CalcX(this.pos_x-e),i=this.parent.CalcY(this.pos_y-s);this.pos_x=e,this.pos_y=s,this.parent.getNodeChoose()?.updatePosition(t,i);break}case v.Line:if(this.tempLine){let i=this.parent.CalcX(this.parent.elCanvas.getBoundingClientRect().x-e),n=this.parent.CalcY(this.parent.elCanvas.getBoundingClientRect().y-s);this.tempLine.updateTo(this.parent.elCanvas.offsetLeft-i,this.parent.elCanvas.offsetTop-n);let o=t.target.closest("[node-id]"),a=o?.getAttribute("node-id"),r=a?this.parent.GetNodeById(a):void 0;if(r&&t.target.classList.contains("node-dot")){let e=t.target.getAttribute("node");this.tempLine.setNodeTo(r,e)}else{let t=o?.querySelector(".node-dot")?.[0]?.getAttribute("node");this.tempLine.setNodeTo(r,t)}}}"touchmove"===t.type&&(this.mouse_x=e,this.mouse_y=s)}EndMove(t){if(this.parent.$lock)return;if(!this.flgDrap)return;if(l()-this.timeFastClick<100||!this.flgMove)return this.moveType=v.None,this.flgDrap=!1,void(this.flgMove=!1);let e=0,s=0;if("touchend"===t.type?(e=this.mouse_x,s=this.mouse_y):(e=t.clientX,s=t.clientY),this.moveType===v.Canvas){let t=this.av_x+this.parent.CalcX(-(this.pos_x-e)),i=this.av_y+this.parent.CalcY(-(this.pos_y-s));this.parent.setX(t),this.parent.setY(i),this.av_x=0,this.av_y=0}this.tempLine&&(this.tempLine.Clone(),this.tempLine.delete(),this.tempLine=void 0),this.pos_x=e,this.pos_y=s,this.moveType=v.None,this.flgDrap=!1,this.flgMove=!1}keydown(t){this.parent.$lock||(("Delete"===t.key||"Backspace"===t.key&&t.metaKey)&&(t.preventDefault(),this.parent.getNodeChoose()?.delete(),this.parent.getLineChoose()?.delete()),"F2"===t.key&&t.preventDefault())}}class L{parent;elNode;elPathGroup=document.createElement("div");btnBack=document.createElement("button");constructor(t){this.parent=t,this.elNode=t.elToolbar,this.elPathGroup.classList.add("toolbar-group"),this.renderUI(),this.renderPathGroup()}renderPathGroup(){this.btnBack.setAttribute("style","display:none;"),this.elPathGroup.innerHTML="";let t=this.parent.GetGroupName(),e=t.length-1;if(e<0)return;let s=document.createElement("span");s.innerHTML="Root",s.addEventListener("click",(t=>this.parent.BackGroup("Root"))),this.elPathGroup.appendChild(s),this.btnBack.removeAttribute("style");for(let s=e;s>=0;s--){let e=document.createElement("span");e.innerHTML=`>>${t[s].text}`,e.setAttribute("group",t[s].id),e.addEventListener("click",(e=>this.parent.BackGroup(t[s].id))),this.elPathGroup.appendChild(e)}}renderUI(){if(!this.elNode)return;this.elNode.innerHTML="",this.btnBack.addEventListener("click",(()=>this.parent.BackGroup())),this.btnBack.innerHTML="Back";let t=document.createElement("button");t.addEventListener("click",(()=>this.parent.zoom_in())),t.innerHTML="+";let e=document.createElement("button");e.addEventListener("click",(()=>this.parent.zoom_out())),e.innerHTML="-";let s=document.createElement("button");s.addEventListener("click",(()=>this.parent.zoom_reset())),s.innerHTML="*";let i=document.createElement("div");i.classList.add("toolbar-button"),i.appendChild(this.btnBack),i.appendChild(t),i.appendChild(e),i.appendChild(s),this.elNode.appendChild(this.elPathGroup),this.elNode.appendChild(i)}}class k extends d{keyNode;getName(){return this.data.Get("name")}getY(){return+this.data.Get("y")}setY(t){return this.data.Set("y",t,this)}getX(){return+this.data.Get("x")}setX(t){return this.data.Set("x",t,this)}CheckKey(t){return this.data.Get("key")==t}getDataLine(){return this.data.Get("lines")??[]}checkLineExists(t,e,s){return this.arrLine.filter((i=>!i.temp&&i.to==e&&i.toIndex==s&&i.fromIndex==t||!i.temp&&i.from==e&&i.fromIndex==s&&i.toIndex==t)).length>0}elContent;arrLine=[];option={};arrDataView=[];constructor(e,s,i={}){super(e),this.keyNode=s,this.option=this.parent.main.getControlNodeByKey(s),this.properties=this.option?.properties,i instanceof a?this.data=i:(this.data.InitData(i,this.properties),this.parent.data.Append("nodes",this.data)),this.data.on(t.dataChange,this.renderUI.bind(this)),this.elNode.classList.add("vs-node"),this.option.class&&this.elNode.classList.add(this.option.class),this.parent.elCanvas.appendChild(this.elNode),this.elNode.setAttribute("node-id",this.GetId()),this.elNode.addEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.addEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.renderUI()}getOption(){return this.option}renderUI(t=null){if(t&&["x","y"].includes(t.key))return void setTimeout((()=>{this.UpdateUI()}));if(this.elNode.contains(document.activeElement))return;this.elNode.setAttribute("style","display:none;"),!0===this.getOption()?.hideTitle?this.elNode.innerHTML='\n      <div class="node-left"></div>\n      <div class="node-container">\n        <div class="node-top"></div>\n        <div class="node-content">\n          <div class="body"></div>\n        </div>\n        <div class="node-bottom"></div>\n      </div>\n      <div class="node-right"></div>\n    ':this.elNode.innerHTML=`\n      <div class="node-left"></div>\n      <div class="node-container">\n        <div class="node-top"></div>\n        <div class="node-content">\n          <div class="title">${this.option.icon} ${this.getName()}</div>\n          <div class="body"></div>\n        </div>\n        <div class="node-bottom"></div>\n      </div>\n      <div class="node-right"></div>\n    `;const e=(t,e,s)=>{if(t){let i=this.elNode.querySelector(s);if(i){i.innerHTML="";for(let s=0;s<t;s++){let t=document.createElement("div");t.classList.add("node-dot"),t.setAttribute("node",`${e+s}`),i.appendChild(t)}}}};e(this.option?.dot?.left,1e3,".node-left"),e(this.option?.dot?.top,2e3,".node-top"),e(this.option?.dot?.bottom,3e3,".node-bottom"),e(this.option?.dot?.right,4e3,".node-right"),this.elContent=this.elNode.querySelector(".node-content .body")||document.createElement("div"),this.parent.main.renderHtml(this,this.elContent),this.UpdateUI(),this.arrDataView.forEach((t=>t.Delete())),p(this.option.script)&&this.option.script({node:this,elNode:this.elNode,main:this.parent.main}),this.elContent&&(this.arrDataView=m.BindElement(this.elContent,this.data,this.parent.main))}openGroup(){this.CheckKey("node_group")&&this.parent.openGroup(this.GetId())}updatePosition(t,e,s=!1){if(this.elNode){let i=t,n=e;s||(n=this.elNode.offsetTop-e,i=this.elNode.offsetLeft-t),i!==this.getX()&&this.setX(i),n!==this.getY()&&this.setY(n)}}Active(t=!0){t?this.elNode.classList.add("active"):this.elNode.classList.remove("active")}RemoveLine(t){var e=this.arrLine.indexOf(t);return e>-1&&this.arrLine.splice(e,1),this.arrLine}AddLine(t){this.arrLine=[...this.arrLine,t]}getPostisionDot(t=0){let e=this.elNode?.querySelector(`.node-dot[node="${t}"]`);if(e){let t=this.elNode.offsetTop+e.offsetTop+10;return{x:this.elNode.offsetLeft+e.offsetLeft+10,y:t}}return{}}UpdateUI(){this.elNode.setAttribute("style",`top: ${this.getY()}px; left: ${this.getX()}px;`),this.arrLine.forEach((t=>{t.UpdateUI()}))}delete(e=!0){this.arrLine.forEach((t=>t.delete(this,e))),e?this.data.delete():(this.data.removeListener(t.dataChange,this.renderUI.bind(this)),this.RemoveDataEvent()),this.elNode.removeEventListener("mousedown",(()=>this.parent.setNodeChoose(this))),this.elNode.removeEventListener("touchstart",(()=>this.parent.setNodeChoose(this))),this.elNode.remove(),this.arrLine=[],e&&this.parent.RemoveNode(this),this.dispatch(t.change,{})}RenderLine(){this.getDataLine().forEach((t=>{let e=this.parent.GetNodeById(t.Get("to")),s=t.Get("toIndex"),i=t.Get("fromIndex");new N(this,i,e,s,t).UpdateUI()}))}}const b=1.6,E=.6,G=.1,_=1;class $ extends r{main;getZoom(){return+this.getDataGroup().Get("zoom")}setZoom(t){return this.getDataGroup().Set("zoom",t,this)}getY(){return+this.getDataGroup().Get("y")}setY(t){return this.getDataGroup().Set("y",t,this)}getX(){return+this.getDataGroup().Get("x")}setX(t){return this.getDataGroup().Set("x",t,this)}groupData;lastGroupName="";getDataGroup(){if(this.$lock)return this.data;if(this.lastGroupName===this.CurrentGroup())return this.groupData??this.data;this.lastGroupName=this.CurrentGroup();let e=this.data.Get("groups");return this.groupData=e?.filter((t=>t.Get("group")==this.lastGroupName))?.[0],this.groupData||(this.groupData=new a(this.main,{key:s.groupCavas,group:this.lastGroupName}),this.data.Append("groups",this.groupData)),this.groupData.onSafe(t.dataChange,this.UpdateUI.bind(this)),this.groupData}group=[];GetGroupName(){return this.group.map((t=>({id:t,text:this.GetDataById(t)?.Get("name")})))}BackGroup(t=null){let e=1;t&&(e=this.group.indexOf(t),e<0&&(e=0)),e?this.group.splice(0,e):this.group=[],this.toolbar.renderPathGroup(),this.RenderUI()}CurrentGroup(){let t=this.group?.[0];return t&&""!=t?t:"root"}openGroup(t){this.group=[t,...this.group],this.toolbar.renderPathGroup(),this.RenderUI()}lineChoose;setLineChoose(t){this.lineChoose&&this.lineChoose.Active(!1),this.lineChoose=t,this.lineChoose&&(this.lineChoose.Active(),this.setNodeChoose(void 0))}getLineChoose(){return this.lineChoose}nodes=[];nodeChoose;setNodeChoose(e){this.nodeChoose&&this.nodeChoose.Active(!1),this.nodeChoose=e,this.nodeChoose?(this.nodeChoose.Active(),this.setLineChoose(void 0),this.dispatch(t.showProperty,{data:this.nodeChoose.data})):this.dispatch(t.showProperty,{data:this.data})}getNodeChoose(){return this.nodeChoose}AddNodeItem(t){return this.AddNode(t.Get("key"),t)}AddNode(t,e={}){return this.InsertNode(new k(this,t,e))}InsertNode(t){return this.nodes=[...this.nodes,t],t}RemoveNode(t){var e=this.nodes.indexOf(t);return this.data.Remove("nodes",t),e>-1&&this.nodes.splice(e,1),this.nodes}ClearNode(){this.nodes?.forEach((t=>t.delete(!1))),this.nodes=[]}GetDataAllNode(){return this.data.Get("nodes")??[]}GetDataNode(){return this.GetDataAllNode().filter((t=>t.Get("group")===this.CurrentGroup()))}elCanvas=document.createElement("div");elToolbar=document.createElement("div");toolbar;$lock=!0;zoom_last_value=1;constructor(e,i){super(),this.main=i,this.elNode=e;let n=this.main.getPropertyByKey(s.main);this.data.InitData({},n),this.elNode.innerHTML="",this.elNode.classList.remove("desginer-view"),this.elCanvas.classList.remove("desginer-canvas"),this.elNode.classList.add("desginer-view"),this.elCanvas.classList.add("desginer-canvas"),this.elToolbar.classList.add("desginer-toolbar"),this.elNode.appendChild(this.elCanvas),this.elNode.appendChild(this.elToolbar),this.elNode.tabIndex=0,this.RenderUI(),this.on(t.dataChange,this.RenderUI.bind(this)),new C(this),this.toolbar=new L(this)}updateView(t,e,s){this.elCanvas.style.transform=`translate(${t}px, ${e}px) scale(${s})`}UpdateUI(){this.updateView(this.getX(),this.getY(),this.getZoom())}RenderUI(t={}){t.sender&&t.sender instanceof k||(t.sender&&t.sender instanceof $||(this.ClearNode(),this.GetDataNode().forEach((t=>{this.AddNodeItem(t)})),this.GetAllNode().forEach((t=>{t.RenderLine()}))),this.UpdateUI())}Open(t){this.data=t,this.$lock=!1,this.lastGroupName="",this.groupData=void 0,this.group=[],this.toolbar.renderPathGroup(),this.BindDataEvent(),this.RenderUI()}CalcX(t){return t*(this.elCanvas.clientWidth/(this.elNode?.clientWidth*this.getZoom()))}CalcY(t){return t*(this.elCanvas.clientHeight/(this.elNode?.clientHeight*this.getZoom()))}GetAllNode(){return this.nodes||[]}GetNodeById(t){return this.GetAllNode().filter((e=>e.GetId()==t))?.[0]}GetDataById(t){return this.GetDataAllNode().filter((e=>e.Get("id")===t))?.[0]}checkOnlyNode(t){return this.main.getControlByKey(t).onlyNode&&this.nodes.filter((e=>e.CheckKey(t))).length>0}zoom_refresh(t=0){let e=0==t?_:this.getZoom()+G*t;b>=e&&e>=E&&(this.setX(this.getX()/this.zoom_last_value*e),this.setY(this.getY()/this.zoom_last_value*e),this.zoom_last_value=e,this.setZoom(this.zoom_last_value))}zoom_in(){this.zoom_refresh(1)}zoom_out(){this.zoom_refresh(-1)}zoom_reset(){this.zoom_refresh(0)}}class x extends i{main;view;constructor(e,s){super(e,s),this.main=s,this.view=new $(this.elNode,s),this.view.on(t.showProperty,(e=>{s.dispatch(t.showProperty,e)})),this.main.on(t.openProject,(t=>{this.view?.Open(t.data),this.main.setProjectOpen(t.data)}))}}class D{container;main;$dockManager={};constructor(t,e){this.container=t,this.main=e}reset(){this.$dockManager={},this.addDock(e.left,n),this.addDock(e.left,g),this.addDock(e.right,y),this.addDock(e.view,x),this.addDock(e.bottom,i),this.RenderUI()}addDock(t,e){this.$dockManager[t]||(this.$dockManager[t]=[]),this.$dockManager[t]=[...this.$dockManager[t],e]}RenderUI(){this.container.innerHTML='\n      <div class="vs-left vs-dock"></div>\n      <div class="vs-content">\n        <div class="vs-top vs-dock"></div>\n        <div class="vs-view vs-dock"></div>\n        <div class="vs-bottom vs-dock"></div>\n      </div>\n      <div class="vs-right vs-dock"></div>\n    ',Object.keys(this.$dockManager).forEach((t=>{let e=this.container.querySelector(`.${t}`);e&&this.$dockManager[t].forEach((t=>{new t(e,this.main)}))}))}}const w={node_begin:{icon:'<i class="fas fa-play"></i>',sort:0,name:"Begin",group:"common",class:"node-test",html:"",dot:{top:0,right:0,left:0,bottom:1},onlyNode:!0},node_end:{icon:'<i class="fas fa-stop"></i>',sort:0,name:"End",group:"common",html:"",dot:{left:0,top:1,right:0,bottom:0},onlyNode:!0},node_if:{icon:'<i class="fas fa-equals"></i>',sort:0,name:"If",group:"common",html:'<div>condition:<br/><input class="node-form-control" node:model="condition"/></div>',script:"",properties:{condition:{key:"condition",edit:!0,default:""}},output:2},node_group:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Group",group:"common",html:'<div class="text-center p3"><button class="btnGoGroup node-form-control">Go</button></div>',script:({elNode:t,main:e,node:s})=>{t.querySelector(".btnGoGroup")?.addEventListener("click",(()=>{s.openGroup()}))},properties:{},output:2},node_option:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Option",dot:{top:1,right:0,left:1,bottom:0},group:"common",html:'\n    <div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50001"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50002"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50003"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50004"></span></span></div>\n      <div class="node-content-row"><span>Họ tên :</span><span><span class="node-dot" node="50005"></span></span></div>\n    </div>\n    ',script:({elNode:t,main:e,node:s})=>{t.querySelector(".btnGoGroup")?.addEventListener("click",(()=>{s.openGroup()}))},properties:{},output:2},node_project:{icon:'<i class="fas fa-object-group"></i>',sort:0,name:"Project",group:"common",html:'<div class="text-center p3"><select class="node-form-control" node:model="project"></select></div>',script:({elNode:t,main:e,node:s})=>{},properties:{project:{key:"project",edit:!0,select:!0,dataSelect:({elNode:t,main:e,node:s})=>e.getProjectAll().map((t=>({value:t.Get("id"),text:t.Get("name")}))),script:({elNode:t,main:e,node:s})=>{},default:""}}}};class P{$data=new a(this);$projectOpen;$properties={};$control={};events=new o;$controlChoose=null;$checkOption=!1;constructor(){this.$properties[s.solution]={id:{default:()=>l()},key:{default:s.solution},name:{default:()=>`solution-${l()}`,edit:!0},projects:{default:[]}},this.$properties[s.line]={key:{default:s.line},from:{default:0},fromIndex:{default:0},to:{default:0},toIndex:{default:0}},this.$properties[s.main]={id:{default:()=>l()},name:{default:()=>`Flow-${l()}`,edit:!0},key:{default:s.main},groups:{default:[]},nodes:{default:[]}},this.$properties[s.groupCavas]={key:{default:s.groupCavas},group:{default:""},x:{default:0},y:{default:0},zoom:{default:1}}}exportJson(){return this.$data.toJson()}checkInitOption(){return this.$checkOption}initOption(t,e=!0){this.$checkOption=!0,this.$control=e?{...t?.control||{},...w}:{...t?.control||{}};let s={};Object.keys(this.$control).map((t=>({...this.$control[t],key:t,sort:void 0===this.$control[t].sort?99999:this.$control[t].sort}))).sort(c).forEach((t=>{s[t.key]={dot:{left:1,top:1,right:1,bottom:1},...t},this.$properties[`${t.key}`]={...t.properties||{},id:{default:()=>l()},key:{default:t.key},name:{default:t.key,edit:!0},x:{default:0},y:{default:0},group:{default:""},lines:{default:[]}}})),this.$control=s}renderHtml(t,e){e.innerHTML=t.getOption()?.html}onSafe(t,e){this.events.onSafe(t,e)}on(t,e){this.events.on(t,e)}removeListener(t,e){this.events.removeListener(t,e)}dispatch(t,e){this.events.dispatch(t,e)}getControlAll(){return this.$control??{}}getProjectAll(){return this.$data.Get("projects")??[]}importJson(t){this.$data.InitData(t,this.getPropertyByKey(s.solution))}setProjectOpen(t){this.$projectOpen=t}checkProjectOpen(t){return this.$projectOpen==t}newProject(){this.openProject({}),this.dispatch(t.newProject,{})}openProject(e){if(e instanceof a){let s=this.getProjectById(e.Get("id"));s||(s=e,this.$data.Append("projects",s)),this.dispatch(t.openProject,s)}else{let i=new a(this);i.InitData(e,this.getPropertyByKey(s.main)),this.$data.Append("projects",i),this.dispatch(t.openProject,{data:i}),this.dispatch(t.showProperty,{data:i}),this.dispatch(t.change,{data:i})}}getProjectById(t){return this.$data.Get("projects").filter((e=>e.Get("id")===t))?.[0]}setControlChoose(t){this.$controlChoose=t}getControlChoose(){return this.$controlChoose}getControlByKey(t){return this.$control[t]||{}}getControlNodeByKey(t){return{...this.getControlByKey(t),properties:this.getPropertyByKey(`${t}`)}}getPropertyByKey(t){return this.$properties[t]}}var I=Object.freeze({__proto__:null,DesginerView:$,Line:N,Node:k});var M=Object.freeze({__proto__:null,DockEnum:e,ControlDock:n,DockBase:i,ProjectDock:g,PropertyDock:y,TabDock:class extends i{main;constructor(e,s){super(e,s),this.main=s,this.elNode.innerHTML="",this.elNode.classList.add("vs-tab"),this.main.on(t.openProject,(t=>{this.elNode?.querySelectorAll(".active").forEach((t=>{t.classList.remove("active")})),this.elNode&&t?.data?.Get("id")&&this.elNode.querySelector(`[data-project-id="${t?.data?.Get("id")}"]`)?.classList.add("active")})),this.main.on(t.newProject,this.render.bind(this))}render(){this.elNode.innerHTML="",this.main.getProjectAll().forEach((e=>{let s=document.createElement("div");s.classList.add("node-item"),s.innerHTML=`${e.Get("name")}`,s.setAttribute("data-project-id",e.Get("id")),e.removeListener(`${t.dataChange}_name`,(()=>{s.innerHTML=`${e.Get("name")}`})),e.on(`${t.dataChange}_name`,(()=>{s.innerHTML=`${e.Get("name")}`})),this.main.checkProjectOpen(e)&&s.classList.add("active"),s.addEventListener("click",(()=>{this.main.dispatch(t.openProject,{data:e}),this.main.dispatch(t.showProperty,{data:e})})),this.elNode?.appendChild(s)}))}},ViewDock:x,DockManager:D});return{VisualFlow:class{container;main;$dockManager;getDockManager(){return this.$dockManager}setOption(t,e=!0){this.main?.initOption(t,e),this.$dockManager.reset()}constructor(t,e){this.container=t,this.main=e??new P,this.container.classList.remove("vs-container"),this.container.classList.add("vs-container"),this.$dockManager=new D(this.container,this.main),this.$dockManager.reset()}onSafe(t,e){this.main?.onSafe(t,e)}on(t,e){this.main?.on(t,e)}removeListener(t,e){this.main?.removeListener(t,e)}dispatch(t,e){this.main?.dispatch(t,e)}getMain(){return this.main}newProject(t){this.getMain()?.newProject(t)}openProject(t){this.getMain()?.openProject(t)}getProjectAll(){return this.getMain()?.getProjectAll()}setProjectOpen(t){this.getMain()?.setProjectOpen(t)}importJson(t){this.getMain()?.importJson(t)}exportJson(){return this.getMain()?.exportJson()}},SystemBase:P,...f,...M,...I}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy5taW4uanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9jb3JlL0NvbnN0YW50LnRzIiwiLi4vc3JjL2RvY2svRG9ja0Jhc2UudHMiLCIuLi9zcmMvZG9jay9Db250cm9sRG9jay50cyIsIi4uL3NyYy9jb3JlL0V2ZW50Rmxvdy50cyIsIi4uL3NyYy9jb3JlL0RhdGFGbG93LnRzIiwiLi4vc3JjL2NvcmUvQmFzZUZsb3cudHMiLCIuLi9zcmMvY29yZS9VdGlscy50cyIsIi4uL3NyYy9jb3JlL0RhdGFWaWV3LnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0Rlc2dpbmVyVmlld19FdmVudC50cyIsIi4uL3NyYy9kb2NrL1Byb2plY3REb2NrLnRzIiwiLi4vc3JjL2RvY2svUHJvcGVydHlEb2NrLnRzIiwiLi4vc3JjL2Rlc2dpbmVyL0xpbmUudHMiLCIuLi9zcmMvZGVzZ2luZXIvRGVzZ2luZXJWaWV3X1Rvb2xiYXIudHMiLCIuLi9zcmMvZGVzZ2luZXIvTm9kZS50cyIsIi4uL3NyYy9kZXNnaW5lci9EZXNnaW5lclZpZXcudHMiLCIuLi9zcmMvZG9jay9WaWV3RG9jay50cyIsIi4uL3NyYy9kb2NrL0RvY2tNYW5hZ2VyLnRzIiwiLi4vc3JjL3N5c3RlbXMvY29udHJvbC50cyIsIi4uL3NyYy9zeXN0ZW1zL1N5c3RlbUJhc2UudHMiLCIuLi9zcmMvZG9jay9UYWJEb2NrLnRzIiwiLi4vc3JjL2luZGV4LnRzIiwiLi4vc3JjL1Zpc3VhbEZsb3cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEV2ZW50RW51bSA9IHtcbiAgaW5pdDogXCJpbml0XCIsXG4gIGRhdGFDaGFuZ2U6IFwiZGF0YUNoYW5nZVwiLFxuICBzaG93UHJvcGVydHk6IFwic2hvd1Byb3BlcnR5XCIsXG4gIG9wZW5Qcm9qZWN0OiBcIm9wZW5Qcm9qZWN0XCIsXG4gIG5ld1Byb2plY3Q6IFwibmV3UHJvamVjdFwiLFxuICBjaGFuZ2U6IFwiY2hhbmdlXCIsXG4gIGRpc3Bvc2U6IFwiZGlzcG9zZVwiXG59XG5cbmV4cG9ydCBjb25zdCBEb2NrRW51bSA9IHtcbiAgbGVmdDogXCJ2cy1sZWZ0XCIsXG4gIHRvcDogXCJ2cy10b3BcIixcbiAgdmlldzogXCJ2cy12aWV3XCIsXG4gIGJvdHRvbTogXCJ2cy1ib3R0b21cIixcbiAgcmlnaHQ6IFwidnMtcmlnaHRcIixcbn1cblxuZXhwb3J0IGNvbnN0IFByb3BlcnR5RW51bSA9IHtcbiAgbWFpbjogXCJtYWluX3Byb2plY3RcIixcbiAgc29sdXRpb246ICdtYWluX3NvbHV0aW9uJyxcbiAgbGluZTogJ21haW5fbGluZScsXG4gIHZhcmlhYmxlOiAnbWFpbl92YXJpYWJsZScsXG4gIGdyb3VwQ2F2YXM6IFwibWFpbl9ncm91cENhdmFzXCIsXG59O1xuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIERvY2tCYXNlIHtcclxuICBwdWJsaWMgZWxOb2RlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIHByb3RlY3RlZCBlbENvbnRlbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQgfCBudWxsO1xyXG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcclxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XHJcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnRG9ja0Jhc2UnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIEJveEluZm8odGl0bGU6IHN0cmluZywgJGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3ZzLWJveGluZm8nKTtcclxuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLWJveGluZm8nKTtcclxuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPVwidnMtYm94aW5mb19oZWFkZXJcIj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fdGl0bGVcIj4ke3RpdGxlfTwvc3Bhbj48c3BhbiBjbGFzcz1cInZzLWJveGluZm9fYnV0dG9uXCI+PC9zcGFuPjwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cInZzLWJveGluZm9fY29udGVudFwiPjwvZGl2PmA7XHJcbiAgICB0aGlzLmVsQ29udGVudCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy52cy1ib3hpbmZvX2NvbnRlbnQnKTtcclxuICAgIGlmICgkY2FsbGJhY2spIHtcclxuICAgICAgJGNhbGxiYWNrKHRoaXMuZWxDb250ZW50KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHsgRG9ja0Jhc2UgfSBmcm9tIFwiLi9Eb2NrQmFzZVwiO1xuXG5leHBvcnQgY2xhc3MgQ29udHJvbERvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLWNvbnRyb2wnKTtcbiAgICB0aGlzLkJveEluZm8oJ0NvbnRyb2wnLCAobm9kZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgIGxldCBjb250cm9scyA9IHRoaXMubWFpbi5nZXRDb250cm9sQWxsKCk7XG4gICAgICBPYmplY3Qua2V5cyhjb250cm9scykuZm9yRWFjaCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgIGxldCBub2RlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBub2RlSXRlbS5jbGFzc0xpc3QuYWRkKCdub2RlLWl0ZW0nKTtcbiAgICAgICAgbm9kZUl0ZW0uc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZScsIGl0ZW0pO1xuICAgICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtjb250cm9sc1tpdGVtXS5pY29ufSA8c3Bhbj4ke2NvbnRyb2xzW2l0ZW1dLm5hbWV9PC9zcGFuYDtcbiAgICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgdGhpcy5kcmFnU3RhcnQuYmluZCh0aGlzKSlcbiAgICAgICAgbm9kZUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIHRoaXMuZHJhZ2VuZC5iaW5kKHRoaXMpKVxuICAgICAgICBub2RlLmFwcGVuZENoaWxkKG5vZGVJdGVtKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHByaXZhdGUgZHJhZ2VuZChlOiBhbnkpIHtcbiAgICB0aGlzLm1haW4uc2V0Q29udHJvbENob29zZShudWxsKTtcbiAgfVxuXG4gIHByaXZhdGUgZHJhZ1N0YXJ0KGU6IGFueSkge1xuICAgIGxldCBrZXkgPSBlLnRhcmdldC5jbG9zZXN0KFwiLm5vZGUtaXRlbVwiKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtbm9kZScpO1xuICAgIHRoaXMubWFpbi5zZXRDb250cm9sQ2hvb3NlKGtleSk7XG4gICAgaWYgKGUudHlwZSAhPT0gXCJ0b3VjaHN0YXJ0XCIpIHtcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJub2RlXCIsIGtleSk7XG4gICAgfVxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRXZlbnRGbG93IHtcclxuICBwcml2YXRlIGV2ZW50czogYW55ID0ge307XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKCkgeyB9XHJcbiAgcHVibGljIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICB0aGlzLm9uKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgfVxyXG4gIC8qIEV2ZW50cyAqL1xyXG4gIHB1YmxpYyBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGUgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cclxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihgVGhlIGxpc3RlbmVyIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbiwgdGhlIGdpdmVuIHR5cGUgaXMgJHt0eXBlb2YgY2FsbGJhY2t9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIENoZWNrIGlmIHRoZSBldmVudCBpcyBub3QgYSBzdHJpbmdcclxuICAgIGlmICh0eXBlb2YgZXZlbnQgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBldmVudCBuYW1lIG11c3QgYmUgYSBzdHJpbmcsIHRoZSBnaXZlbiB0eXBlIGlzICR7dHlwZW9mIGV2ZW50fWApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvLyBDaGVjayBpZiB0aGlzIGV2ZW50IG5vdCBleGlzdHNcclxuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSB7XHJcbiAgICAgICAgbGlzdGVuZXJzOiBbXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHJlbW92ZUxpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcclxuICAgIC8vIENoZWNrIGlmIHRoaXMgZXZlbnQgbm90IGV4aXN0c1xyXG5cclxuICAgIGlmICghdGhpcy5ldmVudHNbZXZlbnRdKSByZXR1cm4gZmFsc2VcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzXHJcbiAgICBjb25zdCBsaXN0ZW5lckluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spXHJcbiAgICBjb25zdCBoYXNMaXN0ZW5lciA9IGxpc3RlbmVySW5kZXggPiAtMVxyXG4gICAgaWYgKGhhc0xpc3RlbmVyKSBsaXN0ZW5lcnMuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XHJcbiAgICAvLyBDaGVjayBpZiB0aGlzIGV2ZW50IG5vdCBleGlzdHNcclxuICAgIGlmICh0aGlzLmV2ZW50c1tldmVudF0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyOiBhbnkpID0+IHtcclxuICAgICAgbGlzdGVuZXIoZGV0YWlscyk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSVByb3BlcnR5IH0gZnJvbSBcIi4vQmFzZUZsb3dcIjtcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBFdmVudEZsb3cgfSBmcm9tIFwiLi9FdmVudEZsb3dcIjtcblxuZXhwb3J0IGNsYXNzIERhdGFGbG93IHtcbiAgcHJpdmF0ZSBkYXRhOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSBwcm9wZXJ0aWVzOiBhbnkgPSBudWxsO1xuICBwcml2YXRlIGV2ZW50czogRXZlbnRGbG93O1xuICBwdWJsaWMgZ2V0UHJvcGVydGllcygpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXM7XG4gIH1cbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5vblNhZmUoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLmV2ZW50cy5kaXNwYXRjaChldmVudCwgZGV0YWlscyk7XG4gIH1cbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgcHJvcGVydHk6IElQcm9wZXJ0eSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGF0YTogYW55ID0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIHRoaXMubG9hZChkYXRhKTtcbiAgICB9XG4gIH1cbiAgcHVibGljIEluaXREYXRhKGRhdGE6IGFueSA9IG51bGwsIHByb3BlcnRpZXM6IGFueSA9IC0xKSB7XG4gICAgaWYgKHByb3BlcnRpZXMgIT09IC0xKSB7XG4gICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgIH1cbiAgICB0aGlzLmxvYWQoZGF0YSk7XG4gIH1cbiAgcHJpdmF0ZSBldmVudERhdGFDaGFuZ2Uoa2V5OiBzdHJpbmcsIGtleUNoaWxkOiBzdHJpbmcsIHZhbHVlQ2hpbGQ6IGFueSwgc2VuZGVyQ2hpbGQ6IGFueSwgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xuICAgIGlmIChpbmRleCkge1xuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7aW5kZXh9XyR7a2V5Q2hpbGR9YCwge1xuICAgICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZCwgaW5kZXhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9XyR7aW5kZXh9YCwge1xuICAgICAgICBrZXksIGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZCwgaW5kZXhcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1fJHtrZXlDaGlsZH1gLCB7XG4gICAgICAgIGtleSwga2V5Q2hpbGQsIHZhbHVlOiB2YWx1ZUNoaWxkLCBzZW5kZXI6IHNlbmRlckNoaWxkXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5kaXNwYXRjaChgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fJHtrZXl9YCwge1xuICAgICAga2V5LCBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGRcbiAgICB9KTtcbiAgfVxuICBwdWJsaWMgUmVtb3ZlRXZlbnREYXRhKGl0ZW06IERhdGFGbG93LCBrZXk6IHN0cmluZywgaW5kZXg6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCkge1xuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuICAgIGl0ZW0ucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9YCwgKHsga2V5OiBrZXlDaGlsZCwgdmFsdWU6IHZhbHVlQ2hpbGQsIHNlbmRlcjogc2VuZGVyQ2hpbGQgfTogYW55KSA9PiB0aGlzLmV2ZW50RGF0YUNoYW5nZShrZXksIGtleUNoaWxkLCB2YWx1ZUNoaWxkLCBzZW5kZXJDaGlsZCwgaW5kZXgpKTtcbiAgfVxuICBwdWJsaWMgT25FdmVudERhdGEoaXRlbTogRGF0YUZsb3csIGtleTogc3RyaW5nLCBpbmRleDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKCFpdGVtKSByZXR1cm47XG4gICAgaXRlbS5vbihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1gLCAoeyBrZXk6IGtleUNoaWxkLCB2YWx1ZTogdmFsdWVDaGlsZCwgc2VuZGVyOiBzZW5kZXJDaGlsZCB9OiBhbnkpID0+IHRoaXMuZXZlbnREYXRhQ2hhbmdlKGtleSwga2V5Q2hpbGQsIHZhbHVlQ2hpbGQsIHNlbmRlckNoaWxkLCBpbmRleCkpO1xuICB9XG4gIHByaXZhdGUgQmluZEV2ZW50KHZhbHVlOiBhbnksIGtleTogc3RyaW5nKSB7XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICB0aGlzLk9uRXZlbnREYXRhKHZhbHVlIGFzIERhdGFGbG93LCBrZXkpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgKHZhbHVlIGFzIFtdKS5sZW5ndGggPiAwICYmIHZhbHVlWzBdIGluc3RhbmNlb2YgRGF0YUZsb3cpIHtcbiAgICAgICh2YWx1ZSBhcyBEYXRhRmxvd1tdKS5mb3JFYWNoKChpdGVtOiBEYXRhRmxvdywgaW5kZXg6IG51bWJlcikgPT4gdGhpcy5PbkV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBTZXQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCwgaXNEaXNwYXRjaDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBpZiAodGhpcy5kYXRhW2tleV0gIT0gdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLmRhdGFba2V5XSkge1xuICAgICAgICBpZiAodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgICAgIHRoaXMuUmVtb3ZlRXZlbnREYXRhKCh0aGlzLmRhdGFba2V5XSBhcyBEYXRhRmxvdyksIGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5kYXRhW2tleV0pICYmICh0aGlzLmRhdGFba2V5XSBhcyBbXSkubGVuZ3RoID4gMCAmJiB0aGlzLmRhdGFba2V5XVswXSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICAgICAgKHRoaXMuZGF0YVtrZXldIGFzIERhdGFGbG93W10pLmZvckVhY2goKGl0ZW06IERhdGFGbG93LCBpbmRleDogbnVtYmVyKSA9PiB0aGlzLlJlbW92ZUV2ZW50RGF0YShpdGVtLCBrZXksIGluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuQmluZEV2ZW50KHZhbHVlLCBrZXkpO1xuICAgIH1cbiAgICB0aGlzLmRhdGFba2V5XSA9IHZhbHVlO1xuICAgIGlmIChpc0Rpc3BhdGNoKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB7XG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB7XG4gICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxuICAgICAgfSk7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcbiAgICAgICAga2V5LCB2YWx1ZSwgc2VuZGVyXG4gICAgICB9KTtcbiAgICB9XG5cbiAgfVxuICBwdWJsaWMgU2V0RGF0YShkYXRhOiBhbnksIHNlbmRlcjogYW55ID0gbnVsbCwgaXNDbGVhckRhdGEgPSBmYWxzZSkge1xuXG4gICAgaWYgKGlzQ2xlYXJEYXRhKSB0aGlzLmRhdGEgPSB7fTtcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICBsZXQgJGRhdGE6IERhdGFGbG93ID0gZGF0YSBhcyBEYXRhRmxvdztcbiAgICAgIGlmICghdGhpcy5wcm9wZXJ0eSAmJiAkZGF0YS5wcm9wZXJ0eSkgdGhpcy5wcm9wZXJ0eSA9ICRkYXRhLnByb3BlcnR5O1xuICAgICAgaWYgKHRoaXMucHJvcGVydGllcykge1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5wcm9wZXJ0aWVzKSkge1xuICAgICAgICAgIHRoaXMuU2V0KGtleSwgJGRhdGEuR2V0KGtleSksIHNlbmRlciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoJGRhdGEuZ2V0UHJvcGVydGllcygpKSkge1xuICAgICAgICAgIHRoaXMuU2V0KGtleSwgJGRhdGEuR2V0KGtleSksIHNlbmRlciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgT2JqZWN0LmtleXMoZGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICB0aGlzLlNldChrZXksIGRhdGFba2V5XSwgc2VuZGVyLCBmYWxzZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfVxuICBwdWJsaWMgR2V0KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVtrZXldO1xuICB9XG4gIHB1YmxpYyBBcHBlbmQoa2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuZGF0YVtrZXldKSB0aGlzLmRhdGFba2V5XSA9IFtdO1xuICAgIHRoaXMuZGF0YVtrZXldID0gWy4uLnRoaXMuZGF0YVtrZXldLCB2YWx1ZV07XG4gICAgdGhpcy5CaW5kRXZlbnQodmFsdWUsIGtleSk7XG4gIH1cbiAgcHVibGljIFJlbW92ZShrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIHRoaXMuZGF0YVtrZXldLmluZGV4T2YodmFsdWUpO1xuICAgIHZhciBpbmRleCA9IHRoaXMuZGF0YVtrZXldLmluZGV4T2YodmFsdWUpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLlJlbW92ZUV2ZW50RGF0YSh0aGlzLmRhdGFba2V5XVtpbmRleF0sIGtleSk7XG4gICAgICB0aGlzLmRhdGFba2V5XS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgbG9hZChkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmRhdGEgPSB7fTtcbiAgICBpZiAoIXRoaXMucHJvcGVydGllcykge1xuICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0eT8uZ2V0UHJvcGVydHlCeUtleShkYXRhLmtleSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BlcnRpZXMpIHtcbiAgICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLnByb3BlcnRpZXMpKSB7XG4gICAgICAgIHRoaXMuZGF0YVtrZXldID0gKGRhdGE/LltrZXldID8/ICgodHlwZW9mIHRoaXMucHJvcGVydGllc1trZXldPy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLnByb3BlcnRpZXNba2V5XT8uZGVmYXVsdCgpIDogdGhpcy5wcm9wZXJ0aWVzW2tleV0/LmRlZmF1bHQpID8/IFwiXCIpKTtcbiAgICAgICAgaWYgKCEodGhpcy5kYXRhW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykgJiYgdGhpcy5kYXRhW2tleV0ua2V5KSB7XG4gICAgICAgICAgdGhpcy5kYXRhW2tleV0gPSBuZXcgRGF0YUZsb3codGhpcy5wcm9wZXJ0eSwgdGhpcy5kYXRhW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZGF0YVtrZXldKSAmJiB0aGlzLnByb3BlcnR5ICYmICEodGhpcy5kYXRhW2tleV1bMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykpIHtcbiAgICAgICAgICB0aGlzLmRhdGFba2V5XSA9IHRoaXMuZGF0YVtrZXldLm1hcCgoaXRlbTogYW55KSA9PiB7XG4gICAgICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgRGF0YUZsb3cpICYmIGl0ZW0ua2V5KSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0YUZsb3codGhpcy5wcm9wZXJ0eSwgaXRlbSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLkJpbmRFdmVudCh0aGlzLmRhdGFba2V5XSwga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHVibGljIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSnNvbigpKTtcbiAgfVxuICBwdWJsaWMgdG9Kc29uKCkge1xuICAgIGxldCByczogYW55ID0ge307XG4gICAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMucHJvcGVydGllcykpIHtcbiAgICAgIHJzW2tleV0gPSB0aGlzLkdldChrZXkpO1xuICAgICAgaWYgKHJzW2tleV0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgICByc1trZXldID0gcnNba2V5XS50b0pzb24oKTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJzW2tleV0pICYmIChyc1trZXldIGFzIFtdKS5sZW5ndGggPiAwICYmIHJzW2tleV1bMF0gaW5zdGFuY2VvZiBEYXRhRmxvdykge1xuICAgICAgICByc1trZXldID0gcnNba2V5XS5tYXAoKGl0ZW06IERhdGFGbG93KSA9PiBpdGVtLnRvSnNvbigpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJzO1xuICB9XG4gIHB1YmxpYyBkZWxldGUoKSB7XG4gICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRGbG93KCk7XG4gICAgdGhpcy5kYXRhID0ge307XG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4vRGF0YUZsb3dcIjtcclxuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4vQ29uc3RhbnRcIjtcclxuaW1wb3J0IHsgRXZlbnRGbG93IH0gZnJvbSBcIi4vRXZlbnRGbG93XCI7XHJcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi4vZGVzZ2luZXIvTm9kZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJvcGVydHkge1xyXG4gIGdldFByb3BlcnR5QnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJQ29udHJvbE5vZGUgZXh0ZW5kcyBJUHJvcGVydHkge1xyXG4gIGdldENvbnRyb2xOb2RlQnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBJRXZlbnQge1xyXG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KTogdm9pZDtcclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpOiB2b2lkO1xyXG59XHJcbmV4cG9ydCBpbnRlcmZhY2UgSU1haW4gZXh0ZW5kcyBJQ29udHJvbE5vZGUsIElFdmVudCB7XHJcbiAgbmV3UHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBvcGVuUHJvamVjdCgkbmFtZTogc3RyaW5nKTogdm9pZDtcclxuICBnZXRQcm9qZWN0QWxsKCk6IGFueVtdO1xyXG4gIHNldFByb2plY3RPcGVuKCRkYXRhOiBhbnkpOiB2b2lkO1xyXG4gIGNoZWNrUHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IGJvb2xlYW47XHJcbiAgZ2V0Q29udHJvbEFsbCgpOiBhbnk7XHJcbiAgc2V0Q29udHJvbENob29zZShrZXk6IHN0cmluZyB8IG51bGwpOiB2b2lkO1xyXG4gIGdldENvbnRyb2xDaG9vc2UoKTogc3RyaW5nIHwgbnVsbDtcclxuICBnZXRDb250cm9sQnlLZXkoa2V5OiBzdHJpbmcpOiBhbnk7XHJcbiAgcmVuZGVySHRtbChub2RlOiBOb2RlLCBlbFBhcmVudDogRWxlbWVudCk6IHZvaWQ7XHJcbiAgaW5pdE9wdGlvbihvcHRpb246IGFueSwgaXNEZWZhdWx0OiBib29sZWFuKTogdm9pZDtcclxuICBjaGVja0luaXRPcHRpb24oKTogYm9vbGVhbjtcclxuICBpbXBvcnRKc29uKGRhdGE6IGFueSk6IHZvaWQ7XHJcbiAgZXhwb3J0SnNvbigpOiBhbnk7XHJcbn1cclxuZXhwb3J0IGNsYXNzIEZsb3dDb3JlIGltcGxlbWVudHMgSUV2ZW50IHtcclxuICBwdWJsaWMgR2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgnaWQnKTtcclxuICB9XHJcbiAgcHVibGljIFNldElkKGlkOiBzdHJpbmcpIHtcclxuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCdpZCcsIGlkKTtcclxuICB9XHJcbiAgcHVibGljIHByb3BlcnRpZXM6IGFueSA9IHt9O1xyXG4gIHB1YmxpYyBkYXRhOiBEYXRhRmxvdyA9IG5ldyBEYXRhRmxvdygpO1xyXG4gIHB1YmxpYyBlbE5vZGU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gIHB1YmxpYyBDaGVja0VsZW1lbnRDaGlsZChlbDogSFRNTEVsZW1lbnQpIHtcclxuICAgIHJldHVybiB0aGlzLmVsTm9kZSA9PSBlbCB8fCB0aGlzLmVsTm9kZS5jb250YWlucyhlbCk7XHJcbiAgfVxyXG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudEZsb3c7XHJcbiAgcHVibGljIFNldERhdGEoZGF0YTogYW55LCBzZW5kZXI6IGFueSA9IG51bGwpIHtcclxuICAgIHRoaXMuZGF0YS5TZXREYXRhKGRhdGEsIHNlbmRlcik7XHJcbiAgfVxyXG4gIHB1YmxpYyBTZXREYXRhRmxvdyhkYXRhOiBEYXRhRmxvdykge1xyXG4gICAgdGhpcy5kYXRhLlNldERhdGEoZGF0YSwgdGhpcywgdHJ1ZSk7XHJcblxyXG4gICAgdGhpcy5kaXNwYXRjaChgYmluZF9kYXRhX2V2ZW50YCwgeyBkYXRhLCBzZW5kZXI6IHRoaXMgfSk7XHJcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHsgZGF0YSwgc2VuZGVyOiB0aGlzIH0pO1xyXG4gIH1cclxuICBvblNhZmUoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMub25TYWZlKGV2ZW50LCBjYWxsYmFjayk7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xyXG4gICAgdGhpcy5ldmVudHMub24oZXZlbnQsIGNhbGxiYWNrKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuICByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XHJcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xyXG4gIH1cclxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcclxuICAgIHRoaXMuZXZlbnRzLmRpc3BhdGNoKGV2ZW50LCBkZXRhaWxzKTtcclxuICB9XHJcbiAgQmluZERhdGFFdmVudCgpIHtcclxuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke2tleX1gLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KVxyXG4gICAgdGhpcy5kYXRhLm9uKEV2ZW50RW51bS5jaGFuZ2UsICh7IGtleSwgdmFsdWUsIHNlbmRlciB9OiBhbnkpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7XHJcbiAgICAgICAgICB0eXBlOiAnZGF0YScsXHJcbiAgICAgICAgICBrZXksIHZhbHVlLCBzZW5kZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbiAgUmVtb3ZlRGF0YUV2ZW50KCkge1xyXG4gICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCAoeyBrZXksIHZhbHVlLCBzZW5kZXIgfTogYW55KSA9PiB7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9XyR7a2V5fWAsIHtcclxuICAgICAgICAgIHR5cGU6ICdkYXRhJyxcclxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHtcclxuICAgICAgICAgIHR5cGU6ICdkYXRhJyxcclxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pXHJcbiAgICB0aGlzLmRhdGEucmVtb3ZlTGlzdGVuZXIoRXZlbnRFbnVtLmNoYW5nZSwgKHsga2V5LCB2YWx1ZSwgc2VuZGVyIH06IGFueSkgPT4ge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5jaGFuZ2UsIHtcclxuICAgICAgICAgIHR5cGU6ICdkYXRhJyxcclxuICAgICAgICAgIGtleSwgdmFsdWUsIHNlbmRlclxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEZsb3coKTtcclxuICAgIHRoaXMuQmluZERhdGFFdmVudCgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEJhc2VGbG93PFRQYXJlbnQgZXh0ZW5kcyBGbG93Q29yZT4gZXh0ZW5kcyBGbG93Q29yZSB7XHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IFRQYXJlbnQpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBMT0cgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiBjb25zb2xlLmxvZyhtZXNzYWdlLCBvcHRpb25hbFBhcmFtcyk7XG5leHBvcnQgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IChuZXcgRGF0ZSgpKTtcbmV4cG9ydCBjb25zdCBnZXRUaW1lID0gKCkgPT4gZ2V0RGF0ZSgpLmdldFRpbWUoKTtcbmV4cG9ydCBjb25zdCBnZXRVdWlkID0gKCkgPT4ge1xuICAvLyBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MTIyLnR4dFxuICBsZXQgczogYW55ID0gW107XG4gIGxldCBoZXhEaWdpdHMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAzNjsgaSsrKSB7XG4gICAgc1tpXSA9IGhleERpZ2l0cy5zdWJzdHIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMHgxMCksIDEpO1xuICB9XG4gIHNbMTRdID0gXCI0XCI7ICAvLyBiaXRzIDEyLTE1IG9mIHRoZSB0aW1lX2hpX2FuZF92ZXJzaW9uIGZpZWxkIHRvIDAwMTBcbiAgc1sxOV0gPSBoZXhEaWdpdHMuc3Vic3RyKChzWzE5XSAmIDB4MykgfCAweDgsIDEpOyAgLy8gYml0cyA2LTcgb2YgdGhlIGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWQgdG8gMDFcbiAgc1s4XSA9IHNbMTNdID0gc1sxOF0gPSBzWzIzXSA9IFwiLVwiO1xuXG4gIGxldCB1dWlkID0gcy5qb2luKFwiXCIpO1xuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbXBhcmVTb3J0ID0gKGE6IGFueSwgYjogYW55KSA9PiB7XG4gIGlmIChhLnNvcnQgPCBiLnNvcnQpIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cbiAgaWYgKGEuc29ydCA+IGIuc29ydCkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHJldHVybiAwO1xufVxuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb24gPSAoZm46IGFueSkgPT4ge1xuICByZXR1cm4gZm4gJiYgZm4gaW5zdGFuY2VvZiBGdW5jdGlvbjtcbn1cbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4vQmFzZUZsb3dcIjtcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEYXRhRmxvdyB9IGZyb20gXCIuL0RhdGFGbG93XCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSBcIi4vVXRpbHNcIjtcblxuZXhwb3J0IGNvbnN0IFRhZ1ZpZXcgPSBbJ1NQQU4nLCAnRElWJywgJ1AnLCAnVEVYVEFSRUEnXTtcbmV4cG9ydCBjbGFzcyBEYXRhVmlldyB7XG4gIHByaXZhdGUgZWxOb2RlOiBFbGVtZW50IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHByb3BlcnR5OiBhbnk7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50LCBwcml2YXRlIGRhdGE6IERhdGFGbG93LCBwcml2YXRlIG1haW46IElNYWluLCBwcml2YXRlIGtleU5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsKSB7XG4gICAgaWYgKHRoaXMua2V5TmFtZSkge1xuICAgICAgaWYgKCFlbC5nZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnKSkge1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gdGhpcy5tYWluLmdldFByb3BlcnR5QnlLZXkodGhpcy5kYXRhLkdldCgna2V5JykpPy5bdGhpcy5rZXlOYW1lXTtcbiAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdub2RlLWVkaXRvcicpO1xuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0eS5lZGl0KSB7XG4gICAgICAgICAgaWYgKHRoaXMucHJvcGVydHkuc2VsZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmVsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoXCJub2RlLWZvcm0tY29udHJvbFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmVsTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsTm9kZS5zZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnLCB0aGlzLmtleU5hbWUpO1xuICAgICAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMuZWxOb2RlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5rZXlOYW1lID0gZWw/LmdldEF0dHJpYnV0ZSgnbm9kZTptb2RlbCcpO1xuICAgICAgaWYgKHRoaXMua2V5TmFtZSkge1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gdGhpcy5tYWluLmdldFByb3BlcnR5QnlLZXkodGhpcy5kYXRhLkdldCgna2V5JykpPy5bdGhpcy5rZXlOYW1lXTtcbiAgICAgICAgdGhpcy5lbE5vZGUgPSB0aGlzLmVsO1xuICAgICAgICBsZXQgbm9kZUVkaXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgbm9kZUVkaXRvci5jbGFzc0xpc3QuYWRkKCdub2RlLWVkaXRvcicpO1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50Py5pbnNlcnRCZWZvcmUobm9kZUVkaXRvciwgZWwpO1xuICAgICAgICBlbC5wYXJlbnRFbGVtZW50Py5yZW1vdmVDaGlsZChlbCk7XG4gICAgICAgIG5vZGVFZGl0b3IuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5rZXlOYW1lKVxuICAgICAgdGhpcy5iaW5kRGF0YSgpO1xuICB9XG4gIHByaXZhdGUgYmluZERhdGEoKSB7XG4gICAgaWYgKHRoaXMua2V5TmFtZSAmJiB0aGlzLmVsTm9kZSkge1xuICAgICAgdGhpcy5kYXRhLm9uKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke3RoaXMua2V5TmFtZX1gLCB0aGlzLmJpbmRJbnB1dC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLmJpbmRFdmVudC5iaW5kKHRoaXMpKTtcbiAgICAgIGlmICh0aGlzLnByb3BlcnR5ICYmIHRoaXMucHJvcGVydHkuc2VsZWN0ICYmIGlzRnVuY3Rpb24odGhpcy5wcm9wZXJ0eS5kYXRhU2VsZWN0KSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5wcm9wZXJ0eS5kYXRhU2VsZWN0KHsgZWxOb2RlOiB0aGlzLmVsTm9kZSwgbWFpbjogdGhpcy5tYWluLCBrZXk6IHRoaXMua2V5TmFtZSB9KS5tYXAoKHsgdmFsdWUsIHRleHQgfTogYW55KSA9PiB7XG4gICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICAgIG9wdGlvbi52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIG9wdGlvbi50ZXh0ID0gdGV4dDtcbiAgICAgICAgICByZXR1cm4gb3B0aW9uO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgb3B0aW9uIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICB0aGlzLmVsTm9kZS5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnByb3BlcnR5ICYmIGlzRnVuY3Rpb24odGhpcy5wcm9wZXJ0eS5zY3JpcHQpKSB7XG4gICAgICAgIHRoaXMucHJvcGVydHkuc2NyaXB0KHsgZWxOb2RlOiB0aGlzLmVsTm9kZSwgbWFpbjogdGhpcy5tYWluLCBrZXk6IHRoaXMua2V5TmFtZSB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0Tm9kZVZhbHVlKHRoaXMuZGF0YS5HZXQodGhpcy5rZXlOYW1lKSk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgc2V0Tm9kZVZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICBpZiAodGhpcy5lbE5vZGUpIHtcbiAgICAgIGlmIChUYWdWaWV3LmluY2x1ZGVzKHRoaXMuZWxOb2RlLnRhZ05hbWUpKSB7XG4gICAgICAgICh0aGlzLmVsTm9kZSBhcyBhbnkpLmlubmVyVGV4dCA9IGAke3ZhbHVlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAodGhpcy5lbE5vZGUgYXMgYW55KS52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICB9XG4gIHByaXZhdGUgYmluZElucHV0KHsgdmFsdWUsIHNlbmRlciB9OiBhbnkpIHtcbiAgICBpZiAoc2VuZGVyICE9PSB0aGlzICYmIHRoaXMuZWxOb2RlICYmIHNlbmRlci5lbE5vZGUgIT09IHRoaXMuZWxOb2RlKSB7XG4gICAgICB0aGlzLnNldE5vZGVWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgYmluZEV2ZW50KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMua2V5TmFtZSAmJiB0aGlzLmVsTm9kZSkge1xuICAgICAgICB0aGlzLmRhdGEuU2V0KHRoaXMua2V5TmFtZSwgKHRoaXMuZWxOb2RlIGFzIGFueSkudmFsdWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHB1YmxpYyBEZWxldGUoKSB7XG4gICAgaWYgKHRoaXMua2V5TmFtZSAmJiB0aGlzLmVsTm9kZSkge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKGAke0V2ZW50RW51bS5kYXRhQ2hhbmdlfV8ke3RoaXMua2V5TmFtZX1gLCB0aGlzLmJpbmRJbnB1dC5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuZWxOb2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYmluZEV2ZW50LmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgc3RhdGljIEJpbmRFbGVtZW50KGVsOiBFbGVtZW50LCBkYXRhOiBEYXRhRmxvdywgbWFpbjogSU1haW4sIGtleTogc3RyaW5nIHwgbnVsbCA9IG51bGwpOiBEYXRhVmlld1tdIHtcbiAgICBpZiAoZWwuY2hpbGRFbGVtZW50Q291bnQgPT0gMCB8fCBlbC5nZXRBdHRyaWJ1dGUoJ25vZGU6bW9kZWwnKSkge1xuICAgICAgcmV0dXJuIFtuZXcgRGF0YVZpZXcoZWwsIGRhdGEsIG1haW4sIGtleSldO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKCdbbm9kZVxcXFw6bW9kZWxdJykpLm1hcCgoaXRlbTogRWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBEYXRhVmlldyhpdGVtLCBkYXRhLCBtYWluKTtcbiAgICB9KTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBnZXRUaW1lIH0gZnJvbSBcIi4uL2NvcmUvVXRpbHNcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlldyB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld1wiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcblxuZXhwb3J0IGVudW0gTW92ZVR5cGUge1xuICBOb25lID0gMCxcbiAgTm9kZSA9IDEsXG4gIENhbnZhcyA9IDIsXG4gIExpbmUgPSAzLFxufVxuZXhwb3J0IGNsYXNzIERlc2dpbmVyVmlld19FdmVudCB7XG5cbiAgcHJpdmF0ZSB0aW1lRmFzdENsaWNrOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHRhZ0luZ29yZSA9IFsnaW5wdXQnLCAnYnV0dG9uJywgJ2EnLCAndGV4dGFyZWEnXTtcblxuICBwcml2YXRlIG1vdmVUeXBlOiBNb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gIHByaXZhdGUgZmxnRHJhcDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGZsZ01vdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBwcml2YXRlIGF2X3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgYXZfeTogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHBvc194OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIHBvc195OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG1vdXNlX3g6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgbW91c2VfeTogbnVtYmVyID0gMDtcblxuICBwcml2YXRlIHRlbXBMaW5lOiBMaW5lIHwgdW5kZWZpbmVkO1xuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IERlc2dpbmVyVmlldykge1xuICAgIC8qIE1vdXNlIGFuZCBUb3VjaCBBY3Rpb25zICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydE1vdmUuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLkVuZE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRNb3ZlLmJpbmQodGhpcykpO1xuICAgIC8qIENvbnRleHQgTWVudSAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuY29udGV4dG1lbnUuYmluZCh0aGlzKSk7XG5cbiAgICAvKiBEcm9wIERyYXAgKi9cbiAgICB0aGlzLnBhcmVudC5lbE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMubm9kZV9kcm9wRW5kLmJpbmQodGhpcykpO1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMubm9kZV9kcmFnb3Zlci5iaW5kKHRoaXMpKTtcbiAgICAvKiBab29tIE1vdXNlICovXG4gICAgdGhpcy5wYXJlbnQuZWxOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy56b29tX2VudGVyLmJpbmQodGhpcykpO1xuICAgIC8qIERlbGV0ZSAqL1xuICAgIHRoaXMucGFyZW50LmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcHJpdmF0ZSBjb250ZXh0bWVudShldjogYW55KSB7IGV2LnByZXZlbnREZWZhdWx0KCk7IH1cbiAgcHJpdmF0ZSBub2RlX2RyYWdvdmVyKGV2OiBhbnkpIHsgZXYucHJldmVudERlZmF1bHQoKTsgfVxuICBwcml2YXRlIG5vZGVfZHJvcEVuZChldjogYW55KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBsZXQga2V5Tm9kZTogYW55ID0gdGhpcy5wYXJlbnQubWFpbi5nZXRDb250cm9sQ2hvb3NlKCk7XG4gICAgaWYgKCFrZXlOb2RlICYmIGV2LnR5cGUgIT09IFwidG91Y2hlbmRcIikge1xuICAgICAga2V5Tm9kZSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwibm9kZVwiKTtcbiAgICB9XG4gICAgaWYgKCFrZXlOb2RlKSByZXR1cm47XG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIGxldCB4ID0gdGhpcy5wYXJlbnQuQ2FsY1godGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueCAtIGVfcG9zX3gpO1xuICAgIGxldCB5ID0gdGhpcy5wYXJlbnQuQ2FsY1kodGhpcy5wYXJlbnQuZWxDYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSAtIGVfcG9zX3kpO1xuXG4gICAgaWYgKHRoaXMucGFyZW50LmNoZWNrT25seU5vZGUoa2V5Tm9kZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5vZGVJdGVtID0gdGhpcy5wYXJlbnQuQWRkTm9kZShrZXlOb2RlLCB7XG4gICAgICBncm91cDogdGhpcy5wYXJlbnQuQ3VycmVudEdyb3VwKClcbiAgICB9KTtcbiAgICBub2RlSXRlbS51cGRhdGVQb3NpdGlvbih4LCB5KTtcbiAgfVxuICBwdWJsaWMgem9vbV9lbnRlcihldmVudDogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgIGlmIChldmVudC5kZWx0YVkgPiAwKSB7XG4gICAgICAgIC8vIFpvb20gT3V0XG4gICAgICAgIHRoaXMucGFyZW50Lnpvb21fb3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBab29tIEluXG4gICAgICAgIHRoaXMucGFyZW50Lnpvb21faW4oKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBTdGFydE1vdmUoZXY6IGFueSkge1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGlmICh0aGlzLnRhZ0luZ29yZS5pbmNsdWRlcyhldi50YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnRpbWVGYXN0Q2xpY2sgPSBnZXRUaW1lKCk7XG4gICAgaWYgKGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ21haW4tcGF0aCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChldi50eXBlID09PSBcInRvdWNoc3RhcnRcIikge1xuICAgICAgdGhpcy5wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIHRoaXMucG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgdGhpcy5wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIHRoaXMubW92ZVR5cGUgPSBNb3ZlVHlwZS5DYW52YXM7XG4gICAgbGV0IG5vZGVDaG9vc2UgPSB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk7XG4gICAgaWYgKG5vZGVDaG9vc2UgJiYgbm9kZUNob29zZS5DaGVja0VsZW1lbnRDaGlsZChldi50YXJnZXQpKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICBpZiAobm9kZUNob29zZSAmJiB0aGlzLm1vdmVUeXBlID09IE1vdmVUeXBlLk5vZGUgJiYgZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm5vZGUtZG90XCIpKSB7XG4gICAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTGluZTtcbiAgICAgIGxldCBmcm9tSW5kZXggPSBldi50YXJnZXQuZ2V0QXR0cmlidXRlKCdub2RlJyk7XG4gICAgICB0aGlzLnRlbXBMaW5lID0gbmV3IExpbmUobm9kZUNob29zZSwgZnJvbUluZGV4KTtcbiAgICAgIHRoaXMudGVtcExpbmUudGVtcCA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0aGlzLm1vdmVUeXBlID09IE1vdmVUeXBlLkNhbnZhcykge1xuICAgICAgdGhpcy5hdl94ID0gdGhpcy5wYXJlbnQuZ2V0WCgpO1xuICAgICAgdGhpcy5hdl95ID0gdGhpcy5wYXJlbnQuZ2V0WSgpO1xuICAgIH1cbiAgICB0aGlzLmZsZ0RyYXAgPSB0cnVlO1xuICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICB9XG4gIHB1YmxpYyBNb3ZlKGV2OiBhbnkpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQuJGxvY2spIHJldHVybjtcbiAgICBpZiAoIXRoaXMuZmxnRHJhcCkgcmV0dXJuO1xuICAgIHRoaXMuZmxnTW92ZSA9IHRydWU7XG4gICAgbGV0IGVfcG9zX3ggPSAwO1xuICAgIGxldCBlX3Bvc195ID0gMDtcbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgZV9wb3NfeCA9IGV2LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIGVfcG9zX3kgPSBldi50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5tb3ZlVHlwZSkge1xuICAgICAgY2FzZSBNb3ZlVHlwZS5DYW52YXM6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeCA9IHRoaXMuYXZfeCArIHRoaXMucGFyZW50LkNhbGNYKC0odGhpcy5wb3NfeCAtIGVfcG9zX3gpKVxuICAgICAgICAgIGxldCB5ID0gdGhpcy5hdl95ICsgdGhpcy5wYXJlbnQuQ2FsY1koLSh0aGlzLnBvc195IC0gZV9wb3NfeSkpXG4gICAgICAgICAgdGhpcy5wYXJlbnQuc2V0WCh4KTtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zZXRZKHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIE1vdmVUeXBlLk5vZGU6XG4gICAgICAgIHtcbiAgICAgICAgICBsZXQgeCA9IHRoaXMucGFyZW50LkNhbGNYKHRoaXMucG9zX3ggLSBlX3Bvc194KTtcbiAgICAgICAgICBsZXQgeSA9IHRoaXMucGFyZW50LkNhbGNZKHRoaXMucG9zX3kgLSBlX3Bvc195KTtcbiAgICAgICAgICB0aGlzLnBvc194ID0gZV9wb3NfeDtcbiAgICAgICAgICB0aGlzLnBvc195ID0gZV9wb3NfeTtcbiAgICAgICAgICB0aGlzLnBhcmVudC5nZXROb2RlQ2hvb3NlKCk/LnVwZGF0ZVBvc2l0aW9uKHgsIHkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIE1vdmVUeXBlLkxpbmU6XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAodGhpcy50ZW1wTGluZSkge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnBhcmVudC5DYWxjWCh0aGlzLnBhcmVudC5lbENhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54IC0gZV9wb3NfeCk7XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMucGFyZW50LkNhbGNZKHRoaXMucGFyZW50LmVsQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkgLSBlX3Bvc195KTtcbiAgICAgICAgICAgIHRoaXMudGVtcExpbmUudXBkYXRlVG8odGhpcy5wYXJlbnQuZWxDYW52YXMub2Zmc2V0TGVmdCAtIHgsIHRoaXMucGFyZW50LmVsQ2FudmFzLm9mZnNldFRvcCAtIHkpO1xuICAgICAgICAgICAgbGV0IG5vZGVFbCA9IGV2LnRhcmdldC5jbG9zZXN0KCdbbm9kZS1pZF0nKTtcbiAgICAgICAgICAgIGxldCBub2RlSWQgPSBub2RlRWw/LmdldEF0dHJpYnV0ZSgnbm9kZS1pZCcpO1xuICAgICAgICAgICAgbGV0IG5vZGVUbyA9IG5vZGVJZCA/IHRoaXMucGFyZW50LkdldE5vZGVCeUlkKG5vZGVJZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAobm9kZVRvICYmIGV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJub2RlLWRvdFwiKSkge1xuICAgICAgICAgICAgICBsZXQgdG9JbmRleCA9IGV2LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ25vZGUnKTtcbiAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZS5zZXROb2RlVG8obm9kZVRvLCB0b0luZGV4KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCB0b0luZGV4ID0gbm9kZUVsPy5xdWVyeVNlbGVjdG9yKCcubm9kZS1kb3QnKT8uWzBdPy5nZXRBdHRyaWJ1dGUoJ25vZGUnKTtcbiAgICAgICAgICAgICAgdGhpcy50ZW1wTGluZS5zZXROb2RlVG8obm9kZVRvLCB0b0luZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXYudHlwZSA9PT0gXCJ0b3VjaG1vdmVcIikge1xuICAgICAgdGhpcy5tb3VzZV94ID0gZV9wb3NfeDtcbiAgICAgIHRoaXMubW91c2VfeSA9IGVfcG9zX3k7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgRW5kTW92ZShldjogYW55KSB7XG4gICAgaWYgKHRoaXMucGFyZW50LiRsb2NrKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLmZsZ0RyYXApIHJldHVybjtcbiAgICAvL2ZpeCBGYXN0IENsaWNrXG4gICAgaWYgKCgoZ2V0VGltZSgpIC0gdGhpcy50aW1lRmFzdENsaWNrKSA8IDEwMCkgfHwgIXRoaXMuZmxnTW92ZSkge1xuICAgICAgdGhpcy5tb3ZlVHlwZSA9IE1vdmVUeXBlLk5vbmU7XG4gICAgICB0aGlzLmZsZ0RyYXAgPSBmYWxzZTtcbiAgICAgIHRoaXMuZmxnTW92ZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBlX3Bvc194ID0gMDtcbiAgICBsZXQgZV9wb3NfeSA9IDA7XG4gICAgaWYgKGV2LnR5cGUgPT09IFwidG91Y2hlbmRcIikge1xuICAgICAgZV9wb3NfeCA9IHRoaXMubW91c2VfeDtcbiAgICAgIGVfcG9zX3kgPSB0aGlzLm1vdXNlX3k7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVfcG9zX3ggPSBldi5jbGllbnRYO1xuICAgICAgZV9wb3NfeSA9IGV2LmNsaWVudFk7XG4gICAgfVxuICAgIGlmICh0aGlzLm1vdmVUeXBlID09PSBNb3ZlVHlwZS5DYW52YXMpIHtcbiAgICAgIGxldCB4ID0gdGhpcy5hdl94ICsgdGhpcy5wYXJlbnQuQ2FsY1goLSh0aGlzLnBvc194IC0gZV9wb3NfeCkpXG4gICAgICBsZXQgeSA9IHRoaXMuYXZfeSArIHRoaXMucGFyZW50LkNhbGNZKC0odGhpcy5wb3NfeSAtIGVfcG9zX3kpKVxuICAgICAgdGhpcy5wYXJlbnQuc2V0WCh4KTtcbiAgICAgIHRoaXMucGFyZW50LnNldFkoeSk7XG4gICAgICB0aGlzLmF2X3ggPSAwO1xuICAgICAgdGhpcy5hdl95ID0gMDtcbiAgICB9XG4gICAgaWYgKHRoaXMudGVtcExpbmUpIHtcbiAgICAgIHRoaXMudGVtcExpbmUuQ2xvbmUoKTtcbiAgICAgIHRoaXMudGVtcExpbmUuZGVsZXRlKCk7XG4gICAgICB0aGlzLnRlbXBMaW5lID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLnBvc194ID0gZV9wb3NfeDtcbiAgICB0aGlzLnBvc195ID0gZV9wb3NfeTtcbiAgICB0aGlzLm1vdmVUeXBlID0gTW92ZVR5cGUuTm9uZTtcbiAgICB0aGlzLmZsZ0RyYXAgPSBmYWxzZTtcbiAgICB0aGlzLmZsZ01vdmUgPSBmYWxzZTtcbiAgfVxuICBwcml2YXRlIGtleWRvd24oZXY6IGFueSkge1xuICAgIGlmICh0aGlzLnBhcmVudC4kbG9jaykgcmV0dXJuO1xuICAgIGlmIChldi5rZXkgPT09ICdEZWxldGUnIHx8IChldi5rZXkgPT09ICdCYWNrc3BhY2UnICYmIGV2Lm1ldGFLZXkpKSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgIHRoaXMucGFyZW50LmdldE5vZGVDaG9vc2UoKT8uZGVsZXRlKCk7XG4gICAgICB0aGlzLnBhcmVudC5nZXRMaW5lQ2hvb3NlKCk/LmRlbGV0ZSgpO1xuICAgIH1cbiAgICBpZiAoZXYua2V5ID09PSAnRjInKSB7XG4gICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhRmxvdywgRXZlbnRFbnVtLCBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL2luZGV4XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBQcm9qZWN0RG9jayBleHRlbmRzIERvY2tCYXNlIHtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIHByb3RlY3RlZCBtYWluOiBJTWFpbikge1xuICAgIHN1cGVyKGNvbnRhaW5lciwgbWFpbik7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtcHJvamVjdCcpO1xuICAgIHRoaXMuQm94SW5mbygnUHJvamVjdCcsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5jaGFuZ2UsIHRoaXMucmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgKGRldGFpbDogYW55KSA9PiB7XG4gICAgICB0aGlzLmVsQ29udGVudD8ucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpLmZvckVhY2goKF9ub2RlKSA9PiB7XG4gICAgICAgIF9ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5lbENvbnRlbnQgJiYgZGV0YWlsPy5kYXRhPy5HZXQoJ2lkJykpIHtcbiAgICAgICAgdGhpcy5lbENvbnRlbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvamVjdC1pZD1cIiR7ZGV0YWlsPy5kYXRhPy5HZXQoJ2lkJyl9XCJdYCk/LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbiAgcHJpdmF0ZSByZW5kZXJVSSgpIHtcbiAgICBsZXQgJG5vZGVSaWdodDogSFRNTEVsZW1lbnQgfCBudWxsID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcignLnZzLWJveGluZm9faGVhZGVyIC52cy1ib3hpbmZvX2J1dHRvbicpO1xuICAgIGlmICghdGhpcy5lbENvbnRlbnQpIHJldHVybjtcbiAgICB0aGlzLmVsQ29udGVudC5pbm5lckhUTUwgPSBgYDtcbiAgICBpZiAoJG5vZGVSaWdodCkge1xuICAgICAgJG5vZGVSaWdodC5pbm5lckhUTUwgPSBgYDtcbiAgICAgIGxldCBidXR0b25OZXcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICRub2RlUmlnaHQ/LmFwcGVuZENoaWxkKGJ1dHRvbk5ldyk7XG4gICAgICBidXR0b25OZXcuaW5uZXJIVE1MID0gYE5ld2A7XG4gICAgICBidXR0b25OZXcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLm1haW4ubmV3UHJvamVjdCgnJykpO1xuICAgIH1cblxuICAgIGxldCBwcm9qZWN0cyA9IHRoaXMubWFpbi5nZXRQcm9qZWN0QWxsKCk7XG4gICAgcHJvamVjdHMuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcbiAgICAgIGxldCBub2RlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnbm9kZS1pdGVtJyk7XG4gICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XG4gICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGl0ZW0uR2V0KCdpZCcpKTtcbiAgICAgIGl0ZW0ucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9X25hbWVgLCAoKSA9PiB7XG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5vbihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fbmFtZWAsICgpID0+IHtcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5tYWluLmNoZWNrUHJvamVjdE9wZW4oaXRlbSkpIHtcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBub2RlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhOiBpdGVtIH0pO1xuICAgICAgICB0aGlzLm1haW4uZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiBpdGVtIH0pO1xuXG4gICAgICB9KTtcbiAgICAgIHRoaXMuZWxDb250ZW50Py5hcHBlbmRDaGlsZChub2RlSXRlbSk7XG4gICAgfSk7XG5cbiAgfVxufVxuIiwiaW1wb3J0IHsgRGF0YVZpZXcsIERhdGFGbG93LCBFdmVudEVudW0sIElNYWluIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5RG9jayBleHRlbmRzIERvY2tCYXNlIHtcbiAgcHJpdmF0ZSBsYXN0RGF0YTogRGF0YUZsb3cgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgaGlkZUtleXM6IHN0cmluZ1tdID0gWydsaW5lcycsICdub2RlcycsICdncm91cHMnXTtcbiAgcHJpdmF0ZSBzb3J0S2V5czogc3RyaW5nW10gPSBbJ2lkJywgJ2tleScsICduYW1lJywgJ2dyb3VwJ107XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xuXG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgndnMtcHJvcGVydHknKTtcbiAgICB0aGlzLkJveEluZm8oJ1Byb3BlcnR5JywgKG5vZGU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBtYWluLm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkZXRhaWw6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnJlbmRlclVJKG5vZGUsIGRldGFpbC5kYXRhKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlbmRlclVJKG5vZGU6IEhUTUxFbGVtZW50LCBkYXRhOiBEYXRhRmxvdykge1xuICAgIGlmICh0aGlzLmxhc3REYXRhID09IGRhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sYXN0RGF0YSA9IGRhdGE7XG4gICAgbm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICBsZXQgcHJvcGVydGllczogYW55ID0gZGF0YS5nZXRQcm9wZXJ0aWVzKCk7XG4gICAgdGhpcy5zb3J0S2V5cy5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHRoaXMuaGlkZUtleXMuaW5jbHVkZXMoa2V5KSB8fCAhcHJvcGVydGllc1trZXldKSByZXR1cm47XG4gICAgICBsZXQgcHJvcGVydHlJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBwcm9wZXJ0eUl0ZW0uY2xhc3NMaXN0LmFkZCgncHJvcGVydHktaXRlbScpO1xuICAgICAgbGV0IHByb3BlcnR5TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5TGFiZWwuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktbGFiZWwnKTtcbiAgICAgIHByb3BlcnR5TGFiZWwuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgbGV0IHByb3BlcnR5VmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5VmFsdWUuY2xhc3NMaXN0LmFkZCgncHJvcGVydHktdmFsdWUnKTtcbiAgICAgIERhdGFWaWV3LkJpbmRFbGVtZW50KHByb3BlcnR5VmFsdWUsIGRhdGEsIHRoaXMubWFpbiwga2V5KTtcbiAgICAgIHByb3BlcnR5SXRlbS5hcHBlbmRDaGlsZChwcm9wZXJ0eUxhYmVsKTtcbiAgICAgIHByb3BlcnR5SXRlbS5hcHBlbmRDaGlsZChwcm9wZXJ0eVZhbHVlKTtcbiAgICAgIG5vZGUuYXBwZW5kQ2hpbGQocHJvcGVydHlJdGVtKTtcbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5mb3JFYWNoKChrZXk6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHRoaXMuaGlkZUtleXMuaW5jbHVkZXMoa2V5KSB8fCB0aGlzLnNvcnRLZXlzLmluY2x1ZGVzKGtleSkpIHJldHVybjtcbiAgICAgIGxldCBwcm9wZXJ0eUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHByb3BlcnR5SXRlbS5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS1pdGVtJyk7XG4gICAgICBsZXQgcHJvcGVydHlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvcGVydHlMYWJlbC5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS1sYWJlbCcpO1xuICAgICAgcHJvcGVydHlMYWJlbC5pbm5lckhUTUwgPSBrZXk7XG4gICAgICBsZXQgcHJvcGVydHlWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgcHJvcGVydHlWYWx1ZS5jbGFzc0xpc3QuYWRkKCdwcm9wZXJ0eS12YWx1ZScpO1xuICAgICAgRGF0YVZpZXcuQmluZEVsZW1lbnQocHJvcGVydHlWYWx1ZSwgZGF0YSwgdGhpcy5tYWluLCBrZXkpO1xuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5TGFiZWwpO1xuICAgICAgcHJvcGVydHlJdGVtLmFwcGVuZENoaWxkKHByb3BlcnR5VmFsdWUpO1xuICAgICAgbm9kZS5hcHBlbmRDaGlsZChwcm9wZXJ0eUl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEYXRhRmxvdywgUHJvcGVydHlFbnVtIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi9Ob2RlXCI7XG5cbmV4cG9ydCBjbGFzcyBMaW5lIHtcbiAgcHVibGljIGVsTm9kZTogU1ZHRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBcInN2Z1wiKTtcbiAgcHVibGljIGVsUGF0aDogU1ZHUGF0aEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgXCJwYXRoXCIpO1xuICBwcml2YXRlIGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KCk7XG4gIHByaXZhdGUgY3VydmF0dXJlOiBudW1iZXIgPSAwLjU7XG4gIHB1YmxpYyB0ZW1wOiBib29sZWFuID0gZmFsc2U7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwdWJsaWMgZnJvbTogTm9kZSwgcHVibGljIGZyb21JbmRleDogbnVtYmVyID0gMCwgcHVibGljIHRvOiBOb2RlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBwdWJsaWMgdG9JbmRleDogbnVtYmVyID0gMCwgZGF0YTogYW55ID0gbnVsbCkge1xuICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoXCJtYWluLXBhdGhcIik7XG4gICAgdGhpcy5lbFBhdGguYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5TdGFydFNlbGVjdGVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZWxQYXRoLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLlN0YXJ0U2VsZWN0ZWQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5lbFBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCAnJyk7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZChcImNvbm5lY3Rpb25cIik7XG4gICAgdGhpcy5lbE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbFBhdGgpO1xuICAgIHRoaXMuZnJvbS5wYXJlbnQuZWxDYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5lbE5vZGUpO1xuXG4gICAgdGhpcy5mcm9tLkFkZExpbmUodGhpcyk7XG4gICAgdGhpcy50bz8uQWRkTGluZSh0aGlzKTtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5kYXRhLkluaXREYXRhKFxuICAgICAge1xuICAgICAgICBmcm9tOiB0aGlzLmZyb20uR2V0SWQoKSxcbiAgICAgICAgZnJvbUluZGV4OiB0aGlzLmZyb21JbmRleCxcbiAgICAgICAgdG86IHRoaXMudG8/LkdldElkKCksXG4gICAgICAgIHRvSW5kZXg6IHRoaXMudG9JbmRleFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgLi4uIHRoaXMuZnJvbS5wYXJlbnQubWFpbi5nZXRQcm9wZXJ0eUJ5S2V5KFByb3BlcnR5RW51bS5saW5lKSB8fCB7fVxuICAgICAgfVxuICAgICk7XG4gICAgdGhpcy5mcm9tLmRhdGEuQXBwZW5kKCdsaW5lcycsIHRoaXMuZGF0YSk7XG4gIH1cbiAgcHVibGljIHVwZGF0ZVRvKHRvX3g6IG51bWJlciwgdG9feTogbnVtYmVyKSB7XG4gICAgaWYgKCF0aGlzLmZyb20gfHwgdGhpcy5mcm9tLmVsTm9kZSA9PSBudWxsKSByZXR1cm47XG4gICAgbGV0IHsgeDogZnJvbV94LCB5OiBmcm9tX3kgfTogYW55ID0gdGhpcy5mcm9tLmdldFBvc3Rpc2lvbkRvdCh0aGlzLmZyb21JbmRleCk7XG4gICAgdmFyIGxpbmVDdXJ2ZSA9IHRoaXMuY3JlYXRlQ3VydmF0dXJlKGZyb21feCwgZnJvbV95LCB0b194LCB0b195LCB0aGlzLmN1cnZhdHVyZSwgJ29wZW5jbG9zZScpO1xuICAgIHRoaXMuZWxQYXRoLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgbGluZUN1cnZlKTtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKTogTGluZSB7XG4gICAgLy9Qb3N0aW9uIG91dHB1dFxuICAgIGlmICh0aGlzLnRvICYmIHRoaXMudG8uZWxOb2RlKSB7XG4gICAgICBsZXQgeyB4OiB0b194LCB5OiB0b195IH06IGFueSA9IHRoaXMudG8uZ2V0UG9zdGlzaW9uRG90KHRoaXMudG9JbmRleCk7XG4gICAgICB0aGlzLnVwZGF0ZVRvKHRvX3gsIHRvX3kpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBwdWJsaWMgQWN0aXZlKGZsZzogYW55ID0gdHJ1ZSkge1xuICAgIGlmIChmbGcpIHtcbiAgICAgIHRoaXMuZWxQYXRoLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsUGF0aC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBjcmVhdGVDdXJ2YXR1cmUoc3RhcnRfcG9zX3g6IG51bWJlciwgc3RhcnRfcG9zX3k6IG51bWJlciwgZW5kX3Bvc194OiBudW1iZXIsIGVuZF9wb3NfeTogbnVtYmVyLCBjdXJ2YXR1cmVfdmFsdWU6IG51bWJlciwgdHlwZTogc3RyaW5nKSB7XG4gICAgbGV0IGxpbmVfeCA9IHN0YXJ0X3Bvc194O1xuICAgIGxldCBsaW5lX3kgPSBzdGFydF9wb3NfeTtcbiAgICBsZXQgeCA9IGVuZF9wb3NfeDtcbiAgICBsZXQgeSA9IGVuZF9wb3NfeTtcbiAgICBsZXQgY3VydmF0dXJlID0gY3VydmF0dXJlX3ZhbHVlO1xuICAgIC8vdHlwZSBvcGVuY2xvc2Ugb3BlbiBjbG9zZSBvdGhlclxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnb3Blbic6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdjbG9zZSc6XG4gICAgICAgIGlmIChzdGFydF9wb3NfeCA+PSBlbmRfcG9zX3gpIHtcbiAgICAgICAgICB2YXIgaHgxID0gbGluZV94ICsgTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiAoY3VydmF0dXJlICogLTEpO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ290aGVyJzpcbiAgICAgICAgaWYgKHN0YXJ0X3Bvc194ID49IGVuZF9wb3NfeCkge1xuICAgICAgICAgIHZhciBoeDEgPSBsaW5lX3ggKyBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgICAgdmFyIGh4MiA9IHggLSBNYXRoLmFicyh4IC0gbGluZV94KSAqIChjdXJ2YXR1cmUgKiAtMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICAgIHZhciBoeDIgPSB4IC0gTWF0aC5hYnMoeCAtIGxpbmVfeCkgKiBjdXJ2YXR1cmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcgTSAnICsgbGluZV94ICsgJyAnICsgbGluZV95ICsgJyBDICcgKyBoeDEgKyAnICcgKyBsaW5lX3kgKyAnICcgKyBoeDIgKyAnICcgKyB5ICsgJyAnICsgeCArICcgICcgKyB5O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgdmFyIGh4MSA9IGxpbmVfeCArIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuICAgICAgICB2YXIgaHgyID0geCAtIE1hdGguYWJzKHggLSBsaW5lX3gpICogY3VydmF0dXJlO1xuXG4gICAgICAgIHJldHVybiAnIE0gJyArIGxpbmVfeCArICcgJyArIGxpbmVfeSArICcgQyAnICsgaHgxICsgJyAnICsgbGluZV95ICsgJyAnICsgaHgyICsgJyAnICsgeSArICcgJyArIHggKyAnICAnICsgeTtcbiAgICB9XG4gIH1cbiAgcHVibGljIGRlbGV0ZShub2RlVGhpczogYW55ID0gbnVsbCwgaXNDbGVhckRhdGEgPSB0cnVlKSB7XG4gICAgdGhpcy5lbFBhdGg/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsUGF0aD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuU3RhcnRTZWxlY3RlZC5iaW5kKHRoaXMpKTtcbiAgICBpZiAoaXNDbGVhckRhdGEpXG4gICAgICB0aGlzLmZyb20uZGF0YS5SZW1vdmUoJ2xpbmVzJywgdGhpcy5kYXRhKTtcbiAgICBpZiAodGhpcy5mcm9tICE9IG5vZGVUaGlzKVxuICAgICAgdGhpcy5mcm9tLlJlbW92ZUxpbmUodGhpcyk7XG4gICAgaWYgKHRoaXMudG8gIT0gbm9kZVRoaXMpXG4gICAgICB0aGlzLnRvPy5SZW1vdmVMaW5lKHRoaXMpO1xuICAgIHRoaXMuZWxQYXRoLnJlbW92ZSgpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZSgpO1xuICB9XG4gIHB1YmxpYyBTdGFydFNlbGVjdGVkKGU6IGFueSkge1xuICAgIHRoaXMuZnJvbS5wYXJlbnQuc2V0TGluZUNob29zZSh0aGlzKVxuICB9XG4gIHB1YmxpYyBzZXROb2RlVG8obm9kZTogTm9kZSB8IHVuZGVmaW5lZCwgdG9JbmRleDogbnVtYmVyKSB7XG4gICAgdGhpcy50byA9IG5vZGU7XG4gICAgdGhpcy50b0luZGV4ID0gdG9JbmRleDtcbiAgfVxuICBwdWJsaWMgQ2xvbmUoKSB7XG4gICAgaWYgKHRoaXMudG8gJiYgdGhpcy50b0luZGV4ICYmIHRoaXMuZnJvbSAhPSB0aGlzLnRvICYmICF0aGlzLmZyb20uY2hlY2tMaW5lRXhpc3RzKHRoaXMuZnJvbUluZGV4LCB0aGlzLnRvLCB0aGlzLnRvSW5kZXgpKSB7XG4gICAgICByZXR1cm4gbmV3IExpbmUodGhpcy5mcm9tLCB0aGlzLmZyb21JbmRleCwgdGhpcy50bywgdGhpcy50b0luZGV4KS5VcGRhdGVVSSgpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgRGVzZ2luZXJWaWV3IH0gZnJvbSBcIi4vRGVzZ2luZXJWaWV3XCI7XG5cbmV4cG9ydCBjbGFzcyBEZXNnaW5lclZpZXdfVG9vbGJhciB7XG4gIHByaXZhdGUgZWxOb2RlOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBlbFBhdGhHcm91cDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJpdmF0ZSBidG5CYWNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIHBhcmVudDogRGVzZ2luZXJWaWV3KSB7XG4gICAgdGhpcy5lbE5vZGUgPSBwYXJlbnQuZWxUb29sYmFyO1xuICAgIHRoaXMuZWxQYXRoR3JvdXAuY2xhc3NMaXN0LmFkZCgndG9vbGJhci1ncm91cCcpO1xuICAgIHRoaXMucmVuZGVyVUkoKTtcbiAgICB0aGlzLnJlbmRlclBhdGhHcm91cCgpO1xuICB9XG4gIHB1YmxpYyByZW5kZXJQYXRoR3JvdXAoKSB7XG4gICAgdGhpcy5idG5CYWNrLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBgZGlzcGxheTpub25lO2ApO1xuICAgIHRoaXMuZWxQYXRoR3JvdXAuaW5uZXJIVE1MID0gYGA7XG4gICAgbGV0IGdyb3VwcyA9IHRoaXMucGFyZW50LkdldEdyb3VwTmFtZSgpO1xuICAgIGxldCBsZW4gPSBncm91cHMubGVuZ3RoIC0gMTtcbiAgICBpZiAobGVuIDwgMCkgcmV0dXJuO1xuICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRleHQuaW5uZXJIVE1MID0gYFJvb3RgO1xuICAgIHRleHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHRoaXMucGFyZW50LkJhY2tHcm91cCgnUm9vdCcpKTtcbiAgICB0aGlzLmVsUGF0aEdyb3VwLmFwcGVuZENoaWxkKHRleHQpO1xuICAgIHRoaXMuYnRuQmFjay5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgZm9yIChsZXQgaW5kZXggPSBsZW47IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgIGxldCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgdGV4dC5pbm5lckhUTUwgPSBgPj4ke2dyb3Vwc1tpbmRleF0udGV4dH1gO1xuICAgICAgdGV4dC5zZXRBdHRyaWJ1dGUoJ2dyb3VwJywgZ3JvdXBzW2luZGV4XS5pZCk7XG4gICAgICB0ZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2KSA9PiB0aGlzLnBhcmVudC5CYWNrR3JvdXAoZ3JvdXBzW2luZGV4XS5pZCkpO1xuICAgICAgdGhpcy5lbFBhdGhHcm91cC5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHJlbmRlclVJKCkge1xuICAgIGlmICghdGhpcy5lbE5vZGUpIHJldHVybjtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSBgYDtcbiAgICB0aGlzLmJ0bkJhY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnBhcmVudC5CYWNrR3JvdXAoKSk7XG4gICAgdGhpcy5idG5CYWNrLmlubmVySFRNTCA9IGBCYWNrYDtcbiAgICBsZXQgYnRuWm9vbUluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuWm9vbUluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5wYXJlbnQuem9vbV9pbigpKTtcbiAgICBidG5ab29tSW4uaW5uZXJIVE1MID0gYCtgO1xuICAgIGxldCBidG5ab29tT3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYnRuWm9vbU91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMucGFyZW50Lnpvb21fb3V0KCkpO1xuICAgIGJ0blpvb21PdXQuaW5uZXJIVE1MID0gYC1gO1xuICAgIGxldCBidG5ab29tUmVzZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBidG5ab29tUmVzZXQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnBhcmVudC56b29tX3Jlc2V0KCkpO1xuICAgIGJ0blpvb21SZXNldC5pbm5lckhUTUwgPSBgKmA7XG4gICAgbGV0IGJ1dHRvbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgYnV0dG9uR3JvdXAuY2xhc3NMaXN0LmFkZCgndG9vbGJhci1idXR0b24nKVxuICAgIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKHRoaXMuYnRuQmFjayk7XG4gICAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnRuWm9vbUluKTtcbiAgICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidG5ab29tT3V0KTtcbiAgICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidG5ab29tUmVzZXQpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxQYXRoR3JvdXApO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmFzZUZsb3csIEV2ZW50RW51bSwgRGF0YUZsb3csIERhdGFWaWV3IH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IExpbmUgfSBmcm9tIFwiLi9MaW5lXCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tIFwiLi4vY29yZS9VdGlsc1wiO1xuZXhwb3J0IGNsYXNzIE5vZGUgZXh0ZW5kcyBCYXNlRmxvdzxEZXNnaW5lclZpZXc+IHtcbiAgLyoqXG4gICAqIEdFVCBTRVQgZm9yIERhdGFcbiAgICovXG4gIHB1YmxpYyBnZXROYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuR2V0KCduYW1lJyk7XG4gIH1cbiAgcHVibGljIGdldFkoKSB7XG4gICAgcmV0dXJuICt0aGlzLmRhdGEuR2V0KCd5Jyk7XG4gIH1cbiAgcHVibGljIHNldFkodmFsdWU6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmRhdGEuU2V0KCd5JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5kYXRhLkdldCgneCcpO1xuICB9XG4gIHB1YmxpYyBzZXRYKHZhbHVlOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLlNldCgneCcsIHZhbHVlLCB0aGlzKTtcbiAgfVxuICBwdWJsaWMgQ2hlY2tLZXkoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgna2V5JykgPT0ga2V5O1xuICB9XG4gIHB1YmxpYyBnZXREYXRhTGluZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhLkdldCgnbGluZXMnKSA/PyBbXTtcbiAgfVxuICBwdWJsaWMgY2hlY2tMaW5lRXhpc3RzKGZyb21JbmRleDogbnVtYmVyLCB0bzogTm9kZSwgdG9JbmRleDogTnVtYmVyKSB7XG4gICAgcmV0dXJuIHRoaXMuYXJyTGluZS5maWx0ZXIoKGl0ZW06IExpbmUpID0+IHtcbiAgICAgIGlmICghaXRlbS50ZW1wICYmIGl0ZW0udG8gPT0gdG8gJiYgaXRlbS50b0luZGV4ID09IHRvSW5kZXggJiYgaXRlbS5mcm9tSW5kZXggPT0gZnJvbUluZGV4KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKCFpdGVtLnRlbXAgJiYgaXRlbS5mcm9tID09IHRvICYmIGl0ZW0uZnJvbUluZGV4ID09IHRvSW5kZXggJiYgaXRlbS50b0luZGV4ID09IGZyb21JbmRleCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH0pLmxlbmd0aCA+IDA7XG4gIH1cbiAgcHVibGljIGVsQ29udGVudDogRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBhcnJMaW5lOiBMaW5lW10gPSBbXTtcbiAgcHJpdmF0ZSBvcHRpb246IGFueSA9IHt9O1xuICBwcml2YXRlIGFyckRhdGFWaWV3OiBEYXRhVmlld1tdID0gW107XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihwYXJlbnQ6IERlc2dpbmVyVmlldywgcHJpdmF0ZSBrZXlOb2RlOiBhbnksIGRhdGE6IGFueSA9IHt9KSB7XG4gICAgc3VwZXIocGFyZW50KTtcbiAgICB0aGlzLm9wdGlvbiA9IHRoaXMucGFyZW50Lm1haW4uZ2V0Q29udHJvbE5vZGVCeUtleShrZXlOb2RlKTtcbiAgICB0aGlzLnByb3BlcnRpZXMgPSB0aGlzLm9wdGlvbj8ucHJvcGVydGllcztcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEuSW5pdERhdGEoZGF0YSwgdGhpcy5wcm9wZXJ0aWVzKTtcbiAgICAgIHRoaXMucGFyZW50LmRhdGEuQXBwZW5kKCdub2RlcycsIHRoaXMuZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuZGF0YS5vbihFdmVudEVudW0uZGF0YUNoYW5nZSwgdGhpcy5yZW5kZXJVSS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QuYWRkKCd2cy1ub2RlJyk7XG5cbiAgICBpZiAodGhpcy5vcHRpb24uY2xhc3MpIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQodGhpcy5vcHRpb24uY2xhc3MpO1xuICAgIH1cbiAgICB0aGlzLnBhcmVudC5lbENhbnZhcy5hcHBlbmRDaGlsZCh0aGlzLmVsTm9kZSk7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdub2RlLWlkJywgdGhpcy5HZXRJZCgpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoKSA9PiB0aGlzLnBhcmVudC5zZXROb2RlQ2hvb3NlKHRoaXMpKTtcbiAgICB0aGlzLmVsTm9kZS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5yZW5kZXJVSSgpO1xuICB9XG4gIHB1YmxpYyBnZXRPcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9uO1xuICB9XG4gIHByaXZhdGUgcmVuZGVyVUkoZGV0YWlsOiBhbnkgPSBudWxsKSB7XG4gICAgaWYgKChkZXRhaWwgJiYgWyd4JywgJ3knXS5pbmNsdWRlcyhkZXRhaWwua2V5KSkpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuZWxOb2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSByZXR1cm47XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGBkaXNwbGF5Om5vbmU7YCk7XG4gICAgaWYgKHRoaXMuZ2V0T3B0aW9uKCk/LmhpZGVUaXRsZSA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5lbE5vZGUuaW5uZXJIVE1MID0gYFxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtbGVmdFwiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXRvcFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImJvZHlcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWJvdHRvbVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1yaWdodFwiPjwvZGl2PlxuICAgIGA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWxlZnRcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibm9kZS10b3BcIj48L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7dGhpcy5vcHRpb24uaWNvbn0gJHt0aGlzLmdldE5hbWUoKX08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYm9keVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtYm90dG9tXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLXJpZ2h0XCI+PC9kaXY+XG4gICAgYDtcbiAgICB9XG5cbiAgICBjb25zdCBhZGROb2RlRG90ID0gKG51bTogbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCwgc3RhcnQ6IG51bWJlciwgcXVlcnk6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKG51bSkge1xuICAgICAgICBsZXQgbm9kZVF1ZXJ5ID0gdGhpcy5lbE5vZGUucXVlcnlTZWxlY3RvcihxdWVyeSk7XG4gICAgICAgIGlmIChub2RlUXVlcnkpIHtcbiAgICAgICAgICBub2RlUXVlcnkuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgZm9yIChsZXQgaTogbnVtYmVyID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbm9kZURvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgbm9kZURvdC5jbGFzc0xpc3QuYWRkKCdub2RlLWRvdCcpO1xuICAgICAgICAgICAgbm9kZURvdC5zZXRBdHRyaWJ1dGUoJ25vZGUnLCBgJHtzdGFydCArIGl9YCk7XG4gICAgICAgICAgICBub2RlUXVlcnkuYXBwZW5kQ2hpbGQobm9kZURvdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGFkZE5vZGVEb3QodGhpcy5vcHRpb24/LmRvdD8ubGVmdCwgMTAwMCwgJy5ub2RlLWxlZnQnKTtcbiAgICBhZGROb2RlRG90KHRoaXMub3B0aW9uPy5kb3Q/LnRvcCwgMjAwMCwgJy5ub2RlLXRvcCcpO1xuICAgIGFkZE5vZGVEb3QodGhpcy5vcHRpb24/LmRvdD8uYm90dG9tLCAzMDAwLCAnLm5vZGUtYm90dG9tJyk7XG4gICAgYWRkTm9kZURvdCh0aGlzLm9wdGlvbj8uZG90Py5yaWdodCwgNDAwMCwgJy5ub2RlLXJpZ2h0Jyk7XG5cbiAgICB0aGlzLmVsQ29udGVudCA9IHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5ub2RlLWNvbnRlbnQgLmJvZHknKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnBhcmVudC5tYWluLnJlbmRlckh0bWwodGhpcywgdGhpcy5lbENvbnRlbnQpO1xuICAgIHRoaXMuVXBkYXRlVUkoKTtcbiAgICB0aGlzLmFyckRhdGFWaWV3LmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uRGVsZXRlKCkpO1xuICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMub3B0aW9uLnNjcmlwdCkpIHtcbiAgICAgIHRoaXMub3B0aW9uLnNjcmlwdCh7IG5vZGU6IHRoaXMsIGVsTm9kZTogdGhpcy5lbE5vZGUsIG1haW46IHRoaXMucGFyZW50Lm1haW4gfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsQ29udGVudClcbiAgICAgIHRoaXMuYXJyRGF0YVZpZXcgPSBEYXRhVmlldy5CaW5kRWxlbWVudCh0aGlzLmVsQ29udGVudCwgdGhpcy5kYXRhLCB0aGlzLnBhcmVudC5tYWluKTtcbiAgfVxuICBwdWJsaWMgb3Blbkdyb3VwKCkge1xuICAgIGlmICh0aGlzLkNoZWNrS2V5KCdub2RlX2dyb3VwJykpIHtcbiAgICAgIHRoaXMucGFyZW50Lm9wZW5Hcm91cCh0aGlzLkdldElkKCkpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgdXBkYXRlUG9zaXRpb24oeDogYW55LCB5OiBhbnksIGlDaGVjayA9IGZhbHNlKSB7XG4gICAgaWYgKHRoaXMuZWxOb2RlKSB7XG4gICAgICBsZXQgdGVtcHggPSB4O1xuICAgICAgbGV0IHRlbXB5ID0geTtcbiAgICAgIGlmICghaUNoZWNrKSB7XG4gICAgICAgIHRlbXB5ID0gKHRoaXMuZWxOb2RlLm9mZnNldFRvcCAtIHkpO1xuICAgICAgICB0ZW1weCA9ICh0aGlzLmVsTm9kZS5vZmZzZXRMZWZ0IC0geCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHggIT09IHRoaXMuZ2V0WCgpKSB7XG4gICAgICAgIHRoaXMuc2V0WCh0ZW1weCk7XG4gICAgICB9XG4gICAgICBpZiAodGVtcHkgIT09IHRoaXMuZ2V0WSgpKSB7XG4gICAgICAgIHRoaXMuc2V0WSh0ZW1weSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHB1YmxpYyBBY3RpdmUoZmxnOiBhbnkgPSB0cnVlKSB7XG4gICAgaWYgKGZsZykge1xuICAgICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgUmVtb3ZlTGluZShsaW5lOiBMaW5lKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5hcnJMaW5lLmluZGV4T2YobGluZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgIHRoaXMuYXJyTGluZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcnJMaW5lO1xuICB9XG4gIHB1YmxpYyBBZGRMaW5lKGxpbmU6IExpbmUpIHtcbiAgICB0aGlzLmFyckxpbmUgPSBbLi4udGhpcy5hcnJMaW5lLCBsaW5lXTtcbiAgfVxuICBwdWJsaWMgZ2V0UG9zdGlzaW9uRG90KGluZGV4OiBudW1iZXIgPSAwKSB7XG4gICAgbGV0IGVsRG90OiBhbnkgPSB0aGlzLmVsTm9kZT8ucXVlcnlTZWxlY3RvcihgLm5vZGUtZG90W25vZGU9XCIke2luZGV4fVwiXWApO1xuICAgIGlmIChlbERvdCkge1xuICAgICAgbGV0IHkgPSAodGhpcy5lbE5vZGUub2Zmc2V0VG9wICsgZWxEb3Qub2Zmc2V0VG9wICsgMTApO1xuICAgICAgbGV0IHggPSAodGhpcy5lbE5vZGUub2Zmc2V0TGVmdCArIGVsRG90Lm9mZnNldExlZnQgKyAxMCk7XG4gICAgICByZXR1cm4geyB4LCB5IH07XG4gICAgfVxuICAgIHJldHVybiB7fTtcbiAgfVxuICBwdWJsaWMgVXBkYXRlVUkoKSB7XG4gICAgdGhpcy5lbE5vZGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGB0b3A6ICR7dGhpcy5nZXRZKCl9cHg7IGxlZnQ6ICR7dGhpcy5nZXRYKCl9cHg7YCk7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGl0ZW0uVXBkYXRlVUkoKTtcbiAgICB9KVxuICB9XG4gIHB1YmxpYyBkZWxldGUoaXNDbGVhckRhdGEgPSB0cnVlKSB7XG4gICAgdGhpcy5hcnJMaW5lLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uZGVsZXRlKHRoaXMsIGlzQ2xlYXJEYXRhKSk7XG4gICAgaWYgKGlzQ2xlYXJEYXRhKVxuICAgICAgdGhpcy5kYXRhLmRlbGV0ZSgpO1xuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUxpc3RlbmVyKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLnJlbmRlclVJLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5SZW1vdmVEYXRhRXZlbnQoKTtcbiAgICB9XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4gdGhpcy5wYXJlbnQuc2V0Tm9kZUNob29zZSh0aGlzKSk7XG4gICAgdGhpcy5lbE5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsICgpID0+IHRoaXMucGFyZW50LnNldE5vZGVDaG9vc2UodGhpcykpO1xuICAgIHRoaXMuZWxOb2RlLnJlbW92ZSgpO1xuICAgIHRoaXMuYXJyTGluZSA9IFtdO1xuICAgIGlmIChpc0NsZWFyRGF0YSlcbiAgICAgIHRoaXMucGFyZW50LlJlbW92ZU5vZGUodGhpcyk7XG4gICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7fSk7XG4gIH1cbiAgcHVibGljIFJlbmRlckxpbmUoKSB7XG4gICAgdGhpcy5nZXREYXRhTGluZSgpLmZvckVhY2goKGl0ZW06IERhdGFGbG93KSA9PiB7XG4gICAgICBsZXQgbm9kZUZyb20gPSB0aGlzO1xuICAgICAgbGV0IG5vZGVUbyA9IHRoaXMucGFyZW50LkdldE5vZGVCeUlkKGl0ZW0uR2V0KCd0bycpKTtcbiAgICAgIGxldCB0b0luZGV4ID0gaXRlbS5HZXQoJ3RvSW5kZXgnKTtcbiAgICAgIGxldCBmcm9tSW5kZXggPSBpdGVtLkdldCgnZnJvbUluZGV4Jyk7XG4gICAgICBuZXcgTGluZShub2RlRnJvbSwgZnJvbUluZGV4LCBub2RlVG8sIHRvSW5kZXgsIGl0ZW0pLlVwZGF0ZVVJKCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IERhdGFGbG93LCBGbG93Q29yZSwgSU1haW4sIEV2ZW50RW51bSwgUHJvcGVydHlFbnVtIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXhcIjtcbmltcG9ydCB7IERlc2dpbmVyVmlld19FdmVudCB9IGZyb20gXCIuL0Rlc2dpbmVyVmlld19FdmVudFwiO1xuaW1wb3J0IHsgRGVzZ2luZXJWaWV3X1Rvb2xiYXIgfSBmcm9tIFwiLi9EZXNnaW5lclZpZXdfVG9vbGJhclwiO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gXCIuL0xpbmVcIjtcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi9Ob2RlXCI7XG5cbmV4cG9ydCBjb25zdCBab29tID0ge1xuICBtYXg6IDEuNixcbiAgbWluOiAwLjYsXG4gIHZhbHVlOiAwLjEsXG4gIGRlZmF1bHQ6IDFcbn1cbmV4cG9ydCBjbGFzcyBEZXNnaW5lclZpZXcgZXh0ZW5kcyBGbG93Q29yZSB7XG5cbiAgLyoqXG4gICAqIEdFVCBTRVQgZm9yIERhdGFcbiAgICovXG4gIHB1YmxpYyBnZXRab29tKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhR3JvdXAoKS5HZXQoJ3pvb20nKTtcbiAgfVxuICBwdWJsaWMgc2V0Wm9vbSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUdyb3VwKCkuU2V0KCd6b29tJywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRZKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhR3JvdXAoKS5HZXQoJ3knKTtcbiAgfVxuICBwdWJsaWMgc2V0WSh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUdyb3VwKCkuU2V0KCd5JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHB1YmxpYyBnZXRYKCkge1xuICAgIHJldHVybiArdGhpcy5nZXREYXRhR3JvdXAoKS5HZXQoJ3gnKTtcbiAgfVxuICBwdWJsaWMgc2V0WCh2YWx1ZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGF0YUdyb3VwKCkuU2V0KCd4JywgdmFsdWUsIHRoaXMpO1xuICB9XG4gIHByaXZhdGUgZ3JvdXBEYXRhOiBEYXRhRmxvdyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBsYXN0R3JvdXBOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBwcml2YXRlIGdldERhdGFHcm91cCgpOiBEYXRhRmxvdyB7XG4gICAgaWYgKHRoaXMuJGxvY2spIHJldHVybiB0aGlzLmRhdGE7XG4gICAgLy8gY2FjaGUgZ3JvdXBEYXRhXG4gICAgaWYgKHRoaXMubGFzdEdyb3VwTmFtZSA9PT0gdGhpcy5DdXJyZW50R3JvdXAoKSkgcmV0dXJuIHRoaXMuZ3JvdXBEYXRhID8/IHRoaXMuZGF0YTtcbiAgICB0aGlzLmxhc3RHcm91cE5hbWUgPSB0aGlzLkN1cnJlbnRHcm91cCgpO1xuICAgIGxldCBncm91cHMgPSB0aGlzLmRhdGEuR2V0KCdncm91cHMnKTtcbiAgICB0aGlzLmdyb3VwRGF0YSA9IGdyb3Vwcz8uZmlsdGVyKChpdGVtOiBEYXRhRmxvdykgPT4gaXRlbS5HZXQoJ2dyb3VwJykgPT0gdGhpcy5sYXN0R3JvdXBOYW1lKT8uWzBdO1xuXG4gICAgaWYgKCF0aGlzLmdyb3VwRGF0YSkge1xuICAgICAgdGhpcy5ncm91cERhdGEgPSBuZXcgRGF0YUZsb3codGhpcy5tYWluLCB7XG4gICAgICAgIGtleTogUHJvcGVydHlFbnVtLmdyb3VwQ2F2YXMsXG4gICAgICAgIGdyb3VwOiB0aGlzLmxhc3RHcm91cE5hbWVcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kYXRhLkFwcGVuZCgnZ3JvdXBzJywgdGhpcy5ncm91cERhdGEpO1xuICAgICAgdGhpcy5ncm91cERhdGEub25TYWZlKEV2ZW50RW51bS5kYXRhQ2hhbmdlLCB0aGlzLlVwZGF0ZVVJLmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmdyb3VwRGF0YS5vblNhZmUoRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHRoaXMuVXBkYXRlVUkuYmluZCh0aGlzKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdyb3VwRGF0YTtcbiAgfVxuICBwcml2YXRlIGdyb3VwOiBhbnlbXSA9IFtdO1xuICBwdWJsaWMgR2V0R3JvdXBOYW1lKCk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy5ncm91cC5tYXAoKGl0ZW0pID0+ICh7IGlkOiBpdGVtLCB0ZXh0OiB0aGlzLkdldERhdGFCeUlkKGl0ZW0pPy5HZXQoJ25hbWUnKSB9KSk7XG4gIH1cbiAgcHVibGljIEJhY2tHcm91cChpZCA9IG51bGwpIHtcbiAgICBsZXQgaW5kZXggPSAxO1xuICAgIGlmIChpZCkge1xuICAgICAgaW5kZXggPSB0aGlzLmdyb3VwLmluZGV4T2YoaWQpO1xuICAgICAgaWYgKGluZGV4IDwgMCkgaW5kZXggPSAwO1xuICAgIH1cbiAgICBpZiAoaW5kZXgpXG4gICAgICB0aGlzLmdyb3VwLnNwbGljZSgwLCBpbmRleCk7XG4gICAgZWxzZSB0aGlzLmdyb3VwID0gW107XG4gICAgdGhpcy50b29sYmFyLnJlbmRlclBhdGhHcm91cCgpO1xuICAgIHRoaXMuUmVuZGVyVUkoKTtcbiAgfVxuICBwdWJsaWMgQ3VycmVudEdyb3VwKCkge1xuICAgIGxldCBuYW1lID0gdGhpcy5ncm91cD8uWzBdO1xuXG4gICAgaWYgKG5hbWUgJiYgbmFtZSAhPSAnJykge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIHJldHVybiAncm9vdCc7XG4gIH1cbiAgcHVibGljIG9wZW5Hcm91cChpZDogYW55KSB7XG4gICAgdGhpcy5ncm91cCA9IFtpZCwgLi4udGhpcy5ncm91cF07XG4gICAgdGhpcy50b29sYmFyLnJlbmRlclBhdGhHcm91cCgpO1xuICAgIHRoaXMuUmVuZGVyVUkoKTtcbiAgfVxuICBwcml2YXRlIGxpbmVDaG9vc2U6IExpbmUgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBzZXRMaW5lQ2hvb3NlKG5vZGU6IExpbmUgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5saW5lQ2hvb3NlKSB0aGlzLmxpbmVDaG9vc2UuQWN0aXZlKGZhbHNlKTtcbiAgICB0aGlzLmxpbmVDaG9vc2UgPSBub2RlO1xuICAgIGlmICh0aGlzLmxpbmVDaG9vc2UpIHtcbiAgICAgIHRoaXMubGluZUNob29zZS5BY3RpdmUoKTtcbiAgICAgIHRoaXMuc2V0Tm9kZUNob29zZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZ2V0TGluZUNob29zZSgpOiBMaW5lIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5saW5lQ2hvb3NlO1xuICB9XG4gIHByaXZhdGUgbm9kZXM6IE5vZGVbXSA9IFtdO1xuICBwcml2YXRlIG5vZGVDaG9vc2U6IE5vZGUgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBzZXROb2RlQ2hvb3NlKG5vZGU6IE5vZGUgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub2RlQ2hvb3NlKSB0aGlzLm5vZGVDaG9vc2UuQWN0aXZlKGZhbHNlKTtcbiAgICB0aGlzLm5vZGVDaG9vc2UgPSBub2RlO1xuICAgIGlmICh0aGlzLm5vZGVDaG9vc2UpIHtcbiAgICAgIHRoaXMubm9kZUNob29zZS5BY3RpdmUoKTtcbiAgICAgIHRoaXMuc2V0TGluZUNob29zZSh1bmRlZmluZWQpO1xuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCB7IGRhdGE6IHRoaXMubm9kZUNob29zZS5kYXRhIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5zaG93UHJvcGVydHksIHsgZGF0YTogdGhpcy5kYXRhIH0pO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgZ2V0Tm9kZUNob29zZSgpOiBOb2RlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlQ2hvb3NlO1xuICB9XG4gIHB1YmxpYyBBZGROb2RlSXRlbShkYXRhOiBhbnkpOiBOb2RlIHtcbiAgICByZXR1cm4gdGhpcy5BZGROb2RlKGRhdGEuR2V0KCdrZXknKSwgZGF0YSk7XG4gIH1cbiAgcHVibGljIEFkZE5vZGUoa2V5Tm9kZTogc3RyaW5nLCBkYXRhOiBhbnkgPSB7fSk6IE5vZGUge1xuICAgIHJldHVybiB0aGlzLkluc2VydE5vZGUobmV3IE5vZGUodGhpcywga2V5Tm9kZSwgZGF0YSkpO1xuICB9XG4gIHB1YmxpYyBJbnNlcnROb2RlKG5vZGU6IE5vZGUpOiBOb2RlIHtcbiAgICB0aGlzLm5vZGVzID0gWy4uLnRoaXMubm9kZXMsIG5vZGVdO1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIHB1YmxpYyBSZW1vdmVOb2RlKG5vZGU6IE5vZGUpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLm5vZGVzLmluZGV4T2Yobm9kZSk7XG4gICAgdGhpcy5kYXRhLlJlbW92ZSgnbm9kZXMnLCBub2RlKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5ub2Rlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ub2RlcztcbiAgfVxuICBwdWJsaWMgQ2xlYXJOb2RlKCkge1xuICAgIHRoaXMubm9kZXM/LmZvckVhY2goaXRlbSA9PiBpdGVtLmRlbGV0ZShmYWxzZSkpO1xuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgfVxuICBwdWJsaWMgR2V0RGF0YUFsbE5vZGUoKTogYW55W10ge1xuICAgIHJldHVybiAodGhpcy5kYXRhLkdldCgnbm9kZXMnKSA/PyBbXSk7XG4gIH1cbiAgcHVibGljIEdldERhdGFOb2RlKCk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy5HZXREYXRhQWxsTm9kZSgpLmZpbHRlcigoaXRlbTogRGF0YUZsb3cpID0+IGl0ZW0uR2V0KFwiZ3JvdXBcIikgPT09IHRoaXMuQ3VycmVudEdyb3VwKCkpO1xuICB9XG4gIC8qKlxuICAgKiBWYXJpYnV0ZVxuICAqL1xuICBwdWJsaWMgZWxDYW52YXM6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHB1YmxpYyBlbFRvb2xiYXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHB1YmxpYyB0b29sYmFyOiBEZXNnaW5lclZpZXdfVG9vbGJhcjtcbiAgcHVibGljICRsb2NrOiBib29sZWFuID0gdHJ1ZTtcbiAgcHJpdmF0ZSB6b29tX2xhc3RfdmFsdWU6IGFueSA9IDE7XG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihlbE5vZGU6IEhUTUxFbGVtZW50LCBwdWJsaWMgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZWxOb2RlID0gZWxOb2RlO1xuICAgIGxldCBwcm9wZXJ0aWVzOiBhbnkgPSB0aGlzLm1haW4uZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0ubWFpbik7XG4gICAgdGhpcy5kYXRhLkluaXREYXRhKHt9LCBwcm9wZXJ0aWVzKTtcbiAgICB0aGlzLmVsTm9kZS5pbm5lckhUTUwgPSAnJztcbiAgICB0aGlzLmVsTm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdkZXNnaW5lci12aWV3JylcbiAgICB0aGlzLmVsQ2FudmFzLmNsYXNzTGlzdC5yZW1vdmUoXCJkZXNnaW5lci1jYW52YXNcIik7XG4gICAgdGhpcy5lbE5vZGUuY2xhc3NMaXN0LmFkZCgnZGVzZ2luZXItdmlldycpXG4gICAgdGhpcy5lbENhbnZhcy5jbGFzc0xpc3QuYWRkKFwiZGVzZ2luZXItY2FudmFzXCIpO1xuICAgIHRoaXMuZWxUb29sYmFyLmNsYXNzTGlzdC5hZGQoXCJkZXNnaW5lci10b29sYmFyXCIpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxDYW52YXMpO1xuICAgIHRoaXMuZWxOb2RlLmFwcGVuZENoaWxkKHRoaXMuZWxUb29sYmFyKTtcbiAgICB0aGlzLmVsTm9kZS50YWJJbmRleCA9IDA7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICAgIHRoaXMub24oRXZlbnRFbnVtLmRhdGFDaGFuZ2UsIHRoaXMuUmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgbmV3IERlc2dpbmVyVmlld19FdmVudCh0aGlzKTtcbiAgICB0aGlzLnRvb2xiYXIgPSBuZXcgRGVzZ2luZXJWaWV3X1Rvb2xiYXIodGhpcyk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlVmlldyh4OiBhbnksIHk6IGFueSwgem9vbTogYW55KSB7XG4gICAgdGhpcy5lbENhbnZhcy5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7eH1weCwgJHt5fXB4KSBzY2FsZSgke3pvb219KWA7XG4gIH1cbiAgcHVibGljIFVwZGF0ZVVJKCkge1xuICAgIHRoaXMudXBkYXRlVmlldyh0aGlzLmdldFgoKSwgdGhpcy5nZXRZKCksIHRoaXMuZ2V0Wm9vbSgpKTtcbiAgfVxuICBwdWJsaWMgUmVuZGVyVUkoZGV0YWlsOiBhbnkgPSB7fSkge1xuICAgIGlmIChkZXRhaWwuc2VuZGVyICYmIGRldGFpbC5zZW5kZXIgaW5zdGFuY2VvZiBOb2RlKSByZXR1cm47XG4gICAgaWYgKGRldGFpbC5zZW5kZXIgJiYgZGV0YWlsLnNlbmRlciBpbnN0YW5jZW9mIERlc2dpbmVyVmlldykge1xuICAgICAgdGhpcy5VcGRhdGVVSSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLkNsZWFyTm9kZSgpO1xuICAgIHRoaXMuR2V0RGF0YU5vZGUoKS5mb3JFYWNoKChpdGVtOiBhbnkpID0+IHtcbiAgICAgIHRoaXMuQWRkTm9kZUl0ZW0oaXRlbSk7XG4gICAgfSk7XG4gICAgdGhpcy5HZXRBbGxOb2RlKCkuZm9yRWFjaCgoaXRlbTogTm9kZSkgPT4ge1xuICAgICAgaXRlbS5SZW5kZXJMaW5lKCk7XG4gICAgfSlcbiAgICB0aGlzLlVwZGF0ZVVJKCk7XG4gIH1cbiAgcHVibGljIE9wZW4oJGRhdGE6IERhdGFGbG93KSB7XG4gICAgdGhpcy5kYXRhID0gJGRhdGE7XG4gICAgdGhpcy4kbG9jayA9IGZhbHNlO1xuICAgIHRoaXMubGFzdEdyb3VwTmFtZSA9ICcnO1xuICAgIHRoaXMuZ3JvdXBEYXRhID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZ3JvdXAgPSBbXTtcbiAgICB0aGlzLnRvb2xiYXIucmVuZGVyUGF0aEdyb3VwKCk7XG4gICAgdGhpcy5CaW5kRGF0YUV2ZW50KCk7XG4gICAgdGhpcy5SZW5kZXJVSSgpO1xuICB9XG4gIHB1YmxpYyBDYWxjWChudW1iZXI6IGFueSkge1xuICAgIHJldHVybiBudW1iZXIgKiAodGhpcy5lbENhbnZhcy5jbGllbnRXaWR0aCAvICh0aGlzLmVsTm9kZT8uY2xpZW50V2lkdGggKiB0aGlzLmdldFpvb20oKSkpO1xuICB9XG4gIHB1YmxpYyBDYWxjWShudW1iZXI6IGFueSkge1xuICAgIHJldHVybiBudW1iZXIgKiAodGhpcy5lbENhbnZhcy5jbGllbnRIZWlnaHQgLyAodGhpcy5lbE5vZGU/LmNsaWVudEhlaWdodCAqIHRoaXMuZ2V0Wm9vbSgpKSk7XG4gIH1cbiAgcHVibGljIEdldEFsbE5vZGUoKTogTm9kZVtdIHtcbiAgICByZXR1cm4gdGhpcy5ub2RlcyB8fCBbXTtcbiAgfVxuICBwdWJsaWMgR2V0Tm9kZUJ5SWQoaWQ6IHN0cmluZyk6IE5vZGUgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLkdldEFsbE5vZGUoKS5maWx0ZXIobm9kZSA9PiBub2RlLkdldElkKCkgPT0gaWQpPy5bMF07XG4gIH1cblxuICBwdWJsaWMgR2V0RGF0YUJ5SWQoaWQ6IHN0cmluZyk6IERhdGFGbG93IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuR2V0RGF0YUFsbE5vZGUoKS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uR2V0KCdpZCcpID09PSBpZCk/LlswXTtcbiAgfVxuICBjaGVja09ubHlOb2RlKGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuICh0aGlzLm1haW4uZ2V0Q29udHJvbEJ5S2V5KGtleSkub25seU5vZGUpICYmIHRoaXMubm9kZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5DaGVja0tleShrZXkpKS5sZW5ndGggPiAwO1xuICB9XG4gIHB1YmxpYyB6b29tX3JlZnJlc2goZmxnOiBhbnkgPSAwKSB7XG4gICAgbGV0IHRlbXBfem9vbSA9IGZsZyA9PSAwID8gWm9vbS5kZWZhdWx0IDogKHRoaXMuZ2V0Wm9vbSgpICsgWm9vbS52YWx1ZSAqIGZsZyk7XG4gICAgaWYgKFpvb20ubWF4ID49IHRlbXBfem9vbSAmJiB0ZW1wX3pvb20gPj0gWm9vbS5taW4pIHtcbiAgICAgIHRoaXMuc2V0WCgodGhpcy5nZXRYKCkgLyB0aGlzLnpvb21fbGFzdF92YWx1ZSkgKiB0ZW1wX3pvb20pO1xuICAgICAgdGhpcy5zZXRZKCh0aGlzLmdldFkoKSAvIHRoaXMuem9vbV9sYXN0X3ZhbHVlKSAqIHRlbXBfem9vbSk7XG4gICAgICB0aGlzLnpvb21fbGFzdF92YWx1ZSA9IHRlbXBfem9vbTtcbiAgICAgIHRoaXMuc2V0Wm9vbSh0aGlzLnpvb21fbGFzdF92YWx1ZSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyB6b29tX2luKCkge1xuICAgIHRoaXMuem9vbV9yZWZyZXNoKDEpO1xuICB9XG4gIHB1YmxpYyB6b29tX291dCgpIHtcbiAgICB0aGlzLnpvb21fcmVmcmVzaCgtMSk7XG4gIH1cbiAgcHVibGljIHpvb21fcmVzZXQoKSB7XG4gICAgdGhpcy56b29tX3JlZnJlc2goMCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSBcIi4uL2NvcmUvQmFzZUZsb3dcIjtcbmltcG9ydCB7IEV2ZW50RW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBEZXNnaW5lclZpZXcgfSBmcm9tIFwiLi4vZGVzZ2luZXIvRGVzZ2luZXJWaWV3XCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5cbmV4cG9ydCBjbGFzcyBWaWV3RG9jayBleHRlbmRzIERvY2tCYXNlIHtcbiAgcHJpdmF0ZSB2aWV3OiBEZXNnaW5lclZpZXcgfCB1bmRlZmluZWQ7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xuXG4gICAgdGhpcy52aWV3ID0gbmV3IERlc2dpbmVyVmlldyh0aGlzLmVsTm9kZSwgbWFpbik7XG4gICAgdGhpcy52aWV3Lm9uKEV2ZW50RW51bS5zaG93UHJvcGVydHksIChkYXRhOiBhbnkpID0+IHsgbWFpbi5kaXNwYXRjaChFdmVudEVudW0uc2hvd1Byb3BlcnR5LCBkYXRhKTsgfSk7XG4gICAgdGhpcy5tYWluLm9uKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgKGl0ZW06IGFueSkgPT4ge1xuICAgICAgdGhpcy52aWV3Py5PcGVuKGl0ZW0uZGF0YSk7XG4gICAgICB0aGlzLm1haW4uc2V0UHJvamVjdE9wZW4oaXRlbS5kYXRhKTtcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgeyBJTWFpbiB9IGZyb20gXCIuLi9jb3JlL0Jhc2VGbG93XCI7XG5pbXBvcnQgeyBEb2NrRW51bSB9IGZyb20gXCIuLi9jb3JlL0NvbnN0YW50XCI7XG5pbXBvcnQgeyBDb250cm9sRG9jayB9IGZyb20gXCIuL0NvbnRyb2xEb2NrXCI7XG5pbXBvcnQgeyBEb2NrQmFzZSB9IGZyb20gXCIuL0RvY2tCYXNlXCI7XG5pbXBvcnQgeyBQcm9qZWN0RG9jayB9IGZyb20gXCIuL1Byb2plY3REb2NrXCI7XG5pbXBvcnQgeyBQcm9wZXJ0eURvY2sgfSBmcm9tIFwiLi9Qcm9wZXJ0eURvY2tcIjtcbmltcG9ydCB7IFRhYkRvY2sgfSBmcm9tIFwiLi9UYWJEb2NrXCI7XG5pbXBvcnQgeyBWaWV3RG9jayB9IGZyb20gXCIuL1ZpZXdEb2NrXCI7XG5cbmV4cG9ydCBjbGFzcyBEb2NrTWFuYWdlciB7XG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBhbnkgPSB7fTtcbiAgcHVibGljIGNvbnN0cnVjdG9yKHByaXZhdGUgY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcHJvdGVjdGVkIG1haW46IElNYWluKSB7IH1cbiAgcHVibGljIHJlc2V0KCkge1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyID0ge307XG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLmxlZnQsIENvbnRyb2xEb2NrKTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0ubGVmdCwgUHJvamVjdERvY2spO1xuICAgIHRoaXMuYWRkRG9jayhEb2NrRW51bS5yaWdodCwgUHJvcGVydHlEb2NrKTtcbiAgICB0aGlzLmFkZERvY2soRG9ja0VudW0udmlldywgVmlld0RvY2spO1xuICAvLyAgdGhpcy5hZGREb2NrKERvY2tFbnVtLnRvcCwgVGFiRG9jayk7XG4gICAgdGhpcy5hZGREb2NrKERvY2tFbnVtLmJvdHRvbSwgRG9ja0Jhc2UpO1xuICAgIHRoaXMuUmVuZGVyVUkoKTtcbiAgfVxuICBwdWJsaWMgYWRkRG9jaygka2V5OiBzdHJpbmcsICR2aWV3OiBhbnkpIHtcbiAgICBpZiAoIXRoaXMuJGRvY2tNYW5hZ2VyWyRrZXldKVxuICAgICAgdGhpcy4kZG9ja01hbmFnZXJbJGtleV0gPSBbXTtcbiAgICB0aGlzLiRkb2NrTWFuYWdlclska2V5XSA9IFsuLi50aGlzLiRkb2NrTWFuYWdlclska2V5XSwgJHZpZXddO1xuICB9XG5cbiAgcHVibGljIFJlbmRlclVJKCkge1xuICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1sZWZ0IHZzLWRvY2tcIj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ2cy1jb250ZW50XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy10b3AgdnMtZG9ja1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwidnMtdmlldyB2cy1kb2NrXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ2cy1ib3R0b20gdnMtZG9ja1wiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidnMtcmlnaHQgdnMtZG9ja1wiPjwvZGl2PlxuICAgIGA7XG4gICAgT2JqZWN0LmtleXModGhpcy4kZG9ja01hbmFnZXIpLmZvckVhY2goKGtleTogc3RyaW5nKSA9PiB7XG4gICAgICBsZXQgcXVlcnlTZWxlY3RvciA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC4ke2tleX1gKTtcbiAgICAgIGlmIChxdWVyeVNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuJGRvY2tNYW5hZ2VyW2tleV0uZm9yRWFjaCgoJGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgIG5ldyAkaXRlbShxdWVyeVNlbGVjdG9yLCB0aGlzLm1haW4pO1xuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgY29uc3QgQ29udHJvbCA9IHtcbiAgbm9kZV9iZWdpbjoge1xuICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1wbGF5XCI+PC9pPicsXG4gICAgc29ydDogMCxcbiAgICBuYW1lOiAnQmVnaW4nLFxuICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICBjbGFzczogJ25vZGUtdGVzdCcsXG4gICAgaHRtbDogJycsXG4gICAgZG90OiB7XG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIGxlZnQ6IDAsXG4gICAgICBib3R0b206IDEsXG4gICAgfSxcbiAgICBvbmx5Tm9kZTogdHJ1ZVxuICB9LFxuICBub2RlX2VuZDoge1xuICAgIGljb246ICc8aSBjbGFzcz1cImZhcyBmYS1zdG9wXCI+PC9pPicsXG4gICAgc29ydDogMCxcbiAgICBuYW1lOiAnRW5kJyxcbiAgICBncm91cDogJ2NvbW1vbicsXG4gICAgaHRtbDogJycsXG4gICAgZG90OiB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgdG9wOiAxLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgfSxcbiAgICBvbmx5Tm9kZTogdHJ1ZVxuICB9LFxuICBub2RlX2lmOiB7XG4gICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLWVxdWFsc1wiPjwvaT4nLFxuICAgIHNvcnQ6IDAsXG4gICAgbmFtZTogJ0lmJyxcbiAgICBncm91cDogJ2NvbW1vbicsXG4gICAgaHRtbDogJzxkaXY+Y29uZGl0aW9uOjxici8+PGlucHV0IGNsYXNzPVwibm9kZS1mb3JtLWNvbnRyb2xcIiBub2RlOm1vZGVsPVwiY29uZGl0aW9uXCIvPjwvZGl2PicsXG4gICAgc2NyaXB0OiBgYCxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICBjb25kaXRpb246IHtcbiAgICAgICAga2V5OiBcImNvbmRpdGlvblwiLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgfVxuICAgIH0sXG4gICAgb3V0cHV0OiAyXG4gIH0sXG4gIG5vZGVfZ3JvdXA6IHtcbiAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtb2JqZWN0LWdyb3VwXCI+PC9pPicsXG4gICAgc29ydDogMCxcbiAgICBuYW1lOiAnR3JvdXAnLFxuICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICBodG1sOiAnPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHAzXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bkdvR3JvdXAgbm9kZS1mb3JtLWNvbnRyb2xcIj5HbzwvYnV0dG9uPjwvZGl2PicsXG4gICAgc2NyaXB0OiAoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KSA9PiB7XG4gICAgICBlbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bkdvR3JvdXAnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IG5vZGUub3Blbkdyb3VwKCkgfSk7XG4gICAgfSxcbiAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICBvdXRwdXQ6IDJcbiAgfSxcbiAgbm9kZV9vcHRpb246IHtcbiAgICBpY29uOiAnPGkgY2xhc3M9XCJmYXMgZmEtb2JqZWN0LWdyb3VwXCI+PC9pPicsXG4gICAgc29ydDogMCxcbiAgICBuYW1lOiAnT3B0aW9uJyxcbiAgICBkb3Q6IHtcbiAgICAgIHRvcDogMSxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgbGVmdDogMSxcbiAgICAgIGJvdHRvbTogMCxcbiAgICB9LFxuICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICBodG1sOiBgXG4gICAgPGRpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4+SOG7jSB0w6puIDo8L3NwYW4+PHNwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwMVwiPjwvc3Bhbj48L3NwYW4+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuPkjhu40gdMOqbiA6PC9zcGFuPjxzcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDJcIj48L3NwYW4+PC9zcGFuPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm5vZGUtY29udGVudC1yb3dcIj48c3Bhbj5I4buNIHTDqm4gOjwvc3Bhbj48c3Bhbj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDAzXCI+PC9zcGFuPjwvc3Bhbj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+PHNwYW4+SOG7jSB0w6puIDo8L3NwYW4+PHNwYW4+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwNFwiPjwvc3Bhbj48L3NwYW4+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPjxzcGFuPkjhu40gdMOqbiA6PC9zcGFuPjxzcGFuPjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiNTAwMDVcIj48L3NwYW4+PC9zcGFuPjwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGAsXG4gICAgc2NyaXB0OiAoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KSA9PiB7XG4gICAgICBlbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bkdvR3JvdXAnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IG5vZGUub3Blbkdyb3VwKCkgfSk7XG4gICAgfSxcbiAgICBwcm9wZXJ0aWVzOiB7fSxcbiAgICBvdXRwdXQ6IDJcbiAgfSxcbiAgbm9kZV9wcm9qZWN0OiB7XG4gICAgaWNvbjogJzxpIGNsYXNzPVwiZmFzIGZhLW9iamVjdC1ncm91cFwiPjwvaT4nLFxuICAgIHNvcnQ6IDAsXG4gICAgbmFtZTogJ1Byb2plY3QnLFxuICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICBodG1sOiAnPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHAzXCI+PHNlbGVjdCBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cInByb2plY3RcIj48L3NlbGVjdD48L2Rpdj4nLFxuICAgIHNjcmlwdDogKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSkgPT4ge1xuXG4gICAgfSxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICBwcm9qZWN0OiB7XG4gICAgICAgIGtleTogXCJwcm9qZWN0XCIsXG4gICAgICAgIGVkaXQ6IHRydWUsXG4gICAgICAgIHNlbGVjdDogdHJ1ZSxcbiAgICAgICAgZGF0YVNlbGVjdDogKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSkgPT4ge1xuICAgICAgICAgIHJldHVybiBtYWluLmdldFByb2plY3RBbGwoKS5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uR2V0KCdpZCcpLFxuICAgICAgICAgICAgICB0ZXh0OiBpdGVtLkdldCgnbmFtZScpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHNjcmlwdDogKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSkgPT4ge1xuXG4gICAgICAgIH0sXG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICB9XG4gICAgfSxcbiAgfSxcbn1cbiIsImltcG9ydCB7IERhdGFGbG93LCBJTWFpbiwgY29tcGFyZVNvcnQsIEV2ZW50RW51bSwgUHJvcGVydHlFbnVtLCBFdmVudEZsb3csIGdldFRpbWUgfSBmcm9tIFwiLi4vY29yZS9pbmRleFwiO1xuaW1wb3J0IHsgTm9kZSB9IGZyb20gXCIuLi9kZXNnaW5lci9pbmRleFwiO1xuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcblxuZXhwb3J0IGNsYXNzIFN5c3RlbUJhc2UgaW1wbGVtZW50cyBJTWFpbiB7XG4gIHByaXZhdGUgJGRhdGE6IERhdGFGbG93ID0gbmV3IERhdGFGbG93KHRoaXMpO1xuICBwcml2YXRlICRwcm9qZWN0T3BlbjogYW55O1xuICBwcml2YXRlICRwcm9wZXJ0aWVzOiBhbnkgPSB7fTtcbiAgcHJpdmF0ZSAkY29udHJvbDogYW55ID0ge307XG4gIHByaXZhdGUgZXZlbnRzOiBFdmVudEZsb3cgPSBuZXcgRXZlbnRGbG93KCk7XG4gIHByaXZhdGUgJGNvbnRyb2xDaG9vc2U6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlICRjaGVja09wdGlvbjogYm9vbGVhbiA9IGZhbHNlO1xuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgLy9zZXQgcHJvamVjdFxuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLnNvbHV0aW9uXSA9IHtcbiAgICAgIGlkOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGdldFRpbWUoKVxuICAgICAgfSxcbiAgICAgIGtleToge1xuICAgICAgICBkZWZhdWx0OiBQcm9wZXJ0eUVudW0uc29sdXRpb25cbiAgICAgIH0sXG4gICAgICBuYW1lOiB7XG4gICAgICAgIGRlZmF1bHQ6ICgpID0+IGBzb2x1dGlvbi0ke2dldFRpbWUoKX1gLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHByb2plY3RzOiB7XG4gICAgICAgIGRlZmF1bHQ6IFtdXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS5saW5lXSA9IHtcbiAgICAgIGtleToge1xuICAgICAgICBkZWZhdWx0OiBQcm9wZXJ0eUVudW0ubGluZVxuICAgICAgfSxcbiAgICAgIGZyb206IHtcbiAgICAgICAgZGVmYXVsdDogMFxuICAgICAgfSxcbiAgICAgIGZyb21JbmRleDoge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgdG86IHtcbiAgICAgICAgZGVmYXVsdDogMFxuICAgICAgfSxcbiAgICAgIHRvSW5kZXg6IHtcbiAgICAgICAgZGVmYXVsdDogMFxuICAgICAgfVxuICAgIH07XG4gICAgLy9zZXQgcHJvamVjdFxuICAgIHRoaXMuJHByb3BlcnRpZXNbUHJvcGVydHlFbnVtLm1haW5dID0ge1xuICAgICAgaWQ6IHtcbiAgICAgICAgZGVmYXVsdDogKCkgPT4gZ2V0VGltZSgpXG4gICAgICB9LFxuICAgICAgbmFtZToge1xuICAgICAgICBkZWZhdWx0OiAoKSA9PiBgRmxvdy0ke2dldFRpbWUoKX1gLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGtleToge1xuICAgICAgICBkZWZhdWx0OiBQcm9wZXJ0eUVudW0ubWFpblxuICAgICAgfSxcbiAgICAgIGdyb3Vwczoge1xuICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgfSxcbiAgICAgIG5vZGVzOiB7XG4gICAgICAgIGRlZmF1bHQ6IFtdXG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLiRwcm9wZXJ0aWVzW1Byb3BlcnR5RW51bS5ncm91cENhdmFzXSA9IHtcbiAgICAgIGtleToge1xuICAgICAgICBkZWZhdWx0OiBQcm9wZXJ0eUVudW0uZ3JvdXBDYXZhc1xuICAgICAgfSxcbiAgICAgIGdyb3VwOiB7XG4gICAgICAgIGRlZmF1bHQ6ICcnXG4gICAgICB9LFxuICAgICAgeDoge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgeToge1xuICAgICAgICBkZWZhdWx0OiAwXG4gICAgICB9LFxuICAgICAgem9vbToge1xuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9LFxuICAgIH1cbiAgfVxuICBleHBvcnRKc29uKCkge1xuICAgIHJldHVybiB0aGlzLiRkYXRhLnRvSnNvbigpO1xuICB9XG4gIHB1YmxpYyBjaGVja0luaXRPcHRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuJGNoZWNrT3B0aW9uO1xuICB9XG4gIGluaXRPcHRpb24ob3B0aW9uOiBhbnksIGlzRGVmYXVsdDogYm9vbGVhbiA9IHRydWUpOiB2b2lkIHtcbiAgICB0aGlzLiRjaGVja09wdGlvbiA9IHRydWU7XG4gICAgLy8gc2V0IGNvbnRyb2xcbiAgICB0aGlzLiRjb250cm9sID0gaXNEZWZhdWx0ID8geyAuLi5vcHRpb24/LmNvbnRyb2wgfHwge30sIC4uLkNvbnRyb2wgfSA6IHsgLi4ub3B0aW9uPy5jb250cm9sIHx8IHt9IH07XG4gICAgbGV0IGNvbnRyb2xUZW1wOiBhbnkgPSB7fTtcbiAgICBPYmplY3Qua2V5cyh0aGlzLiRjb250cm9sKS5tYXAoKGtleSkgPT4gKHsgLi4udGhpcy4kY29udHJvbFtrZXldLCBrZXksIHNvcnQ6ICh0aGlzLiRjb250cm9sW2tleV0uc29ydCA9PT0gdW5kZWZpbmVkID8gOTk5OTkgOiB0aGlzLiRjb250cm9sW2tleV0uc29ydCkgfSkpLnNvcnQoY29tcGFyZVNvcnQpLmZvckVhY2goKGl0ZW06IGFueSkgPT4ge1xuICAgICAgY29udHJvbFRlbXBbaXRlbS5rZXldID0ge1xuICAgICAgICBkb3Q6IHtcbiAgICAgICAgICBsZWZ0OiAxLFxuICAgICAgICAgIHRvcDogMSxcbiAgICAgICAgICByaWdodDogMSxcbiAgICAgICAgICBib3R0b206IDEsXG4gICAgICAgIH0sXG4gICAgICAgIC4uLml0ZW1cbiAgICAgIH07XG4gICAgICB0aGlzLiRwcm9wZXJ0aWVzW2Ake2l0ZW0ua2V5fWBdID0ge1xuICAgICAgICAuLi4oaXRlbS5wcm9wZXJ0aWVzIHx8IHt9KSxcbiAgICAgICAgaWQ6IHtcbiAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBnZXRUaW1lKClcbiAgICAgICAgfSxcbiAgICAgICAga2V5OiB7XG4gICAgICAgICAgZGVmYXVsdDogaXRlbS5rZXlcbiAgICAgICAgfSxcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgIGRlZmF1bHQ6IGl0ZW0ua2V5LFxuICAgICAgICAgIGVkaXQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHg6IHtcbiAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIHk6IHtcbiAgICAgICAgICBkZWZhdWx0OiAwXG4gICAgICAgIH0sXG4gICAgICAgIGdyb3VwOiB7XG4gICAgICAgICAgZGVmYXVsdDogJydcbiAgICAgICAgfSxcbiAgICAgICAgbGluZXM6IHtcbiAgICAgICAgICBkZWZhdWx0OiBbXVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgdGhpcy4kY29udHJvbCA9IGNvbnRyb2xUZW1wO1xuICB9XG4gIHJlbmRlckh0bWwobm9kZTogTm9kZSwgZWxQYXJlbnQ6IEVsZW1lbnQpIHtcbiAgICBlbFBhcmVudC5pbm5lckhUTUwgPSBub2RlLmdldE9wdGlvbigpPy5odG1sO1xuICB9XG4gIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5ldmVudHMub25TYWZlKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLm9uKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XG4gICAgdGhpcy5ldmVudHMuZGlzcGF0Y2goZXZlbnQsIGRldGFpbHMpO1xuICB9XG5cbiAgZ2V0Q29udHJvbEFsbCgpIHtcbiAgICByZXR1cm4gdGhpcy4kY29udHJvbCA/PyB7fTtcbiAgfVxuICBnZXRQcm9qZWN0QWxsKCk6IGFueVtdIHtcbiAgICByZXR1cm4gdGhpcy4kZGF0YS5HZXQoJ3Byb2plY3RzJykgPz8gW107XG4gIH1cbiAgaW1wb3J0SnNvbihkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLiRkYXRhLkluaXREYXRhKGRhdGEsIHRoaXMuZ2V0UHJvcGVydHlCeUtleShQcm9wZXJ0eUVudW0uc29sdXRpb24pKTtcbiAgfVxuICBzZXRQcm9qZWN0T3BlbigkZGF0YTogYW55KTogdm9pZCB7XG4gICAgdGhpcy4kcHJvamVjdE9wZW4gPSAkZGF0YTtcbiAgfVxuICBjaGVja1Byb2plY3RPcGVuKCRkYXRhOiBhbnkpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy4kcHJvamVjdE9wZW4gPT0gJGRhdGE7XG4gIH1cbiAgbmV3UHJvamVjdCgpOiB2b2lkIHtcbiAgICB0aGlzLm9wZW5Qcm9qZWN0KHt9KTtcbiAgICB0aGlzLmRpc3BhdGNoKEV2ZW50RW51bS5uZXdQcm9qZWN0LCB7fSk7XG4gIH1cbiAgb3BlblByb2plY3QoJGRhdGE6IGFueSk6IHZvaWQge1xuICAgIGlmICgkZGF0YSBpbnN0YW5jZW9mIERhdGFGbG93KSB7XG4gICAgICBsZXQgJHByb2plY3Q6IGFueSA9IHRoaXMuZ2V0UHJvamVjdEJ5SWQoJGRhdGEuR2V0KCdpZCcpKTtcbiAgICAgIGlmICghJHByb2plY3QpIHtcbiAgICAgICAgJHByb2plY3QgPSAkZGF0YTtcbiAgICAgICAgdGhpcy4kZGF0YS5BcHBlbmQoJ3Byb2plY3RzJywgJHByb2plY3QpO1xuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0ub3BlblByb2plY3QsICRwcm9qZWN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRhdGEgPSBuZXcgRGF0YUZsb3codGhpcyk7XG4gICAgICBkYXRhLkluaXREYXRhKCRkYXRhLCB0aGlzLmdldFByb3BlcnR5QnlLZXkoUHJvcGVydHlFbnVtLm1haW4pKTtcbiAgICAgIHRoaXMuJGRhdGEuQXBwZW5kKCdwcm9qZWN0cycsIGRhdGEpO1xuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0ub3BlblByb2plY3QsIHsgZGF0YSB9KTtcbiAgICAgIHRoaXMuZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhIH0pO1xuICAgICAgdGhpcy5kaXNwYXRjaChFdmVudEVudW0uY2hhbmdlLCB7IGRhdGEgfSk7XG4gICAgfVxuICB9XG4gIHB1YmxpYyBnZXRQcm9qZWN0QnlJZCgkaWQ6IGFueSkge1xuICAgIHJldHVybiB0aGlzLiRkYXRhLkdldCgncHJvamVjdHMnKS5maWx0ZXIoKGl0ZW06IERhdGFGbG93KSA9PiBpdGVtLkdldCgnaWQnKSA9PT0gJGlkKT8uWzBdO1xuICB9XG4gIHNldENvbnRyb2xDaG9vc2Uoa2V5OiBzdHJpbmcgfCBudWxsKTogdm9pZCB7XG4gICAgdGhpcy4kY29udHJvbENob29zZSA9IGtleTtcbiAgfVxuICBnZXRDb250cm9sQ2hvb3NlKCk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLiRjb250cm9sQ2hvb3NlO1xuICB9XG4gIGdldENvbnRyb2xCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLiRjb250cm9sW2tleV0gfHwge307XG4gIH1cbiAgZ2V0Q29udHJvbE5vZGVCeUtleShrZXk6IHN0cmluZykge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLmdldENvbnRyb2xCeUtleShrZXkpLFxuICAgICAgcHJvcGVydGllczogdGhpcy5nZXRQcm9wZXJ0eUJ5S2V5KGAke2tleX1gKVxuICAgIH1cbiAgfVxuICBnZXRQcm9wZXJ0eUJ5S2V5KGtleTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuJHByb3BlcnRpZXNba2V5XTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSU1haW4gfSBmcm9tIFwiLi4vY29yZS9CYXNlRmxvd1wiO1xuaW1wb3J0IHsgRXZlbnRFbnVtIH0gZnJvbSBcIi4uL2NvcmUvQ29uc3RhbnRcIjtcbmltcG9ydCB7IERhdGFGbG93IH0gZnJvbSBcIi4uL2NvcmUvRGF0YUZsb3dcIjtcbmltcG9ydCB7IERvY2tCYXNlIH0gZnJvbSBcIi4vRG9ja0Jhc2VcIjtcblxuZXhwb3J0IGNsYXNzIFRhYkRvY2sgZXh0ZW5kcyBEb2NrQmFzZSB7XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBwcm90ZWN0ZWQgbWFpbjogSU1haW4pIHtcbiAgICBzdXBlcihjb250YWluZXIsIG1haW4pO1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGBgO1xuICAgIHRoaXMuZWxOb2RlLmNsYXNzTGlzdC5hZGQoJ3ZzLXRhYicpO1xuICAgIHRoaXMubWFpbi5vbihFdmVudEVudW0ub3BlblByb2plY3QsIChkZXRhaWw6IGFueSkgPT4ge1xuICAgICAgdGhpcy5lbE5vZGU/LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY3RpdmUnKS5mb3JFYWNoKChfbm9kZSkgPT4ge1xuICAgICAgICBfbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuZWxOb2RlICYmIGRldGFpbD8uZGF0YT8uR2V0KCdpZCcpKSB7XG4gICAgICAgIHRoaXMuZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXByb2plY3QtaWQ9XCIke2RldGFpbD8uZGF0YT8uR2V0KCdpZCcpfVwiXWApPy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLm1haW4ub24oRXZlbnRFbnVtLm5ld1Byb2plY3QsIHRoaXMucmVuZGVyLmJpbmQodGhpcykpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHRoaXMuZWxOb2RlLmlubmVySFRNTCA9IGBgO1xuICAgIGxldCBwcm9qZWN0cyA9IHRoaXMubWFpbi5nZXRQcm9qZWN0QWxsKCk7XG4gICAgcHJvamVjdHMuZm9yRWFjaCgoaXRlbTogRGF0YUZsb3cpID0+IHtcbiAgICAgIGxldCBub2RlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnbm9kZS1pdGVtJyk7XG4gICAgICBub2RlSXRlbS5pbm5lckhUTUwgPSBgJHtpdGVtLkdldCgnbmFtZScpfWA7XG4gICAgICBub2RlSXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdC1pZCcsIGl0ZW0uR2V0KCdpZCcpKTtcbiAgICAgIGl0ZW0ucmVtb3ZlTGlzdGVuZXIoYCR7RXZlbnRFbnVtLmRhdGFDaGFuZ2V9X25hbWVgLCAoKSA9PiB7XG4gICAgICAgIG5vZGVJdGVtLmlubmVySFRNTCA9IGAke2l0ZW0uR2V0KCduYW1lJyl9YDtcbiAgICAgIH0pO1xuICAgICAgaXRlbS5vbihgJHtFdmVudEVudW0uZGF0YUNoYW5nZX1fbmFtZWAsICgpID0+IHtcbiAgICAgICAgbm9kZUl0ZW0uaW5uZXJIVE1MID0gYCR7aXRlbS5HZXQoJ25hbWUnKX1gO1xuICAgICAgfSk7XG4gICAgICBpZiAodGhpcy5tYWluLmNoZWNrUHJvamVjdE9wZW4oaXRlbSkpIHtcbiAgICAgICAgbm9kZUl0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBub2RlSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5tYWluLmRpc3BhdGNoKEV2ZW50RW51bS5vcGVuUHJvamVjdCwgeyBkYXRhOiBpdGVtIH0pO1xuICAgICAgICB0aGlzLm1haW4uZGlzcGF0Y2goRXZlbnRFbnVtLnNob3dQcm9wZXJ0eSwgeyBkYXRhOiBpdGVtIH0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmVsTm9kZT8uYXBwZW5kQ2hpbGQobm9kZUl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBWaXN1YWxGbG93IH0gZnJvbSBcIi4vVmlzdWFsRmxvd1wiO1xuaW1wb3J0IHsgU3lzdGVtQmFzZSB9IGZyb20gXCIuL3N5c3RlbXMvU3lzdGVtQmFzZVwiO1xuaW1wb3J0ICogYXMgQ29yZSBmcm9tICcuL2NvcmUvaW5kZXgnO1xuaW1wb3J0ICogYXMgRGVzZ2luZXIgZnJvbSBcIi4vZGVzZ2luZXIvaW5kZXhcIjtcbmltcG9ydCAqIGFzIERvY2sgZnJvbSAnLi9kb2NrL2luZGV4JztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgVmlzdWFsRmxvdyxcbiAgU3lzdGVtQmFzZSxcbiAgLi4uQ29yZSxcbiAgLi4uRG9jayxcbiAgLi4uRGVzZ2luZXJcbn07XG5cbiIsImltcG9ydCB7IElNYWluIH0gZnJvbSAnLi9jb3JlL2luZGV4JztcbmltcG9ydCB7IERvY2tNYW5hZ2VyIH0gZnJvbSAnLi9kb2NrL0RvY2tNYW5hZ2VyJztcbmltcG9ydCB7IFN5c3RlbUJhc2UgfSBmcm9tICcuL3N5c3RlbXMvU3lzdGVtQmFzZSc7XG5leHBvcnQgY2xhc3MgVmlzdWFsRmxvdyB7XG4gIHByaXZhdGUgbWFpbjogSU1haW4gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgJGRvY2tNYW5hZ2VyOiBEb2NrTWFuYWdlcjtcbiAgcHVibGljIGdldERvY2tNYW5hZ2VyKCk6IERvY2tNYW5hZ2VyIHtcbiAgICByZXR1cm4gdGhpcy4kZG9ja01hbmFnZXI7XG4gIH1cbiAgcHVibGljIHNldE9wdGlvbihkYXRhOiBhbnksIGlzRGVmYXVsdDogYm9vbGVhbiA9IHRydWUpIHtcbiAgICB0aGlzLm1haW4/LmluaXRPcHRpb24oZGF0YSwgaXNEZWZhdWx0KTtcbiAgICB0aGlzLiRkb2NrTWFuYWdlci5yZXNldCgpO1xuICB9XG4gIHB1YmxpYyBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIG1haW46IElNYWluIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5tYWluID0gbWFpbiA/PyBuZXcgU3lzdGVtQmFzZSgpO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3ZzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3ZzLWNvbnRhaW5lcicpO1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyID0gbmV3IERvY2tNYW5hZ2VyKHRoaXMuY29udGFpbmVyLCB0aGlzLm1haW4pO1xuICAgIHRoaXMuJGRvY2tNYW5hZ2VyLnJlc2V0KCk7XG4gIH1cbiAgb25TYWZlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLm1haW4/Lm9uU2FmZShldmVudCwgY2FsbGJhY2spO1xuICB9XG4gIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICB0aGlzLm1haW4/Lm9uKGV2ZW50LCBjYWxsYmFjayk7XG4gIH1cbiAgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSkge1xuICAgIHRoaXMubWFpbj8ucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICBkaXNwYXRjaChldmVudDogc3RyaW5nLCBkZXRhaWxzOiBhbnkpIHtcbiAgICB0aGlzLm1haW4/LmRpc3BhdGNoKGV2ZW50LCBkZXRhaWxzKTtcbiAgfVxuICBwdWJsaWMgZ2V0TWFpbigpOiBJTWFpbiB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubWFpbjtcbiAgfVxuICBuZXdQcm9qZWN0KCRuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmdldE1haW4oKT8ubmV3UHJvamVjdCgkbmFtZSk7XG4gIH1cbiAgb3BlblByb2plY3QoJG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZ2V0TWFpbigpPy5vcGVuUHJvamVjdCgkbmFtZSk7XG4gIH1cbiAgZ2V0UHJvamVjdEFsbCgpOiBhbnlbXSB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWFpbigpPy5nZXRQcm9qZWN0QWxsKCk7XG4gIH1cbiAgc2V0UHJvamVjdE9wZW4oJGRhdGE6IGFueSk6IHZvaWQge1xuICAgIHRoaXMuZ2V0TWFpbigpPy5zZXRQcm9qZWN0T3BlbigkZGF0YSk7XG4gIH1cbiAgaW1wb3J0SnNvbihkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICB0aGlzLmdldE1haW4oKT8uaW1wb3J0SnNvbihkYXRhKTtcbiAgfVxuICBleHBvcnRKc29uKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0TWFpbigpPy5leHBvcnRKc29uKCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJFdmVudEVudW0iLCJpbml0IiwiZGF0YUNoYW5nZSIsInNob3dQcm9wZXJ0eSIsIm9wZW5Qcm9qZWN0IiwibmV3UHJvamVjdCIsImNoYW5nZSIsImRpc3Bvc2UiLCJEb2NrRW51bSIsImxlZnQiLCJ0b3AiLCJ2aWV3IiwiYm90dG9tIiwicmlnaHQiLCJQcm9wZXJ0eUVudW0iLCJtYWluIiwic29sdXRpb24iLCJsaW5lIiwidmFyaWFibGUiLCJncm91cENhdmFzIiwiRG9ja0Jhc2UiLCJlbE5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJlbENvbnRlbnQiLCJjb25zdHJ1Y3RvciIsImNvbnRhaW5lciIsInRoaXMiLCJhcHBlbmRDaGlsZCIsImlubmVySFRNTCIsIkJveEluZm8iLCJ0aXRsZSIsIiRjYWxsYmFjayIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInF1ZXJ5U2VsZWN0b3IiLCJDb250cm9sRG9jayIsInN1cGVyIiwibm9kZSIsImNvbnRyb2xzIiwiZ2V0Q29udHJvbEFsbCIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiaXRlbSIsIm5vZGVJdGVtIiwic2V0QXR0cmlidXRlIiwiaWNvbiIsIm5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiZHJhZ1N0YXJ0IiwiYmluZCIsImRyYWdlbmQiLCJlIiwic2V0Q29udHJvbENob29zZSIsImtleSIsInRhcmdldCIsImNsb3Nlc3QiLCJnZXRBdHRyaWJ1dGUiLCJ0eXBlIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsIkV2ZW50RmxvdyIsImV2ZW50cyIsIm9uU2FmZSIsImV2ZW50IiwiY2FsbGJhY2siLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwiY29uc29sZSIsImVycm9yIiwidW5kZWZpbmVkIiwibGlzdGVuZXJzIiwicHVzaCIsImxpc3RlbmVySW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiZGlzcGF0Y2giLCJkZXRhaWxzIiwibGlzdGVuZXIiLCJEYXRhRmxvdyIsInByb3BlcnR5IiwiZGF0YSIsInByb3BlcnRpZXMiLCJnZXRQcm9wZXJ0aWVzIiwibG9hZCIsIkluaXREYXRhIiwiZXZlbnREYXRhQ2hhbmdlIiwia2V5Q2hpbGQiLCJ2YWx1ZUNoaWxkIiwic2VuZGVyQ2hpbGQiLCJpbmRleCIsInZhbHVlIiwic2VuZGVyIiwiUmVtb3ZlRXZlbnREYXRhIiwiT25FdmVudERhdGEiLCJCaW5kRXZlbnQiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJTZXQiLCJpc0Rpc3BhdGNoIiwiU2V0RGF0YSIsImlzQ2xlYXJEYXRhIiwiJGRhdGEiLCJHZXQiLCJBcHBlbmQiLCJSZW1vdmUiLCJnZXRQcm9wZXJ0eUJ5S2V5IiwiZGVmYXVsdCIsIm1hcCIsInRvU3RyaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSnNvbiIsInJzIiwiZGVsZXRlIiwiRmxvd0NvcmUiLCJHZXRJZCIsIlNldElkIiwiaWQiLCJDaGVja0VsZW1lbnRDaGlsZCIsImVsIiwiY29udGFpbnMiLCJTZXREYXRhRmxvdyIsIkJpbmREYXRhRXZlbnQiLCJzZXRUaW1lb3V0IiwiUmVtb3ZlRGF0YUV2ZW50IiwiQmFzZUZsb3ciLCJwYXJlbnQiLCJnZXREYXRlIiwiRGF0ZSIsImdldFRpbWUiLCJjb21wYXJlU29ydCIsImEiLCJiIiwic29ydCIsImlzRnVuY3Rpb24iLCJmbiIsIkZ1bmN0aW9uIiwiVGFnVmlldyIsIkRhdGFWaWV3Iiwia2V5TmFtZSIsImVkaXQiLCJzZWxlY3QiLCJub2RlRWRpdG9yIiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsInJlbW92ZUNoaWxkIiwiYmluZERhdGEiLCJiaW5kSW5wdXQiLCJiaW5kRXZlbnQiLCJkYXRhU2VsZWN0Iiwib3B0aW9ucyIsInRleHQiLCJvcHRpb24iLCJzY3JpcHQiLCJzZXROb2RlVmFsdWUiLCJpbmNsdWRlcyIsInRhZ05hbWUiLCJpbm5lclRleHQiLCJEZWxldGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic3RhdGljIiwiY2hpbGRFbGVtZW50Q291bnQiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIk1vdmVUeXBlIiwicyIsImhleERpZ2l0cyIsImkiLCJzdWJzdHIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJqb2luIiwibWVzc2FnZSIsIm9wdGlvbmFsUGFyYW1zIiwibG9nIiwiUHJvamVjdERvY2siLCJyZW5kZXJVSSIsImRldGFpbCIsIl9ub2RlIiwiJG5vZGVSaWdodCIsImJ1dHRvbk5ldyIsImdldFByb2plY3RBbGwiLCJjaGVja1Byb2plY3RPcGVuIiwiUHJvcGVydHlEb2NrIiwibGFzdERhdGEiLCJoaWRlS2V5cyIsInNvcnRLZXlzIiwicHJvcGVydHlJdGVtIiwicHJvcGVydHlMYWJlbCIsInByb3BlcnR5VmFsdWUiLCJCaW5kRWxlbWVudCIsIkxpbmUiLCJmcm9tSW5kZXgiLCJ0byIsInRvSW5kZXgiLCJjcmVhdGVFbGVtZW50TlMiLCJlbFBhdGgiLCJjdXJ2YXR1cmUiLCJ0ZW1wIiwiU3RhcnRTZWxlY3RlZCIsInNldEF0dHJpYnV0ZU5TIiwiZWxDYW52YXMiLCJBZGRMaW5lIiwidXBkYXRlVG8iLCJ0b194IiwidG9feSIsIngiLCJmcm9tX3giLCJ5IiwiZnJvbV95IiwiZ2V0UG9zdGlzaW9uRG90IiwibGluZUN1cnZlIiwiY3JlYXRlQ3VydmF0dXJlIiwiVXBkYXRlVUkiLCJBY3RpdmUiLCJmbGciLCJzdGFydF9wb3NfeCIsInN0YXJ0X3Bvc195IiwiZW5kX3Bvc194IiwiZW5kX3Bvc195IiwiY3VydmF0dXJlX3ZhbHVlIiwibGluZV94IiwibGluZV95IiwiaHgxIiwiYWJzIiwiaHgyIiwibm9kZVRoaXMiLCJSZW1vdmVMaW5lIiwic2V0TGluZUNob29zZSIsInNldE5vZGVUbyIsIkNsb25lIiwiY2hlY2tMaW5lRXhpc3RzIiwiRGVzZ2luZXJWaWV3X0V2ZW50IiwidGltZUZhc3RDbGljayIsInRhZ0luZ29yZSIsIm1vdmVUeXBlIiwiTm9uZSIsImZsZ0RyYXAiLCJmbGdNb3ZlIiwiYXZfeCIsImF2X3kiLCJwb3NfeCIsInBvc195IiwibW91c2VfeCIsIm1vdXNlX3kiLCJ0ZW1wTGluZSIsIkVuZE1vdmUiLCJNb3ZlIiwiU3RhcnRNb3ZlIiwiY29udGV4dG1lbnUiLCJub2RlX2Ryb3BFbmQiLCJub2RlX2RyYWdvdmVyIiwiem9vbV9lbnRlciIsImtleWRvd24iLCJldiIsInByZXZlbnREZWZhdWx0IiwiJGxvY2siLCJrZXlOb2RlIiwiZ2V0Q29udHJvbENob29zZSIsImdldERhdGEiLCJlX3Bvc194IiwiZV9wb3NfeSIsInRvdWNoZXMiLCJjbGllbnRYIiwiY2xpZW50WSIsIkNhbGNYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiQ2FsY1kiLCJjaGVja09ubHlOb2RlIiwiQWRkTm9kZSIsImdyb3VwIiwiQ3VycmVudEdyb3VwIiwidXBkYXRlUG9zaXRpb24iLCJjdHJsS2V5IiwiZGVsdGFZIiwiem9vbV9vdXQiLCJ6b29tX2luIiwidG9Mb3dlckNhc2UiLCJDYW52YXMiLCJub2RlQ2hvb3NlIiwiZ2V0Tm9kZUNob29zZSIsIk5vZGUiLCJzZXROb2RlQ2hvb3NlIiwiZ2V0WCIsImdldFkiLCJzZXRYIiwic2V0WSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJub2RlRWwiLCJub2RlSWQiLCJub2RlVG8iLCJHZXROb2RlQnlJZCIsIm1ldGFLZXkiLCJnZXRMaW5lQ2hvb3NlIiwiRGVzZ2luZXJWaWV3X1Rvb2xiYXIiLCJlbFBhdGhHcm91cCIsImJ0bkJhY2siLCJlbFRvb2xiYXIiLCJyZW5kZXJQYXRoR3JvdXAiLCJncm91cHMiLCJHZXRHcm91cE5hbWUiLCJsZW4iLCJCYWNrR3JvdXAiLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG5ab29tSW4iLCJidG5ab29tT3V0IiwiYnRuWm9vbVJlc2V0Iiwiem9vbV9yZXNldCIsImJ1dHRvbkdyb3VwIiwiZ2V0TmFtZSIsIkNoZWNrS2V5IiwiZ2V0RGF0YUxpbmUiLCJhcnJMaW5lIiwiZmlsdGVyIiwiYXJyRGF0YVZpZXciLCJnZXRDb250cm9sTm9kZUJ5S2V5IiwiY2xhc3MiLCJnZXRPcHRpb24iLCJhY3RpdmVFbGVtZW50IiwiaGlkZVRpdGxlIiwiYWRkTm9kZURvdCIsIm51bSIsInN0YXJ0IiwicXVlcnkiLCJub2RlUXVlcnkiLCJub2RlRG90IiwiZG90IiwicmVuZGVySHRtbCIsIm9wZW5Hcm91cCIsImlDaGVjayIsInRlbXB4IiwidGVtcHkiLCJlbERvdCIsIlJlbW92ZU5vZGUiLCJSZW5kZXJMaW5lIiwiWm9vbSIsIkRlc2dpbmVyVmlldyIsImdldFpvb20iLCJnZXREYXRhR3JvdXAiLCJzZXRab29tIiwiZ3JvdXBEYXRhIiwibGFzdEdyb3VwTmFtZSIsIkdldERhdGFCeUlkIiwidG9vbGJhciIsIlJlbmRlclVJIiwibGluZUNob29zZSIsIm5vZGVzIiwiQWRkTm9kZUl0ZW0iLCJJbnNlcnROb2RlIiwiQ2xlYXJOb2RlIiwiR2V0RGF0YUFsbE5vZGUiLCJHZXREYXRhTm9kZSIsInpvb21fbGFzdF92YWx1ZSIsInRhYkluZGV4IiwidXBkYXRlVmlldyIsInpvb20iLCJzdHlsZSIsInRyYW5zZm9ybSIsIkdldEFsbE5vZGUiLCJPcGVuIiwibnVtYmVyIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZXRDb250cm9sQnlLZXkiLCJ6b29tX3JlZnJlc2giLCJ0ZW1wX3pvb20iLCJWaWV3RG9jayIsInNldFByb2plY3RPcGVuIiwiRG9ja01hbmFnZXIiLCIkZG9ja01hbmFnZXIiLCJyZXNldCIsImFkZERvY2siLCIka2V5IiwiJHZpZXciLCIkaXRlbSIsIkNvbnRyb2wiLCJub2RlX2JlZ2luIiwiaHRtbCIsIm9ubHlOb2RlIiwibm9kZV9lbmQiLCJub2RlX2lmIiwiY29uZGl0aW9uIiwib3V0cHV0Iiwibm9kZV9ncm91cCIsIm5vZGVfb3B0aW9uIiwibm9kZV9wcm9qZWN0IiwicHJvamVjdCIsIlN5c3RlbUJhc2UiLCIkcHJvamVjdE9wZW4iLCIkcHJvcGVydGllcyIsIiRjb250cm9sIiwiJGNvbnRyb2xDaG9vc2UiLCIkY2hlY2tPcHRpb24iLCJwcm9qZWN0cyIsImV4cG9ydEpzb24iLCJjaGVja0luaXRPcHRpb24iLCJpbml0T3B0aW9uIiwiaXNEZWZhdWx0IiwiY29udHJvbCIsImNvbnRyb2xUZW1wIiwibGluZXMiLCJlbFBhcmVudCIsImltcG9ydEpzb24iLCIkcHJvamVjdCIsImdldFByb2plY3RCeUlkIiwiJGlkIiwicmVuZGVyIiwiVmlzdWFsRmxvdyIsImdldERvY2tNYW5hZ2VyIiwic2V0T3B0aW9uIiwiZ2V0TWFpbiIsIiRuYW1lIiwiQ29yZSIsIkRvY2siLCJEZXNnaW5lciJdLCJtYXBwaW5ncyI6Ijs7Ozs7O3VDQUFPLE1BQU1BLEVBQVksQ0FDdkJDLEtBQU0sT0FDTkMsV0FBWSxhQUNaQyxhQUFjLGVBQ2RDLFlBQWEsY0FDYkMsV0FBWSxhQUNaQyxPQUFRLFNBQ1JDLFFBQVMsV0FHRUMsRUFBVyxDQUN0QkMsS0FBTSxVQUNOQyxJQUFLLFNBQ0xDLEtBQU0sVUFDTkMsT0FBUSxZQUNSQyxNQUFPLFlBR0lDLEVBQWUsQ0FDMUJDLEtBQU0sZUFDTkMsU0FBVSxnQkFDVkMsS0FBTSxZQUNOQyxTQUFVLGdCQUNWQyxXQUFZLHlCQ3JCREMsRUFHMENMLEtBRjlDTSxPQUFzQkMsU0FBU0MsY0FBYyxPQUMxQ0MsVUFDVkMsWUFBbUJDLEVBQWtDWCxHQUFBWSxLQUFJWixLQUFKQSxFQUNuRFcsRUFBVUUsWUFBWUQs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
