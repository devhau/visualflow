/**
   * @license
   * author:nguyenvanhaudev@gmail.com (Nguyen Van Hau)
   * visualflow_core.js v0.0.1-beta
   * Released under the MIT license.
   */
var visualflow_core=function(){"use strict";var e;!function(e){e[e.All=0]="All",e[e.Web=1]="Web",e[e.PC=2]="PC",e[e.Cloud=3]="Cloud",e[e.Mobile=4]="Mobile",e[e.IOS=5]="IOS",e[e.Android=6]="Android"}(e||(e={}));class t{env(){return[e.All,e.Cloud,e.PC,e.Web,e.Mobile,e.IOS,e.Android]}CheckEnv(e){return this.env().includes(e)}key(){return this.constructor.name}checkKey(e){return this.key()==e}name(){return this.constructor.name}icon(){return'<i class="fas fa-play"></i>'}group(){return"Common"}html({elNode:e,main:t,node:n}){return""}script({elNode:e,main:t,node:n}){}properties(){}option(){}async execute(e,t,n,o){}async nextNode(e,t,n,o=null){if(e?.lines)for(let s of e.lines)s.from!=n||null!=o&&s.fromIndex!=o||await t(s.to)}}class n extends t{key(){return"core_alert"}name(){return"Alert"}icon(){return'<i class="fas fa-bell"></i>'}html({elNode:e,main:t,node:n}){return'<div class="pr10 pl10 pb4"><input type="text" class="node-form-control" node:model="message"/></div>'}properties(){return{message:{key:"message",edit:!0,default:""}}}async execute(e,t,n,o){alert(n.Val(t?.message)),await this.nextNode(t,o,e)}}class o extends t{key(){return"core_assign"}name(){return"Assign"}icon(){return'<i class="fas fa-bolt"></i>'}properties(){return{env_name:{key:"env_name",edit:!0,default:""},env_value:{key:"env_value",edit:!0,default:""}}}option(){return{class:"",dot:{left:1,top:0,right:0,bottom:0}}}html({elNode:e,main:t,node:n}){return'<div class="node-content-row">\n    <div class="pl10 pr0 pt2 pb2"><input type="text" class="node-form-control" node:model="env_name"/> </div>\n    <div class="flex-none p2 text-center">=</div>\n    <div class="pr10 pl0 pt2 pb2"><input type="text" class="node-form-control" node:model="env_value"/></div>\n    <div><span class="node-dot" node="50000"></span></div>\n    </div>'}async execute(e,t,n,o){await this.nextNode(t,o,e)}}const s="core_begin";class r extends t{key(){return s}name(){return"Begin"}option(){return{onlyNode:!0,sort:0,dot:{left:0,top:0,right:1,bottom:0}}}async execute(e,t,n,o){await this.nextNode(t,o,e)}}class i extends t{key(){return"core_console"}name(){return"Console"}icon(){return'<i class="fas fa-terminal"></i>'}html({elNode:e,main:t,node:n}){return'<div class="pr10 pl10 pb4"><input type="text" class="node-form-control" node:model="message"/></div>'}properties(){return{message:{key:"message",edit:!0,default:""}}}async execute(e,t,n,o){console.log(n.Val(t?.message)),await this.nextNode(t,o,e)}}class a extends t{key(){return"core_delay"}name(){return"Delay"}icon(){return'<i class="fas fa-stopwatch"></i>'}html({elNode:e,main:t,node:n}){return'<div class="pr10 pl10 pb4 display-flex"><input type="text" class="node-form-control" node:model="number_delay"/><span class="p4">ms</span></div>'}properties(){return{number_delay:{key:"number_delay",edit:!0,default:1e3}}}async execute(e,t,n,o){await n.delay(n.Val(t?.number_delay)),await this.nextNode(t,o,e)}}class d extends t{key(){return"core_end"}name(){return"End"}icon(){return'<i class="fas fa-stop"></i>'}option(){return{onlyNode:!0,sort:0,dot:{left:1,top:0,right:0,bottom:0}}}}class l extends t{key(){return"core_for"}name(){return"For"}icon(){return'<i class="fas fa-circle-notch"></i>'}properties(){return{number_start:{key:"number_start",edit:!0,default:1},number_end:{key:"number_end",edit:!0,default:1},number_step:{key:"number_step",edit:!0,default:1},env_name:{key:"env_name",edit:!0,default:"loop_index"}}}html({elNode:e,main:t,node:n}){return'\n      <div class="display-flex">\n        <div class="flex-none pl10 pr0 pt4 pb2 text-center" >For</div>\n        <div class="pl2 pr0 pt2 pb2" ><input type="text" class="node-form-control" node:model="number_start" /> </div>\n        <div class="flex-none pl2 pr0 pt4 pb2 text-center" >To </div>\n        <div class="pr2 pl0 pt2 pb2" ><input type="text" class="node-form-control" node:model="number_end" /></div>\n        <div class="flex-none pl2 pr0 pt42 pb2 text-center" >Step</div>\n        <div class="pr10 pl0 pt2 pb2" ><input type="text" class="node-form-control" node:model="number_step" /></div>\n      </div>\n      <div class="text-center p3">\n        <button class="btnGoGroup node-form-control">Go to Content</button>\n      </div>'}script({elNode:e,main:t,node:n}){e.querySelector(".btnGoGroup")?.addEventListener("click",(()=>{n.parent.openGroup(n.GetId())}));const o=`temp_${n.GetId()}_env_name`,s=t.temp.Get(o);s?n.data.Get("env_name")!=s&&(t.changeVariableName(s,n.data.Get("env_name"),n.GetId()),t.temp.Set(o,n.data.Get("env_name"))):(t.temp.Set(o,n.data.Get("env_name")),t.newVariable(n.data.Get("env_name"),n.GetId()))}async execute(e,t,n,o){const s=n.getGroupCurrent();n.setGroup(t.id);for(let e=t.number_start;e<t.number_end&&!n.flgStopping;e+=t.number_step)await n.excuteAsync();n.setGroup(s),await this.nextNode(t,o,e)}}class c extends t{key(){return"core_group"}name(){return"Group"}icon(){return'<i class="far fa-object-group"></i>'}html({elNode:e,main:t,node:n}){return'<div class="text-center p3"><button class="btnGoGroup node-form-control">Go to Group</button></div>'}script({elNode:e,main:t,node:n}){e.querySelector(".btnGoGroup")?.addEventListener("click",(()=>{n.parent.openGroup(n.GetId())}))}async execute(e,t,n,o){const s=n.getGroupCurrent();n.setGroup(t.id),await n.excuteAsync(),n.setGroup(s),await this.nextNode(t,o,e)}}class p extends t{key(){return"core_if"}name(){return"If"}icon(){return'<i class="fas fa-equals"></i>'}properties(){return{condition:{key:"condition",edit:!0,default:1},cond:{key:"cond",edit:!0,sub:!0,default:1}}}option(){return{class:"",dot:{left:1,top:0,right:0,bottom:0}}}html({elNode:e,main:t,node:n}){const o=n.data.Get("condition");let s="";for(let e=0;e<o;e++)s=`${s}<div class="node-content-row">\n      <div class="pl10 pr1 pt2 pb2"><input type="text" class="node-form-control" node:model="cond${50001+e}"/></div>\n      <div style="text-align:right" class="pl1 pr10 pt2 pb2">Then</div>\n      <div><span class="node-dot" node="${50001+e}"></span></div>\n      </div>`;return s=`${s}<div class="node-content-row">\n    <div class="pl10 pr1 pt2 pb2"><button class="btnAddCondition">Add</button></div>\n    <div style="text-align:right" class="pl1 pr10 pt2 pb2">Else</div>\n    <div><span class="node-dot" node="50000"></span></div>\n    </div>`,s}script({elNode:e,main:t,node:n}){e.querySelector(".btnAddCondition")?.addEventListener("click",(()=>{n.data.Increase("condition")}))}async execute(e,t,n,o){const s=t.condition;for(let r=0;r<s&&!n.flgStopping;r++){let s=50001+r;const i=t[`cond${s}`];if(1==n.Val(i))return void await this.nextNode(t,o,e,s)}await this.nextNode(t,o,e,5e4)}}class u extends t{key(){return"core_project"}name(){return"Project"}icon(){return'<i class="fas fa-project-diagram"></i>'}properties(){return{project:{key:"project",edit:!0,select:!0,dataSelect:({elNode:e,main:t,node:n})=>t.getProjectAll().map((e=>({value:e.Get("id"),text:e.Get("name")})))}}}html({elNode:e,main:t,node:n}){return'<div class="text-center p3"><select class="node-form-control" node:model="project"></select></div>'}script({elNode:e,main:t,node:n}){}async execute(e,t,n,o){const s=n.getProjectCurrent(),r=n.getGroupCurrent();n.setProject(t.project),await n.excuteAsync(),n.setProject(s),n.setGroup(r),await this.nextNode(t,o,e)}}class m extends t{key(){return"core_switch"}name(){return"Switch"}icon(){return'<i class="fas fa-random"></i>'}properties(){return{condition:{key:"condition",edit:!0,default:1},case:{key:"case",edit:!0,sub:!0,default:1},case_input:{key:"case_input",edit:!0,default:""}}}option(){return{class:"",dot:{left:1,top:0,right:0,bottom:0}}}html({elNode:e,main:t,node:n}){const o=n.data.Get("condition");let s="";s=`${s}<div class="node-content-row">\n    <div style="text-align:right" class="pl10 pr1 pt2 pb2">Input</div>\n    <div class="pl2 pr1 pt2 pb2"><input type="text" class="node-form-control" node:model="case_input"/></div>\n    <div></div>\n    </div>`;for(let e=0;e<o;e++)s=`${s}<div class="node-content-row">\n      <div style="text-align:right" class="pl10 pr1 pt2 pb2">Case</div>\n      <div class="pl2 pr1 pt2 pb2"><input type="text" class="node-form-control" node:model="case${50001+e}"/></div>\n      <div><span class="node-dot" node="${50001+e}"></span></div>\n      </div>`;return s=`${s}<div class="node-content-row">\n    <div class="pl10 pr1 pt2 pb2"><button class="btnAddCondition">Add</button></div>\n    <div style="text-align:right" class="pl2 pr10 pt2 pb2">Default</div>\n    <div><span class="node-dot" node="50000"></span></div>\n    </div>`,s}script({elNode:e,main:t,node:n}){e.querySelector(".btnAddCondition")?.addEventListener("click",(()=>{n.data.Increase("condition")}))}async execute(e,t,n,o){const s=t.condition,r=n.Val(t.case_input);for(let i=0;i<s&&!n.flgStopping;i++){let s=50001+i;const a=t[`case${s}`];if(n.Val(a)==r)return void await this.nextNode(t,o,e,s)}await this.nextNode(t,o,e,5e4)}}class h extends class{nodes(){return[]}newNodes(){return this.nodes().map((e=>new e))}}{nodes(){return[r,d,o,a,p,m,l,n,i,u,c]}}const v=eval,f="main_project",y="main_solution";class g{events={};onSafe(e,t){this.removeListener(e,t),this.on(e,t)}on(e,t){return"function"!=typeof t?(console.error("The listener callback must be a function, the given type is "+typeof t),!1):"string"!=typeof e?(console.error("The event name must be a string, the given type is "+typeof e),!1):(void 0===this.events[e]&&(this.events[e]={listeners:[]}),void this.events[e].listeners.push(t))}removeListener(e,t){if(!this.events[e])return!1;const n=this.events[e].listeners,o=n.indexOf(t);o>-1&&n.splice(o,1)}dispatch(e,t){if(void 0===this.events[e])return!1;this.events[e].listeners.forEach((e=>{e(t)}))}$data;$nodes=[];$project;$group="root";delay_time=100;constructor(e=null){this.LoadData(e)}setProject(e){this.$project=e,this.$group="root"}getProject(){return this.$data.key===y?this.$data?.projects?.find((e=>e.id==this.$project)):this.$data.key===f?this.$data:void 0}setGroup(e){this.$group=e}getGroupCurrent(){return this.$group}getProjectCurrent(){return this.$project}getNodeInGroup(e=null){let t=e??this.$group;return this.getProject()?.nodes?.filter((e=>e.group==t))}getNodeById(e){return this.getNodeInGroup()?.filter((t=>t.id==e))?.[0]}getNodeByKey(e){return this.getNodeInGroup()?.filter((t=>t.key==e))?.[0]}LoadData(e){return e?(this.$data="string"==typeof e?JSON.parse(e):e,this.$data.key===y&&(this.$project=this.$data.project),this.$project||(this.$project=this.$data.projects?.[0]?.id),this):this}newSetup(e){this.Setup(new e)}Setup(e){this.$nodes=[...this.$nodes,...e.newNodes()]}getControlNodes(){return this.$nodes.map((e=>({key:"",name:"",group:"",html:"",script:"",properties:"",dot:{left:1,top:0,right:1,bottom:0},...e.option()??{},key:e.key(),name:e.name(),icon:e.icon(),group:e.group(),html:e.html,script:e.script,properties:e.properties()??{}})))}getWorkerNode(e){return this.$nodes?.filter((t=>t.checkKey(e)))?.[0]}async excuteNode(e){const t=this.getNodeById(e);await this.excuteDataNode(t)}delay(e=100){return new Promise((t=>setTimeout(t,e)))}async excuteDataNode(e){if(this.flgStopping)this.dispatch("worker_stopping",{});else if(await this.delay(this.delay_time),e){this.dispatch("node_start",{node:e});const t=this.getWorkerNode(e.key);await(t?.execute(e.id,e,this,this.excuteNode.bind(this))),this.dispatch("node_end",{node:e})}}async excuteAsync(){const e=this.getNodeByKey("core_begin");await this.excuteDataNode(e)}excute(){setTimeout((async()=>{this.dispatch("worker_start",{});try{this.flgStopping=!1,await this.excuteAsync(),this.flgStopping=!1,this.dispatch("worker_end",{})}catch(e){console.log(e),this.dispatch("worker_end",{})}this.flgStopping=!1}))}flgStopping=null;stop(){this.flgStopping=!0}Val(e){let t=e;for(;`${t}`.indexOf("${")>=0;)t=v(t),console.log(t);return t=v(`${t}`),console.log(e,t),t}}const x=new g;return x.newSetup(h),{CoreSetup:h,WorkerManager:g,workerManager:x}}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzdWFsZmxvdy1jb3JlLm1pbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL3dvcmtlci9ub2RlLnRzIiwiLi4vc3JjL25vZGVzL2FsZXJ0LnRzIiwiLi4vc3JjL25vZGVzL2Fzc2lnbi50cyIsIi4uL3NyYy9ub2Rlcy9iZWdpbi50cyIsIi4uL3NyYy9ub2Rlcy9jb25zb2xlLnRzIiwiLi4vc3JjL25vZGVzL2RlbGF5LnRzIiwiLi4vc3JjL25vZGVzL2VuZC50cyIsIi4uL3NyYy9ub2Rlcy9mb3IudHMiLCIuLi9zcmMvbm9kZXMvZ3JvdXAudHMiLCIuLi9zcmMvbm9kZXMvaWYudHMiLCIuLi9zcmMvbm9kZXMvcHJvamVjdC50cyIsIi4uL3NyYy9ub2Rlcy9zd2l0Y2gudHMiLCIuLi9zcmMvbm9kZXMvaW5kZXgudHMiLCIuLi9zcmMvd29ya2VyL3NldHVwLnRzIiwiLi4vc3JjL3dvcmtlci9tYW5hZ2VyLnRzIiwiLi4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdvcmtlck1hbmFnZXIgfSBmcm9tIFwiLi9tYW5hZ2VyXCI7XG5cbmV4cG9ydCBlbnVtIEVudk5vZGUge1xuICBBbGwgPSAwLFxuICBXZWIgPSAxLFxuICBQQyA9IDIsXG4gIENsb3VkID0gMyxcbiAgTW9iaWxlID0gNCxcbiAgSU9TID0gNSxcbiAgQW5kcm9pZCA9IDZcbn1cbmV4cG9ydCB0eXBlIE9wdGlvbk5vZGUgPSB2b2lkICYge1xuICBrZXk6IFwiXCIsXG4gIG5hbWU6IFwiXCIsXG4gIGdyb3VwOiBcIlwiLFxuICBodG1sOiBcIlwiLFxuICBzY3JpcHQ6IFwiXCIsXG4gIHByb3BlcnRpZXM6IFwiXCIsXG4gIG9ubHlOb2RlOiBib29sZWFuLFxuICBkb3Q6IHtcbiAgICBsZWZ0OiAxLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMSxcbiAgICBib3R0b206IDAsXG4gIH1cbn1cbmV4cG9ydCBjbGFzcyBXb3JrZXJOb2RlIHtcbiAgZW52KCk6IGFueVtdIHtcbiAgICByZXR1cm4gW0Vudk5vZGUuQWxsLCBFbnZOb2RlLkNsb3VkLCBFbnZOb2RlLlBDLCBFbnZOb2RlLldlYiwgRW52Tm9kZS5Nb2JpbGUsIEVudk5vZGUuSU9TLCBFbnZOb2RlLkFuZHJvaWRdO1xuICB9XG4gIHB1YmxpYyBDaGVja0VudihlbnY6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmVudigpLmluY2x1ZGVzKGVudik7XG4gIH1cbiAga2V5KCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuICBwdWJsaWMgY2hlY2tLZXkoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5rZXkoKSA9PSBrZXk7XG4gIH1cbiAgbmFtZSgpOiBhbnkgeyByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lOyB9XG4gIGljb24oKTogYW55IHsgcmV0dXJuICc8aSBjbGFzcz1cImZhcyBmYS1wbGF5XCI+PC9pPic7IH1cbiAgZ3JvdXAoKTogYW55IHtcbiAgICByZXR1cm4gXCJDb21tb25cIjtcbiAgfVxuICBodG1sKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSkge1xuICAgIHJldHVybiBgYDtcbiAgfVxuICBzY3JpcHQoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KSB7IH1cbiAgcHJvcGVydGllcygpOiBhbnkgeyB9XG4gIG9wdGlvbigpOiBhbnkgeyB9XG4gIGFzeW5jIGV4ZWN1dGUobm9kZUlkOiBhbnksIGRhdGE6IGFueSwgbWFuYWdlcjogV29ya2VyTWFuYWdlciwgbmV4dDogYW55KSB7XG5cbiAgfVxuICBwcm90ZWN0ZWQgYXN5bmMgbmV4dE5vZGUoZGF0YTogYW55LCBuZXh0OiBhbnksIG5vZGVJZDogYW55LCBpbmRleDogYW55ID0gbnVsbCkge1xuICAgIGlmIChkYXRhPy5saW5lcykge1xuICAgICAgZm9yIChsZXQgaXRlbSBvZiBkYXRhLmxpbmVzKSB7XG4gICAgICAgIGlmIChpdGVtLmZyb20gPT0gbm9kZUlkICYmIChpbmRleCA9PSBudWxsIHx8IGl0ZW0uZnJvbUluZGV4ID09IGluZGV4KSkge1xuICAgICAgICAgIGF3YWl0IG5leHQoaXRlbS50byk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtlck1hbmFnZXIgfSBmcm9tIFwiLi4vd29ya2VyL21hbmFnZXJcIjtcbmltcG9ydCB7IFdvcmtlck5vZGUgfSBmcm9tIFwiLi4vd29ya2VyL25vZGVcIjtcblxuZXhwb3J0IGNsYXNzIENvcmVBbGVydE5vZGUgZXh0ZW5kcyBXb3JrZXJOb2RlIHtcbiAga2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiY29yZV9hbGVydFwiO1xuICB9XG4gIG5hbWUoKSB7XG4gICAgcmV0dXJuIFwiQWxlcnRcIjtcbiAgfVxuICBpY29uKCkge1xuICAgIHJldHVybiAnPGkgY2xhc3M9XCJmYXMgZmEtYmVsbFwiPjwvaT4nO1xuICB9XG4gIGh0bWwoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJwcjEwIHBsMTAgcGI0XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJub2RlLWZvcm0tY29udHJvbFwiIG5vZGU6bW9kZWw9XCJtZXNzYWdlXCIvPjwvZGl2Pic7XG4gIH1cbiAgcHJvcGVydGllcygpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBtZXNzYWdlOiB7XG4gICAgICAgIGtleTogXCJtZXNzYWdlXCIsXG4gICAgICAgIGVkaXQ6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6IFwiXCJcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYXN5bmMgZXhlY3V0ZShub2RlSWQ6IGFueSwgZGF0YTogYW55LCBtYW5hZ2VyOiBXb3JrZXJNYW5hZ2VyLCBuZXh0OiBhbnkpIHtcbiAgICBhbGVydChtYW5hZ2VyLlZhbChkYXRhPy5tZXNzYWdlKSk7XG4gICAgYXdhaXQgdGhpcy5uZXh0Tm9kZShkYXRhLCBuZXh0LCBub2RlSWQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBXb3JrZXJNYW5hZ2VyIH0gZnJvbSBcIi4uL3dvcmtlci9tYW5hZ2VyXCI7XG5pbXBvcnQgeyBXb3JrZXJOb2RlIH0gZnJvbSBcIi4uL3dvcmtlci9ub2RlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb3JlQXNzaWduTm9kZSBleHRlbmRzIFdvcmtlck5vZGUge1xuICBrZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJjb3JlX2Fzc2lnblwiO1xuICB9XG4gIG5hbWUoKSB7XG4gICAgcmV0dXJuIFwiQXNzaWduXCI7XG4gIH1cbiAgaWNvbigpIHtcbiAgICByZXR1cm4gJzxpIGNsYXNzPVwiZmFzIGZhLWJvbHRcIj48L2k+JztcbiAgfVxuICBwcm9wZXJ0aWVzKCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVudl9uYW1lOiB7XG4gICAgICAgIGtleTogXCJlbnZfbmFtZVwiLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiBcIlwiXG4gICAgICB9LFxuICAgICAgZW52X3ZhbHVlOiB7XG4gICAgICAgIGtleTogXCJlbnZfdmFsdWVcIixcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogXCJcIlxuICAgICAgfVxuICAgIH1cbiAgfVxuICBvcHRpb24oKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgY2xhc3M6ICcnLFxuICAgICAgZG90OiB7XG4gICAgICAgIGxlZnQ6IDEsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBodG1sKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPlxuICAgIDxkaXYgY2xhc3M9XCJwbDEwIHByMCBwdDIgcGIyXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJub2RlLWZvcm0tY29udHJvbFwiIG5vZGU6bW9kZWw9XCJlbnZfbmFtZVwiLz4gPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZsZXgtbm9uZSBwMiB0ZXh0LWNlbnRlclwiPj08L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicHIxMCBwbDAgcHQyIHBiMlwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwibm9kZS1mb3JtLWNvbnRyb2xcIiBub2RlOm1vZGVsPVwiZW52X3ZhbHVlXCIvPjwvZGl2PlxuICAgIDxkaXY+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwMFwiPjwvc3Bhbj48L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICB9XG4gIGFzeW5jIGV4ZWN1dGUobm9kZUlkOiBhbnksIGRhdGE6IGFueSwgbWFuYWdlcjogV29ya2VyTWFuYWdlciwgbmV4dDogYW55KSB7XG4gICAgYXdhaXQgdGhpcy5uZXh0Tm9kZShkYXRhLCBuZXh0LCBub2RlSWQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBXb3JrZXJNYW5hZ2VyIH0gZnJvbSBcIi4uL3dvcmtlci9tYW5hZ2VyXCI7XG5pbXBvcnQgeyBXb3JrZXJOb2RlIH0gZnJvbSBcIi4uL3dvcmtlci9ub2RlXCI7XG5leHBvcnQgY29uc3QgTm9kZUJlZ2luID0gXCJjb3JlX2JlZ2luXCI7XG5leHBvcnQgY2xhc3MgQ29yZUJlZ2luTm9kZSBleHRlbmRzIFdvcmtlck5vZGUge1xuXG4gIGtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBOb2RlQmVnaW47XG4gIH1cbiAgbmFtZSgpIHtcbiAgICByZXR1cm4gXCJCZWdpblwiO1xuICB9XG4gIG9wdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb25seU5vZGU6IHRydWUsXG4gICAgICBzb3J0OiAwLFxuICAgICAgZG90OiB7XG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHRvcDogMCxcbiAgICAgICAgcmlnaHQ6IDEsXG4gICAgICAgIGJvdHRvbTogMCxcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIGV4ZWN1dGUobm9kZUlkOiBhbnksIGRhdGE6IGFueSwgbWFuYWdlcjogV29ya2VyTWFuYWdlciwgbmV4dDogYW55KSB7XG4gICAgYXdhaXQgdGhpcy5uZXh0Tm9kZShkYXRhLCBuZXh0LCBub2RlSWQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBXb3JrZXJNYW5hZ2VyIH0gZnJvbSBcIi4uL3dvcmtlci9tYW5hZ2VyXCI7XG5pbXBvcnQgeyBXb3JrZXJOb2RlIH0gZnJvbSBcIi4uL3dvcmtlci9ub2RlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb3JlQ29uc29sZU5vZGUgZXh0ZW5kcyBXb3JrZXJOb2RlIHtcbiAga2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiY29yZV9jb25zb2xlXCI7XG4gIH1cbiAgbmFtZSgpIHtcbiAgICByZXR1cm4gXCJDb25zb2xlXCI7XG4gIH1cbiAgaWNvbigpIHtcbiAgICByZXR1cm4gJzxpIGNsYXNzPVwiZmFzIGZhLXRlcm1pbmFsXCI+PC9pPic7XG4gIH1cbiAgaHRtbCh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPGRpdiBjbGFzcz1cInByMTAgcGwxMCBwYjRcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cIm1lc3NhZ2VcIi8+PC9kaXY+JztcbiAgfVxuICBwcm9wZXJ0aWVzKCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAga2V5OiBcIm1lc3NhZ2VcIixcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogXCJcIlxuICAgICAgfVxuICAgIH1cbiAgfVxuICBhc3luYyBleGVjdXRlKG5vZGVJZDogYW55LCBkYXRhOiBhbnksIG1hbmFnZXI6IFdvcmtlck1hbmFnZXIsIG5leHQ6IGFueSkge1xuICAgIGNvbnNvbGUubG9nKG1hbmFnZXIuVmFsKGRhdGE/Lm1lc3NhZ2UpKTtcbiAgICBhd2FpdCB0aGlzLm5leHROb2RlKGRhdGEsIG5leHQsIG5vZGVJZCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtlck1hbmFnZXIgfSBmcm9tIFwiLi4vd29ya2VyL21hbmFnZXJcIjtcbmltcG9ydCB7IFdvcmtlck5vZGUgfSBmcm9tIFwiLi4vd29ya2VyL25vZGVcIjtcblxuZXhwb3J0IGNsYXNzIENvcmVEZWxheU5vZGUgZXh0ZW5kcyBXb3JrZXJOb2RlIHtcbiAga2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiY29yZV9kZWxheVwiO1xuICB9XG4gIG5hbWUoKSB7XG4gICAgcmV0dXJuIFwiRGVsYXlcIjtcbiAgfVxuICBpY29uKCkge1xuICAgIHJldHVybiAnPGkgY2xhc3M9XCJmYXMgZmEtc3RvcHdhdGNoXCI+PC9pPic7XG4gIH1cbiAgaHRtbCh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpOiBzdHJpbmcge1xuICAgIHJldHVybiAnPGRpdiBjbGFzcz1cInByMTAgcGwxMCBwYjQgZGlzcGxheS1mbGV4XCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJub2RlLWZvcm0tY29udHJvbFwiIG5vZGU6bW9kZWw9XCJudW1iZXJfZGVsYXlcIi8+PHNwYW4gY2xhc3M9XCJwNFwiPm1zPC9zcGFuPjwvZGl2Pic7XG4gIH1cbiAgcHJvcGVydGllcygpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBudW1iZXJfZGVsYXk6IHtcbiAgICAgICAga2V5OiBcIm51bWJlcl9kZWxheVwiLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAxMDAwXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFzeW5jIGV4ZWN1dGUobm9kZUlkOiBhbnksIGRhdGE6IGFueSwgbWFuYWdlcjogV29ya2VyTWFuYWdlciwgbmV4dDogYW55KSB7XG4gICAgYXdhaXQgbWFuYWdlci5kZWxheShtYW5hZ2VyLlZhbChkYXRhPy5udW1iZXJfZGVsYXkpKTtcbiAgICBhd2FpdCB0aGlzLm5leHROb2RlKGRhdGEsIG5leHQsIG5vZGVJZCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtlck5vZGUgfSBmcm9tIFwiLi4vd29ya2VyL25vZGVcIjtcblxuZXhwb3J0IGNsYXNzIENvcmVFbmROb2RlIGV4dGVuZHMgV29ya2VyTm9kZSB7XG4gIGtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcImNvcmVfZW5kXCI7XG4gIH1cbiAgbmFtZSgpIHtcbiAgICByZXR1cm4gXCJFbmRcIjtcbiAgfVxuICBpY29uKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICc8aSBjbGFzcz1cImZhcyBmYS1zdG9wXCI+PC9pPic7XG4gIH1cbiAgb3B0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBvbmx5Tm9kZTogdHJ1ZSxcbiAgICAgIHNvcnQ6IDAsXG4gICAgICBkb3Q6IHtcbiAgICAgICAgbGVmdDogMSxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgfVxuICAgIH07XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgV29ya2VyTWFuYWdlciB9IGZyb20gXCIuLi93b3JrZXIvbWFuYWdlclwiO1xuaW1wb3J0IHsgV29ya2VyTm9kZSB9IGZyb20gXCIuLi93b3JrZXIvbm9kZVwiO1xuXG5leHBvcnQgY2xhc3MgQ29yZUZvck5vZGUgZXh0ZW5kcyBXb3JrZXJOb2RlIHtcbiAga2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiY29yZV9mb3JcIjtcbiAgfVxuICBuYW1lKCkge1xuICAgIHJldHVybiBcIkZvclwiO1xuICB9XG4gIGljb24oKSB7XG4gICAgcmV0dXJuICc8aSBjbGFzcz1cImZhcyBmYS1jaXJjbGUtbm90Y2hcIj48L2k+JztcbiAgfVxuICBwcm9wZXJ0aWVzKCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG51bWJlcl9zdGFydDoge1xuICAgICAgICBrZXk6IFwibnVtYmVyX3N0YXJ0XCIsXG4gICAgICAgIGVkaXQ6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgIH0sXG4gICAgICBudW1iZXJfZW5kOiB7XG4gICAgICAgIGtleTogXCJudW1iZXJfZW5kXCIsXG4gICAgICAgIGVkaXQ6IHRydWUsXG4gICAgICAgIGRlZmF1bHQ6IDFcbiAgICAgIH0sXG4gICAgICBudW1iZXJfc3RlcDoge1xuICAgICAgICBrZXk6IFwibnVtYmVyX3N0ZXBcIixcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgICAgfSxcbiAgICAgIGVudl9uYW1lOiB7XG4gICAgICAgIGtleTogXCJlbnZfbmFtZVwiLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnbG9vcF9pbmRleCdcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaHRtbCh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpOiBzdHJpbmcge1xuICAgIHJldHVybiBgXG4gICAgICA8ZGl2IGNsYXNzPVwiZGlzcGxheS1mbGV4XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LW5vbmUgcGwxMCBwcjAgcHQ0IHBiMiB0ZXh0LWNlbnRlclwiID5Gb3I8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBsMiBwcjAgcHQyIHBiMlwiID48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cIm51bWJlcl9zdGFydFwiIC8+IDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1ub25lIHBsMiBwcjAgcHQ0IHBiMiB0ZXh0LWNlbnRlclwiID5UbyA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInByMiBwbDAgcHQyIHBiMlwiID48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cIm51bWJlcl9lbmRcIiAvPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleC1ub25lIHBsMiBwcjAgcHQ0MiBwYjIgdGV4dC1jZW50ZXJcIiA+U3RlcDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHIxMCBwbDAgcHQyIHBiMlwiID48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cIm51bWJlcl9zdGVwXCIgLz48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyIHAzXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5Hb0dyb3VwIG5vZGUtZm9ybS1jb250cm9sXCI+R28gdG8gQ29udGVudDwvYnV0dG9uPlxuICAgICAgPC9kaXY+YDtcbiAgfVxuICBzY3JpcHQoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KTogdm9pZCB7XG4gICAgZWxOb2RlLnF1ZXJ5U2VsZWN0b3IoJy5idG5Hb0dyb3VwJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbm9kZS5wYXJlbnQub3Blbkdyb3VwKG5vZGUuR2V0SWQoKSk7XG4gICAgfSlcbiAgICBjb25zdCB0ZW1wX2Vudl9uYW1lID0gYHRlbXBfJHtub2RlLkdldElkKCl9X2Vudl9uYW1lYDtcbiAgICBjb25zdCB0ZW1wX3ZhbHVlID0gbWFpbi50ZW1wLkdldCh0ZW1wX2Vudl9uYW1lKTtcbiAgICBpZiAoIXRlbXBfdmFsdWUpIHtcbiAgICAgIG1haW4udGVtcC5TZXQodGVtcF9lbnZfbmFtZSwgbm9kZS5kYXRhLkdldCgnZW52X25hbWUnKSk7XG4gICAgICBtYWluLm5ld1ZhcmlhYmxlKG5vZGUuZGF0YS5HZXQoJ2Vudl9uYW1lJyksIG5vZGUuR2V0SWQoKSk7XG4gICAgfSBlbHNlIGlmIChub2RlLmRhdGEuR2V0KCdlbnZfbmFtZScpICE9IHRlbXBfdmFsdWUpIHtcbiAgICAgIG1haW4uY2hhbmdlVmFyaWFibGVOYW1lKHRlbXBfdmFsdWUsIG5vZGUuZGF0YS5HZXQoJ2Vudl9uYW1lJyksIG5vZGUuR2V0SWQoKSk7XG4gICAgICBtYWluLnRlbXAuU2V0KHRlbXBfZW52X25hbWUsIG5vZGUuZGF0YS5HZXQoJ2Vudl9uYW1lJykpO1xuICAgIH1cblxuICB9XG4gIGFzeW5jIGV4ZWN1dGUobm9kZUlkOiBhbnksIGRhdGE6IGFueSwgbWFuYWdlcjogV29ya2VyTWFuYWdlciwgbmV4dDogYW55KSB7XG4gICAgY29uc3QgZ3JvdXAgPSBtYW5hZ2VyLmdldEdyb3VwQ3VycmVudCgpO1xuICAgIG1hbmFnZXIuc2V0R3JvdXAoZGF0YS5pZCk7XG4gICAgZm9yIChsZXQgbG9vcF9pbmRleCA9IGRhdGEubnVtYmVyX3N0YXJ0OyBsb29wX2luZGV4IDwgZGF0YS5udW1iZXJfZW5kICYmICFtYW5hZ2VyLmZsZ1N0b3BwaW5nOyBsb29wX2luZGV4ID0gbG9vcF9pbmRleCArIGRhdGEubnVtYmVyX3N0ZXApIHtcbiAgICAgIGF3YWl0IG1hbmFnZXIuZXhjdXRlQXN5bmMoKTtcbiAgICB9XG4gICAgbWFuYWdlci5zZXRHcm91cChncm91cCk7XG4gICAgYXdhaXQgdGhpcy5uZXh0Tm9kZShkYXRhLCBuZXh0LCBub2RlSWQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBXb3JrZXJNYW5hZ2VyIH0gZnJvbSBcIi4uL3dvcmtlci9tYW5hZ2VyXCI7XG5pbXBvcnQgeyBXb3JrZXJOb2RlIH0gZnJvbSBcIi4uL3dvcmtlci9ub2RlXCI7XG5cbmV4cG9ydCBjbGFzcyBDb3JlR3JvdXBOb2RlIGV4dGVuZHMgV29ya2VyTm9kZSB7XG4gIGtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcImNvcmVfZ3JvdXBcIjtcbiAgfVxuICBuYW1lKCkge1xuICAgIHJldHVybiBcIkdyb3VwXCI7XG4gIH1cbiAgaWNvbigpIHtcbiAgICByZXR1cm4gJzxpIGNsYXNzPVwiZmFyIGZhLW9iamVjdC1ncm91cFwiPjwvaT4nO1xuICB9XG4gIGh0bWwoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlciBwM1wiPjxidXR0b24gY2xhc3M9XCJidG5Hb0dyb3VwIG5vZGUtZm9ybS1jb250cm9sXCI+R28gdG8gR3JvdXA8L2J1dHRvbj48L2Rpdj4nO1xuICB9XG4gIHNjcmlwdCh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpOiB2b2lkIHtcbiAgICBlbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bkdvR3JvdXAnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBub2RlLnBhcmVudC5vcGVuR3JvdXAobm9kZS5HZXRJZCgpKTtcbiAgICB9KVxuICB9XG4gIGFzeW5jIGV4ZWN1dGUobm9kZUlkOiBhbnksIGRhdGE6IGFueSwgbWFuYWdlcjogV29ya2VyTWFuYWdlciwgbmV4dDogYW55KSB7XG4gICAgY29uc3QgZ3JvdXAgPSBtYW5hZ2VyLmdldEdyb3VwQ3VycmVudCgpO1xuICAgIG1hbmFnZXIuc2V0R3JvdXAoZGF0YS5pZCk7XG4gICAgYXdhaXQgbWFuYWdlci5leGN1dGVBc3luYygpO1xuICAgIG1hbmFnZXIuc2V0R3JvdXAoZ3JvdXApO1xuICAgIGF3YWl0IHRoaXMubmV4dE5vZGUoZGF0YSwgbmV4dCwgbm9kZUlkKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgV29ya2VyTWFuYWdlciB9IGZyb20gXCIuLi93b3JrZXIvbWFuYWdlclwiO1xuaW1wb3J0IHsgV29ya2VyTm9kZSB9IGZyb20gXCIuLi93b3JrZXIvbm9kZVwiO1xuXG5leHBvcnQgY2xhc3MgQ29yZUlmTm9kZSBleHRlbmRzIFdvcmtlck5vZGUge1xuICBrZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJjb3JlX2lmXCI7XG4gIH1cbiAgbmFtZSgpIHtcbiAgICByZXR1cm4gXCJJZlwiO1xuICB9XG4gIGljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxpIGNsYXNzPVwiZmFzIGZhLWVxdWFsc1wiPjwvaT4nO1xuICB9XG4gIHByb3BlcnRpZXMoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZGl0aW9uOiB7XG4gICAgICAgIGtleTogXCJjb25kaXRpb25cIixcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgICAgfSxcbiAgICAgIGNvbmQ6IHtcbiAgICAgICAga2V5OiBcImNvbmRcIixcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgICAgc3ViOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9XG4gICAgfVxuICB9XG4gIG9wdGlvbigpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICBjbGFzczogJycsXG4gICAgICBkb3Q6IHtcbiAgICAgICAgbGVmdDogMSxcbiAgICAgICAgdG9wOiAwLFxuICAgICAgICByaWdodDogMCxcbiAgICAgICAgYm90dG9tOiAwLFxuICAgICAgfVxuICAgIH1cbiAgfVxuICBodG1sKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSk6IHN0cmluZyB7XG4gICAgY29uc3QgY29uZGl0aW9uID0gbm9kZS5kYXRhLkdldCgnY29uZGl0aW9uJyk7XG4gICAgbGV0IGh0bWwgPSAnJztcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY29uZGl0aW9uOyBpbmRleCsrKSB7XG4gICAgICBodG1sID0gYCR7aHRtbH08ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPlxuICAgICAgPGRpdiBjbGFzcz1cInBsMTAgcHIxIHB0MiBwYjJcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cImNvbmQkezUwMDAxICsgaW5kZXh9XCIvPjwvZGl2PlxuICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIiBjbGFzcz1cInBsMSBwcjEwIHB0MiBwYjJcIj5UaGVuPC9kaXY+XG4gICAgICA8ZGl2PjxzcGFuIGNsYXNzPVwibm9kZS1kb3RcIiBub2RlPVwiJHs1MDAwMSArIGluZGV4fVwiPjwvc3Bhbj48L2Rpdj5cbiAgICAgIDwvZGl2PmA7XG4gICAgfVxuICAgIGh0bWwgPSBgJHtodG1sfTxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+XG4gICAgPGRpdiBjbGFzcz1cInBsMTAgcHIxIHB0MiBwYjJcIj48YnV0dG9uIGNsYXNzPVwiYnRuQWRkQ29uZGl0aW9uXCI+QWRkPC9idXR0b24+PC9kaXY+XG4gICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIiBjbGFzcz1cInBsMSBwcjEwIHB0MiBwYjJcIj5FbHNlPC9kaXY+XG4gICAgPGRpdj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIjUwMDAwXCI+PC9zcGFuPjwvZGl2PlxuICAgIDwvZGl2PmA7XG4gICAgcmV0dXJuIGh0bWw7XG4gIH1cbiAgc2NyaXB0KHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSk6IHZvaWQge1xuICAgIGVsTm9kZS5xdWVyeVNlbGVjdG9yKCcuYnRuQWRkQ29uZGl0aW9uJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbm9kZS5kYXRhLkluY3JlYXNlKCdjb25kaXRpb24nKTtcbiAgICB9KVxuICB9XG4gIGFzeW5jIGV4ZWN1dGUobm9kZUlkOiBhbnksIGRhdGE6IGFueSwgbWFuYWdlcjogV29ya2VyTWFuYWdlciwgbmV4dDogYW55KSB7XG5cbiAgICBjb25zdCBjb25kaXRpb24gPSBkYXRhLmNvbmRpdGlvbjtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgY29uZGl0aW9uJiYgIW1hbmFnZXIuZmxnU3RvcHBpbmc7IGluZGV4KyspIHtcbiAgICAgIGxldCBub2RlID0gNTAwMDEgKyBpbmRleDtcbiAgICAgIGNvbnN0IGNvbmRpdGlvbl9ub2RlID0gZGF0YVtgY29uZCR7bm9kZX1gXTtcbiAgICAgIGlmIChtYW5hZ2VyLlZhbChjb25kaXRpb25fbm9kZSkgPT0gdHJ1ZSkge1xuICAgICAgICBhd2FpdCB0aGlzLm5leHROb2RlKGRhdGEsIG5leHQsIG5vZGVJZCwgbm9kZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgdGhpcy5uZXh0Tm9kZShkYXRhLCBuZXh0LCBub2RlSWQsIDUwMDAwKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgV29ya2VyTWFuYWdlciB9IGZyb20gXCIuLi93b3JrZXIvbWFuYWdlclwiO1xuaW1wb3J0IHsgV29ya2VyTm9kZSB9IGZyb20gXCIuLi93b3JrZXIvbm9kZVwiO1xuXG5leHBvcnQgY2xhc3MgQ29yZVByb2plY3ROb2RlIGV4dGVuZHMgV29ya2VyTm9kZSB7XG4gIGtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcImNvcmVfcHJvamVjdFwiO1xuICB9XG4gIG5hbWUoKSB7XG4gICAgcmV0dXJuIFwiUHJvamVjdFwiO1xuICB9XG4gIGljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxpIGNsYXNzPVwiZmFzIGZhLXByb2plY3QtZGlhZ3JhbVwiPjwvaT4nO1xuICB9XG4gIHByb3BlcnRpZXMoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgcHJvamVjdDoge1xuICAgICAgICBrZXk6IFwicHJvamVjdFwiLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgICBzZWxlY3Q6IHRydWUsXG4gICAgICAgIGRhdGFTZWxlY3Q6ICh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpID0+IHtcbiAgICAgICAgICByZXR1cm4gbWFpbi5nZXRQcm9qZWN0QWxsKCkubWFwKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHZhbHVlOiBpdGVtLkdldCgnaWQnKSxcbiAgICAgICAgICAgICAgdGV4dDogaXRlbS5HZXQoJ25hbWUnKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgfVxuICAgIH1cbiAgfVxuICBodG1sKHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSk6IHN0cmluZyB7XG4gICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcDNcIj48c2VsZWN0IGNsYXNzPVwibm9kZS1mb3JtLWNvbnRyb2xcIiBub2RlOm1vZGVsPVwicHJvamVjdFwiPjwvc2VsZWN0PjwvZGl2Pic7XG4gIH1cbiAgc2NyaXB0KHsgZWxOb2RlLCBtYWluLCBub2RlIH06IGFueSk6IHZvaWQge1xuXG4gIH1cbiAgYXN5bmMgZXhlY3V0ZShub2RlSWQ6IGFueSwgZGF0YTogYW55LCBtYW5hZ2VyOiBXb3JrZXJNYW5hZ2VyLCBuZXh0OiBhbnkpIHtcbiAgICBjb25zdCBwcm9qZWN0ID0gbWFuYWdlci5nZXRQcm9qZWN0Q3VycmVudCgpO1xuICAgIGNvbnN0IGdyb3VwID0gbWFuYWdlci5nZXRHcm91cEN1cnJlbnQoKTtcbiAgICBtYW5hZ2VyLnNldFByb2plY3QoZGF0YS5wcm9qZWN0KTtcbiAgICBhd2FpdCBtYW5hZ2VyLmV4Y3V0ZUFzeW5jKCk7XG4gICAgbWFuYWdlci5zZXRQcm9qZWN0KHByb2plY3QpO1xuICAgIG1hbmFnZXIuc2V0R3JvdXAoZ3JvdXApO1xuICAgIGF3YWl0IHRoaXMubmV4dE5vZGUoZGF0YSwgbmV4dCwgbm9kZUlkKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgV29ya2VyTWFuYWdlciB9IGZyb20gXCIuLi93b3JrZXIvbWFuYWdlclwiO1xuaW1wb3J0IHsgV29ya2VyTm9kZSB9IGZyb20gXCIuLi93b3JrZXIvbm9kZVwiO1xuXG5leHBvcnQgY2xhc3MgQ29yZVN3aXRjaE5vZGUgZXh0ZW5kcyBXb3JrZXJOb2RlIHtcbiAga2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiY29yZV9zd2l0Y2hcIjtcbiAgfVxuICBuYW1lKCkge1xuICAgIHJldHVybiBcIlN3aXRjaFwiO1xuICB9XG4gIGljb24oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gJzxpIGNsYXNzPVwiZmFzIGZhLXJhbmRvbVwiPjwvaT4nO1xuICB9XG4gIHByb3BlcnRpZXMoKTogYW55IHtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZGl0aW9uOiB7XG4gICAgICAgIGtleTogXCJjb25kaXRpb25cIixcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdDogMVxuICAgICAgfSxcbiAgICAgIGNhc2U6IHtcbiAgICAgICAga2V5OiBcImNhc2VcIixcbiAgICAgICAgZWRpdDogdHJ1ZSxcbiAgICAgICAgc3ViOiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAxXG4gICAgICB9LFxuICAgICAgY2FzZV9pbnB1dDoge1xuICAgICAgICBrZXk6IFwiY2FzZV9pbnB1dFwiLFxuICAgICAgICBlZGl0OiB0cnVlLFxuICAgICAgICBkZWZhdWx0OiAnJ1xuICAgICAgfSxcbiAgICB9XG4gIH1cbiAgb3B0aW9uKCk6IGFueSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsYXNzOiAnJyxcbiAgICAgIGRvdDoge1xuICAgICAgICBsZWZ0OiAxLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBib3R0b206IDAsXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGh0bWwoeyBlbE5vZGUsIG1haW4sIG5vZGUgfTogYW55KTogc3RyaW5nIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBub2RlLmRhdGEuR2V0KCdjb25kaXRpb24nKTtcbiAgICBsZXQgaHRtbCA9ICcnO1xuICAgIGh0bWwgPSBgJHtodG1sfTxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+XG4gICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246cmlnaHRcIiBjbGFzcz1cInBsMTAgcHIxIHB0MiBwYjJcIj5JbnB1dDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwbDIgcHIxIHB0MiBwYjJcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cImNhc2VfaW5wdXRcIi8+PC9kaXY+XG4gICAgPGRpdj48L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjb25kaXRpb247IGluZGV4KyspIHtcbiAgICAgIGh0bWwgPSBgJHtodG1sfTxkaXYgY2xhc3M9XCJub2RlLWNvbnRlbnQtcm93XCI+XG4gICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpyaWdodFwiIGNsYXNzPVwicGwxMCBwcjEgcHQyIHBiMlwiPkNhc2U8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwbDIgcHIxIHB0MiBwYjJcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIm5vZGUtZm9ybS1jb250cm9sXCIgbm9kZTptb2RlbD1cImNhc2UkezUwMDAxICsgaW5kZXh9XCIvPjwvZGl2PlxuICAgICAgPGRpdj48c3BhbiBjbGFzcz1cIm5vZGUtZG90XCIgbm9kZT1cIiR7NTAwMDEgKyBpbmRleH1cIj48L3NwYW4+PC9kaXY+XG4gICAgICA8L2Rpdj5gO1xuICAgIH1cbiAgICBodG1sID0gYCR7aHRtbH08ZGl2IGNsYXNzPVwibm9kZS1jb250ZW50LXJvd1wiPlxuICAgIDxkaXYgY2xhc3M9XCJwbDEwIHByMSBwdDIgcGIyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0bkFkZENvbmRpdGlvblwiPkFkZDwvYnV0dG9uPjwvZGl2PlxuICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOnJpZ2h0XCIgY2xhc3M9XCJwbDIgcHIxMCBwdDIgcGIyXCI+RGVmYXVsdDwvZGl2PlxuICAgIDxkaXY+PHNwYW4gY2xhc3M9XCJub2RlLWRvdFwiIG5vZGU9XCI1MDAwMFwiPjwvc3Bhbj48L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICAgIHJldHVybiBodG1sO1xuICB9XG4gIHNjcmlwdCh7IGVsTm9kZSwgbWFpbiwgbm9kZSB9OiBhbnkpOiB2b2lkIHtcbiAgICBlbE5vZGUucXVlcnlTZWxlY3RvcignLmJ0bkFkZENvbmRpdGlvbicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIG5vZGUuZGF0YS5JbmNyZWFzZSgnY29uZGl0aW9uJyk7XG4gICAgfSlcbiAgfVxuICBhc3luYyBleGVjdXRlKG5vZGVJZDogYW55LCBkYXRhOiBhbnksIG1hbmFnZXI6IFdvcmtlck1hbmFnZXIsIG5leHQ6IGFueSkge1xuXG4gICAgY29uc3QgY29uZGl0aW9uID0gZGF0YS5jb25kaXRpb247XG4gICAgY29uc3QgY2FzZV9pbnB1dCA9IG1hbmFnZXIuVmFsKGRhdGEuY2FzZV9pbnB1dCk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNvbmRpdGlvbiYmICFtYW5hZ2VyLmZsZ1N0b3BwaW5nOyBpbmRleCsrKSB7XG4gICAgICBsZXQgbm9kZSA9IDUwMDAxICsgaW5kZXg7XG4gICAgICBjb25zdCBjb25kaXRpb25fbm9kZSA9IGRhdGFbYGNhc2Uke25vZGV9YF07XG4gICAgICBpZiAobWFuYWdlci5WYWwoY29uZGl0aW9uX25vZGUpID09IGNhc2VfaW5wdXQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZXh0Tm9kZShkYXRhLCBuZXh0LCBub2RlSWQsIG5vZGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGF3YWl0IHRoaXMubmV4dE5vZGUoZGF0YSwgbmV4dCwgbm9kZUlkLCA1MDAwMCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFdvcmtlclNldHVwIH0gZnJvbSBcIi4uL3dvcmtlci9zZXR1cFwiO1xuaW1wb3J0IHsgQ29yZUFsZXJ0Tm9kZSB9IGZyb20gXCIuL2FsZXJ0XCI7XG5pbXBvcnQgeyBDb3JlQXNzaWduTm9kZSB9IGZyb20gXCIuL2Fzc2lnblwiO1xuaW1wb3J0IHsgQ29yZUJlZ2luTm9kZSB9IGZyb20gXCIuL2JlZ2luXCI7XG5pbXBvcnQgeyBDb3JlQ29uc29sZU5vZGUgfSBmcm9tIFwiLi9jb25zb2xlXCI7XG5pbXBvcnQgeyBDb3JlRGVsYXlOb2RlIH0gZnJvbSBcIi4vZGVsYXlcIjtcbmltcG9ydCB7IENvcmVFbmROb2RlIH0gZnJvbSBcIi4vZW5kXCI7XG5pbXBvcnQgeyBDb3JlRm9yTm9kZSB9IGZyb20gXCIuL2ZvclwiO1xuaW1wb3J0IHsgQ29yZUdyb3VwTm9kZSB9IGZyb20gXCIuL2dyb3VwXCI7XG5pbXBvcnQgeyBDb3JlSWZOb2RlIH0gZnJvbSBcIi4vaWZcIjtcbmltcG9ydCB7IENvcmVQcm9qZWN0Tm9kZSB9IGZyb20gXCIuL3Byb2plY3RcIjtcbmltcG9ydCB7IENvcmVTd2l0Y2hOb2RlIH0gZnJvbSBcIi4vc3dpdGNoXCI7XG5cbmV4cG9ydCBjbGFzcyBDb3JlU2V0dXAgZXh0ZW5kcyBXb3JrZXJTZXR1cCB7XG4gIG5vZGVzKCk6IGFueVtdIHtcbiAgICByZXR1cm4gW1xuICAgICAgQ29yZUJlZ2luTm9kZSxcbiAgICAgIENvcmVFbmROb2RlLFxuICAgICAgQ29yZUFzc2lnbk5vZGUsXG4gICAgICBDb3JlRGVsYXlOb2RlLFxuICAgICAgQ29yZUlmTm9kZSxcbiAgICAgIENvcmVTd2l0Y2hOb2RlLFxuICAgICAgQ29yZUZvck5vZGUsXG4gICAgICBDb3JlQWxlcnROb2RlLFxuICAgICAgQ29yZUNvbnNvbGVOb2RlLFxuICAgICAgQ29yZVByb2plY3ROb2RlLFxuICAgICAgQ29yZUdyb3VwTm9kZSxcbiAgICBdO1xuICB9XG59XG4iLCJpbXBvcnQgeyBXb3JrZXJOb2RlIH0gZnJvbSBcIi4vbm9kZVwiO1xuXG5leHBvcnQgY2xhc3MgV29ya2VyU2V0dXAge1xuICBub2RlcygpOiBhbnlbXSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIG5ld05vZGVzKCk6IFdvcmtlck5vZGVbXSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMoKS5tYXAoKGl0ZW0pID0+IChuZXcgaXRlbSgpKSlcbiAgfVxufVxuIiwiaW1wb3J0IHsgTm9kZUJlZ2luIH0gZnJvbSBcIi4uL25vZGVzL2JlZ2luXCI7XG5pbXBvcnQgeyBXb3JrZXJOb2RlIH0gZnJvbSBcIi4vbm9kZVwiO1xuaW1wb3J0IHsgV29ya2VyU2V0dXAgfSBmcm9tIFwiLi9zZXR1cFwiO1xuXG5jb25zdCBnRXZhbCA9IGV2YWw7XG5leHBvcnQgY29uc3QgUHJvcGVydHlFbnVtID0ge1xuICBtYWluOiBcIm1haW5fcHJvamVjdFwiLFxuICBzb2x1dGlvbjogJ21haW5fc29sdXRpb24nLFxuICBsaW5lOiAnbWFpbl9saW5lJyxcbiAgdmFyaWFibGU6ICdtYWluX3ZhcmlhYmxlJyxcbiAgZ3JvdXBDYXZhczogXCJtYWluX2dyb3VwQ2F2YXNcIixcbn07XG5leHBvcnQgY2xhc3MgV29ya2VyTWFuYWdlciB7XG4gIHByaXZhdGUgZXZlbnRzOiBhbnkgPSB7fTtcbiAgcHVibGljIG9uU2FmZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgY2FsbGJhY2spO1xuICAgIHRoaXMub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgfVxuICAvKiBFdmVudHMgKi9cbiAgcHVibGljIG9uKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBhbnkpIHtcbiAgICAvLyBDaGVjayBpZiB0aGUgY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBUaGUgbGlzdGVuZXIgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLCB0aGUgZ2l2ZW4gdHlwZSBpcyAke3R5cGVvZiBjYWxsYmFja31gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgdGhlIGV2ZW50IGlzIG5vdCBhIHN0cmluZ1xuICAgIGlmICh0eXBlb2YgZXZlbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBUaGUgZXZlbnQgbmFtZSBtdXN0IGJlIGEgc3RyaW5nLCB0aGUgZ2l2ZW4gdHlwZSBpcyAke3R5cGVvZiBldmVudH1gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmV2ZW50c1tldmVudF0gPSB7XG4gICAgICAgIGxpc3RlbmVyczogW11cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5ldmVudHNbZXZlbnRdLmxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVMaXN0ZW5lcihldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXG5cbiAgICBpZiAoIXRoaXMuZXZlbnRzW2V2ZW50XSkgcmV0dXJuIGZhbHNlXG5cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLmV2ZW50c1tldmVudF0ubGlzdGVuZXJzXG4gICAgY29uc3QgbGlzdGVuZXJJbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKVxuICAgIGNvbnN0IGhhc0xpc3RlbmVyID0gbGlzdGVuZXJJbmRleCA+IC0xXG4gICAgaWYgKGhhc0xpc3RlbmVyKSBsaXN0ZW5lcnMuc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpXG4gIH1cblxuICBwdWJsaWMgZGlzcGF0Y2goZXZlbnQ6IHN0cmluZywgZGV0YWlsczogYW55KSB7XG4gICAgLy8gQ2hlY2sgaWYgdGhpcyBldmVudCBub3QgZXhpc3RzXG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuZXZlbnRzW2V2ZW50XS5saXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXI6IGFueSkgPT4ge1xuICAgICAgbGlzdGVuZXIoZGV0YWlscyk7XG4gICAgfSk7XG4gIH1cbiAgcHJpdmF0ZSAkZGF0YTogYW55O1xuICBwcml2YXRlICRub2RlczogV29ya2VyTm9kZVtdID0gW107XG4gIHByaXZhdGUgJHByb2plY3Q6IGFueTtcbiAgcHJpdmF0ZSAkZ3JvdXA6IGFueSA9IFwicm9vdFwiO1xuICBwcml2YXRlIGRlbGF5X3RpbWU6IG51bWJlciA9IDEwMDtcbiAgcHVibGljIGNvbnN0cnVjdG9yKGRhdGE6IGFueSA9IG51bGwpIHtcbiAgICB0aGlzLkxvYWREYXRhKGRhdGEpO1xuICB9XG4gIHB1YmxpYyBzZXRQcm9qZWN0KHByb2plY3Q6IGFueSkge1xuICAgIHRoaXMuJHByb2plY3QgPSBwcm9qZWN0O1xuICAgIHRoaXMuJGdyb3VwID0gXCJyb290XCI7XG4gIH1cbiAgcHVibGljIGdldFByb2plY3QoKSB7XG4gICAgaWYgKHRoaXMuJGRhdGEua2V5ID09PSBQcm9wZXJ0eUVudW0uc29sdXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLiRkYXRhPy5wcm9qZWN0cz8uZmluZCgoaXRlbTogYW55KSA9PiBpdGVtLmlkID09IHRoaXMuJHByb2plY3QpO1xuICAgIH1cbiAgICBpZiAodGhpcy4kZGF0YS5rZXkgPT09IFByb3BlcnR5RW51bS5tYWluKSB7XG4gICAgICByZXR1cm4gdGhpcy4kZGF0YTtcbiAgICB9XG4gIH1cbiAgcHVibGljIHNldEdyb3VwKGdyb3VwOiBhbnkpIHtcbiAgICB0aGlzLiRncm91cCA9IGdyb3VwO1xuICB9XG4gIHB1YmxpYyBnZXRHcm91cEN1cnJlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuJGdyb3VwO1xuICB9XG4gIHB1YmxpYyBnZXRQcm9qZWN0Q3VycmVudCgpIHtcbiAgICByZXR1cm4gdGhpcy4kcHJvamVjdDtcbiAgfVxuICBwdWJsaWMgZ2V0Tm9kZUluR3JvdXAoZ3JvdXA6IGFueSA9IG51bGwpIHtcbiAgICBsZXQgX2dyb3VwID0gZ3JvdXAgPz8gdGhpcy4kZ3JvdXA7XG4gICAgcmV0dXJuIHRoaXMuZ2V0UHJvamVjdCgpPy5ub2Rlcz8uZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0uZ3JvdXAgPT0gX2dyb3VwKTtcbiAgfVxuICBwdWJsaWMgZ2V0Tm9kZUJ5SWQoX2lkOiBhbnkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXROb2RlSW5Hcm91cCgpPy5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbS5pZCA9PSBfaWQpPy5bMF07XG4gIH1cblxuICBwdWJsaWMgZ2V0Tm9kZUJ5S2V5KF9rZXk6IGFueSkge1xuICAgIHJldHVybiB0aGlzLmdldE5vZGVJbkdyb3VwKCk/LmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLmtleSA9PSBfa2V5KT8uWzBdO1xuICB9XG4gIHB1YmxpYyBMb2FkRGF0YShkYXRhOiBhbnkpOiBXb3JrZXJNYW5hZ2VyIHtcbiAgICBpZiAoIWRhdGEpIHJldHVybiB0aGlzO1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuJGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRkYXRhID0gZGF0YTtcbiAgICB9XG4gICAgaWYgKHRoaXMuJGRhdGEua2V5ID09PSBQcm9wZXJ0eUVudW0uc29sdXRpb24pIHtcbiAgICAgIHRoaXMuJHByb2plY3QgPSB0aGlzLiRkYXRhLnByb2plY3Q7XG4gICAgfVxuICAgIGlmICghdGhpcy4kcHJvamVjdCkge1xuICAgICAgdGhpcy4kcHJvamVjdCA9IHRoaXMuJGRhdGEucHJvamVjdHM/LlswXT8uaWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHB1YmxpYyBuZXdTZXR1cChzZXR1cDogYW55KSB7XG4gICAgdGhpcy5TZXR1cChuZXcgc2V0dXAoKSk7XG4gIH1cbiAgcHVibGljIFNldHVwKHNldHVwOiBXb3JrZXJTZXR1cCkge1xuICAgIHRoaXMuJG5vZGVzID0gWy4uLnRoaXMuJG5vZGVzLCAuLi5zZXR1cC5uZXdOb2RlcygpXTtcbiAgfVxuICBwdWJsaWMgZ2V0Q29udHJvbE5vZGVzKCkge1xuICAgIHJldHVybiB0aGlzLiRub2Rlcy5tYXAoKGl0ZW06IGFueSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4ue1xuICAgICAgICAgIGtleTogXCJcIixcbiAgICAgICAgICBuYW1lOiBcIlwiLFxuICAgICAgICAgIGdyb3VwOiBcIlwiLFxuICAgICAgICAgIGh0bWw6IFwiXCIsXG4gICAgICAgICAgc2NyaXB0OiBcIlwiLFxuICAgICAgICAgIHByb3BlcnRpZXM6IFwiXCIsXG4gICAgICAgICAgZG90OiB7XG4gICAgICAgICAgICBsZWZ0OiAxLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDEsXG4gICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAuLi5pdGVtLm9wdGlvbigpID8/IHt9LFxuICAgICAgICBrZXk6IGl0ZW0ua2V5KCksXG4gICAgICAgIG5hbWU6IGl0ZW0ubmFtZSgpLFxuICAgICAgICBpY29uOiBpdGVtLmljb24oKSxcbiAgICAgICAgZ3JvdXA6IGl0ZW0uZ3JvdXAoKSxcbiAgICAgICAgaHRtbDogaXRlbS5odG1sLFxuICAgICAgICBzY3JpcHQ6IGl0ZW0uc2NyaXB0LFxuICAgICAgICBwcm9wZXJ0aWVzOiBpdGVtLnByb3BlcnRpZXMoKSA/PyB7fSxcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIHByaXZhdGUgZ2V0V29ya2VyTm9kZShfa2V5OiBzdHJpbmcpOiBXb3JrZXJOb2RlIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuJG5vZGVzPy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uY2hlY2tLZXkoX2tleSkpPy5bMF07XG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBleGN1dGVOb2RlKCRpZDogYW55KSB7XG4gICAgY29uc3QgZGF0YU5vZGUgPSB0aGlzLmdldE5vZGVCeUlkKCRpZCk7XG4gICAgYXdhaXQgdGhpcy5leGN1dGVEYXRhTm9kZShkYXRhTm9kZSk7XG4gIH1cbiAgZGVsYXkodGltZTogbnVtYmVyID0gMTAwKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCB0aW1lKSk7XG4gIH1cbiAgcHJpdmF0ZSBhc3luYyBleGN1dGVEYXRhTm9kZShkYXRhTm9kZTogYW55KSB7XG4gICAgaWYgKHRoaXMuZmxnU3RvcHBpbmcpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3dvcmtlcl9zdG9wcGluZycsIHt9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5kZWxheSh0aGlzLmRlbGF5X3RpbWUpO1xuICAgIGlmIChkYXRhTm9kZSkge1xuICAgICAgdGhpcy5kaXNwYXRjaCgnbm9kZV9zdGFydCcsIHsgbm9kZTogZGF0YU5vZGUgfSk7XG4gICAgICBjb25zdCB3b3JrZXJOb2RlID0gdGhpcy5nZXRXb3JrZXJOb2RlKGRhdGFOb2RlLmtleSk7XG4gICAgICBhd2FpdCB3b3JrZXJOb2RlPy5leGVjdXRlKGRhdGFOb2RlLmlkLCBkYXRhTm9kZSwgdGhpcywgdGhpcy5leGN1dGVOb2RlLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5kaXNwYXRjaCgnbm9kZV9lbmQnLCB7IG5vZGU6IGRhdGFOb2RlIH0pO1xuICAgIH1cbiAgfVxuICBwdWJsaWMgYXN5bmMgZXhjdXRlQXN5bmMoKSB7XG4gICAgY29uc3QgZGF0YU5vZGUgPSB0aGlzLmdldE5vZGVCeUtleShgJHtOb2RlQmVnaW59YCk7XG4gICAgYXdhaXQgdGhpcy5leGN1dGVEYXRhTm9kZShkYXRhTm9kZSk7XG4gIH1cbiAgcHVibGljIGV4Y3V0ZSgpIHtcbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuZGlzcGF0Y2goJ3dvcmtlcl9zdGFydCcsIHt9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuZmxnU3RvcHBpbmcgPSBmYWxzZTtcbiAgICAgICAgYXdhaXQgdGhpcy5leGN1dGVBc3luYygpO1xuICAgICAgICB0aGlzLmZsZ1N0b3BwaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3dvcmtlcl9lbmQnLCB7fSk7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBjb25zb2xlLmxvZyhleCk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2goJ3dvcmtlcl9lbmQnLCB7fSk7XG4gICAgICB9XG4gICAgICB0aGlzLmZsZ1N0b3BwaW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH1cbiAgZmxnU3RvcHBpbmc6IGFueSA9IG51bGw7XG4gIHB1YmxpYyBzdG9wKCkge1xuICAgIHRoaXMuZmxnU3RvcHBpbmcgPSB0cnVlO1xuICB9XG4gIHB1YmxpYyBWYWwoJHNjcnBpdDogYW55KTogYW55IHtcbiAgICBsZXQgcnMgPSAkc2NycGl0O1xuICAgIHdoaWxlICgoYCR7cnN9YC5pbmRleE9mKCdcXCR7JykpID49IDApIHtcbiAgICAgIHJzID0gZ0V2YWwocnMpO1xuICAgICAgY29uc29sZS5sb2cocnMpOztcbiAgICB9XG4gICAgcnMgPSBnRXZhbChgJHtyc31gKTtcbiAgICBjb25zb2xlLmxvZygkc2NycGl0LCBycyk7XG4gICAgcmV0dXJuIHJzO1xuICB9XG59XG5leHBvcnQgY29uc3Qgd29ya2VyTWFuYWdlciA9IG5ldyBXb3JrZXJNYW5hZ2VyKCk7XG4iLCJpbXBvcnQgeyBDb3JlU2V0dXAgfSBmcm9tICcuL25vZGVzL2luZGV4JztcbmltcG9ydCB7IHdvcmtlck1hbmFnZXIsIFdvcmtlck1hbmFnZXIgfSBmcm9tICcuL3dvcmtlci9pbmRleCc7XG5cbndvcmtlck1hbmFnZXIubmV3U2V0dXAoQ29yZVNldHVwKTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBDb3JlU2V0dXAsXG4gIFdvcmtlck1hbmFnZXIsXG4gIHdvcmtlck1hbmFnZXJcbn07XG4iXSwibmFtZXMiOlsiRW52Tm9kZSIsIldvcmtlck5vZGUiLCJlbnYiLCJBbGwiLCJDbG91ZCIsIlBDIiwiV2ViIiwiTW9iaWxlIiwiSU9TIiwiQW5kcm9pZCIsIkNoZWNrRW52IiwidGhpcyIsImluY2x1ZGVzIiwia2V5IiwiY29uc3RydWN0b3IiLCJuYW1lIiwiY2hlY2tLZXkiLCJpY29uIiwiZ3JvdXAiLCJodG1sIiwiZWxOb2RlIiwibWFpbiIsIm5vZGUiLCJzY3JpcHQiLCJwcm9wZXJ0aWVzIiwib3B0aW9uIiwiYXN5bmMiLCJub2RlSWQiLCJkYXRhIiwibWFuYWdlciIsIm5leHQiLCJpbmRleCIsImxpbmVzIiwiaXRlbSIsImZyb20iLCJmcm9tSW5kZXgiLCJ0byIsIkNvcmVBbGVydE5vZGUiLCJtZXNzYWdlIiwiZWRpdCIsImRlZmF1bHQiLCJhbGVydCIsIlZhbCIsIm5leHROb2RlIiwiQ29yZUFzc2lnbk5vZGUiLCJlbnZfbmFtZSIsImVudl92YWx1ZSIsImNsYXNzIiwiZG90IiwibGVmdCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwiTm9kZUJlZ2luIiwiQ29yZUJlZ2luTm9kZSIsIm9ubHlOb2RlIiwic29ydCIsIkNvcmVDb25zb2xlTm9kZSIsImNvbnNvbGUiLCJsb2ciLCJDb3JlRGVsYXlOb2RlIiwibnVtYmVyX2RlbGF5IiwiZGVsYXkiLCJDb3JlRW5kTm9kZSIsIkNvcmVGb3JOb2RlIiwibnVtYmVyX3N0YXJ0IiwibnVtYmVyX2VuZCIsIm51bWJlcl9zdGVwIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXJlbnQiLCJvcGVuR3JvdXAiLCJHZXRJZCIsInRlbXBfZW52X25hbWUiLCJ0ZW1wX3ZhbHVlIiwidGVtcCIsIkdldCIsImNoYW5nZVZhcmlhYmxlTmFtZSIsIlNldCIsIm5ld1ZhcmlhYmxlIiwiZ2V0R3JvdXBDdXJyZW50Iiwic2V0R3JvdXAiLCJpZCIsImxvb3BfaW5kZXgiLCJmbGdTdG9wcGluZyIsImV4Y3V0ZUFzeW5jIiwiQ29yZUdyb3VwTm9kZSIsIkNvcmVJZk5vZGUiLCJjb25kaXRpb24iLCJjb25kIiwic3ViIiwiSW5jcmVhc2UiLCJjb25kaXRpb25fbm9kZSIsIkNvcmVQcm9qZWN0Tm9kZSIsInByb2plY3QiLCJzZWxlY3QiLCJkYXRhU2VsZWN0IiwiZ2V0UHJvamVjdEFsbCIsIm1hcCIsInZhbHVlIiwidGV4dCIsImdldFByb2plY3RDdXJyZW50Iiwic2V0UHJvamVjdCIsIkNvcmVTd2l0Y2hOb2RlIiwiY2FzZSIsImNhc2VfaW5wdXQiLCJDb3JlU2V0dXAiLCJub2RlcyIsIm5ld05vZGVzIiwiZ0V2YWwiLCJldmFsIiwiUHJvcGVydHlFbnVtIiwiV29ya2VyTWFuYWdlciIsImV2ZW50cyIsIm9uU2FmZSIsImV2ZW50IiwiY2FsbGJhY2siLCJyZW1vdmVMaXN0ZW5lciIsIm9uIiwiZXJyb3IiLCJ1bmRlZmluZWQiLCJsaXN0ZW5lcnMiLCJwdXNoIiwibGlzdGVuZXJJbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJkaXNwYXRjaCIsImRldGFpbHMiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCIkZGF0YSIsIiRub2RlcyIsIiRwcm9qZWN0IiwiJGdyb3VwIiwiZGVsYXlfdGltZSIsIkxvYWREYXRhIiwiZ2V0UHJvamVjdCIsInByb2plY3RzIiwiZmluZCIsImdldE5vZGVJbkdyb3VwIiwiX2dyb3VwIiwiZmlsdGVyIiwiZ2V0Tm9kZUJ5SWQiLCJfaWQiLCJnZXROb2RlQnlLZXkiLCJfa2V5IiwiSlNPTiIsInBhcnNlIiwibmV3U2V0dXAiLCJzZXR1cCIsIlNldHVwIiwiZ2V0Q29udHJvbE5vZGVzIiwiZ2V0V29ya2VyTm9kZSIsIiRpZCIsImRhdGFOb2RlIiwiZXhjdXRlRGF0YU5vZGUiLCJ0aW1lIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0Iiwid29ya2VyTm9kZSIsImV4ZWN1dGUiLCJleGN1dGVOb2RlIiwiYmluZCIsImV4Y3V0ZSIsImV4Iiwic3RvcCIsIiRzY3JwaXQiLCJycyIsIndvcmtlck1hbmFnZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs0Q0FFQSxJQUFZQSxHQUFaLFNBQVlBLEdBQ1ZBLEVBQUFBLEVBQUEsSUFBQSxHQUFBLE1BQ0FBLEVBQUFBLEVBQUEsSUFBQSxHQUFBLE1BQ0FBLEVBQUFBLEVBQUEsR0FBQSxHQUFBLEtBQ0FBLEVBQUFBLEVBQUEsTUFBQSxHQUFBLFFBQ0FBLEVBQUFBLEVBQUEsT0FBQSxHQUFBLFNBQ0FBLEVBQUFBLEVBQUEsSUFBQSxHQUFBLE1BQ0FBLEVBQUFBLEVBQUEsUUFBQSxHQUFBLFVBUEYsQ0FBWUEsSUFBQUEsRUFRWCxXQWdCWUMsRUFDWEMsTUFDRSxN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
